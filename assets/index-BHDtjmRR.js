(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ld={exports:{}},jo={};var e_;function Kb(){if(e_)return jo;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return jo.Fragment=e,jo.jsx=i,jo.jsxs=i,jo}var t_;function Qb(){return t_||(t_=1,Ld.exports=Kb()),Ld.exports}var y=Qb(),zd={exports:{}},Ne={};var n_;function Yb(){if(n_)return Ne;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function K(I){return I===null||typeof I!="object"?null:(I=V&&I[V]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ne={};function de(I,B,J){this.props=I,this.context=B,this.refs=ne,this.updater=J||W}de.prototype.isReactComponent={},de.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},de.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ge(){}ge.prototype=de.prototype;function me(I,B,J){this.props=I,this.context=B,this.refs=ne,this.updater=J||W}var Ue=me.prototype=new ge;Ue.constructor=me,se(Ue,de.prototype),Ue.isPureReactComponent=!0;var Me=Array.isArray;function Ie(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(I,B,J){var ae=J.ref;return{$$typeof:s,type:I,key:B,ref:ae!==void 0?ae:null,props:J}}function k(I,B){return R(I.type,B,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return B[J]})}var S=/\/+/g;function be(I,B){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):B.toString(36)}function Ve(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ie,Ie):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,B,J,ae,ve){var Ae=typeof I;(Ae==="undefined"||Ae==="boolean")&&(I=null);var Pe=!1;if(I===null)Pe=!0;else switch(Ae){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(I.$$typeof){case s:case e:Pe=!0;break;case A:return Pe=I._init,H(Pe(I._payload),B,J,ae,ve)}}if(Pe)return ve=ve(I),Pe=ae===""?"."+be(I,0):ae,Me(ve)?(J="",Pe!=null&&(J=Pe.replace(S,"$&/")+"/"),H(ve,B,J,"",function(te){return te})):ve!=null&&(D(ve)&&(ve=k(ve,J+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(S,"$&/")+"/")+Pe)),B.push(ve)),1;Pe=0;var pt=ae===""?".":ae+":";if(Me(I))for(var Je=0;Je<I.length;Je++)ae=I[Je],Ae=pt+be(ae,Je),Pe+=H(ae,B,J,Ae,ve);else if(Je=K(I),typeof Je=="function")for(I=Je.call(I),Je=0;!(ae=I.next()).done;)ae=ae.value,Ae=pt+be(ae,Je++),Pe+=H(ae,B,J,Ae,ve);else if(Ae==="object"){if(typeof I.then=="function")return H(Ve(I),B,J,ae,ve);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ie(I,B,J){if(I==null)return I;var ae=[],ve=0;return H(I,ae,"","",function(Ae){return B.call(J,Ae,ve++)}),ae}function ee(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var he=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ke={map:ie,forEach:function(I,B,J){ie(I,function(){B.apply(this,arguments)},J)},count:function(I){var B=0;return ie(I,function(){B++}),B},toArray:function(I){return ie(I,function(B){return B})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=w,Ne.Children=ke,Ne.Component=de,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=me,Ne.StrictMode=a,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,B,J){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=se({},I.props),ve=I.key;if(B!=null)for(Ae in B.key!==void 0&&(ve=""+B.key),B)!x.call(B,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&B.ref===void 0||(ae[Ae]=B[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=J;else if(1<Ae){for(var Pe=Array(Ae),pt=0;pt<Ae;pt++)Pe[pt]=arguments[pt+2];ae.children=Pe}return R(I.type,ve,ae)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ne.createElement=function(I,B,J){var ae,ve={},Ae=null;if(B!=null)for(ae in B.key!==void 0&&(Ae=""+B.key),B)x.call(B,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=B[ae]);var Pe=arguments.length-2;if(Pe===1)ve.children=J;else if(1<Pe){for(var pt=Array(Pe),Je=0;Je<Pe;Je++)pt[Je]=arguments[Je+2];ve.children=pt}if(I&&I.defaultProps)for(ae in Pe=I.defaultProps,Pe)ve[ae]===void 0&&(ve[ae]=Pe[ae]);return R(I,Ae,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:p,render:I}},Ne.isValidElement=D,Ne.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:ee}},Ne.memo=function(I,B){return{$$typeof:v,type:I,compare:B===void 0?null:B}},Ne.startTransition=function(I){var B=C.T,J={};C.T=J;try{var ae=I(),ve=C.S;ve!==null&&ve(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ie,he)}catch(Ae){he(Ae)}finally{B!==null&&J.types!==null&&(B.types=J.types),C.T=B}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(I){return C.H.use(I)},Ne.useActionState=function(I,B,J){return C.H.useActionState(I,B,J)},Ne.useCallback=function(I,B){return C.H.useCallback(I,B)},Ne.useContext=function(I){return C.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,B){return C.H.useDeferredValue(I,B)},Ne.useEffect=function(I,B){return C.H.useEffect(I,B)},Ne.useEffectEvent=function(I){return C.H.useEffectEvent(I)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(I,B,J){return C.H.useImperativeHandle(I,B,J)},Ne.useInsertionEffect=function(I,B){return C.H.useInsertionEffect(I,B)},Ne.useLayoutEffect=function(I,B){return C.H.useLayoutEffect(I,B)},Ne.useMemo=function(I,B){return C.H.useMemo(I,B)},Ne.useOptimistic=function(I,B){return C.H.useOptimistic(I,B)},Ne.useReducer=function(I,B,J){return C.H.useReducer(I,B,J)},Ne.useRef=function(I){return C.H.useRef(I)},Ne.useState=function(I){return C.H.useState(I)},Ne.useSyncExternalStore=function(I,B,J){return C.H.useSyncExternalStore(I,B,J)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.0",Ne}var i_;function Pm(){return i_||(i_=1,zd.exports=Yb()),zd.exports}var fe=Pm(),Bd={exports:{}},Uo={},qd={exports:{}},Hd={};var s_;function Xb(){return s_||(s_=1,(function(s){function e(H,ie){var ee=H.length;H.push(ie);e:for(;0<ee;){var he=ee-1>>>1,ke=H[he];if(0<o(ke,ie))H[he]=ie,H[ee]=ke,ee=he;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ie=H[0],ee=H.pop();if(ee!==ie){H[0]=ee;e:for(var he=0,ke=H.length,I=ke>>>1;he<I;){var B=2*(he+1)-1,J=H[B],ae=B+1,ve=H[ae];if(0>o(J,ee))ae<ke&&0>o(ve,J)?(H[he]=ve,H[ae]=ee,he=ae):(H[he]=J,H[B]=ee,he=B);else if(ae<ke&&0>o(ve,ee))H[he]=ve,H[ae]=ee,he=ae;else break e}}return ie}function o(H,ie){var ee=H.sortIndex-ie.sortIndex;return ee!==0?ee:H.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,w=null,V=3,K=!1,W=!1,se=!1,ne=!1,de=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Ue(H){for(var ie=i(v);ie!==null;){if(ie.callback===null)a(v);else if(ie.startTime<=H)a(v),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(v)}}function Me(H){if(se=!1,Ue(H),!W)if(i(_)!==null)W=!0,Ie||(Ie=!0,j());else{var ie=i(v);ie!==null&&Ve(Me,ie.startTime-H)}}var Ie=!1,C=-1,x=5,R=-1;function k(){return ne?!0:!(s.unstable_now()-R<x)}function D(){if(ne=!1,Ie){var H=s.unstable_now();R=H;var ie=!0;try{e:{W=!1,se&&(se=!1,ge(C),C=-1),K=!0;var ee=V;try{t:{for(Ue(H),w=i(_);w!==null&&!(w.expirationTime>H&&k());){var he=w.callback;if(typeof he=="function"){w.callback=null,V=w.priorityLevel;var ke=he(w.expirationTime<=H);if(H=s.unstable_now(),typeof ke=="function"){w.callback=ke,Ue(H),ie=!0;break t}w===i(_)&&a(_),Ue(H)}else a(_);w=i(_)}if(w!==null)ie=!0;else{var I=i(v);I!==null&&Ve(Me,I.startTime-H),ie=!1}}break e}finally{w=null,V=ee,K=!1}ie=void 0}}finally{ie?j():Ie=!1}}}var j;if(typeof me=="function")j=function(){me(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,be=S.port2;S.port1.onmessage=D,j=function(){be.postMessage(null)}}else j=function(){de(D,0)};function Ve(H,ie){C=de(function(){H(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var ie=3;break;default:ie=V}var ee=V;V=ie;try{return H()}finally{V=ee}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=V;V=H;try{return ie()}finally{V=ee}},s.unstable_scheduleCallback=function(H,ie,ee){var he=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?he+ee:he):ee=he,H){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ee+ke,H={id:A++,callback:ie,priorityLevel:H,startTime:ee,expirationTime:ke,sortIndex:-1},ee>he?(H.sortIndex=ee,e(v,H),i(_)===null&&H===i(v)&&(se?(ge(C),C=-1):se=!0,Ve(Me,ee-he))):(H.sortIndex=ke,e(_,H),W||K||(W=!0,Ie||(Ie=!0,j()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var ie=V;return function(){var ee=V;V=ie;try{return H.apply(this,arguments)}finally{V=ee}}}})(Hd)),Hd}var r_;function $b(){return r_||(r_=1,qd.exports=Xb()),qd.exports}var Gd={exports:{}},yn={};var a_;function Zb(){if(a_)return yn;a_=1;var s=Pm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,A)},yn.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},yn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},yn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},yn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,w=p(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:K}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:V,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},yn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},yn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,w=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},yn.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},yn.requestFormReset=function(_){a.d.r(_)},yn.unstable_batchedUpdates=function(_,v){return _(v)},yn.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var l_;function Jb(){if(l_)return Gd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=Zb(),Gd.exports}var o_;function Wb(){if(o_)return Uo;o_=1;var s=$b(),e=Pm(),i=Jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case de:return"Profiler";case ne:return"StrictMode";case Me:return"Suspense";case Ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case me:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var Ve=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},he=[],ke=-1;function I(t){return{current:t}}function B(t){0>ke||(t.current=he[ke],he[ke]=null,ke--)}function J(t,n){ke++,he[ke]=t.current,t.current=n}var ae=I(null),ve=I(null),Ae=I(null),Pe=I(null);function pt(t,n){switch(J(Ae,n),J(ve,t),J(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?A0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=A0(n),t=S0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ae),J(ae,t)}function Je(){B(ae),B(ve),B(Ae)}function te(t){t.memoizedState!==null&&J(Pe,t);var n=ae.current,r=S0(n,t.type);n!==r&&(J(ve,t),J(ae,r))}function _e(t){ve.current===t&&(B(ae),B(ve)),Pe.current===t&&(B(Pe),Oo._currentValue=ee)}var Se,Xe;function Le(t){if(Se===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Se=n&&n[1]||"",Xe=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+t+Xe}var lt=!1;function At(t,n){if(!t||lt)return"";lt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){q=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{lt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Le(r):""}function tn(t,n){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return At(t.type,!1);case 11:return At(t.type.render,!1);case 1:return At(t.type,!0);case 31:return Le("Activity");default:return""}}function St(t){try{var n="",r=null;do n+=tn(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,dt=s.unstable_scheduleCallback,mt=s.unstable_cancelCallback,es=s.unstable_shouldYield,Os=s.unstable_requestPaint,Vt=s.unstable_now,Xn=s.unstable_getCurrentPriorityLevel,Ms=s.unstable_ImmediatePriority,Dr=s.unstable_UserBlockingPriority,$n=s.unstable_NormalPriority,Ta=s.unstable_LowPriority,Or=s.unstable_IdlePriority,Ea=s.log,Mr=s.unstable_setDisableYieldValue,xn=null,kt=null;function bn(t){if(typeof Ea=="function"&&Mr(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(xn,t)}catch{}}var _t=Math.clz32?Math.clz32:kr,Vr=Math.log,xi=Math.LN2;function kr(t){return t>>>=0,t===0?32:31-(Vr(t)/xi|0)|0}var An=256,Rn=262144,It=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Zn(l):(g&=E,g!==0?h=Zn(g):r||(r=E&~t,r!==0&&(h=Zn(r))))):(E=l&~f,E!==0?h=Zn(E):g!==0?h=Zn(g):r||(r=l&~t,r!==0&&(h=Zn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Wn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ts(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ul(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-_t(r),X=1<<Q;E[Q]=0,N[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}r&=~X}l!==0&&M(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function M(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Re(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-_t(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function We(t,n){var r=n&-n;return r=(r&42)!==0?1:jt(r),(r&(t.suspendedLanes|n))!==0?0:r}function jt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nn(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function qt(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var gi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+gi,nn="__reactProps$"+gi,Ri="__reactContainer$"+gi,Aa="__reactEvents$"+gi,Gh="__reactListeners$"+gi,pu="__reactHandles$"+gi,yu="__reactResources$"+gi,Ni="__reactMarker$"+gi;function Sa(t){delete t[Ht],delete t[nn],delete t[Aa],delete t[Gh],delete t[pu]}function Ci(t){var n=t[Ht];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ri]||r[Ht]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=D0(t);t!==null;){if(r=t[Ht])return r;t=D0(t)}return n}t=r,r=t.parentNode}return null}function ei(t){if(t=t[Ht]||t[Ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Gt(t){t[Ni]=!0}var Pl=new Set,Ll={};function Di(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(Ll[t]=n,t=0;t<n.length;t++)Pl.add(n[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function _u(t){return ft.call(ql,t)?!0:ft.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function wa(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ft(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Vs(t)?"checked":"value";t._valueTracker=Hl(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Vs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function Cn(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xa(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Gl(t,g,sn(n)):r!=null?Gl(t,g,sn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+sn(E):t.removeAttribute("name")}function vu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}r=r!=null?""+sn(r):"",n=n!=null?""+sn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),st(t)}function Gl(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ks(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Tu(t,n,r){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+sn(r):""}function js(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ve(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=sn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),st(t)}function In(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Kl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Fl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Fl(t,f,n[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Us.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pi(){}var Ql=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Vi=null;function Pr(t){var n=ei(t);if(n&&(t=n.stateNode)){var r=t[nn]||null;e:switch(t=n.stateNode,n.type){case"input":if(xa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[nn]||null;if(!h)throw Error(a(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jr(l)}break e;case"textarea":Tu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ks(t,!!r.multiple,n,!1)}}}var Ca=!1;function Ls(t,n,r){if(Ca)return t(n,r);Ca=!0;try{var l=t(n);return l}finally{if(Ca=!1,(Ps!==null||Vi!==null)&&(gc(),Ps&&(n=Ps,t=Vi,Vi=Ps=null,Pr(n),t)))for(n=0;n<t.length;n++)Pr(t[n])}}function yi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[nn]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(ni)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Lr=!1}var ki=null,Yl=null,zr=null;function Xl(){if(zr)return zr;var t,n=Yl,r=n.length,l,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function _i(){return!1}function ln(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:_i,this.isPropagationStopped=_i,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=ln(is),zs=w({},is,{view:0,detail:0}),$l=ln(zs),Bs,Ia,Ui,Da=w({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Bs=t.screenX-Ui.screenX,Ia=t.screenY-Ui.screenY):Ia=Bs=0,Ui=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Zl=ln(Da),qr=w({},Da,{dataTransfer:0}),Au=ln(qr),Su=w({},zs,{relatedTarget:0}),Hr=ln(Su),Jl=w({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=ln(Jl),Oa=w({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=ln(Oa),Ru=w({},is,{data:0}),Pi=ln(Ru),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function qs(){return Du}var Sn=w({},zs,{key:function(t){if(t.key){var n=Nu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=ln(Sn),Mu=w({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=ln(Mu),u=w({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=ln(u),T=w({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ln(T),P=w({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=ln(P),re=w({},is,{newState:0,oldState:0}),De=ln(re),Ut=[9,13,27,32],et=ni&&"CompositionEvent"in window,wt=null;ni&&"documentMode"in document&&(wt=document.documentMode);var ii=ni&&"TextEvent"in window&&!wt,Li=ni&&(!et||wt&&8<wt&&11>=wt),vi=" ",Ti=!1;function Gr(t,n){switch(t){case"keyup":return Ut.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function pE(t,n){switch(t){case"compositionend":return Ma(n);case"keypress":return n.which!==32?null:(Ti=!0,vi);case"textInput":return t=n.data,t===vi&&Ti?null:t;default:return null}}function yE(t,n){if(Va)return t==="compositionend"||!et&&Gr(t,n)?(t=Xl(),zr=Yl=ki=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var _E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_E[t.type]:n==="textarea"}function kg(t,n,r,l){Ps?Vi?Vi.push(l):Vi=[l]:Ps=l,n=bc(n,"onChange"),0<n.length&&(r=new ji("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Wl=null,eo=null;function vE(t){y0(t,0)}function Vu(t){var n=Ln(t);if(jr(n))return t}function jg(t,n){if(t==="change")return n}var Ug=!1;if(ni){var Fh;if(ni){var Kh="oninput"in document;if(!Kh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Kh=typeof Pg.oninput=="function"}Fh=Kh}else Fh=!1;Ug=Fh&&(!document.documentMode||9<document.documentMode)}function Lg(){Wl&&(Wl.detachEvent("onpropertychange",zg),eo=Wl=null)}function zg(t){if(t.propertyName==="value"&&Vu(eo)){var n=[];kg(n,eo,t,ti(t)),Ls(vE,n)}}function TE(t,n,r){t==="focusin"?(Lg(),Wl=n,eo=r,Wl.attachEvent("onpropertychange",zg)):t==="focusout"&&Lg()}function EE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(eo)}function bE(t,n){if(t==="click")return Vu(n)}function AE(t,n){if(t==="input"||t==="change")return Vu(n)}function SE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:SE;function to(t,n){if(Bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!ft.call(n,h)||!Bn(t[h],n[h]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,n){var r=Bg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bg(r)}}function Hg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wE=ni&&"documentMode"in document&&11>=document.documentMode,ka=null,Yh=null,no=null,Xh=!1;function Fg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||ka==null||ka!==Mi(l)||(l=ka,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=bc(Yh,"onSelect"),0<l.length&&(n=new ji("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ka)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ja={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},$h={},Kg={};ni&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Kr(t){if($h[t])return $h[t];if(!ja[t])return t;var n=ja[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kg)return $h[t]=n[r];return t}var Qg=Kr("animationend"),Yg=Kr("animationiteration"),Xg=Kr("animationstart"),xE=Kr("transitionrun"),RE=Kr("transitionstart"),NE=Kr("transitioncancel"),$g=Kr("transitionend"),Zg=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Ei(t,n){Zg.set(t,n),Di(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Ua=0,Jh=0;function ju(){for(var t=Ua,n=Jh=Ua=0;n<t;){var r=si[n];si[n++]=null;var l=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Jg(r,h,f)}}function Uu(t,n,r,l){si[Ua++]=t,si[Ua++]=n,si[Ua++]=r,si[Ua++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,r,l){return Uu(t,n,r,l),Pu(t)}function Qr(t,n){return Uu(t,null,null,n),Pu(t)}function Jg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<wo)throw wo=0,ud=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function CE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,r,l){return new CE(t,n,r,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var r=t.alternate;return r===null?(r=qn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Wg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")ef(t)&&(g=1);else if(typeof t=="string")g=Vb(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=qn(31,r,n,h),t.elementType=R,t.lanes=f,t;case se:return Yr(r.children,h,f,n);case ne:g=8,h|=24;break;case de:return t=qn(12,r,n,h|2),t.elementType=de,t.lanes=f,t;case Me:return t=qn(13,r,n,h),t.elementType=Me,t.lanes=f,t;case Ie:return t=qn(19,r,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:g=10;break e;case ge:g=9;break e;case Ue:g=11;break e;case C:g=14;break e;case x:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=qn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,r,l){return t=qn(7,t,l,n),t.lanes=r,t}function tf(t,n,r){return t=qn(6,t,null,n),t.lanes=r,t}function ep(t){var n=qn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,r){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tp=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var r=tp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:St(n)},tp.set(t,n),n)}return{value:t,source:n,stack:St(n)}}var La=[],za=0,zu=null,io=0,ai=[],li=0,Hs=null,zi=1,Bi="";function as(t,n){La[za++]=io,La[za++]=zu,zu=t,io=n}function np(t,n,r){ai[li++]=zi,ai[li++]=Bi,ai[li++]=Hs,Hs=t;var l=zi;t=Bi;var h=32-_t(l)-1;l&=~(1<<h),r+=1;var f=32-_t(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,zi=1<<32-_t(n)+h|r<<h|l,Bi=f+t}else zi=1<<f|r<<h|l,Bi=t}function sf(t){t.return!==null&&(as(t,1),np(t,1,0))}function rf(t){for(;t===zu;)zu=La[--za],La[za]=null,io=La[--za],La[za]=null;for(;t===Hs;)Hs=ai[--li],ai[li]=null,Bi=ai[--li],ai[li]=null,zi=ai[--li],ai[li]=null}function ip(t,n){ai[li++]=zi,ai[li++]=Bi,ai[li++]=Hs,zi=n.id,Bi=n.overflow,Hs=t}var on=null,vt=null,Qe=!1,Gs=null,oi=!1,af=Error(a(519));function Fs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(ri(n,t)),af}function sp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ht]=t,n[nn]=l,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(r=0;r<Ro.length;r++)Be(Ro[r],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),js(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||E0(n.textContent,r)?(l.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),l.onScroll!=null&&Be("scroll",n),l.onScrollEnd!=null&&Be("scrollend",n),l.onClick!=null&&(n.onclick=pi),n=!0):n=!1,n||Fs(t,!0)}function rp(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:on=on.return}}function Ba(t){if(t!==on)return!1;if(!Qe)return rp(t),Qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&vt&&Fs(t),rp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=I0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=I0(t)}else n===27?(n=vt,rr(t.type)?(t=Cd,Cd=null,vt=t):vt=n):vt=on?ci(t.stateNode.nextSibling):null;return!0}function Xr(){vt=on=null,Qe=!1}function lf(){var t=Gs;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Gs=null),t}function so(t){Gs===null?Gs=[t]:Gs.push(t)}var of=I(null),$r=null,ls=null;function Ks(t,n,r){J(of,n._currentValue),n._currentValue=r}function os(t){t._currentValue=of.current,B(of)}function uf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function cf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uf(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),uf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function qa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Bn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Pe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}h=h.return}t!==null&&cf(n,t,r,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){$r=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return ap($r,t)}function qu(t,n){return $r===null&&Zr(t),ap(t,n)}function ap(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ls===null){if(t===null)throw Error(a(308));ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ls=ls.next=n;return r}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},DE=s.unstable_scheduleCallback,OE=s.unstable_NormalPriority,Kt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new IE,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&DE(OE,function(){t.controller.abort()})}var ao=null,ff=0,Ha=0,Ga=null;function ME(t,n){if(ao===null){var r=ao=[];ff=0,Ha=gd(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ff++,n.then(lp,lp),n}function lp(){if(--ff===0&&ao!==null){Ga!==null&&(Ga.status="fulfilled");var t=ao;ao=null,Ha=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function VE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var op=H.S;H.S=function(t,n){Fy=Vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ME(t,n),op!==null&&op(t,n)};var Jr=I(null);function df(){var t=Jr.current;return t!==null?t:gt.pooledCache}function Hu(t,n){n===null?J(Jr,Jr.current):J(Jr,n.pool)}function up(){var t=df();return t===null?null:{parent:Kt._currentValue,pool:t}}var Fa=Error(a(460)),mf=Error(a(474)),Gu=Error(a(542)),Fu={then:function(){}};function cp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(pi,pi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dp(t),t;default:if(typeof n.status=="string")n.then(pi,pi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dp(t),t}throw ea=n,Fa}}function Wr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,Fa):r}}var ea=null;function fp(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function dp(t){if(t===Fa||t===Gu)throw Error(a(483))}var Ka=null,lo=0;function Ku(t){var n=lo;return lo+=1,Ka===null&&(Ka=[]),hp(Ka,t,n)}function oo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mp(t){function n(U,O){if(t){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=rs(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,Y){return O===null||O.tag!==6?(O=tf(L,U.mode,Y),O.return=U,O):(O=h(O,L),O.return=U,O)}function N(U,O,L,Y){var pe=L.type;return pe===se?Q(U,O,L.props.children,Y,L.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Wr(pe)===O.type)?(O=h(O,L.props),oo(O,L),O.return=U,O):(O=Lu(L.type,L.key,L.props,null,U.mode,Y),oo(O,L),O.return=U,O)}function z(U,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=nf(L,U.mode,Y),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function Q(U,O,L,Y,pe){return O===null||O.tag!==7?(O=Yr(L,U.mode,Y,pe),O.return=U,O):(O=h(O,L),O.return=U,O)}function X(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return L=Lu(O.type,O.key,O.props,null,U.mode,L),oo(L,O),L.return=U,L;case W:return O=nf(O,U.mode,L),O.return=U,O;case x:return O=Wr(O),X(U,O,L)}if(Ve(O)||j(O))return O=Yr(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return X(U,Ku(O),L);if(O.$$typeof===me)return X(U,qu(U,O),L);Qu(U,O)}return null}function q(U,O,L,Y){var pe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pe!==null?null:E(U,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===pe?N(U,O,L,Y):null;case W:return L.key===pe?z(U,O,L,Y):null;case x:return L=Wr(L),q(U,O,L,Y)}if(Ve(L)||j(L))return pe!==null?null:Q(U,O,L,Y,null);if(typeof L.then=="function")return q(U,O,Ku(L),Y);if(L.$$typeof===me)return q(U,O,qu(U,L),Y);Qu(U,L)}return null}function F(U,O,L,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(O,U,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return U=U.get(Y.key===null?L:Y.key)||null,N(O,U,Y,pe);case W:return U=U.get(Y.key===null?L:Y.key)||null,z(O,U,Y,pe);case x:return Y=Wr(Y),F(U,O,L,Y,pe)}if(Ve(Y)||j(Y))return U=U.get(L)||null,Q(O,U,Y,pe,null);if(typeof Y.then=="function")return F(U,O,L,Ku(Y),pe);if(Y.$$typeof===me)return F(U,O,L,qu(O,Y),pe);Qu(O,Y)}return null}function ue(U,O,L,Y){for(var pe=null,$e=null,ce=O,je=O=0,He=null;ce!==null&&je<L.length;je++){ce.index>je?(He=ce,ce=null):He=ce.sibling;var Ze=q(U,ce,L[je],Y);if(Ze===null){ce===null&&(ce=He);break}t&&ce&&Ze.alternate===null&&n(U,ce),O=f(Ze,O,je),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze,ce=He}if(je===L.length)return r(U,ce),Qe&&as(U,je),pe;if(ce===null){for(;je<L.length;je++)ce=X(U,L[je],Y),ce!==null&&(O=f(ce,O,je),$e===null?pe=ce:$e.sibling=ce,$e=ce);return Qe&&as(U,je),pe}for(ce=l(ce);je<L.length;je++)He=F(ce,U,je,L[je],Y),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?je:He.key),O=f(He,O,je),$e===null?pe=He:$e.sibling=He,$e=He);return t&&ce.forEach(function(cr){return n(U,cr)}),Qe&&as(U,je),pe}function Te(U,O,L,Y){if(L==null)throw Error(a(151));for(var pe=null,$e=null,ce=O,je=O=0,He=null,Ze=L.next();ce!==null&&!Ze.done;je++,Ze=L.next()){ce.index>je?(He=ce,ce=null):He=ce.sibling;var cr=q(U,ce,Ze.value,Y);if(cr===null){ce===null&&(ce=He);break}t&&ce&&cr.alternate===null&&n(U,ce),O=f(cr,O,je),$e===null?pe=cr:$e.sibling=cr,$e=cr,ce=He}if(Ze.done)return r(U,ce),Qe&&as(U,je),pe;if(ce===null){for(;!Ze.done;je++,Ze=L.next())Ze=X(U,Ze.value,Y),Ze!==null&&(O=f(Ze,O,je),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze);return Qe&&as(U,je),pe}for(ce=l(ce);!Ze.done;je++,Ze=L.next())Ze=F(ce,U,je,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&ce.delete(Ze.key===null?je:Ze.key),O=f(Ze,O,je),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze);return t&&ce.forEach(function(Fb){return n(U,Fb)}),Qe&&as(U,je),pe}function ht(U,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===se&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:e:{for(var pe=L.key;O!==null;){if(O.key===pe){if(pe=L.type,pe===se){if(O.tag===7){r(U,O.sibling),Y=h(O,L.props.children),Y.return=U,U=Y;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Wr(pe)===O.type){r(U,O.sibling),Y=h(O,L.props),oo(Y,L),Y.return=U,U=Y;break e}r(U,O);break}else n(U,O);O=O.sibling}L.type===se?(Y=Yr(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=Lu(L.type,L.key,L.props,null,U.mode,Y),oo(Y,L),Y.return=U,U=Y)}return g(U);case W:e:{for(pe=L.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(U,O.sibling),Y=h(O,L.children||[]),Y.return=U,U=Y;break e}else{r(U,O);break}else n(U,O);O=O.sibling}Y=nf(L,U.mode,Y),Y.return=U,U=Y}return g(U);case x:return L=Wr(L),ht(U,O,L,Y)}if(Ve(L))return ue(U,O,L,Y);if(j(L)){if(pe=j(L),typeof pe!="function")throw Error(a(150));return L=pe.call(L),Te(U,O,L,Y)}if(typeof L.then=="function")return ht(U,O,Ku(L),Y);if(L.$$typeof===me)return ht(U,O,qu(U,L),Y);Qu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(U,O.sibling),Y=h(O,L),Y.return=U,U=Y):(r(U,O),Y=tf(L,U.mode,Y),Y.return=U,U=Y),g(U)):r(U,O)}return function(U,O,L,Y){try{lo=0;var pe=ht(U,O,L,Y);return Ka=null,pe}catch(ce){if(ce===Fa||ce===Gu)throw ce;var $e=qn(29,ce,null,U.mode);return $e.lanes=Y,$e.return=U,$e}finally{}}}var ta=mp(!0),gp=mp(!1),Qs=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Pu(t),Jg(t,null,r),n}return Uu(t,l,n,r),Pu(t)}function uo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Re(t,r)}}function yf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _f=!1;function co(){if(_f){var t=Ga;if(t!==null)throw t}}function ho(t,n,r,l){_f=!1;var h=t.updateQueue;Qs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=N))}if(f!==null){var X=h.baseState;g=0,Q=z=N=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(qe&q)===q:(l&q)===q){q!==0&&q===Ha&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,Te=E;q=n;var ht=r;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){X=ue.call(ht,X,q);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,q=typeof ue=="function"?ue.call(ht,X,q):ue,q==null)break e;X=w({},X,q);break e;case 2:Qs=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,N=X):Q=Q.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(N=X),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),er|=g,t.lanes=g,t.memoizedState=X}}function pp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function yp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pp(r[t],n)}var Qa=I(null),Yu=I(0);function _p(t,n){t=ys,J(Yu,t),J(Qa,n),ys=t|n.baseLanes}function vf(){J(Yu,ys),J(Qa,Qa.current)}function Tf(){ys=Yu.current,B(Qa),B(Yu)}var Hn=I(null),ui=null;function $s(t){var n=t.alternate;J(Pt,Pt.current&1),J(Hn,t),ui===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(ui=t)}function Ef(t){J(Pt,Pt.current),J(Hn,t),ui===null&&(ui=t)}function vp(t){t.tag===22?(J(Pt,Pt.current),J(Hn,t),ui===null&&(ui=t)):Zs()}function Zs(){J(Pt,Pt.current),J(Hn,Hn.current)}function Gn(t){B(Hn),ui===t&&(ui=null),B(Pt)}var Pt=I(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Nd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Oe=null,ut=null,Qt=null,$u=!1,Ya=!1,na=!1,Zu=0,fo=0,Xa=null,kE=0;function Dt(){throw Error(a(321))}function bf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Bn(t[r],n[r]))return!1;return!0}function Af(t,n,r,l,h,f){return us=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ny:Pf,na=!1,f=r(l,h),na=!1,Ya&&(f=Ep(n,r,l,h)),Tp(t),f}function Tp(t){H.H=po;var n=ut!==null&&ut.next!==null;if(us=0,Qt=ut=Oe=null,$u=!1,fo=0,Xa=null,n)throw Error(a(300));t===null||Yt||(t=t.dependencies,t!==null&&Bu(t)&&(Yt=!0))}function Ep(t,n,r,l){Oe=t;var h=0;do{if(Ya&&(Xa=null),fo=0,Ya=!1,25<=h)throw Error(a(301));if(h+=1,Qt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=iy,f=n(r,l)}while(Ya);return f}function jE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?mo(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Sf(){var t=Zu!==0;return Zu=0,t}function wf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}us=0,Qt=ut=Oe=null,Ya=!1,fo=Zu=0,Xa=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Oe.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Lt(){if(ut===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=Qt===null?Oe.memoizedState:Qt.next;if(n!==null)Qt=n,ut=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Qt===null?Oe.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var n=fo;return fo+=1,Xa===null&&(Xa=[]),t=hp(Xa,t,n),n=Oe,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ny:Pf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===me)return un(t)}throw Error(a(438,String(t)))}function Rf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=k;return n.index++,r}function cs(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Lt();return Nf(n,ut,t)}function Nf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(qe&X)===X:(us&X)===X){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ha&&(Q=!0);else if((us&q)===q){z=z.next,q===Ha&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=X,g=f):N=N.next=X,Oe.lanes|=q,er|=q;X=z.action,na&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else q={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,Oe.lanes|=X,er|=X;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!Bn(f,t.memoizedState)&&(Yt=!0,Q&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Lt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Bn(f,n.memoizedState)||(Yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function bp(t,n,r){var l=Oe,h=Lt(),f=Qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Bn((ut||h).memoizedState,r);if(g&&(h.memoizedState=r,Yt=!0),h=h.queue,Of(wp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Sp.bind(null,l,h,r,n),null),gt===null)throw Error(a(349));f||(us&127)!==0||Ap(l,n,r)}return r}function Ap(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Ju(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Sp(t,n,r,l){n.value=r,n.getSnapshot=l,xp(n)&&Rp(t)}function wp(t,n,r){return r(function(){xp(n)&&Rp(t)})}function xp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Bn(t,r)}catch{return!0}}function Rp(t){var n=Qr(t,2);n!==null&&kn(n,t,2)}function If(t){var n=wn();if(typeof t=="function"){var r=t;if(t=r(),na){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function Np(t,n,r,l){return t.baseState=r,Nf(t,ut,typeof l=="function"?l:cs)}function UE(t,n,r,l,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Cp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Cp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,l),N=H.S;N!==null&&N(g,E),Ip(t,n,E)}catch(z){Df(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,l),Ip(t,n,f)}catch(z){Df(t,n,z)}}function Ip(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Dp(t,n,l)},function(l){return Df(t,n,l)}):Dp(t,n,r)}function Dp(t,n,r){n.status="fulfilled",n.value=r,Op(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Cp(t,r)))}function Df(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Op(n),n=n.next;while(n!==l)}t.action=null}function Op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mp(t,n){return n}function Vp(t,n){if(Qe){var r=gt.formState;if(r!==null){e:{var l=Oe;if(Qe){if(vt){t:{for(var h=vt,f=oi;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ci(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(n=r[0])}}return r=wn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:n},r.queue=l,r=Wp.bind(null,Oe,l),l.dispatch=r,l=If(!1),f=Uf.bind(null,Oe,!1,l.queue),l=wn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=UE.bind(null,Oe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function kp(t){var n=Lt();return jp(n,ut,t)}function jp(t,n,r){if(n=Nf(t,n,Mp)[0],t=ec(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=mo(n)}catch(g){throw g===Fa?Gu:g}else l=n;n=Lt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,$a(9,{destroy:void 0},PE.bind(null,h,r),null)),[l,f,t]}function PE(t,n){t.action=n}function Up(t){var n=Lt(),r=ut;if(r!==null)return jp(n,r,t);Lt(),n=n.memoizedState,r=Lt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function $a(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Ju(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Pp(){return Lt().memoizedState}function tc(t,n,r,l){var h=wn();Oe.flags|=t,h.memoizedState=$a(1|n,{destroy:void 0},r,l===void 0?null:l)}function nc(t,n,r,l){var h=Lt();l=l===void 0?null:l;var f=h.memoizedState.inst;ut!==null&&l!==null&&bf(l,ut.memoizedState.deps)?h.memoizedState=$a(n,f,r,l):(Oe.flags|=t,h.memoizedState=$a(1|n,f,r,l))}function Lp(t,n){tc(8390656,8,t,n)}function Of(t,n){nc(2048,8,t,n)}function LE(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Ju(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function zp(t){var n=Lt().memoizedState;return LE({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Bp(t,n){return nc(4,2,t,n)}function qp(t,n){return nc(4,4,t,n)}function Hp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gp(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,Hp.bind(null,n,t),r)}function Mf(){}function Fp(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Kp(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),na){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l}function Vf(t,n,r){return r===void 0||(us&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Qy(),Oe.lanes|=t,er|=t,r)}function Qp(t,n,r,l){return Bn(r,n)?r:Qa.current!==null?(t=Vf(t,r,l),Bn(t,n)||(Yt=!0),t):(us&42)===0||(us&1073741824)!==0&&(qe&261930)===0?(Yt=!0,t.memoizedState=r):(t=Qy(),Oe.lanes|=t,er|=t,n)}function Yp(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Uf(t,!1,n,r);try{var N=h(),z=H.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=VE(N,l);go(t,n,Q,Qn(t))}else go(t,n,l,Qn(t))}catch(X){go(t,n,{then:function(){},status:"rejected",reason:X},Qn())}finally{ie.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function zE(){}function kf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Xp(t).queue;Yp(t,h,n,ee,r===null?zE:function(){return $p(t),r(l)})}function Xp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $p(t){var n=Xp(t);n.next===null&&(n=t.alternate.memoizedState),go(t,n.next.queue,{},Qn())}function jf(){return un(Oo)}function Zp(){return Lt().memoizedState}function Jp(){return Lt().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Qn();t=Ys(r);var l=Xs(n,t,r);l!==null&&(kn(l,n,r),uo(l,n,r)),n={cache:hf()},t.payload=n;return}n=n.return}}function qE(t,n,r){var l=Qn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?ey(n,r):(r=Wh(t,n,r,l),r!==null&&(kn(r,t,l),ty(r,n,l)))}function Wp(t,n,r){var l=Qn();go(t,n,r,l)}function go(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ey(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Bn(E,g))return Uu(t,n,h,0),gt===null&&ju(),!1}catch{}finally{}if(r=Wh(t,n,h,l),r!==null)return kn(r,t,l),ty(r,n,l),!0}return!1}function Uf(t,n,r,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=Wh(t,r,l,2),n!==null&&kn(n,t,2)}function ic(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function ey(t,n){Ya=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ty(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Re(t,r)}}var po={readContext:un,use:Wu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};po.useEffectEvent=Dt;var ny={readContext:un,use:Wu,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:Lp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,Hp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=wn();n=n===void 0?null:n;var l=t();if(na){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=wn();if(r!==void 0){var h=r(n);if(na){bn(!0);try{r(n)}finally{bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=qE.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Wp.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=wn();return Vf(r,t,n)},useTransition:function(){var t=If(!1);return t=Yp.bind(null,Oe,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=wn();if(Qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(qe&127)!==0||Ap(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Lp(wp.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},Sp.bind(null,l,f,r,n),null),r},useId:function(){var t=wn(),n=gt.identifierPrefix;if(Qe){var r=Bi,l=zi;r=(l&~(1<<32-_t(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Uf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return wn().memoizedState=BE.bind(null,Oe)},useEffectEvent:function(t){var n=wn(),r={impl:t};return n.memoizedState=r,function(){if((tt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Pf={readContext:un,use:Wu,useCallback:Fp,useContext:un,useEffect:Of,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Kp,useReducer:ec,useRef:Pp,useState:function(){return ec(cs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Lt();return Qp(r,ut.memoizedState,t,n)},useTransition:function(){var t=ec(cs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:bp,useId:Zp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(t,n){var r=Lt();return Np(r,ut,t,n)},useMemoCache:Rf,useCacheRefresh:Jp};Pf.useEffectEvent=zp;var iy={readContext:un,use:Wu,useCallback:Fp,useContext:un,useEffect:Of,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Kp,useReducer:Cf,useRef:Pp,useState:function(){return Cf(cs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Lt();return ut===null?Vf(r,t,n):Qp(r,ut.memoizedState,t,n)},useTransition:function(){var t=Cf(cs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:bp,useId:Zp,useHostTransitionStatus:jf,useFormState:Up,useActionState:Up,useOptimistic:function(t,n){var r=Lt();return ut!==null?Np(r,ut,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Jp};iy.useEffectEvent=zp;function Lf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Qn(),h=Ys(l);h.payload=n,r!=null&&(h.callback=r),n=Xs(t,h,l),n!==null&&(kn(n,t,l),uo(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Qn(),h=Ys(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Xs(t,h,l),n!==null&&(kn(n,t,l),uo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Qn(),l=Ys(r);l.tag=2,n!=null&&(l.callback=n),n=Xs(t,l,r),n!==null&&(kn(n,t,r),uo(n,t,r))}};function sy(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!to(r,l)||!to(h,f):!0}function ry(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ay(t){ku(t)}function ly(t){console.error(t)}function oy(t){ku(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function uy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,n,r){return r=Ys(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function cy(t){return t=Ys(t),t.tag=3,t}function hy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){uy(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){uy(n,r,l),typeof h!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function HE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&qa(n,r,h,!0),r=Hn.current,r!==null){switch(r.tag){case 31:case 13:return ui===null?pc():r.alternate===null&&Ot===0&&(Ot=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),fd(t,l,h)),!1;case 22:return r.flags|=65536,l===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),fd(t,l,h)),!1}throw Error(a(435,r.tag))}return fd(t,l,h),pc(),!1}if(Qe)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==af&&(t=Error(a(422),{cause:l}),so(ri(t,r)))):(l!==af&&(n=Error(a(423),{cause:l}),so(ri(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ri(l,r),h=Bf(t.stateNode,l,h),yf(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(a(520),{cause:l});if(f=ri(f,r),So===null?So=[f]:So.push(f),Ot!==4&&(Ot=2),n===null)return!0;l=ri(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Bf(r.stateNode,l,t),yf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=cy(h),hy(h,t,r,l),yf(r,h),!1}r=r.return}while(r!==null);return!1}var qf=Error(a(461)),Yt=!1;function cn(t,n,r,l){n.child=t===null?gp(n,null,r,l):ta(n,t.child,r,l)}function fy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Zr(n),l=Af(t,n,r,g,f,h),E=Sf(),t!==null&&!Yt?(wf(t,n,h),hs(t,n,h)):(Qe&&E&&sf(n),n.flags|=1,cn(t,n,l,h),n.child)}function dy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,my(t,n,f,l,h)):(t=Lu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:to,r(g,l)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,l),t.ref=n.ref,t.return=n,n.child=t}function my(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Hf(t,n,r,l,h)}function gy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return py(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?_p(n,f):vf(),vp(n);else return l=n.lanes=536870912,py(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Hu(n,f.cachePool),_p(n,f),Zs(),n.memoizedState=null):(t!==null&&Hu(n,null),vf(),Zs());return cn(t,n,h,r),n.child}function yo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function py(t,n,r,l,h){var f=df();return f=f===null?null:{parent:Kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Hu(n,null),vf(),vp(n),t!==null&&qa(t,n,l,!0),n.childLanes=h,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yy(t,n,r){return ta(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function GE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=rc(n,l),n.lanes=536870912,yo(null,t);if(Ef(n),(t=vt)?(t=C0(t,oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=ep(t),r.return=n,n.child=r,on=n,vt=null)):t=null,t===null)throw Fs(n);return n.lanes=536870912,null}return rc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=yy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Yt||qa(t,n,r,!1),h=(r&t.childLanes)!==0,Yt||h){if(l=gt,l!==null&&(g=We(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Qr(t,g),kn(l,t,g),qf;pc(),n=yy(t,n,r)}else t=f.treeContext,vt=ci(g.nextSibling),on=n,Qe=!0,Gs=null,oi=!1,t!==null&&ip(n,t),n=rc(n,l),n.flags|=4096;return n}return t=rs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Zr(n),r=Af(t,n,r,l,void 0,h),l=Sf(),t!==null&&!Yt?(wf(t,n,h),hs(t,n,h)):(Qe&&l&&sf(n),n.flags|=1,cn(t,n,r,h),n.child)}function _y(t,n,r,l,h,f){return Zr(n),n.updateQueue=null,r=Ep(n,l,r,h),Tp(t),l=Sf(),t!==null&&!Yt?(wf(t,n,f),hs(t,n,f)):(Qe&&l&&sf(n),n.flags|=1,cn(t,n,r,f),n.child)}function vy(t,n,r,l,h){if(Zr(n),n.stateNode===null){var f=Pa,g=r.contextType;typeof g=="object"&&g!==null&&(f=un(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?un(g):Pa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),ho(n,l,f,h),co(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=ia(r,E);f.props=N;var z=f.context,Q=r.contextType;g=Pa,typeof Q=="object"&&Q!==null&&(g=un(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ry(n,f,l,g),Qs=!1;var q=n.memoizedState;f.state=q,ho(n,l,f,h),co(),z=n.memoizedState,E||q!==z||Qs?(typeof X=="function"&&(Lf(n,r,X,l),z=n.memoizedState),(N=Qs||sy(n,r,N,l,q,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,Q=ia(r,g),f.props=Q,X=n.pendingProps,q=f.context,z=r.contextType,N=Pa,typeof z=="object"&&z!==null&&(N=un(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||q!==N)&&ry(n,f,l,N),Qs=!1,q=n.memoizedState,f.state=q,ho(n,l,f,h),co();var F=n.memoizedState;g!==X||q!==F||Qs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Lf(n,r,E,l),F=n.memoizedState),(Q=Qs||sy(n,r,Q,l,q,F,N)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ac(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,r,h)):cn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function Ty(t,n,r,l){return Xr(),n.flags|=256,cn(t,n,r,l),n.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:up()}}function Kf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Kn),t}function Ey(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?$s(n):Zs(),(t=vt)?(t=C0(t,oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=ep(t),r.return=n,n.child=r,on=n,vt=null)):t=null,t===null)throw Fs(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Zs(),h=n.mode,E=lc({mode:"hidden",children:E},h),l=Yr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ff(r),l.childLanes=Kf(t,g,r),n.memoizedState=Gf,yo(null,l)):($s(n),Qf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?($s(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(Zs(),n.child=t.child,n.flags|=128,n=null):(Zs(),E=l.fallback,h=n.mode,l=lc({mode:"visible",children:l.children},h),E=Yr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=Ff(r),l.childLanes=Kf(t,g,r),n.memoizedState=Gf,n=yo(null,l));else if($s(n),Nd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,so({value:l,source:null,stack:null}),n=Yf(t,n,r)}else if(Yt||qa(t,n,r,!1),g=(r&t.childLanes)!==0,Yt||g){if(g=gt,g!==null&&(l=We(g,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Qr(t,l),kn(g,t,l),qf;Rd(E)||pc(),n=Yf(t,n,r)}else Rd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,vt=ci(E.nextSibling),on=n,Qe=!0,Gs=null,oi=!1,t!==null&&ip(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(Zs(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=rs(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=rs(z,E):(E=Yr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ff(r):(h=E.cachePool,h!==null?(N=Kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=up(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Kf(t,g,r),n.memoizedState=Gf,yo(t.child,l)):($s(n),r=t.child,t=r.sibling,r=rs(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Qf(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=qn(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return ta(n,t.child,null,r),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uf(t.return,n,r)}function Xf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Ay(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Pt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(Pt,g),cn(t,n,l,r),l=Qe?io:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,r,n);else if(t.tag===19)by(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Xf(n,!0,r,null,f,l);break;case"together":Xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function hs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(qa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=rs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=rs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function FE(t,n,r){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Ks(n,Kt,t.memoizedState.cache),Xr();break;case 27:case 5:te(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($s(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ey(t,n,r):($s(n),t=hs(t,n,r),t!==null?t.sibling:null);$s(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(qa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Ay(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Pt,Pt.current),l)break;return null;case 22:return n.lanes=0,gy(t,n,r,n.pendingProps);case 24:Ks(n,Kt,t.memoizedState.cache)}return hs(t,n,r)}function Sy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Yt=!0;else{if(!$f(t,r)&&(n.flags&128)===0)return Yt=!1,FE(t,n,r);Yt=(t.flags&131072)!==0}else Yt=!1,Qe&&(n.flags&1048576)!==0&&np(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Wr(n.elementType),n.type=t,typeof t=="function")ef(t)?(l=ia(t,l),n.tag=1,n=vy(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ue){n.tag=11,n=fy(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=dy(null,n,t,l,r);break e}}throw n=be(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ia(l,n.pendingProps),vy(t,n,l,h,r);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),ho(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ks(n,Kt,l),l!==f.cache&&cf(n,[Kt],r,!0),co(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ty(t,n,l,r);break e}else if(l!==h){h=ri(Error(a(424)),n),so(h),n=Ty(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=ci(t.firstChild),on=n,Qe=!0,Gs=null,oi=!0,r=gp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xr(),l===h){n=hs(t,n,r);break e}cn(t,n,l,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=k0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qe||(r=n.type,t=n.pendingProps,l=Ac(Ae.current).createElement(r),l[Ht]=n,l[nn]=t,hn(l,r,t),Gt(l),n.stateNode=l):n.memoizedState=k0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return te(n),t===null&&Qe&&(l=n.stateNode=O0(n.type,n.pendingProps,Ae.current),on=n,oi=!0,h=vt,rr(n.type)?(Cd=h,vt=ci(l.firstChild)):vt=h),cn(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=l=vt)&&(l=Eb(l,n.type,n.pendingProps,oi),l!==null?(n.stateNode=l,on=n,vt=ci(l.firstChild),oi=!1,h=!0):h=!1),h||Fs(n)),te(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Sd(h,f)?l=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(t,n,jE,null,null,r),Oo._currentValue=h),ac(t,n),cn(t,n,l,r),n.child;case 6:return t===null&&Qe&&((t=r=vt)&&(r=bb(r,n.pendingProps,oi),r!==null?(n.stateNode=r,on=n,vt=null,t=!0):t=!1),t||Fs(n)),null;case 13:return Ey(t,n,r);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):cn(t,n,l,r),n.child;case 11:return fy(t,n,n.type,n.pendingProps,r);case 7:return cn(t,n,n.pendingProps,r),n.child;case 8:return cn(t,n,n.pendingProps.children,r),n.child;case 12:return cn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ks(n,n.type,l.value),cn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Zr(n),h=un(h),l=l(h),n.flags|=1,cn(t,n,l,r),n.child;case 14:return dy(t,n,n.type,n.pendingProps,r);case 15:return my(t,n,n.type,n.pendingProps,r);case 19:return Ay(t,n,r);case 31:return GE(t,n,r);case 22:return gy(t,n,r,n.pendingProps);case 24:return Zr(n),l=un(Kt),t===null?(h=df(),h===null&&(h=gt,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},gf(n),Ks(n,Kt,h)):((t.lanes&r)!==0&&(pf(t,n),ho(n,null,null,r),co()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ks(n,Kt,l)):(l=f.cache,Ks(n,Kt,l),l!==h.cache&&cf(n,[Kt],r,!0))),cn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Zf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw ea=Fu,mf}else t.flags&=-16777217}function wy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(n))if(Zy())t.flags|=8192;else throw ea=Fu,mf}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ba():536870912,t.lanes|=n,el|=n)}function _o(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function KE(t,n,r){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(n),null;case 1:return Tt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),os(Kt),Je(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ba(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),Tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(Tt(n),wy(n,f)):(Tt(n),Zf(n,h,null,l,r))):f?f!==t.memoizedState?(fs(n),Tt(n),wy(n,f)):(Tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&fs(n),Tt(n),Zf(n,h,t,l,r)),null;case 27:if(_e(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}t=ae.current,Ba(n)?sp(n):(t=O0(h,l,r),n.stateNode=t,fs(n))}return Tt(n),null;case 5:if(_e(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}if(f=ae.current,Ba(n))sp(n);else{var g=Ac(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ht]=n,f[nn]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(hn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fs(n)}}return Tt(n),Zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Ba(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ht]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||E0(t.nodeValue,r)),t||Fs(n,!0)}else t=Ac(t).createTextNode(l),t[Ht]=n,n.stateNode=t}return Tt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ht]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),t=!1}else r=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ba(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ht]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),Tt(n),null);case 4:return Je(),t===null&&vd(n.stateNode.containerInfo),Tt(n),null;case 10:return os(n.type),Tt(n),null;case 19:if(B(Pt),l=n.memoizedState,l===null)return Tt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)_o(l,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,_o(l,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Wg(r,t),r=r.sibling;return J(Pt,Pt.current&1|2),Qe&&as(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Vt()>dc&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),_o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return Tt(n),null}else 2*Vt()-l.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Vt(),t.sibling=null,r=Pt.current,J(Pt,h?r&1|2:r&1),Qe&&as(n,l.treeForkCount),t):(Tt(n),null);case 22:case 23:return Gn(n),Tf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Tt(n),n.subtreeFlags&6&&(n.flags|=8192)):Tt(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&B(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),os(Kt),Tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QE(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(Kt),Je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _e(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Pt),null;case 4:return Je(),null;case 10:return os(n.type),null;case 22:case 23:return Gn(n),Tf(),t!==null&&B(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(Kt),null;case 25:return null;default:return null}}function xy(t,n){switch(rf(n),n.tag){case 3:os(Kt),Je();break;case 26:case 27:case 5:_e(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:B(Pt);break;case 10:os(n.type);break;case 22:case 23:Gn(n),Tf(),t!==null&&B(Jr);break;case 24:os(Kt)}}function vo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){at(n,n.return,E)}}function Js(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,z=E;try{z()}catch(Q){at(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function Ry(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{yp(n,r)}catch(l){at(t,t.return,l)}}}function Ny(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){at(t,n,l)}}function To(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){at(t,n,h)}}function qi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){at(t,n,h)}else r.current=null}function Cy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){at(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;gb(l,t.type,r,n),l[nn]=n}catch(h){at(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=pi));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,r),t=t.sibling;t!==null;)ed(t,n,r),t=t.sibling}function uc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function Dy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,l,r),n[Ht]=t,n[nn]=r}catch(f){at(t,t.return,f)}}var ds=!1,Xt=!1,td=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,rn=null;function YE(t,n){if(t=t.containerInfo,bd=Ic,t=Gg(t),Qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,N=-1,z=0,Q=0,X=t,q=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(N=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===t)break t;if(q===r&&++z===h&&(E=g),q===f&&++Q===l&&(N=g),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:t,selectionRange:r},Ic=!1,rn=n;rn!==null;)if(n=rn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,rn=t;else for(;rn!==null;){switch(n=rn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=ia(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){at(r,r.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,rn=t;break}rn=n.return}}function My(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:gs(t,r),l&4&&vo(5,r);break;case 1:if(gs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){at(r,r.return,g)}else{var h=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(r,r.return,g)}}l&64&&Ry(r),l&512&&To(r,r.return);break;case 3:if(gs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yp(t,n)}catch(g){at(r,r.return,g)}}break;case 27:n===null&&l&4&&Dy(r);case 26:case 5:gs(t,r),n===null&&l&4&&Cy(r),l&512&&To(r,r.return);break;case 12:gs(t,r);break;case 31:gs(t,r),l&4&&jy(t,r);break;case 13:gs(t,r),l&4&&Uy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ib.bind(null,r),Ab(t,r))));break;case 22:if(l=r.memoizedState!==null||ds,!l){n=n!==null&&n.memoizedState!==null||Xt,h=ds;var f=Xt;ds=l,(Xt=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):gs(t,r),ds=h,Xt=f}break;case 30:break;default:gs(t,r)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Sa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Dn=!1;function ms(t,n,r){for(r=r.child;r!==null;)ky(t,n,r),r=r.sibling}function ky(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(xn,r)}catch{}switch(r.tag){case 26:Xt||qi(r,n),ms(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Xt||qi(r,n);var l=xt,h=Dn;rr(r.type)&&(xt=r.stateNode,Dn=!1),ms(t,n,r),Co(r.stateNode),xt=l,Dn=h;break;case 5:Xt||qi(r,n);case 6:if(l=xt,h=Dn,xt=null,ms(t,n,r),xt=l,Dn=h,xt!==null)if(Dn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(r.stateNode)}catch(f){at(r,n,f)}else try{xt.removeChild(r.stateNode)}catch(f){at(r,n,f)}break;case 18:xt!==null&&(Dn?(t=xt,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):R0(xt,r.stateNode));break;case 4:l=xt,h=Dn,xt=r.stateNode.containerInfo,Dn=!0,ms(t,n,r),xt=l,Dn=h;break;case 0:case 11:case 14:case 15:Js(2,r,n),Xt||Js(4,r,n),ms(t,n,r);break;case 1:Xt||(qi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ny(r,n,l)),ms(t,n,r);break;case 21:ms(t,n,r);break;case 22:Xt=(l=Xt)||r.memoizedState!==null,ms(t,n,r),Xt=l;break;default:ms(t,n,r)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){at(n,n.return,r)}}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){at(n,n.return,r)}}function XE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=XE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=sb.bind(null,t,l);l.then(h,h)}})}function On(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){xt=E.stateNode,Dn=!1;break e}break;case 5:xt=E.stateNode,Dn=!1;break e;case 3:case 4:xt=E.stateNode.containerInfo,Dn=!0;break e}E=E.return}if(xt===null)throw Error(a(160));ky(f,g,h),xt=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Py(n,t),n=n.sibling}var bi=null;function Py(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(n,t),Mn(t),l&4&&(Js(3,t,t.return),vo(3,t),Js(5,t,t.return));break;case 1:On(n,t),Mn(t),l&512&&(Xt||r===null||qi(r,r.return)),l&64&&ds&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=bi;if(On(n,t),Mn(t),l&512&&(Xt||r===null||qi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[Ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,l,r),f[Ht]=t,Gt(f),l=f;break e;case"link":var g=P0("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),hn(f,l,r),h.head.appendChild(f);break;case"meta":if(g=P0("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),hn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ht]=t,Gt(f),l=f}t.stateNode=l}else L0(h,t.type,t.stateNode);else t.stateNode=U0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?L0(h,t.type,t.stateNode):U0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:On(n,t),Mn(t),l&512&&(Xt||r===null||qi(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(On(n,t),Mn(t),l&512&&(Xt||r===null||qi(r,r.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(ue){at(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(On(n,t),Mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){at(t,t.return,ue)}}break;case 3:if(xc=null,h=bi,bi=Sc(n.containerInfo),On(n,t),bi=h,Mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(ue){at(t,t.return,ue)}td&&(td=!1,Ly(t));break;case 4:l=bi,bi=Sc(t.stateNode.containerInfo),On(n,t),Mn(t),bi=l;break;case 12:On(n,t),Mn(t);break;case 31:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 13:On(n,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=Vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=ds,Q=Xt;if(ds=z||h,Xt=Q||N,On(n,t),Xt=Q,ds=z,Mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||ds||Xt||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var X=N.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ue){at(N,N.return,ue)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ue){at(N,N.return,ue)}}}else if(n.tag===18){if(r===null){N=n;try{var F=N.stateNode;h?N0(F,!0):N0(N.stateNode,!1)}catch(ue){at(N,N.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,cc(t,r))));break;case 19:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 30:break;case 21:break;default:On(n,t),Mn(t)}}function Mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Iy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(t);uc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(In(g,""),r.flags&=-33);var E=Wf(t);uc(t,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,z=Wf(t);ed(t,z,N);break;default:throw Error(a(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),sa(n);break;case 1:qi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ny(n,n.return,r),sa(n);break;case 27:Co(n.stateNode);case 26:case 5:qi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),vo(4,f);break;case 1:if(ps(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)pp(N[h],E)}catch(z){at(l,l.return,z)}}r&&g&64&&Ry(f),To(f,f.return);break;case 27:Dy(f);case 26:case 5:ps(h,f,r),r&&l===null&&g&4&&Cy(f),To(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&g&4&&jy(h,f);break;case 13:ps(h,f,r),r&&g&4&&Uy(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),To(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function nd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ro(r))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t))}function Ai(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(t,n,r,l),n=n.sibling}function zy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ai(t,n,r,l),h&2048&&vo(9,n);break;case 1:Ai(t,n,r,l);break;case 3:Ai(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){Ai(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(n,n.return,N)}}else Ai(t,n,r,l);break;case 31:Ai(t,n,r,l);break;case 13:Ai(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ai(t,n,r,l):Eo(t,n):f._visibility&2?Ai(t,n,r,l):(f._visibility|=2,Za(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:Ai(t,n,r,l),h&2048&&id(n.alternate,n);break;default:Ai(t,n,r,l)}}function Za(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,N=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Za(f,g,E,N,h),vo(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Za(f,g,E,N,h):Eo(f,g):(Q._visibility|=2,Za(f,g,E,N,h)),h&&z&2048&&nd(g.alternate,g);break;case 24:Za(f,g,E,N,h),h&&z&2048&&id(g.alternate,g);break;default:Za(f,g,E,N,h)}n=n.sibling}}function Eo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Eo(r,l),h&2048&&nd(l.alternate,l);break;case 24:Eo(r,l),h&2048&&id(l.alternate,l);break;default:Eo(r,l)}n=n.sibling}}var bo=8192;function Ja(t,n,r){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)By(t,n,r),t=t.sibling}function By(t,n,r){switch(t.tag){case 26:Ja(t,n,r),t.flags&bo&&t.memoizedState!==null&&kb(r,bi,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,n,r);break;case 3:case 4:var l=bi;bi=Sc(t.stateNode.containerInfo),Ja(t,n,r),bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bo,bo=16777216,Ja(t,n,r),bo=l):Ja(t,n,r));break;default:Ja(t,n,r)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];rn=l,Gy(l,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&Js(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):Ao(t);break;default:Ao(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];rn=l,Gy(l,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Js(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Gy(t,n){for(;rn!==null;){var r=rn;switch(r.tag){case 0:case 11:case 15:Js(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,rn=l;else e:for(r=t;rn!==null;){l=rn;var h=l.sibling,f=l.return;if(Vy(l),l===r){rn=null;break e}if(h!==null){h.return=f,rn=h;break e}rn=f}}}var $E={getCacheForType:function(t){var n=un(Kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return un(Kt).controller.signal}},ZE=typeof WeakMap=="function"?WeakMap:Map,tt=0,gt=null,ze=null,qe=0,rt=0,Fn=null,Ws=!1,Wa=!1,sd=!1,ys=0,Ot=0,er=0,ra=0,rd=0,Kn=0,el=0,So=null,Vn=null,ad=!1,fc=0,Fy=0,dc=1/0,mc=null,tr=null,Wt=0,nr=null,tl=null,_s=0,ld=0,od=null,Ky=null,wo=0,ud=null;function Qn(){return(tt&2)!==0&&qe!==0?qe&-qe:H.T!==null?gd():Nn()}function Qy(){if(Kn===0)if((qe&536870912)===0||Qe){var t=Rn;Rn<<=1,(Rn&3932160)===0&&(Rn=262144),Kn=t}else Kn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Kn}function kn(t,n,r){(t===gt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),ir(t,qe,Kn,!1)),ts(t,r),((tt&2)===0||t!==gt)&&(t===gt&&((tt&2)===0&&(ra|=r),Ot===4&&ir(t,qe,Kn,!1)),Hi(t))}function Yy(t,n,r){if((tt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?eb(t,n):hd(t,n,!0),f=l;do{if(h===0){Wa&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JE(r)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=So;var N=E.current.memoizedState.isDehydrated;if(N&&(nl(E,g).flags|=256),g=hd(E,g,!1),g!==2){if(sd&&!N){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=Vn,Vn=h,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){nl(t,0),ir(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,Kn,!Ws);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-Vt(),10<h)){if(ir(l,n,Kn,!Ws),Jn(l,0,!0)!==0)break e;_s=n,l.timeoutHandle=w0(Xy.bind(null,l,r,Vn,mc,ad,n,Kn,ra,el,Ws,f,"Throttled",-0,0),h);break e}Xy(l,r,Vn,mc,ad,n,Kn,ra,el,Ws,f,null,-0,0)}}break}while(!0);Hi(t)}function Xy(t,n,r,l,h,f,g,E,N,z,Q,X,q,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},By(n,f,X);var ue=(f&62914560)===f?fc-Vt():(f&4194048)===f?Fy-Vt():0;if(ue=jb(X,ue),ue!==null){_s=f,t.cancelPendingCommit=ue(i0.bind(null,t,n,f,r,l,h,g,E,N,Q,X,null,q,F)),ir(t,f,g,!z);return}}i0(t,n,f,r,l,h,g,E,N)}function JE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Bn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~rd,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&M(t,r,n)}function gc(){return(tt&6)===0?(xo(0),!1):!0}function cd(){if(ze!==null){if(rt===0)var t=ze.return;else t=ze,ls=$r=null,xf(t),Ka=null,lo=0,t=ze;for(;t!==null;)xy(t.alternate,t),t=t.return;ze=null}}function nl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_b(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_s=0,cd(),gt=t,ze=r=rs(t.current,null),qe=n,rt=0,Fn=null,Ws=!1,Wa=Pn(t,n),sd=!1,el=Kn=rd=ra=er=Ot=0,Vn=So=null,ad=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-_t(l),f=1<<h;n|=t[h],l&=~f}return ys=n,ju(),r}function $y(t,n){Oe=null,H.H=po,n===Fa||n===Gu?(n=fp(),rt=3):n===mf?(n=fp(),rt=4):rt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Fn=n,ze===null&&(Ot=1,sc(t,ri(n,t.current)))}function Zy(){var t=Hn.current;return t===null?!0:(qe&4194048)===qe?ui===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ui:!1}function Jy(){var t=H.H;return H.H=po,t===null?po:t}function Wy(){var t=H.A;return H.A=$E,t}function pc(){Ot=4,Ws||(qe&4194048)!==qe&&Hn.current!==null||(Wa=!0),(er&134217727)===0&&(ra&134217727)===0||gt===null||ir(gt,qe,Kn,!1)}function hd(t,n,r){var l=tt;tt|=2;var h=Jy(),f=Wy();(gt!==t||qe!==n)&&(mc=null,nl(t,n)),n=!1;var g=Ot;e:do try{if(rt!==0&&ze!==null){var E=ze,N=Fn;switch(rt){case 8:cd(),g=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var z=rt;if(rt=0,Fn=null,il(t,E,N,z),r&&Wa){g=0;break e}break;default:z=rt,rt=0,Fn=null,il(t,E,N,z)}}WE(),g=Ot;break}catch(Q){$y(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ls=$r=null,tt=l,H.H=h,H.A=f,ze===null&&(gt=null,qe=0,ju()),g}function WE(){for(;ze!==null;)e0(ze)}function eb(t,n){var r=tt;tt|=2;var l=Jy(),h=Wy();gt!==t||qe!==n?(mc=null,dc=Vt()+500,nl(t,n)):Wa=Pn(t,n);e:do try{if(rt!==0&&ze!==null){n=ze;var f=Fn;t:switch(rt){case 1:rt=0,Fn=null,il(t,n,f,1);break;case 2:case 9:if(cp(f)){rt=0,Fn=null,t0(n);break}n=function(){rt!==2&&rt!==9||gt!==t||(rt=7),Hi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:cp(f)?(rt=0,Fn=null,t0(n)):(rt=0,Fn=null,il(t,n,f,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var E=ze;if(g?z0(g):E.stateNode.complete){rt=0,Fn=null;var N=E.sibling;if(N!==null)ze=N;else{var z=E.return;z!==null?(ze=z,yc(z)):ze=null}break t}}rt=0,Fn=null,il(t,n,f,5);break;case 6:rt=0,Fn=null,il(t,n,f,6);break;case 8:cd(),Ot=6;break e;default:throw Error(a(462))}}tb();break}catch(Q){$y(t,Q)}while(!0);return ls=$r=null,H.H=l,H.A=h,tt=r,ze!==null?0:(gt=null,qe=0,ju(),Ot)}function tb(){for(;ze!==null&&!es();)e0(ze)}function e0(t){var n=Sy(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?yc(t):ze=n}function t0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=_y(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=_y(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:xf(n);default:xy(r,n),n=ze=Wg(n,ys),n=Sy(r,n,ys)}t.memoizedProps=t.pendingProps,n===null?yc(t):ze=n}function il(t,n,r,l){ls=$r=null,xf(n),Ka=null,lo=0;var h=n.return;try{if(HE(t,h,n,r,qe)){Ot=1,sc(t,ri(r,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Ot=1,sc(t,ri(r,t.current)),ze=null;return}n.flags&32768?(Qe||l===1?t=!0:Wa||(qe&536870912)!==0?t=!1:(Ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){n0(n,Ws);return}t=n.return;var r=KE(n.alternate,n,ys);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Ot===0&&(Ot=5)}function n0(t,n){do{var r=QE(t.alternate,t);if(r!==null){r.flags&=32767,ze=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=r}while(t!==null);Ot=6,ze=null}function i0(t,n,r,l,h,f,g,E,N){t.cancelPendingCommit=null;do _c();while(Wt!==0);if((tt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Ul(t,r,f,g,E,N),t===gt&&(ze=gt=null,qe=0),tl=n,nr=t,_s=r,ld=f,od=h,Ky=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rb($n,function(){return o0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ie.p,ie.p=2,g=tt,tt|=4;try{YE(t,n,r)}finally{tt=g,ie.p=h,H.T=l}}Wt=1,s0(),r0(),a0()}}function s0(){if(Wt===1){Wt=0;var t=nr,n=tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{Py(n,t);var f=Ad,g=Gg(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hg(E.ownerDocument.documentElement,E)){if(N!==null&&Qh(E)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),ue=E.textContent.length,Te=Math.min(N.start,ue),ht=N.end===void 0?Te:Math.min(N.end,ue);!F.extend&&Te>ht&&(g=ht,ht=Te,Te=g);var U=qg(E,Te),O=qg(E,ht);if(U&&O&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var L=X.createRange();L.setStart(U.node,U.offset),F.removeAllRanges(),Te>ht?(F.addRange(L),F.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),F.addRange(L))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ic=!!bd,Ad=bd=null}finally{tt=h,ie.p=l,H.T=r}}t.current=n,Wt=2}}function r0(){if(Wt===2){Wt=0;var t=nr,n=tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{My(t,n.alternate,n)}finally{tt=h,ie.p=l,H.T=r}}Wt=3}}function a0(){if(Wt===4||Wt===3){Wt=0,Os();var t=nr,n=tl,r=_s,l=Ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Wt=5:(Wt=0,tl=nr=null,l0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(tr=null),Rt(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ie.p=h}}(_s&3)!==0&&_c(),Hi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ud?wo++:(wo=0,ud=t):wo=0,xo(0)}}function l0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ro(n)))}function _c(){return s0(),r0(),a0(),o0()}function o0(){if(Wt!==5)return!1;var t=nr,n=ld;ld=0;var r=Rt(_s),l=H.T,h=ie.p;try{ie.p=32>r?32:r,H.T=null,r=od,od=null;var f=nr,g=_s;if(Wt=0,tl=nr=null,_s=0,(tt&6)!==0)throw Error(a(331));var E=tt;if(tt|=4,Hy(f.current),zy(f,f.current,g,r),tt=E,xo(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{ie.p=h,H.T=l,l0(t,n)}}function u0(t,n,r){n=ri(r,n),n=Bf(t.stateNode,n,2),t=Xs(t,n,2),t!==null&&(ts(t,2),Hi(t))}function at(t,n,r){if(t.tag===3)u0(t,t,r);else for(;n!==null;){if(n.tag===3){u0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=ri(r,t),r=cy(2),l=Xs(n,r,2),l!==null&&(hy(r,l,n,t),ts(l,2),Hi(l));break}}n=n.return}}function fd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ZE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(sd=!0,h.add(r),t=nb.bind(null,t,n,r),n.then(t,t))}function nb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(qe&r)===r&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>Vt()-fc?(tt&2)===0&&nl(t,0):rd|=r,el===qe&&(el=0)),Hi(t)}function c0(t,n){n===0&&(n=ba()),t=Qr(t,n),t!==null&&(ts(t,n),Hi(t))}function ib(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),c0(t,r)}function sb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),c0(t,r)}function rb(t,n){return dt(t,n)}var vc=null,sl=null,dd=!1,Tc=!1,md=!1,sr=0;function Hi(t){t!==sl&&t.next===null&&(sl===null?vc=sl=t:sl=sl.next=t),Tc=!0,dd||(dd=!0,lb())}function xo(t,n){if(!md&&Tc){md=!0;do for(var r=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,m0(l,f))}else f=qe,f=Jn(l,l===gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(r=!0,m0(l,f));l=l.next}while(r);md=!1}}function ab(){h0()}function h0(){Tc=dd=!1;var t=0;sr!==0&&yb()&&(t=sr);for(var n=Vt(),r=null,l=vc;l!==null;){var h=l.next,f=f0(l,n);f===0?(l.next=null,r===null?vc=h:r.next=h,h===null&&(sl=r)):(r=l,(t!==0||(f&3)!==0)&&(Tc=!0)),l=h}Wt!==0&&Wt!==5||xo(t),sr!==0&&(sr=0)}function f0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&l)!==0)&&(h[g]=jl(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=gt,r=qe,r=Jn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mt(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&mt(l),Rt(r)){case 2:case 8:r=Dr;break;case 32:r=$n;break;case 268435456:r=Or;break;default:r=$n}return l=d0.bind(null,t),r=dt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&mt(l),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,n){if(Wt!==0&&Wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var l=qe;return l=Jn(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,n),f0(t,Vt()),t.callbackNode!=null&&t.callbackNode===r?d0.bind(null,t):null)}function m0(t,n){if(_c())return null;Yy(t,n,!0)}function lb(){vb(function(){(tt&6)!==0?dt(Ms,ab):h0()})}function gd(){if(sr===0){var t=Ha;t===0&&(t=An,An<<=1,(An&261888)===0&&(An=256)),sr=t}return sr}function g0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function p0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ob(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=g0((h[nn]||null).action),g=l.submitter;g&&(n=(n=g[nn]||null)?g0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ji("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var N=g?p0(h,g):new FormData(h);kf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?p0(h,g):new FormData(h),kf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var pd=0;pd<Zh.length;pd++){var yd=Zh[pd],ub=yd.toLowerCase(),cb=yd[0].toUpperCase()+yd.slice(1);Ei(ub,"on"+cb)}Ei(Qg,"onAnimationEnd"),Ei(Yg,"onAnimationIteration"),Ei(Xg,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(xE,"onTransitionRun"),Ei(RE,"onTransitionStart"),Ei(NE,"onTransitionCancel"),Ei($g,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function y0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=N}}}}function Be(t,n){var r=n[Aa];r===void 0&&(r=n[Aa]=new Set);var l=t+"__bubble";r.has(l)||(_0(n,t,2,!1),r.add(l))}function _d(t,n,r){var l=0;n&&(l|=4),_0(r,t,l,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[Ec]){t[Ec]=!0,Pl.forEach(function(r){r!=="selectionchange"&&(hb.has(r)||_d(r,!1,t),_d(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,_d("selectionchange",!1,n))}}function _0(t,n,r,l){switch(Q0(n)){case 2:var h=Lb;break;case 8:h=zb;break;default:h=Vd}r=h.bind(null,n,r,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Td(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ci(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ls(function(){var z=f,Q=ti(r),X=[];e:{var q=Zg.get(t);if(q!==void 0){var F=ji,ue=t;switch(t){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":F=Ou;break;case"focusin":ue="focus",F=Hr;break;case"focusout":ue="blur",F=Hr;break;case"beforeblur":case"afterblur":F=Hr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Qg:case Yg:case Xg:F=wu;break;case $g:F=b;break;case"scroll":case"scrollend":F=$l;break;case"wheel":F=G;break;case"copy":case"cut":case"paste":F=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ss;break;case"toggle":case"beforetoggle":F=De}var Te=(n&4)!==0,ht=!Te&&(t==="scroll"||t==="scrollend"),U=Te?q!==null?q+"Capture":null:q;Te=[];for(var O=z,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=yi(O,U),Y!=null&&Te.push(No(O,Y,L))),ht)break;O=O.return}0<Te.length&&(q=new F(q,ue,null,r,Q),X.push({event:q,listeners:Te}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&r!==Ql&&(ue=r.relatedTarget||r.fromElement)&&(Ci(ue)||ue[Ri]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ue=r.relatedTarget||r.toElement,F=z,ue=ue?Ci(ue):null,ue!==null&&(ht=c(ue),Te=ue.tag,ue!==ht||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(F=null,ue=z),F!==ue)){if(Te=Zl,Y="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ss,Y="onPointerLeave",U="onPointerEnter",O="pointer"),ht=F==null?q:Ln(F),L=ue==null?q:Ln(ue),q=new Te(Y,O+"leave",F,r,Q),q.target=ht,q.relatedTarget=L,Y=null,Ci(Q)===z&&(Te=new Te(U,O+"enter",ue,r,Q),Te.target=L,Te.relatedTarget=ht,Y=Te),ht=Y,F&&ue)t:{for(Te=fb,U=F,O=ue,L=0,Y=U;Y;Y=Te(Y))L++;Y=0;for(var pe=O;pe;pe=Te(pe))Y++;for(;0<L-Y;)U=Te(U),L--;for(;0<Y-L;)O=Te(O),Y--;for(;L--;){if(U===O||O!==null&&U===O.alternate){Te=U;break t}U=Te(U),O=Te(O)}Te=null}else Te=null;F!==null&&v0(X,q,F,Te,!1),ue!==null&&ht!==null&&v0(X,ht,ue,Te,!0)}}e:{if(q=z?Ln(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var $e=jg;else if(Vg(q))if(Ug)$e=AE;else{$e=EE;var ce=TE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ra(z.elementType)&&($e=jg):$e=bE;if($e&&($e=$e(t,z))){kg(X,$e,r,Q);break e}ce&&ce(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Gl(q,"number",q.value)}switch(ce=z?Ln(z):window,t){case"focusin":(Vg(ce)||ce.contentEditable==="true")&&(ka=ce,Yh=z,no=null);break;case"focusout":no=Yh=ka=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Fg(X,r,Q);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Fg(X,r,Q)}var je;if(et)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Va?Gr(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Li&&r.locale!=="ko"&&(Va||He!=="onCompositionStart"?He==="onCompositionEnd"&&Va&&(je=Xl()):(ki=Q,Yl="value"in ki?ki.value:ki.textContent,Va=!0)),ce=bc(z,He),0<ce.length&&(He=new Pi(He,t,null,r,Q),X.push({event:He,listeners:ce}),je?He.data=je:(je=Ma(r),je!==null&&(He.data=je)))),(je=ii?pE(t,r):yE(t,r))&&(He=bc(z,"onBeforeInput"),0<He.length&&(ce=new Pi("onBeforeInput","beforeinput",null,r,Q),X.push({event:ce,listeners:He}),ce.data=je)),ob(X,t,z,r,Q)}y0(X,n)})}function No(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=yi(t,r),h!=null&&l.unshift(No(t,h,f)),h=yi(t,n),h!=null&&l.push(No(t,h,f))),t.tag===3)return l;t=t.return}return[]}function fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=yi(r,f),z!=null&&g.unshift(No(r,z,N))):h||(z=yi(r,f),z!=null&&g.push(No(r,z,N)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(mb,"")}function E0(t,n){return n=T0(n),T0(t)===n}function ct(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":Kl(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Na(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Na(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=pi);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bu.get(r)||r,wa(t,r,l))}}function Ed(t,n,r,l,h,f){switch(r){case"style":Kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[nn]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):wa(t,r,l)}}}function hn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,f,g,r,null)}}h&&ct(t,n,"srcSet",r.srcSet,r,null),l&&ct(t,n,"src",r.src,r,null);return;case"input":Be("invalid",t);var E=f=g=h=null,N=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ct(t,n,l,Q,r,null)}}vu(t,f,E,N,z,g,h,!1);return;case"select":Be("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ct(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?ks(t,!!l,n,!1):r!=null&&ks(t,!!l,r,!0);return;case"textarea":Be("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ct(t,n,g,E,r,null)}js(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,n,N,l,r,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Ro.length;l++)Be(Ro[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,z,l,r,null)}return;default:if(Ra(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Ed(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ct(t,n,E,l,r,null))}function gb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,Q=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=X;default:l.hasOwnProperty(F)||ct(t,n,F,null,l,X)}}for(var q in l){var F=l[q];if(X=r[q],l.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&ct(t,n,q,F,l,X)}}xa(t,g,E,N,z,Q,f,h);return;case"select":F=g=E=q=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||ct(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&ct(t,n,h,f,l,N)}n=E,r=g,l=F,q!=null?ks(t,!!r,q,!1):!!l!=!!r&&(n!=null?ks(t,!!r,n,!0):ks(t,!!r,r?[]:"",!1));return;case"textarea":F=q=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,n,g,h,l,f)}Tu(t,q,F);return;case"option":for(var ue in r)if(q=r[ue],r.hasOwnProperty(ue)&&q!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ct(t,n,ue,null,l,q)}for(N in l)if(q=l[N],F=r[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(t,n,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)q=r[Te],r.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&ct(t,n,Te,null,l,q);for(z in l)if(q=l[z],F=r[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:ct(t,n,z,q,l,F)}return;default:if(Ra(n)){for(var ht in r)q=r[ht],r.hasOwnProperty(ht)&&q!==void 0&&!l.hasOwnProperty(ht)&&Ed(t,n,ht,void 0,l,q);for(Q in l)q=l[Q],F=r[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Ed(t,n,Q,q,l,F);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&ct(t,n,U,null,l,q);for(X in l)q=l[X],F=r[X],!l.hasOwnProperty(X)||q===F||q==null&&F==null||ct(t,n,X,q,l,F)}function b0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&b0(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],z=N.startTime;if(z>E)break;var Q=N.transferSize,X=N.initiatorType;Q&&b0(X)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ad=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function A0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function yb(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(Tb)}:w0;function Tb(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function R0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),ol(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Co(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Co(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Co(t.ownerDocument.body);r=h}while(r);ol(n)}function N0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),Sa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Eb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function bb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ci(t.nextSibling),t===null))return null;return t}function C0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ci(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ab(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function I0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ci(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function O0(t,n,r){switch(n=Ac(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Sa(t)}var hi=new Map,M0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=ie.d;ie.d={f:Sb,r:wb,D:xb,C:Rb,L:Nb,m:Cb,X:Db,S:Ib,M:Ob};function Sb(){var t=vs.f(),n=gc();return t||n}function wb(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?$p(n):vs.r(t)}var rl=typeof document>"u"?null:document;function V0(t,n,r){var l=rl;if(l&&typeof n=="string"&&n){var h=Cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),hn(n,"link",t),Gt(n),l.head.appendChild(n)))}}function xb(t){vs.D(t),V0("dns-prefetch",t,null)}function Rb(t,n){vs.C(t,n),V0("preconnect",t,n)}function Nb(t,n,r){vs.L(t,n,r);var l=rl;if(l&&t&&n){var h='link[rel="preload"][as="'+Cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Cn(r.imageSizes)+'"]')):h+='[href="'+Cn(t)+'"]';var f=h;switch(n){case"style":f=al(t);break;case"script":f=ll(t)}hi.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),hi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Io(f))||n==="script"&&l.querySelector(Do(f))||(n=l.createElement("link"),hn(n,"link",t),Gt(n),l.head.appendChild(n)))}}function Cb(t,n){vs.m(t,n);var r=rl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ll(t)}if(!hi.has(f)&&(t=w({rel:"modulepreload",href:t},n),hi.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Do(f)))return}l=r.createElement("link"),hn(l,"link",t),Gt(l),r.head.appendChild(l)}}}function Ib(t,n,r){vs.S(t,n,r);var l=rl;if(l&&t){var h=Ii(l).hoistableStyles,f=al(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Io(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=hi.get(f))&&Id(t,r);var N=g=l.createElement("link");Gt(N),hn(N,"link",t),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Db(t,n){vs.X(t,n);var r=rl;if(r&&t){var l=Ii(r).hoistableScripts,h=ll(t),f=l.get(h);f||(f=r.querySelector(Do(h)),f||(t=w({src:t,async:!0},n),(n=hi.get(h))&&Dd(t,n),f=r.createElement("script"),Gt(f),hn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ob(t,n){vs.M(t,n);var r=rl;if(r&&t){var l=Ii(r).hoistableScripts,h=ll(t),f=l.get(h);f||(f=r.querySelector(Do(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&Dd(t,n),f=r.createElement("script"),Gt(f),hn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function k0(t,n,r,l){var h=(h=Ae.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=al(r.href),r=Ii(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=al(r.href);var f=Ii(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Io(t)))&&!f._p&&(g.instance=f,g.state.loading=5),hi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},hi.set(t,r),f||Mb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ll(r),r=Ii(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function al(t){return'href="'+Cn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function j0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Mb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),hn(n,"link",r),Gt(n),t.head.appendChild(n))}function ll(t){return'[src="'+Cn(t)+'"]'}function Do(t){return"script[async]"+t}function U0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(r.href)+'"]');if(l)return n.instance=l,Gt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Gt(l),hn(l,"style",h),wc(l,r.precedence,t),n.instance=l;case"stylesheet":h=al(r.href);var f=t.querySelector(Io(h));if(f)return n.state.loading|=4,n.instance=f,Gt(f),f;l=j0(r),(h=hi.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Gt(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),hn(f,"link",l),n.state.loading|=4,wc(f,r.precedence,t),n.instance=f;case"script":return f=ll(r.src),(h=t.querySelector(Do(f)))?(n.instance=h,Gt(h),h):(l=r,(h=hi.get(f))&&(l=w({},r),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Gt(h),hn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wc(l,r.precedence,t));return n.instance}function wc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function P0(t,n,r){if(xc===null){var l=new Map,h=xc=new Map;h.set(r,l)}else h=xc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ni]||f[Ht]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function L0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Vb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=al(l.href),f=n.querySelector(Io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Gt(f);return}f=n.ownerDocument||n,l=j0(l),(h=hi.get(h))&&Id(l,h),f=f.createElement("link"),Gt(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),hn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Od=0;function jb(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*pb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,n.forEach(Ub,t),Nc=null,Rc.call(t))}function Ub(t,n){if(!(n.state.loading&4)){var r=Nc.get(t);if(r)var l=r.get(null);else{r=new Map,Nc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Oo={$$typeof:me,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Pb(t,n,r,l,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function B0(t,n,r,l,h,f,g,E,N,z,Q,X){return t=new Pb(t,n,r,g,N,z,Q,X,E),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},gf(f),t}function q0(t){return t?(t=Pa,t):Pa}function H0(t,n,r,l,h,f){h=q0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ys(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xs(t,l,n),r!==null&&(kn(r,t,n),uo(r,t,n))}function G0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){G0(t,n),(t=t.alternate)&&G0(t,n)}function F0(t){if(t.tag===13||t.tag===31){var n=Qr(t,67108864);n!==null&&kn(n,t,67108864),Md(t,67108864)}}function K0(t){if(t.tag===13||t.tag===31){var n=Qn();n=jt(n);var r=Qr(t,n);r!==null&&kn(r,t,n),Md(t,n)}}var Ic=!0;function Lb(t,n,r,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=2,Vd(t,n,r,l)}finally{ie.p=f,H.T=h}}function zb(t,n,r,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=8,Vd(t,n,r,l)}finally{ie.p=f,H.T=h}}function Vd(t,n,r,l){if(Ic){var h=kd(l);if(h===null)Td(t,n,l,Dc,r),Y0(t,l);else if(qb(h,t,n,r,l))l.stopPropagation();else if(Y0(t,l),n&4&&-1<Bb.indexOf(t)){for(;h!==null;){var f=ei(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-_t(g);E.entanglements[1]|=N,g&=~N}Hi(f),(tt&6)===0&&(dc=Vt()+500,xo(0))}}break;case 31:case 13:E=Qr(f,2),E!==null&&kn(E,f,2),gc(),Md(f,2)}if(f=kd(l),f===null&&Td(t,n,l,Dc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Td(t,n,l,null,r)}}function kd(t){return t=ti(t),jd(t)}var Dc=null;function jd(t){if(Dc=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Ms:return 2;case Dr:return 8;case $n:case Ta:return 32;case Or:return 268435456;default:return 32}default:return 32}}var Ud=!1,ar=null,lr=null,or=null,Mo=new Map,Vo=new Map,ur=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function ko(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ei(n),n!==null&&F0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function qb(t,n,r,l,h){switch(n){case"focusin":return ar=ko(ar,t,n,r,l,h),!0;case"dragenter":return lr=ko(lr,t,n,r,l,h),!0;case"mouseover":return or=ko(or,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Mo.set(f,ko(Mo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,n,r,l,h)),!0}return!1}function X0(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,qt(t.priority,function(){K0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,qt(t.priority,function(){K0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ql=l,r.target.dispatchEvent(l),Ql=null}else return n=ei(r),n!==null&&F0(n),t.blockedOn=r,!1;n.shift()}return!0}function $0(t,n,r){Oc(t)&&r.delete(n)}function Hb(){Ud=!1,ar!==null&&Oc(ar)&&(ar=null),lr!==null&&Oc(lr)&&(lr=null),or!==null&&Oc(or)&&(or=null),Mo.forEach($0),Vo.forEach($0)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hb)))}var Vc=null;function Z0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jd(l||r)===null)continue;break}var f=ei(r);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ol(t){function n(N){return Mc(N,t)}ar!==null&&Mc(ar,t),lr!==null&&Mc(lr,t),or!==null&&Mc(or,t),Mo.forEach(n),Vo.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)X0(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[nn]||null;if(typeof f=="function")g||Z0(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[nn]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Z0(r)}}}function J0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}kc.prototype.render=Pd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Qn();H0(r,l,t,n,null,null)},kc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;H0(t.current,2,null,t,null,null),gc(),n[Ri]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Nn();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&X0(t)}};var W0=e.version;if(W0!=="19.2.0")throw Error(a(527,W0,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Gb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{xn=jc.inject(Gb),kt=jc}catch{}}return Uo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ay,f=ly,g=oy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=B0(t,1,!1,null,null,r,l,null,h,f,g,J0),t[Ri]=n.current,vd(t),new Pd(n)},Uo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ay,g=ly,E=oy,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=B0(t,1,!0,n,r??null,l,h,N,f,g,E,J0),n.context=q0(null),r=n.current,l=Qn(),l=jt(l),h=Ys(l),h.callback=null,Xs(r,h,l),r=l,n.current.lanes=r,ts(n,r),Hi(n),t[Ri]=n.current,vd(t),new kc(n)},Uo.version="19.2.0",Uo}var u_;function eA(){if(u_)return Bd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=Wb(),Bd.exports}var tA=eA();const nA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),c_=s=>{const e=iA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Gv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),sA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aA=fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>fe.createElement("svg",{ref:_,...rA,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Gv("lucide",o),...!c&&!sA(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,A])=>fe.createElement(v,A)),...Array.isArray(c)?c:[c]]));const it=(s,e)=>{const i=fe.forwardRef(({className:a,...o},c)=>fe.createElement(aA,{ref:c,iconNode:e,className:Gv(`lucide-${nA(c_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=c_(s),i};const lA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oA=it("award",lA);const uA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],cA=it("calendar-days",uA);const hA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fA=it("check",hA);const dA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eh=it("chevron-right",dA);const mA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fv=it("chevron-left",mA);const gA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h_=it("circle-check-big",gA);const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],f_=it("circle-pause",pA);const yA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_A=it("circle-play",yA);const vA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],TA=it("clipboard-list",vA);const EA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],th=it("clock",EA);const bA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],AA=it("history",bA);const SA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],wA=it("key-round",SA);const xA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],RA=it("lock",xA);const NA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kv=it("log-out",NA);const CA=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],IA=it("octagon-alert",CA);const DA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],om=it("pen",DA);const OA=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],MA=it("piggy-bank",OA);const VA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fd=it("plus",VA);const kA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],um=it("rotate-ccw",kA);const jA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UA=it("settings",jA);const PA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qv=it("shield-check",PA);const LA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cm=it("star",LA);const zA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kd=it("target",zA);const BA=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],qA=it("thumbs-down",BA);const HA=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],GA=it("thumbs-up",HA);const FA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qd=it("trash-2",FA);const KA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QA=it("user-plus",KA);const YA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hm=it("users",YA);const XA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],d_=it("wallet",XA);const $A=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ah=it("x",$A),ZA=()=>{};var m_={};const Yv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let V=(p&15)<<2|v>>6,K=v&63;_||(K=64,d||(V=64)),a.push(i[A],i[w],i[V],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Yv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||w==null)throw new WA;const V=c<<2|p>>4;if(a.push(V),v!==64){const K=p<<4&240|v>>2;if(a.push(K),w!==64){const W=v<<6&192|w;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(s){const e=Yv(s);return Xv.encodeByteArray(e,!0)},nh=function(s){return eS(s).replace(/\./g,"")},$v=function(s){try{return Xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof m_>"u")return;const s=m_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$v(s[1]);return e&&JSON.parse(e)},Sh=()=>{try{return ZA()||nS()||iS()||sS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Zv=s=>Sh()?.emulatorHosts?.[s],rS=s=>{const e=Zv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Jv=()=>Sh()?.config,Wv=s=>Sh()?.[`_${s}`];class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e1(s){return(await fetch(s,{credentials:"include"})).ok}function lS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const qo={};function oS(){const s={prod:[],emulator:[]};for(const e of Object.keys(qo))qo[e]?s.emulator.push(e):s.prod.push(e);return s}function uS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let g_=!1;function t1(s,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||qo[s]===e||qo[s]||g_)return;qo[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=oS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{g_=!0,d()},V}function A(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=uS(a),K=i("text"),W=document.getElementById(K)||document.createElement("span"),se=i("learnmore"),ne=document.getElementById(se)||document.createElement("a"),de=i("preprendIcon"),ge=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const me=V.element;p(me),A(ne,se);const Ue=v();_(ge,de),me.append(ge,W,ne,Ue),document.body.appendChild(me)}c?(W.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function hS(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const vS="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vS,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?TS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,p,a)}}function TS(s,e){return s.replace(ES,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ES=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ha(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(p_(c)&&p_(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function p_(s){return s!==null&&typeof s=="object"}function su(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function AS(s,e){const i=new SS(s,e);return i.subscribe.bind(i)}class SS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function gn(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class xS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new aS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(s){return s===la?void 0:s}function NS(s){return s.instantiationMode==="EAGER"}class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const IS={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},DS=Ge.INFO,OS={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},MS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=OS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const VS=(s,e)=>e.some(i=>s instanceof i);let y_,__;function kS(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,fm=new WeakMap,i1=new WeakMap,Xd=new WeakMap,zm=new WeakMap;function US(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n1.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function PS(s){if(fm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,e)}let dm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function LS(s){dm=s(dm)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($d(this),e,...i);return i1.set(a,e.sort?e.sort():[e]),yr(a)}:jS().includes(s)?function(...e){return s.apply($d(this),e),yr(n1.get(this))}:function(...e){return yr(s.apply($d(this),e))}}function BS(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&PS(s),VS(s,kS())?new Proxy(s,dm):s)}function yr(s){if(s instanceof IDBRequest)return US(s);if(Xd.has(s))return Xd.get(s);const e=BS(s);return e!==s&&(Xd.set(s,e),zm.set(e,s)),e}const $d=s=>zm.get(s);function qS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=yr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(yr(d.result),_.oldVersion,_.newVersion,yr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const HS=["get","getKey","getAll","getAllKeys","count"],GS=["put","add","delete","clear"],Zd=new Map;function v_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=GS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||HS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Zd.set(e,c),c}LS(s=>({...s,get:(e,i,a)=>v_(e,i)||s.get(e,i,a),has:(e,i)=>!!v_(e,i)||s.has(e,i)}));class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KS(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",T_="0.14.6";const ws=new Lm("@firebase/app"),QS="@firebase/app-compat",YS="@firebase/analytics-compat",XS="@firebase/analytics",$S="@firebase/app-check-compat",ZS="@firebase/app-check",JS="@firebase/auth",WS="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",aw="@firebase/installations-compat",lw="@firebase/messaging",ow="@firebase/messaging-compat",uw="@firebase/performance",cw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",dw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",pw="@firebase/ai",yw="@firebase/firestore-compat",_w="firebase",vw="12.6.0";const gm="[DEFAULT]",Tw={[mm]:"fire-core",[QS]:"fire-core-compat",[XS]:"fire-analytics",[YS]:"fire-analytics-compat",[ZS]:"fire-app-check",[$S]:"fire-app-check-compat",[JS]:"fire-auth",[WS]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[aw]:"fire-iid-compat",[lw]:"fire-fcm",[ow]:"fire-fcm-compat",[uw]:"fire-perf",[cw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[dw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[yw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};const ih=new Map,Ew=new Map,pm=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Tl(s){const e=s.name;if(pm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of ih.values())E_(i,s);for(const i of Ew.values())E_(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fi(s){return s==null?!1:s.settings!==void 0}const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new iu("app","Firebase",bw);class Aw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Cl=vw;function s1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:gm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=Jv()),!i)throw _r.create("no-options");const c=ih.get(o);if(c){if(ha(i,c.options)&&ha(a,c.config))return c;throw _r.create("duplicate-app",{appName:o})}const d=new CS(o);for(const _ of pm.values())d.addComponent(_);const p=new Aw(i,a,d);return ih.set(o,p),p}function r1(s=gm){const e=ih.get(s);if(!e&&s===gm&&Jv())return s1();if(!e)throw _r.create("no-app",{appName:s});return e}function vr(s,e,i){let a=Tw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}Tl(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Sw="firebase-heartbeat-database",ww=1,Yo="firebase-heartbeat-store";let Jd=null;function a1(){return Jd||(Jd=qS(Sw,ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yo)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function xw(s){try{const i=(await a1()).transaction(Yo),a=await i.objectStore(Yo).get(l1(s));return await i.done,a}catch(e){if(e instanceof Ds)ws.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});ws.warn(i.message)}}}async function b_(s,e){try{const a=(await a1()).transaction(Yo,"readwrite");await a.objectStore(Yo).put(e,l1(s)),await a.done}catch(i){if(i instanceof Ds)ws.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i?.message});ws.warn(a.message)}}}function l1(s){return`${s.name}!${s.options.appId}`}const Rw=1024,Nw=30;class Cw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Dw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nw){const o=Ow(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:i,unsentEntries:a}=Iw(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ws.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function Iw(s,e=Rw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),S_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),S_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function S_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Ow(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function Mw(s){Tl(new fa("platform-logger",e=>new FS(e),"PRIVATE")),Tl(new fa("heartbeat",e=>new Cw(e),"PRIVATE")),vr(mm,T_,s),vr(mm,T_,"esm2020"),vr("fire-js","")}Mw("");var Vw="firebase",kw="12.6.0";vr(Vw,kw,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jw=o1,u1=new iu("auth","Firebase",o1());const sh=new Lm("@firebase/auth");function Uw(s,...e){sh.logLevel<=Ge.WARN&&sh.warn(`Auth (${Cl}): ${s}`,...e)}function Gc(s,...e){sh.logLevel<=Ge.ERROR&&sh.error(`Auth (${Cl}): ${s}`,...e)}function xs(s,...e){throw qm(s,...e)}function Ki(s,...e){return qm(s,...e)}function c1(s,e,i){const a={...jw(),[e]:i};return new iu("auth","Firebase",a).create(e,{appName:s.name})}function Ss(s){return c1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return u1.create(s,...e)}function we(s,e,...i){if(!s)throw qm(e,...i)}function bs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function Rs(s,e){s||bs(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function Pw(){return w_()==="http:"||w_()==="https:"}function w_(){return typeof self<"u"&&self.location?.protocol||null}function Lw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pw()||dS()||"connection"in navigator)?navigator.onLine:!0}function zw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return Lw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class h1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hw=new ru(3e4,6e4);function au(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Il(s,e,i,a,o={}){return f1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=su({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return fS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(v.credentials="include"),h1.fetch()(await d1(s,s.config.apiHost,i,p),v)})}async function f1(s,e,i){s._canInitEmulator=!1;const a={...Bw,...e};try{const o=new Gw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw c1(s,A,v);xs(s,A)}}catch(o){if(o instanceof Ds)throw o;xs(s,"network-request-failed",{message:String(o)})}}async function Gm(s,e,i,a,o={}){const c=await Il(s,e,i,a,o);return"mfaPendingCredential"in c&&xs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function d1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return qw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Gw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ki(this.auth,"network-request-failed")),Hw.get())})}}function Uc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ki(s,e,a);return o.customData._tokenResponse=i,o}async function Fw(s,e){return Il(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return Il(s,"POST","/v1/accounts:lookup",e)}function Ho(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kw(s,e=!1){const i=gn(s),a=await i.getIdToken(e),o=Fm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ho(Wd(o.auth_time)),issuedAtTime:Ho(Wd(o.iat)),expirationTime:Ho(Wd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function Fm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$v(i);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function x_(s){const e=Fm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&Qw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Qw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Yw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),a=await Xo(s,rh(e,{idToken:i}));we(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?m1(o.providerUserInfo):[],d=$w(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function Xw(s){const e=gn(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $w(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function m1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Zw(s,e){const i=await f1(s,{},async()=>{const a=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await d1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(_.credentials="include"),h1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jw(s,e){return Il(s,"POST","/v2/accounts:revokeToken",au(s,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=x_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Zw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new gl;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return bs("not implemented")}}function hr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Kw(this,e)}reload(){return Xw(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Xo(this,Fw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:K,providerData:W,stsTokenManager:se}=i;we(w&&se,e,"internal-error");const ne=gl.fromJSON(this.name,se);we(typeof w=="string",e,"internal-error"),hr(a,e.name),hr(o,e.name),we(typeof V=="boolean",e,"internal-error"),we(typeof K=="boolean",e,"internal-error"),hr(c,e.name),hr(d,e.name),hr(p,e.name),hr(_,e.name),hr(v,e.name),hr(A,e.name);const de=new Si({uid:w,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ne,createdAt:v,lastLoginAt:A});return W&&Array.isArray(W)&&(de.providerData=W.map(ge=>({...ge}))),_&&(de._redirectEventId=_),de}static async _fromIdTokenResponse(e,i,a=!1){const o=new gl;o.updateFromServerResponse(i);const c=new Si({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?m1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new gl;p.updateFromIdToken(a);const _=new Si({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const R_=new Map;function As(s){Rs(s instanceof Function,"Expected a class definition");let e=R_.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,R_.set(s,e),e)}class g1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}g1.type="NONE";const N_=g1;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class pl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Fc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?Si._fromGetAccountInfoResponse(this.auth,i,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new pl(As(N_),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||As(N_);const d=Fc(a,e.config.apiKey,e.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let w;if(typeof A=="string"){const V=await rh(e,{idToken:A}).catch(()=>{});if(!V)break;w=await Si._fromGetAccountInfoResponse(e,V,A)}else w=Si._fromJSON(e,A);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new pl(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new pl(c,e,a))}}function C_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E1(e))return"Blackberry";if(b1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||_1(e))&&!e.includes("edge/"))return"Chrome";if(T1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function p1(s=En()){return/firefox\//i.test(s)}function y1(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _1(s=En()){return/crios\//i.test(s)}function v1(s=En()){return/iemobile/i.test(s)}function T1(s=En()){return/android/i.test(s)}function E1(s=En()){return/blackberry/i.test(s)}function b1(s=En()){return/webos/i.test(s)}function Km(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ww(s=En()){return Km(s)&&!!window.navigator?.standalone}function e2(){return gS()&&document.documentMode===10}function A1(s=En()){return Km(s)||T1(s)||b1(s)||E1(s)||/windows phone/i.test(s)||v1(s)}function S1(s,e=[]){let i;switch(s){case"Browser":i=C_(En());break;case"Worker":i=`${C_(En())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cl}/${a}`}class t2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function n2(s,e={}){return Il(s,"GET","/v2/passwordPolicy",au(s,e))}const i2=6;class s2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??i2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class r2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new t2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),a=await Si._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Ss(this));const i=e?gn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n2(this),i=new s2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Jw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Uw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function lu(s){return gn(s)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(s){Qm=s}function l2(s){return Qm.loadJS(s)}function o2(){return Qm.gapiScript}function u2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function c2(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ha(c,e??{}))return o;xs(o,"already-initialized")}return i.initialize({options:e})}function h2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function f2(s,e,i){const a=lu(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=w1(e),{host:d,port:p}=d2(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ha(v,a.config.emulator)&&ha(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Nl(d)?(e1(`${c}//${d}${_}`),t1("Auth",!0)):m2()}function w1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function d2(s){const e=w1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:D_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:D_(d)}}}function D_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function m2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class x1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,i){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function yl(s,e){return Gm(s,"POST","/v1/accounts:signInWithIdp",au(s,e))}const g2="http://localhost";class da extends x1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new da(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return yl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,yl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,yl(e,i)}buildRequest(){const e={requestUri:g2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=su(i)}return e}}class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ou extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends ou{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends ou{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class gr extends ou{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function p2(s,e){return Gm(s,"POST","/v1/accounts:signUp",au(s,e))}class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Si._fromIdTokenResponse(e,a,o),d=O_(a);return new Ns({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=O_(a);return new Ns({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function O_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function y2(s){if(fi(s.app))return Promise.reject(Ss(s));const e=lu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ns({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await p2(e,{returnSecureToken:!0}),a=await Ns._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class lh extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new lh(e,i,a,o)}}function N1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,e,a):c})}async function _2(s,e,i=!1){const a=await Xo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ns._forOperation(s,"link",a)}async function v2(s,e,i=!1){const{auth:a}=s;if(fi(a.app))return Promise.reject(Ss(a));const o="reauthenticate";try{const c=await Xo(s,N1(a,o,e,s),i);we(c.idToken,a,"internal-error");const d=Fm(c.idToken);we(d,a,"internal-error");const{sub:p}=d;return we(s.uid===p,a,"user-mismatch"),Ns._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&xs(a,"user-mismatch"),c}}async function T2(s,e,i=!1){if(fi(s.app))return Promise.reject(Ss(s));const a="signIn",o=await N1(s,a,e),c=await Ns._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function E2(s,e){return Gm(s,"POST","/v1/accounts:signInWithCustomToken",au(s,e))}async function b2(s,e){if(fi(s.app))return Promise.reject(Ss(s));const i=lu(s),a=await E2(i,{token:e,returnSecureToken:!0}),o=await Ns._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function A2(s,e,i,a){return gn(s).onIdTokenChanged(e,i,a)}function S2(s,e,i){return gn(s).beforeAuthStateChanged(e,i)}function w2(s,e,i,a){return gn(s).onAuthStateChanged(e,i,a)}const oh="__sak";class C1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x2=1e3,R2=10;class I1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);e2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,R2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const N2=I1;class D1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}D1.type="SESSION";const O1=D1;function C2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new wh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await C2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Ym(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class I2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=Ym("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function D2(s){Qi().location.href=s}function M1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function O2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M2(){return navigator?.serviceWorker?.controller||null}function V2(){return M1()?self:null}const V1="firebaseLocalStorageDb",k2=1,uh="firebaseLocalStorage",k1="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function j2(){const s=indexedDB.deleteDatabase(V1);return new uu(s).toPromise()}function vm(){const s=indexedDB.open(V1,k2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:k1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await j2(),e(await vm()))})})}async function M_(s,e,i){const a=xh(s,!0).put({[k1]:e,value:i});return new uu(a).toPromise()}async function U2(s,e){const i=xh(s,!1).get(e),a=await new uu(i).toPromise();return a===void 0?null:a.value}function V_(s,e){const i=xh(s,!0).delete(e);return new uu(i).toPromise()}const P2=800,L2=3;class j1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>L2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(V2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O2(),!this.activeServiceWorker)return;this.sender=new I2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await M_(e,oh,"1"),await V_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>M_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>U2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>V_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xh(o,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j1.type="LOCAL";const z2=j1;new ru(3e4,6e4);function B2(s,e){return e?As(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends x1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return yl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function q2(s){return T2(s.auth,new Xm(s),s.bypassAuthState)}function H2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),v2(i,new Xm(s),s.bypassAuthState)}async function G2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),_2(i,new Xm(s),s.bypassAuthState)}class U1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q2;case"linkViaPopup":case"linkViaRedirect":return G2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:xs(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const F2=new ru(2e3,1e4);class dl extends U1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F2.get())};e()}}dl.currentPopupAction=null;const K2="pendingRedirect",Kc=new Map;class Q2 extends U1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const a=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(s,e){const i=Z2(e),a=$2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function X2(s,e){Kc.set(s._key(),e)}function $2(s){return As(s._redirectPersistence)}function Z2(s){return Fc(K2,s.config.apiKey,s.name)}async function J2(s,e,i=!1){if(fi(s.app))return Promise.reject(Ss(s));const a=lu(s),o=B2(a,e),d=await new Q2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const W2=600*1e3;class ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!P1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ki(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function P1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(s);default:return!1}}async function nx(s,e={}){return Il(s,"GET","/v1/projects",e)}const ix=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sx=/^https?/;async function rx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nx(s);for(const i of e)try{if(ax(i))return}catch{}xs(s,"unauthorized-domain")}function ax(s){const e=ym(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!sx.test(i))return!1;if(ix.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const lx=new ru(3e4,6e4);function j_(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ox(s){return new Promise((e,i)=>{function a(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),i(Ki(s,"network-request-failed"))},timeout:lx.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const o=u2("iframefcb");return Qi()[o]=()=>{gapi.load?a():i(Ki(s,"network-request-failed"))},l2(`${o2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function ux(s){return Qc=Qc||ox(s),Qc}const cx=new ru(5e3,15e3),hx="__/auth/iframe",fx="emulator/auth/iframe",dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gx(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Hm(e,fx):`https://${s.config.authDomain}/${hx}`,a={apiKey:e.apiKey,appName:s.name,v:Cl},o=mx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${su(a).slice(1)}`}async function px(s){const e=await ux(s),i=Qi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:gx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dx,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ki(s,"network-request-failed"),p=Qi().setTimeout(()=>{c(d)},cx.get());function _(){Qi().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const yx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_x=500,vx=600,Tx="_blank",Ex="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(s,e,i,a=_x,o=vx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...yx,width:a.toString(),height:o.toString(),top:c,left:d},v=En().toLowerCase();i&&(p=_1(v)?Tx:i),p1(v)&&(e=e||Ex,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[K,W])=>`${V}${K}=${W},`,"");if(Ww(v)&&p!=="_self")return Ax(e||"",p),new U_(null);const w=window.open(e||"",p,A);we(w,s,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function Ax(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Sx="__/auth/handler",wx="emulator/auth/handler",xx=encodeURIComponent("fac");async function P_(s,e,i,a,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Cl,eventId:o};if(e instanceof R1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof ou){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),v=_?`#${xx}=${encodeURIComponent(_)}`:"";return`${Rx(s)}?${su(p).slice(1)}${v}`}function Rx({config:s}){return s.emulator?Hm(s,wx):`https://${s.authDomain}/${Sx}`}const em="webStorageSupport";class Nx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=J2,this._overrideRedirectResult=X2}async _openPopup(e,i,a,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await P_(e,i,a,ym(),o);return bx(e,c,Ym())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await P_(e,i,a,ym(),o);return D2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await px(e),a=new ex(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&i(!!c),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return A1()||y1()||Km()}}const Cx=Nx;var L_="@firebase/auth",z_="1.11.1";class Ix{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ox(s){Tl(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S1(s)},v=new r2(a,o,c,_);return h2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Tl(new fa("auth-internal",e=>{const i=lu(e.getProvider("auth").getImmediate());return(a=>new Ix(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(L_,z_,Dx(s)),vr(L_,z_,"esm2020")}const Mx=300,Vx=Wv("authIdTokenMaxAge")||Mx;let B_=null;const kx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Vx)return;const o=i?.token;B_!==o&&(B_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jx(s=r1()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=c2(s,{popupRedirectResolver:Cx,persistence:[z2,N2,O1]}),a=Wv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=kx(c.toString());S2(i,d,()=>d(i.currentUser)),A2(i,p=>d(p))}}const o=Zv("auth");return o&&f2(i,`http://${o}`),i}function Ux(){return document.getElementsByTagName("head")?.[0]??document}a2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Ki("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Ux().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ox("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,L1;(function(){var s;function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,D,j){for(var S=Array(arguments.length-2),be=2;be<arguments.length;be++)S[be-2]=arguments[be];return x.prototype[D].apply(k,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const k=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)k[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],D=C.g[2];let j=C.g[3],S;S=x+(j^R&(D^j))+k[0]+3614090360&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[1]+3905402710&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[2]+606105819&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[3]+3250441966&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[4]+4118548399&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[5]+1200080426&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[6]+2821735955&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[7]+4249261313&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[8]+1770035416&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[9]+2336552879&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[10]+4294925233&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[11]+2304563134&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[12]+1804603682&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[13]+4254626195&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[14]+2792965006&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[15]+1236535329&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(D^j&(R^D))+k[1]+4129170786&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[6]+3225465664&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[11]+643717713&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[0]+3921069994&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[5]+3593408605&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[10]+38016083&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[15]+3634488961&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[4]+3889429448&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[9]+568446438&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[14]+3275163606&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[3]+4107603335&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[8]+1163531501&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[13]+2850285829&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[2]+4243563512&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[7]+1735328473&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[12]+2368359562&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(R^D^j)+k[5]+4294588738&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[8]+2272392833&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[11]+1839030562&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[14]+4259657740&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[1]+2763975236&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[4]+1272893353&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[7]+4139469664&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[10]+3200236656&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[13]+681279174&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[0]+3936430074&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[3]+3572445317&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[6]+76029189&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[9]+3654602809&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[12]+3873151461&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[15]+530742520&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[2]+3299628645&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(D^(R|~j))+k[0]+4096336452&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[7]+1126891415&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[14]+2878612391&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[5]+4237533241&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[12]+1700485571&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[3]+2399980690&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[10]+4293915773&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[1]+2240044497&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[8]+1873313359&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[15]+4264355552&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[6]+2734768916&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[13]+1309151649&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[4]+4149444226&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[11]+3174756917&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[2]+718787259&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}a.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=R;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<x;)if(k[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<x;)if(k[D++]=C[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[x++]=this.g[R]>>>k&255;return C};function c(C,x){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function d(C,x){this.h=x;const R=[];let k=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;k&&j==x||(R[D]=j,k=!1)}this.g=R}var p={};function _(C){return-128<=C&&C<128?c(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return ne(v(-C));const x=[];let R=1;for(let k=0;C>=R;k++)x[k]=C/R|0,R*=4294967296;return new d(x,0)}function A(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return ne(A(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(x,8));let k=w;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const S=parseInt(C.substring(j,j+D),x);D<8?(D=v(Math.pow(x,D)),k=k.j(D).add(v(S))):(k=k.j(R),k=k.add(v(S)))}return k}var w=_(0),V=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(se(this))return-ne(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(se(this))return"-"+ne(this).toString(C);const x=v(Math.pow(C,6));var R=this;let k="";for(;;){const D=Ue(R,x).g;R=de(R,D.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,W(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function se(C){return C.h==-1}s.l=function(C){return C=de(this,C),se(C)?-1:W(C)?0:1};function ne(C){const x=C.g.length,R=[];for(let k=0;k<x;k++)R[k]=~C.g[k];return new d(R,~C.h).add(V)}s.abs=function(){return se(this)?ne(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let D=0;D<=x;D++){let j=k+(this.i(D)&65535)+(C.i(D)&65535),S=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);k=S>>>16,j&=65535,S&=65535,R[D]=S<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function de(C,x){return C.add(ne(x))}s.j=function(C){if(W(this)||W(C))return w;if(se(this))return se(C)?ne(this).j(ne(C)):ne(ne(this).j(C));if(se(C))return ne(this.j(ne(C)));if(this.l(K)<0&&C.l(K)<0)return v(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var k=0;k<2*x;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<C.g.length;D++){const j=this.i(k)>>>16,S=this.i(k)&65535,be=C.i(D)>>>16,Ve=C.i(D)&65535;R[2*k+2*D]+=S*Ve,ge(R,2*k+2*D),R[2*k+2*D+1]+=j*Ve,ge(R,2*k+2*D+1),R[2*k+2*D+1]+=S*be,ge(R,2*k+2*D+1),R[2*k+2*D+2]+=j*be,ge(R,2*k+2*D+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new d(R,0)};function ge(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function me(C,x){this.g=C,this.h=x}function Ue(C,x){if(W(x))throw Error("division by zero");if(W(C))return new me(w,w);if(se(C))return x=Ue(ne(C),x),new me(ne(x.g),ne(x.h));if(se(x))return x=Ue(C,ne(x)),new me(ne(x.g),x.h);if(C.g.length>30){if(se(C)||se(x))throw Error("slowDivide_ only works with positive integers.");for(var R=V,k=x;k.l(C)<=0;)R=Me(R),k=Me(k);var D=Ie(R,1),j=Ie(k,1);for(k=Ie(k,2),R=Ie(R,2);!W(k);){var S=j.add(k);S.l(C)<=0&&(D=D.add(R),j=S),k=Ie(k,1),R=Ie(R,1)}return x=de(C,D.j(x)),new me(D,x)}for(D=w;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=v(R),S=j.j(x);se(S)||S.l(C)>0;)R-=k,j=v(R),S=j.j(x);W(j)&&(j=V),D=D.add(j),C=de(C,S)}return new me(D,C)}s.B=function(C){return Ue(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)&C.i(k);return new d(R,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)|C.i(k);return new d(R,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)^C.i(k);return new d(R,this.h^C.h)};function Me(C){const x=C.g.length+1,R=[];for(let k=0;k<x;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(R,C.h)}function Ie(C,x){const R=x>>5;x%=32;const k=C.g.length-R,D=[];for(let j=0;j<k;j++)D[j]=x>0?C.i(j+R)>>>x|C.i(j+R+1)<<32-x:C.i(j+R);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,L1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Tr=d}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z1,Po,B1,Yc,Tm,q1,H1,G1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var T=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in T))break e;T=T[P]}u=u[u.length-1],b=T[u],m=m(b),m!=b&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var T=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&T.push([b,m[b]]);return T}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,T){return u.call.apply(u.bind,arguments)}function v(u,m,T){return v=_,v.apply(null,arguments)}function A(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function T(){}T.prototype=m.prototype,u.Z=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(b,P,G){for(var re=Array(arguments.length-2),De=2;De<arguments.length;De++)re[De-2]=arguments[De];return m.prototype[P].apply(b,re)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const T=Array(m);for(let b=0;b<m;b++)T[b]=u[b];return T}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var T=typeof P;if(T=T!="object"?T:P?Array.isArray(P)?"array":T:"null",T=="array"||T=="object"&&typeof P.length=="number"){T=u.length||0;const G=P.length||0;u.length=T+G;for(let re=0;re<G;re++)u[T+re]=P[re]}else u.push(P)}}class se{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function de(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,T){const b=me.get();b.set(m,T),this.h?this.h.next=b:this.g=b,this.h=b}}var me=new se(()=>new Ue,u=>u.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,Ie=!1,C=new ge,x=()=>{const u=Promise.resolve(void 0);Me=()=>{u.then(R)}};function R(){for(var u;u=de();){try{u.h.call(u.g)}catch(T){ne(T)}var m=me;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ie=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};d.addEventListener("test",T,m),d.removeEventListener("test",T,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function be(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(be,D),be.prototype.init=function(u,m){const T=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),H=0;function ie(u,m,T,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!b,this.ha=P,this.key=++H,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,m,T){for(const b in u)m.call(T,u[b],b,u)}function ke(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function I(u){const m={};for(const T in u)m[T]=u[T];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let T,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(T in b)u[T]=b[T];for(let G=0;G<B.length;G++)T=B[G],Object.prototype.hasOwnProperty.call(b,T)&&(u[T]=b[T])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,T,b,P){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const re=Ae(u,m,b,P);return re>-1?(m=u[re],T||(m.fa=!1)):(m=new ie(m,this.src,G,!!b,P),m.fa=T,u.push(m)),m};function ve(u,m){const T=m.type;if(T in u.g){var b=u.g[T],P=Array.prototype.indexOf.call(b,m,void 0),G;(G=P>=0)&&Array.prototype.splice.call(b,P,1),G&&(ee(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Ae(u,m,T,b){for(let P=0;P<u.length;++P){const G=u[P];if(!G.da&&G.listener==m&&G.capture==!!T&&G.ha==b)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),pt={};function Je(u,m,T,b,P){if(Array.isArray(m)){for(let G=0;G<m.length;G++)Je(u,m[G],T,b,P);return null}return T=St(T),u&&u[Ve]?u.J(m,T,p(b)?!!b.capture:!1,P):te(u,m,T,!1,b,P)}function te(u,m,T,b,P,G){if(!m)throw Error("Invalid event type");const re=p(P)?!!P.capture:!!P;let De=At(u);if(De||(u[Pe]=De=new ae(u)),T=De.add(m,T,b,re,G),T.proxy)return T;if(b=_e(),T.proxy=b,b.src=u,b.listener=T,u.addEventListener)j||(P=re),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(Le(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _e(){function u(T){return m.call(u.src,u.listener,T)}const m=lt;return u}function Se(u,m,T,b,P){if(Array.isArray(m))for(var G=0;G<m.length;G++)Se(u,m[G],T,b,P);else b=p(b)?!!b.capture:!!b,T=St(T),u&&u[Ve]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],T=Ae(m,T,b,P),T>-1&&(ee(m[T]),Array.prototype.splice.call(m,T,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=At(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,T,b,P)),(T=u>-1?m[u]:null)&&Xe(T))}function Xe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])ve(m.i,u);else{var T=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(T,b,u.capture):m.detachEvent?m.detachEvent(Le(T),b):m.addListener&&m.removeListener&&m.removeListener(b),(T=At(m))?(ve(T,u),T.h==0&&(T.src=null,m[Pe]=null)):ee(u)}}}function Le(u){return u in pt?pt[u]:pt[u]="on"+u}function lt(u,m){if(u.da)u=!0;else{m=new be(m,this);const T=u.listener,b=u.ha||u.src;u.fa&&Xe(u),u=T.call(b,m)}return u}function At(u){return u=u[Pe],u instanceof ae?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function ft(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}w(ft,k),ft.prototype[Ve]=!0,ft.prototype.removeEventListener=function(u,m,T,b){Se(this,u,m,T,b)};function dt(u,m){var T,b=u.G;if(b)for(T=[];b;b=b.G)T.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),J(m,P)}P=!0;let G,re;if(T)for(re=T.length-1;re>=0;re--)G=m.g=T[re],P=mt(G,b,!0,m)&&P;if(G=m.g=u,P=mt(G,b,!0,m)&&P,P=mt(G,b,!1,m)&&P,T)for(re=0;re<T.length;re++)G=m.g=T[re],P=mt(G,b,!1,m)&&P}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const T=u.g[m];for(let b=0;b<T.length;b++)ee(T[b]);delete u.g[m],u.h--}}this.G=null},ft.prototype.J=function(u,m,T,b){return this.i.add(String(u),m,!1,T,b)},ft.prototype.K=function(u,m,T,b){return this.i.add(String(u),m,!0,T,b)};function mt(u,m,T,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let G=0;G<m.length;++G){const re=m[G];if(re&&!re.da&&re.capture==T){const De=re.listener,Ut=re.ha||re.src;re.fa&&ve(u.i,re),P=De.call(Ut,b)!==!1&&P}}return P&&!b.defaultPrevented}function es(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Os(u){u.g=es(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vt extends k{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(u){k.call(this),this.h=u,this.g={}}w(Xn,k);var Ms=[];function Dr(u){he(u.g,function(m,T){this.g.hasOwnProperty(T)&&Xe(m)},u),u.g={}}Xn.prototype.N=function(){Xn.Z.N.call(this),Dr(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Ta=d.JSON.parse,Or=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ea(){}function Mr(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){D.call(this,"d")}w(kt,D);function bn(){D.call(this,"c")}w(bn,D);var _t={},Vr=null;function xi(){return Vr=Vr||new ft}_t.Ia="serverreachability";function kr(u){D.call(this,_t.Ia,u)}w(kr,D);function An(u){const m=xi();dt(m,new kr(m))}_t.STAT_EVENT="statevent";function Rn(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}w(Rn,D);function It(u){const m=xi();dt(m,new Rn(m,u))}_t.Ja="timingevent";function Zn(u,m){D.call(this,_t.Ja,u),this.size=m}w(Zn,D);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function jl(u,m,T,b,P,G){u.info(function(){if(u.g)if(G){var re="",De=G.split("&");for(let et=0;et<De.length;et++){var Ut=De[et].split("=");if(Ut.length>1){const wt=Ut[0];Ut=Ut[1];const ii=wt.split("_");re=ii.length>=2&&ii[1]=="type"?re+(wt+"="+Ut+"&"):re+(wt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+T+`
`+re})}function ba(u,m,T,b,P,G,re){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+T+`
`+G+" "+re})}function Wn(u,m,T,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ul(u,T)+(b?" "+b:"")})}function ts(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ul(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var T=G[u];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return $n(G)}catch{return m}}var M={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Re={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},We;function jt(){}w(jt,Ea),jt.prototype.g=function(){return new XMLHttpRequest},We=new jt;function Rt(u){return encodeURIComponent(String(u))}function Nn(u){var m=1;u=u.split(":");const T=[];for(;m>0&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function qt(u,m,T,b){this.j=u,this.i=m,this.l=T,this.S=b||1,this.V=new Xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Ht={},nn={};function Ri(u,m,T){u.M=1,u.A=jr(Ft(m)),u.u=T,u.R=!0,Aa(u,null)}function Aa(u,m){u.F=Date.now(),Ni(u),u.B=Ft(u.A);var T=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ra(T.i,"t",b),u.C=0,T=u.j.L,u.h=new gi,u.g=Iu(u.j,T?m:null,!u.u),u.P>0&&(u.O=new Vt(v(u.Y,u,u.g),u.P)),m=u.V,T=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ms[0]=P.toString()),P=Ms);for(let G=0;G<P.length;G++){const re=Je(T,P[G],b||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),An(),jl(u.i,u.v,u.B,u.l,u.S,u.u)}qt.prototype.ba=function(u){u=u.target;const m=this.O;m&&_i(u)==3?m.j():this.Y(u)},qt.prototype.Y=function(u){try{if(u==this.g)e:{const De=_i(this.g),Ut=this.g.ya(),et=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||De!=4||Ut==7||(Ut==8||et<=0?An(3):An(2)),Ci(this);var m=this.g.ca();this.X=m;var T=Gh(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(b)){var G=b;break t}}G=null}if(u=G)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,It(12),Ln(this),ei(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<T.length;)if(wt=yu(this,T),wt==nn){De==4&&(this.m=4,It(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Ht){this.m=4,It(15),Wn(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,wt,null),Ii(this,wt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,T,"[Invalid Chunked Response]"),Ln(this),ei(this);else if(T.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Jl(re),re.P=!0,It(11))}}else Wn(this.i,this.l,T,null),Ii(this,T);De==4&&Ln(this),this.o&&!this.K&&(De==4?xu(this.j,this):(this.o=!1,Ni(this)))}else is(this.g),m==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Ln(this),ei(this)}}}catch{}finally{}};function Gh(u){if(!pu(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let T="";const b=m.length,P=_i(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ln(u),ei(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<b;G++)u.h.h=!0,T+=u.h.i.decode(m[G],{stream:!(P&&G==b-1)});return m.length=0,u.h.g+=T,u.C=0,u.h.g}function pu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var T=u.C,b=m.indexOf(`
`,T);return b==-1?nn:(T=Number(m.substring(T,b)),isNaN(T)?Ht:(b+=1,b+T>m.length?nn:(m=m.slice(b,b+T),u.C=b+T,m)))}qt.prototype.cancel=function(){this.K=!0,Ln(this)};function Ni(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(v(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ts(this.i,this.B),this.M!=2&&(An(),It(17)),Ln(this),this.m=2,ei(this)):Sa(this,this.T-u)};function ei(u){u.j.I==0||u.K||xu(u.j,u)}function Ln(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Dr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var T=u.j;if(T.I!=0&&(T.g==u||Oi(T.h,u))){if(!u.L&&Oi(T.h,u)&&T.I==3){try{var b=T.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)Oa(T),Bs(T);else break e;Hr(T),It(18)}}else T.xa=P[1],0<T.xa-T.K&&P[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Jn(v(T.Va,T),6e3));Di(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((u.L||T.g==u)&&Oa(T),!S(m))for(P=T.Ba.g.parse(m),m=0;m<P.length;m++){let et=P[m];const wt=et[0];if(!(wt<=T.K))if(T.K=wt,et=et[1],T.I==2)if(et[0]=="c"){T.M=et[1],T.ba=et[2];const ii=et[3];ii!=null&&(T.ka=ii,T.j.info("VER="+T.ka));const Li=et[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const vi=et[5];vi!=null&&typeof vi=="number"&&vi>0&&(b=1.5*vi,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const Ti=u.g;if(Ti){const Gr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var G=b.h;G.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(zl(G,G.h),G.h=null))}if(b.G){const Ma=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(b.wa=Ma,st(b.J,b.G,Ma))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var re=u;if(b.na=Cu(b,b.L?b.ba:null,b.W),re.L){Bl(b.h,re);var De=re,Ut=b.O;Ut&&(De.H=Ut),De.D&&(Ci(De),Ni(De)),b.g=re}else Su(b);T.i.length>0&&Ui(T)}else et[0]!="stop"&&et[0]!="close"||Pi(T,7);else T.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Pi(T,7):$l(T):et[0]!="noop"&&T.l&&T.l.qa(et),T.A=0)}}An(4)}catch{}}var Gt=class{constructor(u,m){this.g=u,this.map=m}};function Pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zl(u,m){u.g?u.g.add(m):u.h=m}function Bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Pl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ql(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.G);return m}return K(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const b=u[T].indexOf("=");let P,G=null;b>=0?(P=u[T].substring(0,b),G=u[T].substring(b+1)):P=u[T],m(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof zn?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,Hl(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,sn(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Vs(this,m[4]),this.h=Mi(m[5]||"",!0),Hl(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new js(null,this.l))}zn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,xa,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,xa,!0),"@"),u.push(Rt(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Ur(T,T.charAt(0)=="/"?Gl:vu,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Ur(T,Tu)),u.join("")},zn.prototype.resolve=function(u){const m=Ft(this);let T=!!u.j;T?sn(m,u.j):T=!!u.o,T?m.o=u.o:T=!!u.g,T?m.g=u.g:T=u.u!=null;var b=u.h;if(T)Vs(m,u.u);else if(T=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let re=0;re<P.length;){const De=P[re++];De=="."?b&&re==P.length&&G.push(""):De==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==P.length&&G.push("")):(G.push(De),b=!0)}b=G.join("/")}else b=P}return T?m.h=b:T=u.i.toString()!=="",T?Hl(m,bu(u.i)):T=!!u.m,T&&(m.m=u.m),m};function Ft(u){return new zn(u)}function sn(u,m,T){u.j=T?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hl(u,m,T){m instanceof js?(u.i=m,Na(u.i,u.l)):(T||(m=Ur(m,ks)),u.i=new js(m,u.l))}function st(u,m,T){u.i.set(m,T)}function jr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,Cn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,vu=/[#\?:]/g,Gl=/[#\?]/g,ks=/[#\?@]/g,Tu=/#/g;function js(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}s=js.prototype,s.add=function(u,m){In(this),this.i=null,u=Us(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function Eu(u,m){In(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fl(u,m){return In(u),m=Us(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(T,b){T.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Kl(u,m){In(u);let T=[];if(typeof m=="string")Fl(u,m)&&(T=T.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)T=T.concat(u[m]);return T}s.set=function(u,m){return In(this),this.i=null,u=Us(this,u),Fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Kl(this,u),u.length>0?String(u[0]):m):m};function Ra(u,m,T){Eu(u,m),T.length>0&&(u.i=null,u.g.set(Us(u,m),K(T)),u.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var T=m[b];const P=Rt(T);T=Kl(this,T);for(let G=0;G<T.length;G++){let re=P;T[G]!==""&&(re+="="+Rt(T[G])),u.push(re)}}return this.i=u.join("&")};function bu(u){const m=new js;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(T,b){const P=b.toLowerCase();b!=P&&(Eu(this,b),Ra(this,P,T))},u)),u.j=m}function pi(u,m){const T=new Pn;if(d.Image){const b=new Image;b.onload=A(ti,T,"TestLoadImage: loaded",!0,m,b),b.onerror=A(ti,T,"TestLoadImage: error",!1,m,b),b.onabort=A(ti,T,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(ti,T,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ql(u,m){const T=new Pn,b=new AbortController,P=setTimeout(()=>{b.abort(),ti(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(P),G.ok?ti(T,"TestPingServer: ok",!0,m):ti(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ti(T,"TestPingServer: error",!1,m)})}function ti(u,m,T,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(T)}catch{}}function Ps(){this.g=new Or}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Vi,Ea),Vi.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){ft.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Pr,ft),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):yi(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return he(u,function(T,b){m+=b,m+=":",m+=T,m+=`\r
`}),m}function Lr(u,m,T){e:{for(b in T){var b=!1;break e}b=!0}b||(T=ni(T),typeof u=="string"?T!=null&&Rt(T):st(u,m,T))}function ot(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ot,ft);var ki=/^https?$/i,Yl=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():We.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){zr(this,G);return}if(u=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)T.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())T.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Yl,m,void 0)>=0)||b||P||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of T)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){zr(this,G)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xl(u),ns(u)}function Xl(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,dt(this,"complete"),dt(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&_i(u)==4)setTimeout(u.Ca.bind(u),0);else if(dt(u,"readystatechange"),_i(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var b;if(b=G===0){let re=String(u.D).match(_u)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),b=!ki.test(re?re.toLowerCase():"")}T=b}if(T)dt(u,"complete"),dt(u,"success");else{u.o=6;try{var P=_i(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xl(u)}}finally{ns(u)}}}}function ns(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,m||dt(u,"ready");try{T.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function _i(u){return u.g?u.g.readyState:0}s.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ta(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const m={};u=(u.g&&_i(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(S(u[b]))continue;var T=Nn(u[b]);const P=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=m[P]||[];m[P]=G,G.push(T)}ke(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=zs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,T,b){It(0),this.W=u,this.H=m||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Cu(this,null,this.W),Ui(this)};function $l(u){if(Ia(u),u.I==3){var m=u.V++,T=Ft(u.J);if(st(T,"SID",u.M),st(T,"RID",m),st(T,"TYPE","terminate"),qr(u,T),m=new qt(u,u.j,m),m.M=2,m.A=jr(Ft(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!T&&d.Image&&(new Image().src=m.A,T=!0),T||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ni(m)}Nu(u)}function Bs(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Ia(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Ll(u.h)&&!u.m){u.m=!0;var m=u.Ea;Me||x(),Ie||(Me(),Ie=!0),C.add(m,u),u.D=0}}function Da(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(v(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qt(this,this.j,u);let G=this.o;if(this.U&&(G?(G=I(G),J(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=Au(this,P,m),T=Ft(this.J),st(T,"RID",u),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),qr(this,T),G&&(this.R?m="headers="+Rt(ni(G))+"&"+m:this.u&&Lr(T,this.u,G)),zl(this.h,P),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",m),st(T,"SID","null"),P.U=!0,Ri(P,T,null)):Ri(P,T,m),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||Ll(this.h)||Zl(this))};function Zl(u,m){var T;m?T=m.l:T=u.V++;const b=Ft(u.J);st(b,"SID",u.M),st(b,"RID",T),st(b,"AID",u.K),qr(u,b),u.u&&u.o&&Lr(b,u.u,u.o),T=new qt(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Au(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zl(u.h,T),Ri(T,b,m)}function qr(u,m){u.H&&he(u.H,function(T,b){st(m,b,T)}),u.l&&he({},function(T,b){st(m,b,T)})}function Au(u,m,T){T=Math.min(u.i.length,T);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var P=u.i;let De=-1;for(;;){const Ut=["count="+T];De==-1?T>0?(De=P[0].g,Ut.push("ofs="+De)):De=0:Ut.push("ofs="+De);let et=!0;for(let wt=0;wt<T;wt++){var G=P[wt].g;const ii=P[wt].map;if(G-=De,G<0)De=Math.max(0,P[wt].g-100),et=!1;else try{G="req"+G+"_"||"";try{var re=ii instanceof Map?ii:Object.entries(ii);for(const[Li,vi]of re){let Ti=vi;p(vi)&&(Ti=$n(vi)),Ut.push(G+Li+"="+encodeURIComponent(Ti))}}catch(Li){throw Ut.push(G+"type="+encodeURIComponent("_badmap")),Li}}catch{b&&b(ii)}}if(et){re=Ut.join("&");break e}}re=void 0}return u=u.i.splice(0,T),m.G=u,re}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Me||x(),Ie||(Me(),Ie=!0),C.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(v(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Bs(this),wu(this))};function Jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new qt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ft(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=jr(Ft(m)),T.u=null,T.R=!0,Aa(T,u)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),Hr(this),It(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var T=null;if(u.g==m){Oa(u),Jl(u),u.g=null;var b=2}else if(Oi(u.h,m))T=m.G,Bl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){T=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=xi(),dt(b,new Zn(b,T)),Ui(u)}else Su(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&Da(u,m)||b==2&&Hr(u)))switch(T&&T.length>0&&(m=u.h,m.i=m.i.concat(T)),P){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Ru(u,m){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var T=v(u.bb,u),b=u.Ua;const P=!b;b=new zn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(b,"https"),jr(b),P?pi(b.toString(),T):Ql(b.toString(),T)}else It(2);u.I=0,u.l&&u.l.pa(m),Nu(u),Ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Nu(u){if(u.I=0,u.ja=[],u.l){const m=ql(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,T){var b=T instanceof zn?Ft(T):new zn(T);if(b.g!="")m&&(b.g=m+"."+b.g),Vs(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const G=new zn(null);b&&sn(G,b),m&&(G.g=m),P&&Vs(G,P),T&&(G.h=T),b=G}return T=u.G,m=u.wa,T&&m&&st(b,T,m),st(b,"VER",u.ka),qr(u,b),b}function Iu(u,m,T){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Vi({ab:T})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){ft.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}w(Sn,ft),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){$l(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=$n(u),u=T);m.i.push(new Gt(m.Ya++,u)),m.I==3&&Ui(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,Sn.Z.N.call(this)};function Ou(u){kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ou,kt);function Mu(){bn.call(this),this.status=1}w(Mu,bn);function ss(u){this.g=u}w(ss,Du),ss.prototype.ra=function(){dt(this.g,"a")},ss.prototype.qa=function(u){dt(this.g,new Ou(u))},ss.prototype.pa=function(u){dt(this.g,new Mu)},ss.prototype.oa=function(){dt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,G1=function(){return new qs},H1=function(){return xi()},q1=_t,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},M.NO_ERROR=0,M.TIMEOUT=8,M.HTTP_ERROR=6,Yc=M,Re.COMPLETE="complete",B1=Re,Mr.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Po=Mr,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,z1=ot}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.9.2";class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Dl="12.3.0";const ma=new Lm("@firebase/firestore");function ul(){return ma.logLevel}function oe(s,...e){if(ma.logLevel<=Ge.DEBUG){const i=e.map($m);ma.debug(`Firestore (${Dl}): ${s}`,...i)}}function Cs(s,...e){if(ma.logLevel<=Ge.ERROR){const i=e.map($m);ma.error(`Firestore (${Dl}): ${s}`,...i)}}function El(s,...e){if(ma.logLevel<=Ge.WARN){const i=e.map($m);ma.warn(`Firestore (${Dl}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,F1(s,a,i)}function F1(s,e,i){let a=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Cs(a),new Error(a)}function nt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||F1(e,o,a)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ua{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class K1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Px{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class Lx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zx{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ua,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ua)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(nt(typeof a.accessToken=="string",31837,{l:a}),new K1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class Bx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Bx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Gx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function Em(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return tm(o)===tm(c)?Fe(o,c):tm(o)?1:-1}return Fe(s.length,e.length)}const Fx=55296,Kx=57343;function tm(s){const e=s.charCodeAt(0);return e>=Fx&&e<=Kx}function bl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const K_="__name__";class Fi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Fi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=Fi.isNumericId(e),o=Fi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):Em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class yt extends Fi{construct(e,i,a){return new yt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const Qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Fi{construct(e,i,a){return new mn(e,i,a)}static isValidIdentifier(e){return Qx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new mn([K_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(yt.fromString(e))}static fromName(e){return new ye(yt.fromString(e).popFirst(5))}static empty(){return new ye(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new yt(e.slice()))}}function Q1(s,e,i){if(!i)throw new le($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Yx(s,e,i,a){if(e===!0&&a===!0)throw new le($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Q_(s){if(!ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y_(s){if(ye.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Y1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(s);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!Y1(s))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new le($.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,$_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*$_);return new bt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X_)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Jt("string",bt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new bt(0,0))}static max(){return new xe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $o=-1;function Xx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new bt(i+1,0):new bt(i,a));return new br(o,ye.empty(),e)}function $x(s){return new br(s.readTime,s.key,$o)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(xe.min(),ye.empty(),$o)}static max(){return new br(xe.max(),ye.empty(),$o)}}function Zx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const Jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Jx)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function eR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ml(s){return s.name==="IndexedDbTransactionError"}class Nh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;const Jm=-1;function Ch(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function tR(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const X1="";function nR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Z_(e)),e=iR(s.get(i),e);return Z_(e)}function iR(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case X1:i+="";break;default:i+=c}}return i}function Z_(s){return s+X1+""}function J_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function $1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??dn.RED,this.left=o??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new dn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new en(this.comparator);return i.data=e,i}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Yn([])}unionWith(e){let i=new en(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Z1("Invalid base64 string: "+c):c}})(e);return new pn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new pn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=sR.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:zt(s.seconds),nanos:zt(s.nanos)}}function zt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?pn.fromBase64String(s):pn.fromUint8Array(s)}const J1="server_timestamp",W1="__type__",eT="__previous_value__",tT="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[W1]?.stringValue===J1}function Ih(s){const e=s.mapValue.fields[eT];return Wm(e)?Ih(e):e}function Zo(s){const e=Ar(s.mapValue.fields[tT].timestampValue);return new bt(e.seconds,e.nanos)}class rR{constructor(e,i,a,o,c,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const hh="(default)";class Jo{constructor(e,i){this.projectId=e,this.database=i||hh}static empty(){return new Jo("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const nT="__type__",aR="__max__",zc={mapValue:{}},iT="__vector__",fh="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:oR(s)?9007199254740991:lR(s)?10:11:Ee(28295,{value:s})}function Wi(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zo(s).isEqual(Zo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ar(o.timestampValue),p=Ar(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Sr(o.bytesValue).isEqual(Sr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return zt(o.geoPointValue.latitude)===zt(c.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return zt(o.integerValue)===zt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=zt(o.doubleValue),p=zt(c.doubleValue);return d===p?ch(d)===ch(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(J_(d)!==J_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Wi(d[_],p[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Wo(s,e){return(s.values||[]).find((i=>Wi(i,e)))!==void 0}function Al(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=zt(c.integerValue||c.doubleValue),_=zt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return ev(s.timestampValue,e.timestampValue);case 4:return ev(Zo(s),Zo(e));case 5:return Em(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Sr(c),_=Sr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Fe(p[v],_[v]);if(A!==0)return A}return Fe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Fe(zt(c.latitude),zt(d.latitude));return p!==0?p:Fe(zt(c.longitude),zt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return tv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[fh]?.arrayValue,A=_[fh]?.arrayValue,w=Fe(v?.values?.length||0,A?.values?.length||0);return w!==0?w:tv(v,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const V=Em(_[w],A[w]);if(V!==0)return V;const K=Al(p[_[w]],v[A[w]]);if(K!==0)return K}return Fe(_.length,A.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function ev(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=Ar(s),a=Ar(e),o=Fe(i.seconds,a.seconds);return o!==0?o:Fe(i.nanos,a.nanos)}function tv(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Al(i[o],a[o]);if(c)return c}return Fe(i.length,a.length)}function Sl(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=bm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${bm(i.fields[d])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function Xc(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Xc(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((c,d)=>{o+=c.length+Xc(d)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function nv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Am(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function iv(s){return!!s&&"nullValue"in s}function sv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function lR(s){return(s?.mapValue?.fields||{})[nT]?.stringValue===iT}function Go(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Go(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Go(s.arrayValue.values[i]);return e}return{...s}}function oR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(i)}setAll(e){let i=mn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Go(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Un(Go(this.value))}}function sT(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new mn([i]);if($c(a)){const c=sT(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Yn(e)}class Tn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Tn(e,0,xe.min(),xe.min(),xe.min(),Un.empty(),0)}static newFoundDocument(e,i,a,o){return new Tn(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new Tn(e,2,i,xe.min(),xe.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,xe.min(),xe.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,i){this.position=e,this.inclusive=i}}function rv(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=Al(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function av(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Wi(s.position[i],e.position[i]))return!1;return!0}class eu{constructor(e,i="asc"){this.field=e,this.dir=i}}function uR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class rT{}class Zt extends rT{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new hR(e,i,a):i==="array-contains"?new mR(e,a):i==="in"?new gR(e,a):i==="not-in"?new pR(e,a):i==="array-contains-any"?new yR(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fR(e,a):new dR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Al(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(Al(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends rT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new wi(e,i)}matches(e){return aT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(s){return s.op==="and"}function lT(s){return cR(s)&&aT(s)}function cR(s){for(const e of s.filters)if(e instanceof wi)return!1;return!0}function Sm(s){if(s instanceof Zt)return s.field.canonicalString()+s.op.toString()+Sl(s.value);if(lT(s))return s.filters.map((e=>Sm(e))).join(",");{const e=s.filters.map((i=>Sm(i))).join(",");return`${s.op}(${e})`}}function oT(s,e){return s instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Wi(a.value,o.value)})(s,e):s instanceof wi?(function(a,o){return o instanceof wi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&oT(d,o.filters[p])),!0):!1})(s,e):void Ee(19439)}function uT(s){return s instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sl(i.value)}`})(s):s instanceof wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(s):"Filter"}class hR extends Zt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class fR extends Zt{constructor(e,i){super(e,"in",i),this.keys=cT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dR extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=cT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function cT(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class mR extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return eg(i)&&Wo(i.arrayValue,this.value)}}class gR extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wo(this.value.arrayValue,i)}}class pR extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wo(this.value.arrayValue,i)}}class yR extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wo(this.value.arrayValue,a)))}}class _R{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function lv(s,e=null,i=[],a=[],o=null,c=null,d=null){return new _R(s,e,i,a,o,c,d)}function tg(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Sm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Sl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Sl(a))).join(",")),e.Te=i}return e.Te}function ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!oT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!av(s.startAt,e.startAt)&&av(s.endAt,e.endAt)}function wm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vl{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vR(s,e,i,a,o,c,d,p){return new Vl(s,e,i,a,o,c,d,p)}function ig(s){return new Vl(s)}function ov(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hT(s){return s.collectionGroup!==null}function Fo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new en(mn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eu(c,a))})),i.has(mn.keyField().canonicalString())||e.Ie.push(new eu(mn.keyField(),a))}return e.Ie}function Xi(s){const e=Ce(s);return e.Ee||(e.Ee=TR(e,Fo(s))),e.Ee}function TR(s,e){if(s.limitType==="F")return lv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eu(o.field,c)}));const i=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return lv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function xm(s,e){const i=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function mh(s,e,i){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Dh(s,e){return ng(Xi(s),Xi(e))&&s.limitType===e.limitType}function fT(s){return`${tg(Xi(s))}|lt:${s.limitType}`}function cl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>uT(o))).join(", ")}]`),Ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Sl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Sl(o))).join(",")),`Target(${a})`})(Xi(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Fo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=rv(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,Fo(a),o)||a.endAt&&!(function(d,p,_){const v=rv(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,Fo(a),o))})(s,e)}function ER(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(e,i)=>{let a=!1;for(const o of Fo(s)){const c=bR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function bR(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Al(_,v):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}const AR=new Ct(ye.comparator);function Is(){return AR}const mT=new Ct(ye.comparator);function Lo(...s){let e=mT;for(const i of s)e=e.insert(i.key,i);return e}function gT(s){let e=mT;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Ko()}function pT(){return Ko()}function Ko(){return new _a((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SR=new Ct(ye.comparator),wR=new en(ye.comparator);function Ke(...s){let e=wR;for(const i of s)e=e.add(i);return e}const xR=new en(Fe);function RR(){return xR}function sg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function yT(s){return{integerValue:""+s}}function NR(s,e){return tR(e)?yT(e):sg(s,e)}class Mh{constructor(){this._=void 0}}function CR(s,e,i){return s instanceof gh?(function(o,c){const d={fields:{[W1]:{stringValue:J1},[tT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Wm(c)&&(c=Ih(c)),c&&(d.fields[eT]=c),{mapValue:d}})(i,e):s instanceof tu?vT(s,e):s instanceof nu?TT(s,e):(function(o,c){const d=_T(o,c),p=uv(d)+uv(o.Ae);return Am(d)&&Am(o.Ae)?yT(p):sg(o.serializer,p)})(s,e)}function IR(s,e,i){return s instanceof tu?vT(s,e):s instanceof nu?TT(s,e):i}function _T(s,e){return s instanceof ph?(function(a){return Am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class gh extends Mh{}class tu extends Mh{constructor(e){super(),this.elements=e}}function vT(s,e){const i=ET(e);for(const a of s.elements)i.some((o=>Wi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class nu extends Mh{constructor(e){super(),this.elements=e}}function TT(s,e){let i=ET(e);for(const a of s.elements)i=i.filter((o=>!Wi(o,a)));return{arrayValue:{values:i}}}class ph extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function uv(s){return zt(s.integerValue||s.doubleValue)}function ET(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function DR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof tu&&o instanceof tu||a instanceof nu&&o instanceof nu?bl(a.elements,o.elements,Wi):a instanceof ph&&o instanceof ph?Wi(a.Ae,o.Ae):a instanceof gh&&o instanceof gh})(s.transform,e.transform)}class OR{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function bT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rg(s.key,mi.none()):new hu(s.key,s.data,mi.none());{const i=s.data,a=Un.empty();let o=new en(mn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(s.key,a,new Yn(o.toArray()),mi.none())}}function MR(s,e,i){s instanceof hu?(function(o,c,d){const p=o.value.clone(),_=hv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Cr?(function(o,c,d){if(!Zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=hv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(AT(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Qo(s,e,i,a){return s instanceof hu?(function(c,d,p,_){if(!Zc(c.precondition,d))return p;const v=c.value.clone(),A=fv(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof Cr?(function(c,d,p,_){if(!Zc(c.precondition,d))return p;const v=fv(c.fieldTransforms,_,d),A=d.data;return A.setAll(AT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function VR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=_T(a.transform,o||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function cv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bl(a,o,((c,d)=>DR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Vh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Vh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function hv(s,e,i){const a=new Map;nt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,IR(d,p,i[o]))}return a}function fv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,CR(c,d,e))}return a}class rg extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Qo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Qo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=pT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=bT(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((i,a)=>cv(i,a)))&&bl(this.baseMutations,e.baseMutations,((i,a)=>cv(i,a)))}}class ag{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){nt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return SR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ag(e,i,a,o)}}class UR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PR{constructor(e,i){this.count=e,this.unchangedNames=i}}var $t,Ye;function LR(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function ST(s){if(s===void 0)return Cs("GRPC error has no .code"),$.UNKNOWN;switch(s){case $t.OK:return $.OK;case $t.CANCELLED:return $.CANCELLED;case $t.UNKNOWN:return $.UNKNOWN;case $t.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case $t.INTERNAL:return $.INTERNAL;case $t.UNAVAILABLE:return $.UNAVAILABLE;case $t.UNAUTHENTICATED:return $.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case $t.NOT_FOUND:return $.NOT_FOUND;case $t.ALREADY_EXISTS:return $.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return $.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case $t.ABORTED:return $.ABORTED;case $t.OUT_OF_RANGE:return $.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return $.UNIMPLEMENTED;case $t.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ye=$t||($t={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function zR(){return new TextEncoder}const BR=new Tr([4294967295,4294967295],0);function dv(s){const e=zR().encode(s),i=new L1;return i.update(e),new Uint8Array(i.digest())}function mv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([o,c],0)]}class lg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zo(`Invalid padding: ${i}`);if(a<0)throw new zo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Tr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Tr.fromNumber(a)));return o.compare(BR)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=dv(e),[a,o]=mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lg(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=dv(e),[a,o]=mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new kh(xe.min(),o,new Ct(Fe),Is(),Ke())}}class fu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new fu(a,i,Ke(),Ke(),Ke())}}class Jc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class wT{constructor(e,i){this.targetId=e,this.Ce=i}}class xT{constructor(e,i,a=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class gv{constructor(){this.ve=0,this.Fe=pv(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=pv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Bc(),this.He=Bc(),this.Ye=new Ct(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(wm(c))if(a===0){const d=new ye(c.path);this.et(i,d,Tn.newNoDocument(d,xe.min()))}else nt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Sr(a).toUint8Array()}catch(_){if(_ instanceof Z1)return El("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lg(d,o,c)}catch(_){return El(_ instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const _=new ye(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new kh(e,i,this.Ye,this.je,a);return this.je=Is(),this.Je=Bc(),this.He=Bc(),this.Ye=new Ct(Fe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new gv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new en(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new en(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new Ct(ye.comparator)}function pv(){return new Ct(ye.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class KR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QR(s,e){return yh(s,e.toTimestamp())}function $i(s){return nt(!!s,49232),xe.fromTimestamp((function(i){const a=Ar(i);return new bt(a.seconds,a.nanos)})(s))}function og(s,e){return Nm(s,e).canonicalString()}function Nm(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function NT(s){const e=yt.fromString(s);return nt(MT(e),10190,{key:e.toString()}),e}function Cm(s,e){return og(s.databaseId,e.path)}function nm(s,e){const i=NT(e);if(i.get(1)!==s.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(IT(i))}function CT(s,e){return og(s.databaseId,e)}function YR(s){const e=NT(s);return e.length===4?yt.emptyPath():IT(e)}function Im(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function IT(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function yv(s,e,i){return{name:Cm(s,e),fields:i.value.mapValue.fields}}function XR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(nt(A===void 0||typeof A=="string",58123),pn.fromBase64String(A||"")):(nt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),pn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?$.UNKNOWN:ST(v.code);return new le(A,v.message||"")})(d);i=new xT(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=nm(s,a.document.name),c=$i(a.document.updateTime),d=a.document.createTime?$i(a.document.createTime):xe.min(),p=new Un({mapValue:{fields:a.document.fields}}),_=Tn.newFoundDocument(o,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Jc(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=nm(s,a.document),c=a.readTime?$i(a.readTime):xe.min(),d=Tn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=nm(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new PR(o,c),p=a.targetId;i=new wT(p,d)}}return i}function $R(s,e){let i;if(e instanceof hu)i={update:yv(s,e.key,e.value)};else if(e instanceof rg)i={delete:Cm(s,e.key)};else if(e instanceof Cr)i={update:yv(s,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof kR))return Ee(16599,{Vt:e.type});i={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ph)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function ZR(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?$i(o.updateTime):$i(c);return d.isEqual(xe.min())&&(d=$i(c)),new OR(d,o.transformResults||[])})(i,e)))):[]}function JR(s,e){return{documents:[CT(s,e.path)]}}function WR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=CT(s,o);const c=(function(v){if(v.length!==0)return OT(wi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:hl(V.field),direction:nN(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Rm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function eN(s){let e=YR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){nt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const V=DT(w);return V instanceof wi&&lT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(W){return new eu(fl(W.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,Ch(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,K=w.values||[];return new dh(K,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const V=!w.before,K=w.values||[];return new dh(K,V)})(i.endAt)),vR(e,o,d,c,p,"F",_,v)}function tN(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function DT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=fl(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=fl(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fl(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fl(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Zt.create(fl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return wi.create(i.compositeFilter.filters.map((a=>DT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function nN(s){return HR[s]}function iN(s){return GR[s]}function sN(s){return FR[s]}function hl(s){return{fieldPath:s.canonicalString()}}function fl(s){return mn.fromServerFormat(s.fieldPath)}function OT(s){return s instanceof Zt?(function(i){if(i.op==="=="){if(sv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(i.field),op:iN(i.op),value:i.value}}})(s):s instanceof wi?(function(i){const a=i.getFilters().map((o=>OT(o)));return a.length===1?a[0]:{compositeFilter:{op:sN(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function rN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function MT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class pr{constructor(e,i,a,o,c=xe.min(),d=xe.min(),p=pn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aN{constructor(e){this.yt=e}}function lN(s){const e=eN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mh(e,e.limit,"L"):e}class oN{constructor(){this.Cn=new uN}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(br.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class uN{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new en(yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new en(yt.comparator)).toArray()}}const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(VT,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}const vv="LruGarbageCollector",cN=1048576;function Tv([s,e],[i,a]){const o=Fe(s,i);return o===0?Fe(e,a):o}class hN{constructor(e){this.Ir=e,this.buffer=new en(Tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ml(i)?oe(vv,"Ignoring IndexedDB error during garbage collection: ",i):await Ol(i)}await this.Vr(3e5)}))}}class dN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Nh.ce);const a=new hN(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(_v)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(v=Date.now(),ul()<=Ge.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function mN(s,e){return new dN(s,e)}class gN{constructor(){this.changes=new _a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class yN{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Qo(a.mutation,o,Yn.empty(),bt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Lo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=Is();const d=Ko(),p=(function(){return Ko()})();return i.forEach(((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Cr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Qo(A.mutation,v,A.mutation.getFieldMask(),bt.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new pN(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Ko();let o=new Ct(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Yn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const w=(o.get(p.batchId)||Ke()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,w=pT();A.forEach((V=>{if(!c.has(V)){const K=bT(i.get(V),a.get(V));K!==null&&w.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(oa());let p=$o,_=c;return d.next((v=>Z.forEach(v,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ke()))).next((A=>({batchId:p,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=Lo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Lo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(_=>{const v=(function(w,V){return new Vl(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((A=>{A.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Tn.newInvalidDocument(A)))}));let p=Lo();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&Qo(A.mutation,v,Yn.empty(),bt.now()),Oh(i,v)&&(p=p.insert(_,v))})),p}))}}class _N{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:lN(o.bundledQuery),readTime:$i(o.readTime)}})(i)),Z.resolve()}}class vN{constructor(){this.overlays=new Ct(ye.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Ct(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=oa(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new UR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class TN{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ug{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new an(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new an(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new yt([])),a=new an(i,e),o=new an(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new yt([])),a=new an(i,e),o=new an(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new an(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class an{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class EN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new an(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new an(i,0),o=new an(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new en(Fe);return i.forEach((o=>{const c=new an(o,0),d=new an(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new an(new ye(c),0);let p=new en(Fe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new an(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new an(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bN{constructor(e){this.ri=e,this.docs=(function(){return new Ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=Is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Tn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Is();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Zx($x(A),a)<=0||(o.has(A.key)||Oh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new AN(this)}getSize(e){return Z.resolve(this.size)}}class AN extends gN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SN{constructor(e){this.persistence=e,this.si=new _a((i=>tg(i)),ng),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class kT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Nh(0),this.li=!1,this.li=!0,this.hi=new TN,this.referenceDelegate=e(this),this.Pi=new SN(this),this.indexManager=new oN,this.remoteDocumentCache=(function(o){return new bN(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new aN(i),this.Ii=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new EN(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new wN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class wN extends Wx{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new _a((a=>nR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=mN(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(e,i.fromCache,a,o)}}class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pS()?8:eR(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xN;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ul()<=Ge.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",cl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ul()<=Ge.DEBUG&&oe("QueryEngine","Query:",cl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ul()<=Ge.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",cl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(i))):Z.resolve())}ys(e,i){if(ov(i))return Z.resolve(null);let a=Xi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mh(i,null,"F"),a=Xi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,mh(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,a,o){return ov(i)||o.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(ul()<=Ge.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(i)),this.vs(e,d,i,Xx(o,$o)).next((p=>p)))}))}Ds(e,i){let a=new en(dT(e));return i.forEach(((o,c)=>{Oh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return ul()<=Ge.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",cl(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",NN=3e8;class CN{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ct(Fe),this.xs=new _a((c=>tg(c)),ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function IN(s,e,i,a){return new CN(s,e,i,a)}async function jT(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ke();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function DN(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const w=v.batch,V=w.keys();let K=Z.resolve();return V.forEach((W=>{K=K.next((()=>A.getEntry(_,W))).next((se=>{const ne=v.docVersions.get(W);nt(ne!==null,48541),se.version.compareTo(ne)<0&&(w.applyToRemoteDocument(se,v),se.isValidDocument()&&(se.setReadTime(v.commitVersion),A.addEntry(se)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ke();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function UT(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ON(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,w)=>{const V=o.get(w);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let K=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(pn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),o=o.insert(w,K),(function(se,ne,de){return se.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=NN?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(V,K,A)&&p.push(i.Pi.updateTargetData(c,K))}));let _=Is(),v=Ke();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(MN(c,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!a.isEqual(xe.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function MN(s,e,i){let a=Ke(),o=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Is();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):oe(fg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function VN(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function kN(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Dm(s,e,i){const a=Ce(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ml(d))throw d;oe(fg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Ev(s,e,i){const a=Ce(s);let o=xe.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const w=Ce(_),V=w.xs.get(A);return V!==void 0?Z.resolve(w.Ms.get(V)):w.Pi.getTargetData(v,A)})(a,d,Xi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Ke()))).next((p=>(jN(a,ER(e),p),{documents:p,Qs:c})))))}function jN(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class bv{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.Mo=new bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PN{Oo(e){}shutdown(){}}const Av="ConnectivityMonitor";class Sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Om(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const im="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Om(),p=this.zo(e,i.toUriEncodedString());oe(im,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),A=Nl(v);return this.Jo(e,p,_,a,A).then((w=>(oe(im,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw El(im,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=LN[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class BN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class qN extends zN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Om();return new Promise(((p,_)=>{const v=new z1;v.setWithCredentials(!0),v.listenOnce(B1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Yc.NO_ERROR:const w=v.getResponseJson();oe(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Yc.TIMEOUT:oe(_n,`RPC '${e}' ${d} timed out`),_(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const V=v.getStatus();if(oe(_n,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const se=(function(de){const ge=de.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN})(W.status);_(new le(se,W.message))}else _(new le($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new le($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(_n,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);oe(_n,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G1(),p=H1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");oe(_n,`Creating RPC '${e}' stream ${o}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let V=!1,K=!1;const W=new BN({Yo:ne=>{K?oe(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(V||(oe(_n,`Opening RPC '${e}' stream ${o} transport.`),w.open(),V=!0),oe(_n,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),se=(ne,de,ge)=>{ne.listen(de,(me=>{try{ge(me)}catch(Ue){setTimeout((()=>{throw Ue}),0)}}))};return se(w,Po.EventType.OPEN,(()=>{K||(oe(_n,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(w,Po.EventType.CLOSE,(()=>{K||(K=!0,oe(_n,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(w))})),se(w,Po.EventType.ERROR,(ne=>{K||(K=!0,El(_n,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),W.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),se(w,Po.EventType.MESSAGE,(ne=>{if(!K){const de=ne.data[0];nt(!!de,16349);const ge=de,me=ge?.error||ge[0]?.error;if(me){oe(_n,`RPC '${e}' stream ${o} received error:`,me);const Ue=me.status;let Me=(function(x){const R=$t[x];if(R!==void 0)return ST(R)})(Ue),Ie=me.message;Me===void 0&&(Me=$.INTERNAL,Ie="Unknown error status: "+Ue+" with message "+me.message),K=!0,W.a_(new le(Me,Ie)),w.close()}else oe(_n,`RPC '${e}' stream ${o} received:`,de),W.u_(de)}})),se(p,q1.STAT_EVENT,(ne=>{ne.stat===Tm.PROXY?oe(_n,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===Tm.NOPROXY&&oe(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sm(){return typeof document<"u"?document:null}function jh(s){return new KR(s,!0)}class PT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wv="PersistentStream";class LT{constructor(e,i,a,o,c,d,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Cs(i.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HN extends LT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=XR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?$i(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Im(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=wm(_)?{documents:JR(c,_)}:{query:WR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RT(c,d.resumeToken);const v=Rm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=yh(c,d.snapshotVersion.toTimestamp());const v=Rm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const a=tN(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Im(this.serializer),i.removeTarget=e,this.q_(i)}}class GN extends LT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ZR(e.writeResults,e.commitTime),a=$i(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>$R(this.serializer,a)))};this.q_(i)}}class FN{}class KN extends FN{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Nm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Nm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class YN{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{va(this)&&(oe(ga,"Restarting streams for network reachability change."),await(async function(_){const v=Ce(_);v.Ea.add(4),await du(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Uh(v)})(this))}))})),this.Ra=new QN(a,o)}}async function Uh(s){if(va(s))for(const e of s.da)await e(!0)}async function du(s){for(const e of s.da)await e(!1)}function zT(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pg(i)?gg(i):kl(i).O_()&&mg(i,e))}function dg(s,e){const i=Ce(s),a=kl(i);i.Ia.delete(e),a.O_()&&BT(i,e),i.Ia.size===0&&(a.O_()?a.L_():va(i)&&i.Ra.set("Unknown"))}function mg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}kl(s).Y_(e)}function BT(s,e){s.Va.Ue(e),kl(s).Z_(e)}function gg(s){s.Va=new qR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.Ra.ua()}function pg(s){return va(s)&&!kl(s).x_()&&s.Ia.size>0}function va(s){return Ce(s).Ea.size===0}function qT(s){s.Va=void 0}async function XN(s){s.Ra.set("Online")}async function $N(s){s.Ia.forEach(((e,i)=>{mg(s,e)}))}async function ZN(s,e){qT(s),pg(s)?(s.Ra.ha(e),gg(s)):s.Ra.set("Unknown")}async function JN(s,e,i){if(s.Ra.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){oe(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(s,a)}else if(e instanceof Jc?s.Va.Ze(e):e instanceof wT?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await UT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(pn.EMPTY_BYTE_STRING,A.snapshotVersion)),BT(c,_);const w=new pr(A.target,_,v,A.sequenceNumber);mg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){oe(ga,"Failed to raise snapshot:",a),await vh(s,a)}}async function vh(s,e,i){if(!Ml(e))throw e;s.Ea.add(1),await du(s),s.Ra.set("Offline"),i||(i=()=>UT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uh(s)}))}function HT(s,e){return e().catch((i=>vh(s,i,e)))}async function Ph(s){const e=Ce(s),i=xr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;WN(e);)try{const o=await VN(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,eC(e,o)}catch(o){await vh(e,o)}GT(e)&&FT(e)}function WN(s){return va(s)&&s.Ta.length<10}function eC(s,e){s.Ta.push(e);const i=xr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function GT(s){return va(s)&&!xr(s).x_()&&s.Ta.length>0}function FT(s){xr(s).start()}async function tC(s){xr(s).ra()}async function nC(s){const e=xr(s);for(const i of s.Ta)e.ea(i.mutations)}async function iC(s,e,i){const a=s.Ta.shift(),o=ag.from(a,e,i);await HT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ph(s)}async function sC(s,e){e&&xr(s).X_&&await(async function(a,o){if((function(d){return LR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();xr(a).B_(),await HT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ph(a)}})(s,e),GT(s)&&FT(s)}async function xv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(ga,"RemoteStore received new credentials");const a=va(i);i.Ea.add(3),await du(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uh(i)}async function rC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Uh(i)):e||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function kl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new HN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:XN.bind(null,s),t_:$N.bind(null,s),r_:ZN.bind(null,s),H_:JN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),qT(s))}))),s.ma}function xr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new GN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tC.bind(null,s),r_:sC.bind(null,s),ta:nC.bind(null,s),na:iC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new yg(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,e){if(Cs("AsyncQueue",`${e}: ${s}`),Ml(s))return new le($.UNAVAILABLE,`${e}: ${s}`);throw s}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Lo(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new _l;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Rv{constructor(){this.ga=new Ct(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class xl{constructor(e,i,a,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xl(e,i,_l.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lC{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=Nv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function Nv(){return new _a((s=>fT(s)),Dh)}async function oC(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new aC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=_g(d,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vg(i)}async function uC(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&vg(i)}function hC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function vg(s){s.Ca.forEach((e=>{e.next()}))}var Mm,Cv;(Cv=Mm||(Mm={})).Ma="default",Cv.Cache="cache";class fC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new xl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class KT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class dC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=dT(e),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const V=o.get(A),K=Oh(this.query,w)?w:null,W=!!V&&this.mutatedKeys.has(V.key),se=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ne=!1;V&&K?V.data.isEqual(K.data)?W!==se&&(a.track({type:3,doc:K}),ne=!0):this.su(V,K)||(a.track({type:2,doc:K}),ne=!0,(_&&this.eu(K,_)>0||v&&this.eu(K,v)<0)&&(p=!0)):!V&&K?(a.track({type:0,doc:K}),ne=!0):V&&!K&&(a.track({type:1,doc:V}),ne=!0,(_||v)&&(p=!0)),ne&&(K?(d=d.add(K),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,W){const se=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:ne})}};return se(K)-se(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new xl(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new QT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new KT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class mC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class gC{constructor(e){this.key=e,this.hu=!1}}class pC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((p=>fT(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(ye.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yC(s,e,i=!0){const a=WT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await YT(a,e,i,!0),o}async function _C(s,e){const i=WT(s);await YT(i,e,!0,!1)}async function YT(s,e,i,a){const o=await kN(s.localStore,Xi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await vC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&zT(s.remoteStore,o),p}async function vC(s,e,i,a,o){s.pu=(w,V,K)=>(async function(se,ne,de,ge){let me=ne.view.ru(de);me.Cs&&(me=await Ev(se.localStore,ne.query,!1).then((({documents:C})=>ne.view.ru(C,me))));const Ue=ge&&ge.targetChanges.get(ne.targetId),Me=ge&&ge.targetMismatches.get(ne.targetId)!=null,Ie=ne.view.applyChanges(me,se.isPrimaryClient,Ue,Me);return Dv(se,ne.targetId,Ie.au),Ie.snapshot})(s,w,V,K);const c=await Ev(s.localStore,e,!0),d=new dC(e,c.Qs),p=d.ru(c.documents),_=fu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);Dv(s,i,v.au);const A=new mC(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function TC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Dh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dg(a.remoteStore,o.targetId),Vm(a,o.targetId)})).catch(Ol)):(Vm(a,o.targetId),await Dm(a.localStore,o.targetId,!0))}async function EC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dg(i.remoteStore,a.targetId))}async function bC(s,e,i){const a=CC(s);try{const o=await(function(d,p){const _=Ce(d),v=bt.now(),A=p.reduce(((K,W)=>K.add(W.key)),Ke());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=Is(),se=Ke();return _.Ns.getEntries(K,A).next((ne=>{W=ne,W.forEach(((de,ge)=>{ge.isValidDocument()||(se=se.add(de))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,W))).next((ne=>{w=ne;const de=[];for(const ge of p){const me=VR(ge,w.get(ge.key).overlayedDocument);me!=null&&de.push(new Cr(ge.key,me,sT(me.value.mapValue),mi.exists(!0)))}return _.mutationQueue.addMutationBatch(K,v,de,p)})).next((ne=>{V=ne;const de=ne.applyToLocalDocumentSet(w,se);return _.documentOverlayCache.saveOverlays(K,ne.batchId,de)}))})).then((()=>({batchId:V.batchId,changes:gT(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ct(Fe)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await mu(a,o.changes),await Ph(a.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");i.reject(c)}}async function XT(s,e){const i=Ce(s);try{const a=await ON(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?nt(d.hu,14607):o.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await mu(i,a,e)}catch(a){await Ol(a)}}function Iv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,w)=>{for(const V of w.Sa)V.va(p)&&(v=!0)})),v&&vg(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Ct(ye.comparator);d=d.insert(c,Tn.newNoDocument(c,xe.min()));const p=Ke().add(c),_=new kh(xe.min(),new Map,new Ct(Fe),d,p);await XT(a,_),a.du=a.du.remove(c),a.Au.delete(e),Eg(a)}else await Dm(a.localStore,e,!1).then((()=>Vm(a,e,i))).catch(Ol)}async function SC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await DN(i.localStore,e);ZT(i,a,null),$T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await mu(i,o)}catch(o){await Ol(o)}}async function wC(s,e,i){const a=Ce(s);try{const o=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(nt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(a.localStore,e);ZT(a,e,i),$T(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await mu(a,o)}catch(o){await Ol(o)}}function $T(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function ZT(s,e,i){const a=Ce(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||JT(s,a)}))}function JT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Eg(s))}function Dv(s,e,i){for(const a of i)a instanceof KT?(s.Ru.addReference(a.key,e),xC(s,a)):a instanceof QT?(oe(Tg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||JT(s,a.key)):Ee(19791,{wu:a})}function xC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(Tg,"New document in limbo: "+i),s.Eu.add(a),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(yt.fromString(e)),a=s.fu.next();s.Au.set(a,new gC(i)),s.du=s.du.insert(i,a),zT(s.remoteStore,new pr(Xi(ig(i.path)),a,"TargetPurposeLimboResolution",Nh.ce))}}async function mu(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=hg.As(_.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const A=Ce(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(v,(V=>Z.forEach(V.Es,(K=>A.persistence.referenceDelegate.addReference(w,V.targetId,K))).next((()=>Z.forEach(V.ds,(K=>A.persistence.referenceDelegate.removeReference(w,V.targetId,K)))))))))}catch(w){if(!Ml(w))throw w;oe(fg,"Failed to update sequence numbers: "+w)}for(const w of v){const V=w.targetId;if(!w.fromCache){const K=A.Ms.get(V),W=K.snapshotVersion,se=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(V,se)}}})(a.localStore,c))}async function RC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(Tg,"User change. New user:",e.toKey());const a=await jT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new le($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(i,a.Ls)}}function NC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function WT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.H_=cC.bind(null,e.eventManager),e.Pu.yu=hC.bind(null,e.eventManager),e}function CC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wC.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return IN(this.persistence,new RN,e.initialUser,this.serializer)}Cu(e){return new kT(cg.mi,this.serializer)}Du(e){return new UN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class IC extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fN(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new kT((a=>_h.mi(a,i)),this.serializer)}}class km{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lC})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=(function(c){return new qN(c)})(e.databaseInfo);return(function(c,d,p,_){return new KN(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new YN(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Sv.v()?new Sv:new PN})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,A){const w=new pC(o,c,d,p,_,v);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);oe(ga,"RemoteStore shutting down."),a.Ea.add(5),await du(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class DC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class OC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_g(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await jT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ov(s,e){s.asyncQueue.verifyOperationInProgress();const i=await MC(s);oe(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>xv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>xv(e.remoteStore,o))),s._onlineComponents=e}async function MC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Rr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;El("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new Th)}}else oe(Rr,"Using default OfflineComponentProvider"),await rm(s,new IC(void 0));return s._offlineComponents}async function eE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Rr,"Using user provided OnlineComponentProvider"),await Ov(s,s._uninitializedComponentsProvider._online)):(oe(Rr,"Using default OnlineComponentProvider"),await Ov(s,new km))),s._onlineComponents}function VC(s){return eE(s).then((e=>e.syncEngine))}async function Mv(s){const e=await eE(s),i=e.eventManager;return i.onListen=yC.bind(null,e.syncEngine),i.onUnlisten=TC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=_C.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),i}function tE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Vv=new Map;const nE="firestore.googleapis.com",kv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nE,this.ssl=kv}else this.host=e.host,this.ssl=e.ssl??kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Px;switch(a.type){case"firstParty":return new qx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Vv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),Vv.delete(i),a.terminate())})(this),Promise.resolve()}}function kC(s,e,i,a={}){s=Yi(s,Lh);const o=Nl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(e1(`https://${p}`),t1("Firestore",!0)),c.host!==nE&&c.host!==p&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!ha(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=vn.MOCK_USER;else{v=lS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vn(w)}s._authCredentials=new Lx(new K1(v,A))}}class Ir{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class Bt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(cu(i,Bt._jsonSchema))return new Bt(e,a||null,new ye(yt.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Jt("string",Bt._jsonSchemaVersion),referencePath:Jt("string")};class Er extends Ir{constructor(e,i,a){super(e,i,ig(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ye(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function am(s,e,...i){if(s=gn(s),Q1("collection","path",e),s instanceof Lh){const a=yt.fromString(e,...i);return Y_(a),new Er(s,null,a)}{if(!(s instanceof Bt||s instanceof Er))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return Y_(a),new Er(s.firestore,null,a)}}function Nt(s,e,...i){if(s=gn(s),arguments.length===1&&(e=Zm.newId()),Q1("doc","path",e),s instanceof Lh){const a=yt.fromString(e,...i);return Q_(a),new Bt(s,null,new ye(a))}{if(!(s instanceof Bt||s instanceof Er))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(yt.fromString(e,...i));return Q_(a),new Bt(s.firestore,s instanceof Er?s.converter:null,new ye(a))}}const Uv="AsyncQueue";class Pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&oe(Uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;oe(Uv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=yg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Lv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function zv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pa extends Lh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function jC(s,e){const i=typeof s=="object"?s:r1(),a=typeof s=="string"?s:hh,o=Bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=rS("firestore");c&&kC(o,...c)}return o}function iE(s){if(s._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||UC(s),s._firestoreClient}function UC(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new rR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new OC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(pn.fromBase64String(e))}catch(i){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new di(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Jt("string",di._jsonSchemaVersion),bytes:Jt("string")};class zh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class Zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Jt("string",Zi._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class Ji{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ji(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Jt("string",Ji._jsonSchemaVersion),vectorValues:Jt("object")};const PC=/^__.*__$/;class LC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}class sE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:s})}}class Ag{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rE(this.Ac)&&PC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jh(e)}Cc(e,i,a,o=!1){return new Ag({Ac:e,methodName:i,Dc:a,path:mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new zC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function aE(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Sg("Data must be an object, but it was:",d,a);const p=lE(a,d);let _,v;if(c.merge)_=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const V=jm(e,w,i);if(!d.contains(V))throw new le($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);uE(A,V)||A.push(V)}_=new Yn(A),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new LC(new Un(p),_,v)}class qh extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function BC(s,e,i,a){const o=s.Cc(1,e,i);Sg("Data must be an object, but it was:",o,a);const c=[],d=Un.empty();Nr(a,((_,v)=>{const A=wg(e,_,i);v=gn(v);const w=o.yc(A);if(v instanceof qh)c.push(A);else{const V=gu(v,w);V!=null&&(c.push(A),d.set(A,V))}}));const p=new Yn(c);return new sE(d,p,o.fieldTransforms)}function qC(s,e,i,a,o,c){const d=s.Cc(1,e,i),p=[jm(e,a,i)],_=[o];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(jm(e,c[V])),_.push(c[V+1]);const v=[],A=Un.empty();for(let V=p.length-1;V>=0;--V)if(!uE(v,p[V])){const K=p[V];let W=_[V];W=gn(W);const se=d.yc(K);if(W instanceof qh)v.push(K);else{const ne=gu(W,se);ne!=null&&(v.push(K),A.set(K,ne))}}const w=new Yn(v);return new sE(A,w,d.fieldTransforms)}function HC(s,e,i,a=!1){return gu(i,s.Cc(a?4:3,e))}function gu(s,e){if(oE(s=gn(s)))return Sg("Unsupported field value:",e,s),lE(s,e);if(s instanceof bg)return(function(a,o){if(!rE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=gu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=bt.fromDate(a);return{timestampValue:yh(o.serializer,c)}}if(a instanceof bt){const c=new bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,c)}}if(a instanceof Zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof di)return{bytesValue:RT(o.serializer,a._byteString)};if(a instanceof Bt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ji)return(function(d,p){return{mapValue:{fields:{[nT]:{stringValue:iT},[fh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return sg(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rh(a)}`)})(s,e)}function lE(s,e){const i={};return $1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const c=gu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function oE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof bt||s instanceof Zi||s instanceof di||s instanceof Bt||s instanceof bg||s instanceof Ji)}function Sg(s,e,i){if(!oE(i)||!Y1(i)){const a=Rh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function jm(s,e,i){if((e=gn(e))instanceof zh)return e._internalPath;if(typeof e=="string")return wg(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const GC=new RegExp("[~\\*/\\[\\]]");function wg(s,e,i){if(e.search(GC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new zh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new le($.INVALID_ARGUMENT,p+s+_)}function uE(s,e){return s.some((i=>i.isEqual(e)))}class cE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FC extends cE{data(){return super.data()}}function xg(s,e){return typeof e=="string"?wg(s,e):e instanceof zh?e._internalPath:e._delegate._internalPath}function KC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Ng extends Rg{}function QC(s,e,...i){let a=[];e instanceof Rg&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ig)).length,p=c.filter((_=>_ instanceof Cg)).length;if(d>1||d>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Cg extends Ng{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Cg(e,i,a)}_apply(e){const i=this._parse(e);return hE(e._query,i),new Ir(e.firestore,e.converter,xm(e._query,i))}_parse(e){const i=Bh(e.firestore);return(function(c,d,p,_,v,A,w){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){qv(w,A);const W=[];for(const se of w)W.push(Bv(_,c,se));V={arrayValue:{values:W}}}else V=Bv(_,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||qv(w,A),V=HC(p,d,w,A==="in"||A==="not-in");return Zt.create(v,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ig extends Rg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ig(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:wi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)hE(d,_),d=xm(d,_)})(e._query,i),new Ir(e.firestore,e.converter,xm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Ng{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Dg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(c,d)})(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Vl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function YC(s,e="asc"){const i=e,a=xg("orderBy",s);return Dg._create(a,i)}class Og extends Ng{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new Og(e,i,a)}_apply(e){return new Ir(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function XC(s){return Og._create("limit",s,"F")}function Bv(s,e,i){if(typeof(i=gn(i))=="string"){if(i==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&i.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(yt.fromString(i));if(!ye.isDocumentKey(a))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nv(s,new ye(a))}if(i instanceof Bt)return nv(s,i._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(i)}.`)}function qv(s,e){if(!Array.isArray(s)||s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hE(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class $C{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[fh].arrayValue?.values?.map((a=>zt(a.doubleValue)));return new Ji(i)}convertGeoPoint(e){return new Zi(zt(e.latitude),zt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ih(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yt.fromString(e);nt(MT(a),9688,{name:e});const o=new Jo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function fE(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends cE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(xg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Jt("string",ca._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Wc extends ca{data(e={}){return super.data(e)}}class vl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new Bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:ZC(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Jt("string",vl._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class dE extends $C{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}function Gi(s,e,i){s=Yi(s,Bt);const a=Yi(s.firestore,pa),o=fE(s.converter,e,i);return Hh(a,[aE(Bh(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,mi.none())])}function Ts(s,e,i,...a){s=Yi(s,Bt);const o=Yi(s.firestore,pa),c=Bh(o);let d;return d=typeof(e=gn(e))=="string"||e instanceof zh?qC(c,"updateDoc",s._key,e,i,a):BC(c,"updateDoc",s._key,e),Hh(o,[d.toMutation(s._key,mi.exists(!0))])}function Hc(s){return Hh(Yi(s.firestore,pa),[new rg(s._key,mi.none())])}function JC(s,e){const i=Yi(s.firestore,pa),a=Nt(s),o=fE(s.converter,e);return Hh(i,[aE(Bh(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,mi.exists(!1))]).then((()=>a))}function Hv(s,...e){s=gn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||zv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Bt)d=Yi(s.firestore,pa),p=ig(s._key.path),c={next:_=>{e[a]&&e[a](WC(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Yi(s,Ir);d=Yi(_.firestore,pa),p=_._query;const v=new dE(d);c={next:A=>{e[a]&&e[a](new vl(d,v,_,A))},error:e[a+1],complete:e[a+2]},KC(s._query)}return(function(v,A,w,V){const K=new DC(V),W=new fC(A,K,w);return v.asyncQueue.enqueueAndForget((async()=>oC(await Mv(v),W))),()=>{K.Nu(),v.asyncQueue.enqueueAndForget((async()=>uC(await Mv(v),W)))}})(iE(d),p,o,c)}function Hh(s,e){return(function(a,o){const c=new ua;return a.asyncQueue.enqueueAndForget((async()=>bC(await VC(a),o,c))),c.promise})(iE(s),e)}function WC(s,e,i){const a=i.docs.get(e._key),o=new dE(s);return new ca(s,o,e._key,a,new Bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Dl=o})(Cl),Tl(new fa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new pa(new zx(a.getProvider("auth-internal")),new Hx(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(v.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vr(H_,G_,e),vr(H_,G_,"esm2020")})();const eI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883",measurementId:"G-7ZC94CFHVY"},mE=s1(eI),lm=jx(mE),Et=jC(mE),aa=()=>Math.random().toString(36).substr(2,9),ya=(s=new Date)=>{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]},tI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),a=e.getDate()-i,o=new Date(e.setDate(a));return o.setHours(0,0,0,0),o},Mg=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=tI(e),a=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),a.push(ya(c))}return a},fn=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Rl=s=>{const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},gE=s=>{const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},bh=s=>{if(!s)return"";const[e,i]=s.split(":"),a=new Date;return a.setHours(e),a.setMinutes(i),a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},Um=["","","","","","","","","","","","","","","","","","","",""],Mt=({children:s,onClick:e,variant:i="primary",className:a="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return y.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${a}`,...c,children:s})},ml=({children:s,className:e=""})=>y.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),Es=({isOpen:s,onClose:e,title:i,children:a})=>s?y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[y.jsx("h3",{className:"font-bold text-gray-800",children:i}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:y.jsx(Ah,{size:20})})]}),y.jsx("div",{className:"p-4 overflow-y-auto",children:a})]})}):null,nI=({onSuccess:s,onCancel:e,targetPin:i,title:a,onForgot:o})=>{const[c,d]=fe.useState(""),[p,_]=fe.useState(!1),v=A=>{if(c.length<4){const w=c+A;d(w),w.length===4&&(w===i?s():(_(!0),setTimeout(()=>{d(""),_(!1)},500)))}};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[y.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:a||"Enter PIN"}),y.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(A=>y.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c.length>A?p?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},A))}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(A=>y.jsx("button",{onClick:()=>v(A),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:A},A)),y.jsx("div",{}),y.jsx("button",{onClick:()=>v(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),y.jsx("button",{onClick:()=>d(A=>A.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:y.jsx(Ah,{size:24})})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Mt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),y.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[y.jsx(wA,{size:12})," Forgot PIN?"]})]})]})})};function iI(){const[s,e]=fe.useState(null),[i,a]=fe.useState([]),[o,c]=fe.useState([]),[d,p]=fe.useState([]),[_,v]=fe.useState([]),[A,w]=fe.useState([]),[V,K]=fe.useState([]),[W,se]=fe.useState("login"),[ne,de]=fe.useState(null),[ge,me]=fe.useState(!1),[Ue,Me]=fe.useState(null);fe.useEffect(()=>((async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await b2(lm,__initial_auth_token):await y2(lm)})(),w2(lm,e)),[]),fe.useEffect(()=>{if(o.length>0&&W==="login"&&!ne){const te=localStorage.getItem("chorePiggy_activeUser");if(te){const _e=o.find(Se=>Se.id===te);_e&&(de(_e),se("kid"))}}},[o,W,ne]),fe.useEffect(()=>{if(!s)return;const _e=Object.entries({users:a,kids:c,chores:p,task_log:v,bonuses:w}).map(([Le,lt])=>Hv(am(Et,Le),At=>{const tn=At.docs.map(St=>({id:St.id,...St.data()}));if(lt(tn),Le==="users"&&tn.length===0){const St={id:"parent1",name:"Parent",role:"parent",pin:"1234"};Gi(Nt(Et,"users",St.id),St)}})),Se=QC(am(Et,"history"),YC("date","desc"),XC(50)),Xe=Hv(Se,Le=>{K(Le.docs.map(lt=>({id:lt.id,...lt.data()})))});return()=>{_e.forEach(Le=>Le()),Xe()}},[s]);const Ie={users:i,kids:o,chores:d,taskLog:_,bonuses:A,history:V},C=te=>{de(te),se(te.role==="parent"?"parent":"kid"),me(!1),Me(null),te.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",te.id)},x=()=>{de(null),se("login"),localStorage.removeItem("chorePiggy_activeUser")},R=async()=>{Ue?.role==="parent"?prompt("Enter Master Recovery Code (hint: admin):")==="admin"?(await Ts(Nt(Et,"users",Ue.id),{pin:"1234"}),alert(`${Ue.name}'s PIN has been reset to: 1234`),me(!1),Me(null)):alert("Incorrect recovery code."):alert("Please ask a parent to reset your PIN in the Family Members tab.")},k=async(te,_e,Se,Xe,Le)=>{await JC(am(Et,"history"),{kidId:te,amount:_e,type:Se,description:Xe,date:new Date().toISOString(),by:Le||"System"})},D=async(te,_e,Se,Xe,Le)=>{const lt=o.find(At=>At.id===te);lt&&(await Ts(Nt(Et,"kids",te),{balance:lt.balance+_e}),await k(te,_e,Se,Xe,Le))},j=async(te,_e)=>{const Se=aa();await Gi(Nt(Et,"users",Se),{name:te,pin:_e,role:"parent"})},S=async te=>{await Hc(Nt(Et,"users",te))},be=async(te,_e)=>{await Ts(Nt(Et,"users",te),{pin:_e})},Ve=async(te,_e,Se)=>{const Xe=_.find(Le=>Le.type==="chore"&&Le.taskId===te.id&&Le.kidId===_e&&Le.dateString===Se);if(Xe)await Ts(Nt(Et,"task_log",Xe.id),{status:"pending",timestamp:new Date().toISOString()});else{const Le=aa();await Gi(Nt(Et,"task_log",Le),{type:"chore",taskId:te.id,title:te.title,kidId:_e,dateString:Se,status:"pending",timestamp:new Date().toISOString()})}},H=async(te,_e,Se,Xe,Le)=>{const lt=_.find(St=>St.type==="chore"&&St.taskId===te.id&&St.kidId===_e&&St.dateString===Se);let At=lt?Nt(Et,"task_log",lt.id):Nt(Et,"task_log",aa());const tn={type:"chore",taskId:te.id,title:te.title,kidId:_e,dateString:Se,timestamp:new Date().toISOString()};if(Xe==="approve"){const St=Je(_e),dt=(te.weight||1)*St.valuePerPoint;await Gi(At,{...tn,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!lt||lt.status!=="approved")&&await D(_e,dt,"chore",`${te.title} (${Rl(Se)})`,Le)}else Xe==="fail"?await Gi(At,{...tn,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):Xe==="retry"&&await Gi(At,{...tn,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},ie=async(te,_e)=>{const Se=Nt(Et,"bonuses",te),Le=A.find(lt=>lt.id===te).workers||[];Le.includes(_e)||await Ts(Se,{workers:[...Le,_e]})},ee=async(te,_e)=>{const Se=aa();await Gi(Nt(Et,"task_log",Se),{type:"bonus",taskId:te.id,title:te.title,reward:te.reward,kidId:_e,status:"pending",timestamp:new Date().toISOString(),isGroupTask:te.maxKids>1}),(!te.maxKids||te.maxKids<=1)&&await Hc(Nt(Et,"bonuses",te.id))},he=async(te,_e,Se=1)=>{const Xe=aa();Gi(Nt(Et,"bonuses",Xe),{title:te,reward:_e,status:"available",maxKids:Se,workers:[]})},ke=async(te,_e,Se)=>{await Ts(Nt(Et,"task_log",te.id),{status:"approved",approvedAt:new Date().toISOString()});const Xe=_e,Le=te.dateString?`(${Rl(te.dateString)})`:"(Bonus)";await D(te.kidId,Xe,te.type,`${te.title} ${Le}`,Se)},I=async(te,_e)=>{const Se=_e==="retry"?"changes_requested":"failed";await Ts(Nt(Et,"task_log",te.id),{status:Se,rejectedAt:new Date().toISOString()})},B=async(te,_e,Se)=>{const Xe=aa();await Gi(Nt(Et,"kids",Xe),{name:te,pin:_e,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Um[Math.floor(Math.random()*Um.length)],allowanceAmount:Number(Se)})},J=async(te,_e)=>Ts(Nt(Et,"kids",te),_e),ae=async te=>{Gi(Nt(Et,"chores",aa()),{...te,createdAt:ya()})},ve=async(te,_e)=>Ts(Nt(Et,"chores",te),_e),Ae=async te=>Hc(Nt(Et,"chores",te)),Pe=async te=>Hc(Nt(Et,"bonuses",te)),pt=te=>{if(!te.pausedUntil)return!0;const _e=ya();return te.pausedUntil<=_e},Je=(te,_e=0)=>{const Se=o.find(mt=>mt.id===te);if(!Se)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const Xe=Se.allowanceAmount||0,Le=d.filter(mt=>mt.kidId===te&&pt(mt));let lt=0;Le.forEach(mt=>{const es=mt.weight||1;lt+=es*mt.days.length});const At=lt>0?Xe/lt:0,tn=Mg(_e),St=_.filter(mt=>mt.kidId===te&&mt.type==="chore"&&tn.includes(mt.dateString));let ft=0,dt=0;return St.forEach(mt=>{const Vt=(d.find(Xn=>Xn.id===mt.taskId)?.weight||1)*At;mt.status==="approved"&&(ft+=Vt),mt.status==="pending"&&(dt+=Vt)}),{potential:Xe,earned:ft,pending:dt,totalWeight:lt,valuePerPoint:At}};if(!s)return y.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Loading secure database..."});if(ge)return y.jsx(nI,{targetPin:Ue?.pin,onSuccess:()=>C(Ue),onCancel:()=>{me(!1),Me(null)},title:`Enter ${Ue?.name}'s PIN`,onForgot:R});if(W==="login")return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[y.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[y.jsx(MA,{size:40})," ChorePiggy"]}),y.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"})]}),y.jsxs("div",{className:"max-w-md w-full grid gap-4",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),i.map(te=>y.jsxs("button",{onClick:()=>{Me(te),me(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:y.jsx(Qv,{size:24})}),y.jsx("span",{className:"font-bold text-lg text-gray-700",children:te.name})]}),y.jsx(eh,{className:"text-gray-300 group-hover:text-blue-500"})]},te.id)),y.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),o.map(te=>y.jsxs("button",{onClick:()=>{Me(te),me(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:te.avatar}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:te.name}),y.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),y.jsx(eh,{className:"text-gray-300 group-hover:text-purple-500"})]},te.id)),o.length===0&&y.jsx("div",{className:"text-center p-6 bg-white rounded-xl border border-dashed text-gray-400",children:"No kids yet. Login as parent to setup!"})]})]});if(W==="parent")return y.jsx(sI,{data:Ie,user:ne,logout:x,addKid:B,addChore:ae,updateChore:ve,deleteChore:Ae,addBonus:he,deleteBonus:Pe,updateBalance:D,updateKid:J,approveTask:ke,rejectTask:I,parentOverrideTask:H,calculateWeeklyStats:Je,updateParentPin:be,addParent:j,deleteParent:S});if(W==="kid"){const te=o.find(_e=>_e.id===ne.id)||ne;return y.jsx(rI,{user:te,data:Ie,logout:x,submitChore:Ve,submitBonus:ee,joinBonus:ie,updateKid:J,calculateWeeklyStats:Je,isChoreActive:pt})}}function sI({data:s,user:e,logout:i,addKid:a,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:A,approveTask:w,rejectTask:V,parentOverrideTask:K,calculateWeeklyStats:W,updateParentPin:se,addParent:ne,deleteParent:de}){const[ge,me]=fe.useState("approvals"),[Ue,Me]=fe.useState(!1),[Ie,C]=fe.useState(""),[x,R]=fe.useState(""),[k,D]=fe.useState("10"),[j,S]=fe.useState(null),[be,Ve]=fe.useState(null),[H,ie]=fe.useState(null),[ee,he]=fe.useState(null),[ke,I]=fe.useState(!1),[B,J]=fe.useState(null),[ae,ve]=fe.useState(null),[Ae,Pe]=fe.useState(0),[pt,Je]=fe.useState(""),[te,_e]=fe.useState(""),[Se,Xe]=fe.useState("add"),[Le,lt]=fe.useState(0),[At,tn]=fe.useState([]),[St,ft]=fe.useState(""),[dt,mt]=fe.useState("1"),[es,Os]=fe.useState(""),[Vt,Xn]=fe.useState(""),[Ms,Dr]=fe.useState([0,1,2,3,4]),[$n,Ta]=fe.useState(""),[Or,Ea]=fe.useState("2"),[Mr,xn]=fe.useState("1"),[kt,bn]=fe.useState(""),[_t,Vr]=fe.useState(""),[xi,kr]=fe.useState("");fe.useEffect(()=>{s.kids.length>0&&!At.length&&tn([])},[s.kids]);const An=s.taskLog.filter(M=>M.status==="pending");An.sort((M,Re)=>new Date(Re.timestamp)-new Date(M.timestamp));const Rn=An.length,It=()=>{if(!pt||!j)return;const M=Number(pt),Re=Se==="add"?M:-M,We=Se==="add"?"manual_add":"manual_subtract",jt=Se==="add"?"Manual Deposit":"Cash Out / Purchase";v(j.id,Re,We,te||jt,e.name),S(null),Je(""),_e("")},Zn=async()=>{if(confirm(`Approve all ${Rn} tasks?`))for(const M of An)if(M.type==="chore"){const Re=W(M.kidId),Rt=(s.chores.find(Nn=>Nn.id===M.taskId)?.weight||1)*Re.valuePerPoint;await w(M,Rt,e.name)}else await w(M,0,e.name)},Jn=M=>{M.isGroupTask?(Pe(Math.floor(M.reward/2)),ve(M)):w(M,M.reward,e.name)},Pn=M=>{M.preventDefault(),Ie&&x&&(a(Ie,x,k),Me(!1),C(""),R(""))},jl=M=>{M.preventDefault(),St&&At.length>0&&(At.forEach(Re=>{o({kidId:Re,title:St,days:Ms,weight:Number(dt),startTime:es,doByTime:Vt})}),ft(""),mt("1"),Os(""),Xn(""),tn([]))},ba=()=>{B&&(c(B.id,{title:B.title,days:B.days,weight:Number(B.weight),startTime:B.startTime,doByTime:B.doByTime,pausedUntil:B.pausedUntil||null}),J(null))},Wn=()=>{_t&&xi.length===4&&(ne(_t,xi),Vr(""),kr(""))},ts=M=>Dr(Re=>Re.includes(M)?Re.filter(We=>We!==M):[...Re,M].sort()),Ul=M=>{tn(Re=>Re.includes(M)?Re.filter(We=>We!==M):[...Re,M])};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[y.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[y.jsx(Qv,{})," ",e.name,"'s Dashboard"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>I(!0),className:"text-gray-500 hover:text-blue-600",children:y.jsx(UA,{size:20})}),y.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:y.jsx(Kv,{size:20})})]})]})}),y.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[y.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(M=>y.jsxs("button",{onClick:()=>me(M),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${ge===M?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[M,M==="approvals"&&Rn>0&&y.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:Rn})]},M))}),y.jsx(Es,{isOpen:!!ae,onClose:()=>ve(null),title:"Split Group Reward",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[y.jsx("h4",{className:"font-bold text-gray-800",children:ae?.title}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",fn(ae?.reward)]})]}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",y.jsx("strong",{children:s.kids.find(M=>M.id===ae?.kidId)?.name})," get?"]}),y.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[y.jsx("button",{onClick:()=>Pe(M=>Math.max(0,M-1)),className:"p-3 bg-gray-100 rounded-full",children:y.jsx(Minus,{size:20})}),y.jsx("span",{className:"text-4xl font-bold text-green-600",children:fn(Ae)}),y.jsx("button",{onClick:()=>Pe(M=>M+1),className:"p-3 bg-gray-100 rounded-full",children:y.jsx(Fd,{size:20})})]}),y.jsxs(Mt,{className:"w-full bg-green-600",onClick:()=>{w(ae,Ae,e.name),ve(null)},children:["Approve ",fn(Ae)]})]})}),y.jsx(Es,{isOpen:ke,onClose:()=>I(!1),title:"Family Settings",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:kt,onChange:M=>bn(M.target.value)}),y.jsx(Mt,{size:"sm",onClick:()=>{kt.length===4&&se(e.id,kt),bn(""),alert("PIN updated")},children:"Update"})]})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[y.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),y.jsx("div",{className:"space-y-2",children:s.users.filter(M=>M.role==="parent").map(M=>y.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[y.jsxs("span",{className:"font-bold text-gray-700",children:[M.name," ",M.id===e.id&&"(You)"]}),M.id!==e.id&&y.jsx("button",{onClick:()=>de(M.id),className:"text-red-400 hover:text-red-600",children:y.jsx(Qd,{size:16})})]},M.id))}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:_t,onChange:M=>Vr(M.target.value)}),y.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:xi,onChange:M=>kr(M.target.value)})]}),y.jsxs(Mt,{onClick:Wn,className:"w-full",variant:"outline",children:[y.jsx(QA,{size:16})," Add Guardian"]})]})]})}),ge==="history"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&y.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),y.jsx("div",{className:"space-y-2",children:s.history.map(M=>{const Re=s.kids.find(We=>We.id===M.kidId);return y.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Re&&y.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Re.name}),y.jsx("span",{children:M.description})]}),y.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[y.jsx("span",{children:new Date(M.date).toLocaleString()}),y.jsx("span",{children:""}),y.jsxs("span",{className:"font-medium text-blue-500",children:["by ",M.by||"System"]})]})]}),M.amount!==0&&y.jsxs("span",{className:`font-bold ${M.amount>0?"text-green-600":"text-red-600"}`,children:[M.amount>0?"+":"",fn(M.amount)]})]},M.id)})})]}),y.jsx(Es,{isOpen:!!be,onClose:()=>Ve(null),title:"Edit Profile",children:be&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),y.jsx("input",{className:"w-full border p-2 rounded",value:be.name,onChange:M=>Ve({...be,name:M.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),y.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:be.pin,onChange:M=>Ve({...be,pin:M.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),y.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:be.allowanceAmount,onChange:M=>Ve({...be,allowanceAmount:M.target.value})})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx(Mt,{variant:"ghost",onClick:()=>Ve(null),className:"flex-1",children:"Cancel"}),y.jsx(Mt,{onClick:()=>{A(be.id,{name:be.name,pin:be.pin,allowanceAmount:Number(be.allowanceAmount)}),Ve(null)},className:"flex-1",children:"Save Changes"})]})]})}),y.jsx(Es,{isOpen:!!B,onClose:()=>J(null),title:"Edit Chore",children:B&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),y.jsx("input",{className:"w-full border p-2 rounded",value:B.title,onChange:M=>J({...B,title:M.target.value})})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),y.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:B.startTime||"",onChange:M=>J({...B,startTime:M.target.value})})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),y.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:B.doByTime||"",onChange:M=>J({...B,doByTime:M.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),y.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[y.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:B.weight||1,onChange:M=>J({...B,weight:M.target.value})}),y.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[B.weight||1,"x"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),y.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((M,Re)=>y.jsx("button",{onClick:()=>{const We=B.days.includes(Re)?B.days.filter(jt=>jt!==Re):[...B.days,Re].sort();J({...B,days:We})},className:`w-8 h-8 rounded-full text-xs font-bold ${B.days.includes(Re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:M},Re))})]}),y.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),y.jsxs("div",{className:"flex gap-2 mt-1",children:[y.jsxs("button",{onClick:()=>J({...B,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${B.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[y.jsx(_A,{size:16,className:"inline mr-1"})," Active"]}),y.jsxs("button",{onClick:()=>J({...B,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${B.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[y.jsx(f_,{size:16,className:"inline mr-1"})," Paused"]})]}),B.pausedUntil&&y.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",y.jsx("input",{type:"date",value:B.pausedUntil==="2099-12-31"?"":B.pausedUntil,onChange:M=>J({...B,pausedUntil:M.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx(Mt,{variant:"ghost",onClick:()=>J(null),className:"flex-1",children:"Cancel"}),y.jsx(Mt,{onClick:ba,className:"flex-1",children:"Save Changes"})]})]})}),y.jsx(Es,{isOpen:!!ee,onClose:()=>he(null),title:"Review Task",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",y.jsx("strong",{children:ee?.title}),"?"]}),y.jsxs("button",{onClick:()=>{V(ee,"retry"),he(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:y.jsx(um,{size:20})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),y.jsxs("button",{onClick:()=>{V(ee,"fail"),he(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:y.jsx(IA,{size:20})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),y.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),y.jsx(Es,{isOpen:!!j,onClose:()=>S(null),title:`Bank Manager: ${j?.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[y.jsxs("button",{onClick:()=>Xe("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Se==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[y.jsx(Fd,{size:16})," Deposit"]}),y.jsxs("button",{onClick:()=>Xe("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Se==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[y.jsx(d_,{size:16})," Cash Out"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),y.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:pt,onChange:M=>Je(M.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),y.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:Se==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:te,onChange:M=>_e(M.target.value)})]}),y.jsxs(Mt,{onClick:It,className:`w-full ${Se==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",Se==="add"?"Deposit":"Withdrawal"]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[y.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),y.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(M=>M.kidId===j?.id).slice(0,5).map(M=>y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:M.description}),y.jsxs("div",{className:"text-right",children:[y.jsxs("span",{className:`font-bold block ${M.amount>0?"text-green-600":"text-red-600"}`,children:[M.amount>0?"+":"",fn(M.amount)]}),y.jsx("span",{className:"text-[10px] text-gray-400",children:M.by})]})]},M.id))})]})]})}),y.jsx(Es,{isOpen:!!H,onClose:()=>ie(null),title:`Tasks: ${H?.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[y.jsx("button",{onClick:()=>lt(M=>M-1),className:"p-2 hover:bg-gray-200 rounded",children:y.jsx(Fv,{size:16})}),y.jsx("span",{className:"font-bold text-sm text-gray-700",children:Le===0?"This Week":"Last Week"}),y.jsx("button",{onClick:()=>lt(M=>M+1),className:"p-2 hover:bg-gray-200 rounded",children:y.jsx(eh,{size:16})})]}),y.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Mg(Le).map(M=>{const Re=s.chores.filter(We=>We.kidId===H?.id&&We.days.includes(new Date(M).getDay()));return Re.length===0?null:y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[gE(M)," (",Rl(M),")"]}),Re.map(We=>{const jt=s.taskLog.find(qt=>qt.type==="chore"&&qt.taskId===We.id&&qt.kidId===H.id&&qt.dateString===M),Rt=jt?jt.status:"todo";let Nn="bg-gray-100 border-gray-200";return Rt==="approved"&&(Nn="bg-green-50 border-green-200"),Rt==="pending"&&(Nn="bg-amber-50 border-amber-200"),Rt==="failed"&&(Nn="bg-red-50 border-red-200"),Rt==="changes_requested"&&(Nn="bg-yellow-50 border-yellow-200"),y.jsxs("div",{className:`p-3 rounded-lg border ${Nn} flex justify-between items-center`,children:[y.jsxs("div",{children:[y.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[We.title," ",y.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[We.weight||1,"x"]})]}),y.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:Rt.replace("_"," ")})]}),y.jsxs("div",{className:"flex gap-1",children:[Rt!=="approved"&&y.jsx("button",{onClick:()=>K(We,H.id,M,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:y.jsx(fA,{size:16})}),Rt!=="failed"&&y.jsx("button",{onClick:()=>K(We,H.id,M,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:y.jsx(Ah,{size:16})}),Rt!=="changes_requested"&&Rt!=="approved"&&y.jsx("button",{onClick:()=>K(We,H.id,M,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:y.jsx(um,{size:16})})]})]},`${We.id}-${M}`)})]},M)}),s.chores.filter(M=>M.kidId===H?.id).length===0&&y.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),ge==="approvals"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),Rn>0&&y.jsxs(Mt,{size:"sm",variant:"success",onClick:Zn,children:["Approve All (",Rn,")"]})]}),Rn===0&&y.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),y.jsx("div",{className:"space-y-3",children:An.map(M=>{const Re=s.kids.find(qt=>qt.id===M.kidId),jt=s.chores.find(qt=>qt.id===M.taskId)?.weight||1,Rt=W(M.kidId),Nn=M.type==="bonus"?M.reward:jt*Rt.valuePerPoint;return y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[y.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[y.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Re?.avatar,y.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:y.jsx(th,{size:12,className:"text-amber-500"})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[M.title,M.type==="chore"&&jt>1&&y.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[jt,"x"]}),M.isGroupTask&&y.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[y.jsx("span",{children:Re?.name}),y.jsx("span",{children:""}),y.jsx("span",{className:`font-bold ${M.dateString===ya()?"text-green-600":"text-amber-600"}`,children:M.dateString?Rl(M.dateString):"Bonus Task"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[y.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:fn(Nn)}),y.jsx("button",{onClick:()=>he(M),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:y.jsx(qA,{size:20})}),y.jsx("button",{onClick:()=>Jn(M),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:y.jsx(GA,{size:20})})]})]},M.id)})})]}),ge==="kids"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),y.jsxs(Mt,{onClick:()=>Me(!0),size:"sm",children:[y.jsx(Fd,{size:16})," Add Kid"]})]}),Ue&&y.jsx(ml,{className:"p-4 animate-in slide-in-from-top-4",children:y.jsxs("form",{onSubmit:Pn,className:"space-y-4",children:[y.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),y.jsx("input",{className:"w-full border p-2 rounded",value:Ie,onChange:M=>C(M.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),y.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:x,onChange:M=>R(M.target.value),required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),y.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:k,onChange:M=>D(M.target.value)})]}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx(Mt,{type:"button",variant:"ghost",onClick:()=>Me(!1),children:"Cancel"}),y.jsx(Mt,{type:"submit",children:"Save"})]})]})}),y.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(M=>{const Re=W(M.id);return y.jsxs(ml,{className:"p-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:M.avatar}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-lg",children:M.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",fn(M.allowanceAmount||0)]}),y.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",fn(Re.valuePerPoint)," / point"]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-3xl font-bold text-green-600",children:fn(M.balance)}),y.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),y.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[y.jsxs(Mt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>Ve(M),children:[y.jsx(om,{size:12})," Edit Profile"]}),y.jsxs(Mt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>S(M),children:[y.jsx(d_,{size:14})," Manage Funds"]})]}),y.jsxs(Mt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>ie(M),children:[y.jsx(TA,{size:14})," View Tasks"]})]},M.id)})})]}),ge==="chores"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(ml,{className:"p-6",children:[y.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),y.jsxs("form",{onSubmit:jl,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(M=>y.jsx("button",{type:"button",onClick:()=>Ul(M.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${At.includes(M.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:M.name},M.id))}),At.length===0&&y.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),y.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:St,onChange:M=>ft(M.target.value),required:!0})]}),y.jsxs("div",{className:"w-full sm:w-24",children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),y.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[y.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:dt,onChange:M=>mt(M.target.value)}),y.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),y.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:es,onChange:M=>Os(M.target.value)})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),y.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Vt,onChange:M=>Xn(M.target.value)})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),y.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((M,Re)=>y.jsx("button",{type:"button",onClick:()=>ts(Re),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${Ms.includes(Re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:M},Re))})]}),y.jsx(Mt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(M=>{const Re=s.kids.find(jt=>jt.id===M.kidId),We=M.pausedUntil&&M.pausedUntil>ya();return y.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${We?"opacity-60 grayscale":""}`,children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-gray-800",children:M.title}),M.weight>1&&y.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[M.weight,"x"]}),We&&y.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[y.jsx(f_,{size:10})," Paused"]})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[y.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Re?.name||"Unknown"}),y.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:M.days.length===7?"Everyday":`${M.days.length} days/wk`})]}),(M.startTime||M.doByTime)&&y.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[y.jsx(th,{size:10}),M.startTime?bh(M.startTime):"Start",M.startTime&&M.doByTime&&" - ",M.doByTime?`Due ${bh(M.doByTime)}`:""]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>J(M),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:y.jsx(om,{size:18})}),y.jsx("button",{onClick:()=>d(M.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:y.jsx(Qd,{size:18})})]})]},M.id)})]})]}),ge==="bonuses"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(ml,{className:"p-6 bg-yellow-50 border-yellow-100",children:[y.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[y.jsx(cm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsx("div",{className:"flex-1",children:y.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:$n,onChange:M=>Ta(M.target.value)})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[y.jsx(hm,{size:16,className:"text-yellow-500 mr-2"}),y.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:Mr||1,onChange:M=>xn(M.target.value)})]}),y.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[y.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),y.jsx("input",{className:"w-full outline-none",type:"number",value:Or,onChange:M=>Ea(M.target.value)})]}),y.jsx(Mt,{onClick:()=>{$n&&(p($n,Number(Or),Number(Mr||1)),Ta(""),xn(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(M=>y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:y.jsx(cm,{size:16,className:"fill-yellow-500"})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold text-gray-700 block",children:M.title}),M.maxKids>1&&y.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[y.jsx(hm,{size:10})," Group Task (",M.workers?.length||0,"/",M.maxKids,")"]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:fn(M.reward)}),y.jsx("button",{onClick:()=>_(M.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:y.jsx(Qd,{size:18})})]})]},M.id))]})]})]})]})}function rI({user:s,data:e,logout:i,submitChore:a,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_}){const[v,A]=fe.useState("todo"),[w,V]=fe.useState(!1),[K,W]=fe.useState(s.goalName||""),[se,ne]=fe.useState(s.savingsGoal||0),[de,ge]=fe.useState(!1),[me,Ue]=fe.useState(!1),[Me,Ie]=fe.useState(0),C=Mg(Me),x=p(s.id,Me),R=Math.min(x.earned/x.potential*100,100)||0,k=Math.min(x.pending/x.potential*100,100)||0,D=(S,be)=>{const Ve=e.taskLog.find(H=>H.type==="chore"&&H.taskId===S&&H.kidId===s.id&&H.dateString===be);return Ve?Ve.status:"todo"},j=Me===0;return y.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[y.jsx(Es,{isOpen:de,onClose:()=>ge(!1),title:"Choose Your Avatar",children:y.jsx("div",{className:"grid grid-cols-4 gap-4",children:Um.map(S=>y.jsx("button",{onClick:()=>{d(s.id,{avatar:S}),ge(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:S},S))})}),y.jsx(Es,{isOpen:me,onClose:()=>Ue(!1),title:"Your Money History",children:y.jsxs("div",{className:"space-y-3",children:[e.history.filter(S=>S.kidId===s.id).map(S=>y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-gray-700 text-sm",children:S.description}),y.jsx("div",{className:"text-xs text-gray-400",children:new Date(S.date).toLocaleDateString()})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:`font-bold ${S.amount>0?"text-green-600":"text-red-500"}`,children:[S.amount>0?"+":"",fn(S.amount)]}),y.jsx("div",{className:"text-[10px] text-gray-400",children:S.by})]})]},S.id)),e.history.filter(S=>S.kidId===s.id).length===0&&y.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),y.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:()=>ge(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,y.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:y.jsx(om,{size:10,className:"text-indigo-600"})})]}),y.jsxs("div",{children:[y.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),y.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Rl(C[0])]})]})]}),y.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:y.jsx(Kv,{size:18})})]}),y.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("button",{onClick:()=>Ie(S=>Math.max(S-1,-1)),className:`p-1 rounded ${Me<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:Me<=-1,children:y.jsx(Fv,{size:16})}),y.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:j?"This Week":"Last Week"}),y.jsx("button",{onClick:()=>j?null:Ie(S=>S+1),className:`p-1 rounded ${j?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:y.jsx(eh,{size:16})})]}),y.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[y.jsxs("span",{children:["Earned: ",fn(x.earned)]}),y.jsxs("span",{children:["Weekly Cap: ",fn(x.potential)]})]}),y.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[y.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${R}%`}}),y.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${k}%`}})]}),k>0&&y.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",fn(x.pending)," waiting approval)"]})]}),y.jsx("div",{className:"flex flex-col items-center relative z-10",children:y.jsxs("button",{onClick:()=>Ue(!0),className:"flex flex-col items-center group",children:[y.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",y.jsx(AA,{size:12})]}),y.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:fn(s.balance)})]})})]}),y.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[y.jsxs(ml,{className:"flex p-1",children:[y.jsxs("button",{onClick:()=>A("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[y.jsx(cA,{size:20})," Tasks"]}),y.jsxs("button",{onClick:()=>A("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[y.jsx(Kd,{size:20})," Goal"]}),y.jsxs("button",{onClick:()=>A("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[y.jsx(oA,{size:20})," Bonus"]})]}),v==="todo"&&y.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:C.map((S,be)=>{let Ve=e.chores.filter(ee=>{const he=ee.createdAt||"1970-01-01";return ee.kidId===s.id&&ee.days.includes(new Date(S).getDay())&&_(ee)&&he<=S});if(Ve.length===0)return null;Ve.sort((ee,he)=>ee.startTime&&!he.startTime?-1:!ee.startTime&&he.startTime?1:ee.startTime&&he.startTime&&ee.startTime!==he.startTime?ee.startTime.localeCompare(he.startTime):ee.doByTime&&he.doByTime&&ee.doByTime!==he.doByTime?ee.doByTime.localeCompare(he.doByTime):ee.title.localeCompare(he.title));const H=S===ya(),ie=S>ya();return y.jsxs("div",{className:`space-y-2 ${ie?"opacity-50 grayscale":""}`,children:[y.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${H?"text-indigo-600":"text-gray-500"}`,children:[H?"Today":gE(S)," ",y.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Rl(S),")"]})]}),Ve.map(ee=>{const he=D(ee.id,S),ke=he==="approved",I=he==="pending",B=he==="changes_requested",J=he==="failed";return y.jsxs("div",{className:"relative",children:[y.jsx("button",{disabled:ke||I||ie||J,onClick:()=>a(ee,s.id,S),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden 
                            ${ke?"bg-green-50 border-green-200":I?"bg-amber-50 border-amber-200":B?"bg-yellow-50 border-yellow-300 shadow-md":J?"bg-red-50 border-red-200":ie?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:y.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors 
                                ${ke?"bg-green-500 text-white":I?"bg-amber-400 text-white":B?"bg-yellow-400 text-yellow-900":J?"bg-red-400 text-white":ie?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:ke?y.jsx(h_,{size:14}):I?y.jsx(th,{size:14}):B?y.jsx(um,{size:14}):J?y.jsx(Ah,{size:14}):ie?y.jsx(RA,{size:12}):y.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[y.jsx("span",{className:`font-bold block text-sm ${ke?"text-gray-500 line-through":"text-gray-800"}`,children:ee.title}),ee.weight>1&&y.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[ee.weight,"x"]})]}),(ee.startTime||ee.doByTime)&&y.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[y.jsx(th,{size:10}),ee.startTime?bh(ee.startTime):"Start",ee.startTime&&ee.doByTime&&" - ",ee.doByTime?`Due ${bh(ee.doByTime)}`:""]}),I&&y.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),B&&y.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),J&&y.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),B&&!ie&&y.jsx("button",{onClick:()=>a(ee,s.id,S),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${ee.id}-${S}`)})]},S)})}),v==="savings"&&y.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:y.jsxs(ml,{className:"p-6 text-center space-y-4",children:[y.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),w?y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:K,onChange:S=>W(S.target.value),placeholder:"Goal Name"}),y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),y.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:se,onChange:S=>ne(S.target.value)})]}),y.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[y.jsx(Mt,{size:"sm",variant:"ghost",onClick:()=>V(!1),children:"Cancel"}),y.jsx(Mt,{size:"sm",onClick:()=>{d(s.id,{goalName:K,savingsGoal:Number(se)}),V(!1)},children:"Save"})]})]}):y.jsx(y.Fragment,{children:s.savingsGoal>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx(Kd,{className:"text-indigo-500"}),y.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),y.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",fn(s.savingsGoal)]}),y.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:y.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),y.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),y.jsx(Mt,{variant:"outline",size:"sm",onClick:()=>V(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):y.jsxs("div",{className:"py-8 text-center space-y-4",children:[y.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:y.jsx(Kd,{size:32})}),y.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),y.jsx(Mt,{onClick:()=>V(!0),children:"Set a Goal"})]})})]})}),v==="bonus"&&y.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[y.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&y.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:y.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.bonuses.map(S=>{const be=S.workers||[],Ve=be.includes(s.id),H=be.length>=(S.maxKids||1);return e.taskLog.some(ee=>ee.taskId===S.id&&ee.kidId===s.id)?null:y.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex flex-col gap-3 text-left",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Ve?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:Ve?y.jsx(h_,{size:20}):y.jsx(cm,{className:"fill-yellow-500 text-yellow-500",size:20})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-bold text-gray-800 block",children:S.title}),y.jsxs("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide flex items-center gap-1",children:[S.maxKids>1?y.jsx(hm,{size:12}):null,Ve?"In Progress":"Bonus Task"]})]})]}),y.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",fn(S.reward)]})]}),S.maxKids>1&&y.jsxs("div",{className:"text-xs text-gray-500 px-1 flex gap-2 items-center",children:[y.jsx("div",{className:"flex -space-x-2",children:be.map(ee=>{const he=e.kids.find(ke=>ke.id===ee);return y.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[10px]",title:he?.name,children:he?.avatar},ee)})}),y.jsxs("span",{children:[be.length,"/",S.maxKids," Kids working"]})]}),Ve?y.jsx("button",{onClick:()=>o(S,s.id),className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-md transition-all active:scale-95",children:"Mark Done"}):y.jsx("button",{disabled:H,onClick:()=>c(S.id,s.id),className:`w-full py-2 rounded-xl font-bold border-2 transition-all active:scale-95 ${H?"bg-gray-100 text-gray-400 border-transparent":"bg-white border-yellow-400 text-yellow-700 hover:bg-yellow-50"}`,children:H?"Team Full":"Start Working"})]},S.id)})]})]})]})}tA.createRoot(document.getElementById("root")).render(y.jsx(fe.StrictMode,{children:y.jsx(iI,{})}));
