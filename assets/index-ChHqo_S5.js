(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Kd={exports:{}},ko={};var W_;function iS(){if(W_)return ko;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return ko.Fragment=e,ko.jsx=i,ko.jsxs=i,ko}var e0;function sS(){return e0||(e0=1,Kd.exports=iS()),Kd.exports}var _=sS(),Qd={exports:{}},Ie={};var t0;function rS(){if(t0)return Ie;t0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,W={};function ye(M,Y,se){this.props=M,this.context=Y,this.refs=W,this.updater=se||ee}ye.prototype.isReactComponent={},ye.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ye.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ge(){}ge.prototype=ye.prototype;function ce(M,Y,se){this.props=M,this.context=Y,this.refs=W,this.updater=se||ee}var Qe=ce.prototype=new ge;Qe.constructor=ce,te(Qe,ye.prototype),Qe.isPureReactComponent=!0;var Le=Array.isArray;function be(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Y,se){var ne=se.ref;return{$$typeof:s,type:M,key:Y,ref:ne!==void 0?ne:null,props:se}}function k(M,Y){return R(M.type,Y,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return Y[se]})}var x=/\/+/g;function We(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function At(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,se,ne,Se){var ae=typeof M;(ae==="undefined"||ae==="boolean")&&(M=null);var he=!1;if(M===null)he=!0;else switch(ae){case"bigint":case"string":case"number":he=!0;break;case"object":switch(M.$$typeof){case s:case e:he=!0;break;case S:return he=M._init,G(he(M._payload),Y,se,ne,Se)}}if(he)return Se=Se(M),he=ne===""?"."+We(M,0):ne,Le(Se)?(se="",he!=null&&(se=he.replace(x,"$&/")+"/"),G(Se,Y,se,"",function(Pn){return Pn})):Se!=null&&(O(Se)&&(Se=k(Se,se+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(x,"$&/")+"/")+he)),Y.push(Se)),1;he=0;var ht=ne===""?".":ne+":";if(Le(M))for(var et=0;et<M.length;et++)ne=M[et],ae=ht+We(ne,et),he+=G(ne,Y,se,ae,Se);else if(et=K(M),typeof et=="function")for(M=et.call(M),et=0;!(ne=M.next()).done;)ne=ne.value,ae=ht+We(ne,et++),he+=G(ne,Y,se,ae,Se);else if(ae==="object"){if(typeof M.then=="function")return G(At(M),Y,se,ne,Se);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function ie(M,Y,se){if(M==null)return M;var ne=[],Se=0;return G(M,ne,"","",function(ae){return Y.call(se,ae,Se++)}),ne}function ue(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Re={map:ie,forEach:function(M,Y,se){ie(M,function(){Y.apply(this,arguments)},se)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=A,Ie.Children=Re,Ie.Component=ye,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=ce,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,Y,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=te({},M.props),Se=M.key;if(Y!=null)for(ae in Y.key!==void 0&&(Se=""+Y.key),Y)!w.call(Y,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Y.ref===void 0||(ne[ae]=Y[ae]);var ae=arguments.length-2;if(ae===1)ne.children=se;else if(1<ae){for(var he=Array(ae),ht=0;ht<ae;ht++)he[ht]=arguments[ht+2];ne.children=he}return R(M.type,Se,ne)},Ie.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ie.createElement=function(M,Y,se){var ne,Se={},ae=null;if(Y!=null)for(ne in Y.key!==void 0&&(ae=""+Y.key),Y)w.call(Y,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(Se[ne]=Y[ne]);var he=arguments.length-2;if(he===1)Se.children=se;else if(1<he){for(var ht=Array(he),et=0;et<he;et++)ht[et]=arguments[et+2];Se.children=ht}if(M&&M.defaultProps)for(ne in he=M.defaultProps,he)Se[ne]===void 0&&(Se[ne]=he[ne]);return R(M,ae,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:g,render:M}},Ie.isValidElement=O,Ie.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ue}},Ie.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},Ie.startTransition=function(M){var Y=I.T,se={};I.T=se;try{var ne=M(),Se=I.S;Se!==null&&Se(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(be,De)}catch(ae){De(ae)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),I.T=Y}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(M){return I.H.use(M)},Ie.useActionState=function(M,Y,se){return I.H.useActionState(M,Y,se)},Ie.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Ie.useContext=function(M){return I.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Ie.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Ie.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(M,Y,se){return I.H.useImperativeHandle(M,Y,se)},Ie.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Ie.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Ie.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Ie.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Ie.useReducer=function(M,Y,se){return I.H.useReducer(M,Y,se)},Ie.useRef=function(M){return I.H.useRef(M)},Ie.useState=function(M){return I.H.useState(M)},Ie.useSyncExternalStore=function(M,Y,se){return I.H.useSyncExternalStore(M,Y,se)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var n0;function Pm(){return n0||(n0=1,Qd.exports=rS()),Qd.exports}var oe=Pm(),Yd={exports:{}},jo={},Xd={exports:{}},$d={};var i0;function aS(){return i0||(i0=1,(function(s){function e(G,ie){var ue=G.length;G.push(ie);e:for(;0<ue;){var De=ue-1>>>1,Re=G[De];if(0<o(Re,ie))G[De]=ie,G[ue]=Re,ue=De;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],ue=G.pop();if(ue!==ie){G[0]=ue;e:for(var De=0,Re=G.length,M=Re>>>1;De<M;){var Y=2*(De+1)-1,se=G[Y],ne=Y+1,Se=G[ne];if(0>o(se,ue))ne<Re&&0>o(Se,se)?(G[De]=Se,G[ne]=ue,De=ne):(G[De]=se,G[Y]=ue,De=Y);else if(ne<Re&&0>o(Se,ue))G[De]=Se,G[ne]=ue,De=ne;else break e}}return ie}function o(G,ie){var ue=G.sortIndex-ie.sortIndex;return ue!==0?ue:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],S=1,A=null,D=3,K=!1,ee=!1,te=!1,W=!1,ye=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Qe(G){for(var ie=i(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=G)r(v),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(v)}}function Le(G){if(te=!1,Qe(G),!ee)if(i(y)!==null)ee=!0,be||(be=!0,P());else{var ie=i(v);ie!==null&&At(Le,ie.startTime-G)}}var be=!1,I=-1,w=5,R=-1;function k(){return W?!0:!(s.unstable_now()-R<w)}function O(){if(W=!1,be){var G=s.unstable_now();R=G;var ie=!0;try{e:{ee=!1,te&&(te=!1,ge(I),I=-1),K=!0;var ue=D;try{t:{for(Qe(G),A=i(y);A!==null&&!(A.expirationTime>G&&k());){var De=A.callback;if(typeof De=="function"){A.callback=null,D=A.priorityLevel;var Re=De(A.expirationTime<=G);if(G=s.unstable_now(),typeof Re=="function"){A.callback=Re,Qe(G),ie=!0;break t}A===i(y)&&r(y),Qe(G)}else r(y);A=i(y)}if(A!==null)ie=!0;else{var M=i(v);M!==null&&At(Le,M.startTime-G),ie=!1}}break e}finally{A=null,D=ue,K=!1}ie=void 0}}finally{ie?P():be=!1}}}var P;if(typeof ce=="function")P=function(){ce(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,We=x.port2;x.port1.onmessage=O,P=function(){We.postMessage(null)}}else P=function(){ye(O,0)};function At(G,ie){I=ye(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var ue=D;D=ie;try{return G()}finally{D=ue}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=D;D=G;try{return ie()}finally{D=ue}},s.unstable_scheduleCallback=function(G,ie,ue){var De=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?De+ue:De):ue=De,G){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ue+Re,G={id:S++,callback:ie,priorityLevel:G,startTime:ue,expirationTime:Re,sortIndex:-1},ue>De?(G.sortIndex=ue,e(v,G),i(y)===null&&G===i(v)&&(te?(ge(I),I=-1):te=!0,At(Le,ue-De))):(G.sortIndex=Re,e(y,G),ee||K||(ee=!0,be||(be=!0,P()))),G},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(G){var ie=D;return function(){var ue=D;D=ie;try{return G.apply(this,arguments)}finally{D=ue}}}})($d)),$d}var s0;function lS(){return s0||(s0=1,Xd.exports=aS()),Xd.exports}var Jd={exports:{}},pn={};var r0;function oS(){if(r0)return pn;r0=1;var s=Pm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(y,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,S)},pn.flushSync=function(y){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=S,r.d.f()}},pn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},pn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},pn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var S=v.as,A=g(S,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:K}):S==="script"&&r.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},pn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,A=g(S,v.crossOrigin);r.d.L(y,S,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pn.preloadModule=function(y,v){if(typeof y=="string")if(v){var S=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},pn.requestFormReset=function(y){r.d.r(y)},pn.unstable_batchedUpdates=function(y,v){return y(v)},pn.useFormState=function(y,v,S){return d.H.useFormState(y,v,S)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var a0;function uS(){if(a0)return Jd.exports;a0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=oS(),Jd.exports}var l0;function cS(){if(l0)return jo;l0=1;var s=lS(),e=Pm(),i=uS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===a){p=!0,a=h,l=f;break}if(T===l){p=!0,l=h,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,l=h;break}if(T===l){p=!0,l=f,a=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ye:return"Profiler";case W:return"StrictMode";case Le:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ce:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:We(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return We(t(n))}catch{}}return null}var At=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},De=[],Re=-1;function M(t){return{current:t}}function Y(t){0>Re||(t.current=De[Re],De[Re]=null,Re--)}function se(t,n){Re++,De[Re]=t.current,t.current=n}var ne=M(null),Se=M(null),ae=M(null),he=M(null);function ht(t,n){switch(se(ae,n),se(Se,t),se(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b_(n),t=S_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ne),se(ne,t)}function et(){Y(ne),Y(Se),Y(ae)}function Pn(t){t.memoizedState!==null&&se(he,t);var n=ne.current,a=S_(n,t.type);n!==a&&(se(Se,t),se(ne,a))}function wn(t){Se.current===t&&(Y(ne),Y(Se)),he.current===t&&(Y(he),Do._currentValue=ue)}var Xn,_i;function Tn(t){if(Xn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xn=n&&n[1]||"",_i=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+t+_i}var Vi=!1;function Wt(t,n){if(!t||Vi)return"";Vi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Vi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tn(a):""}function $n(t,n){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return Wt(t.type,!1);case 11:return Wt(t.type.render,!1);case 1:return Wt(t.type,!0);case 31:return Tn("Activity");default:return""}}function vi(t){try{var n="",a=null;do n+=$n(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,ft=s.unstable_scheduleCallback,xn=s.unstable_cancelCallback,Ei=s.unstable_shouldYield,cs=s.unstable_requestPaint,Pt=s.unstable_now,Jn=s.unstable_getCurrentPriorityLevel,ki=s.unstable_ImmediatePriority,ji=s.unstable_UserBlockingPriority,Un=s.unstable_NormalPriority,qs=s.unstable_LowPriority,hs=s.unstable_IdlePriority,Hs=s.log,Pi=s.unstable_setDisableYieldValue,mn=null,It=null;function sn(t){if(typeof Hs=="function"&&Pi(t),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(mn,t)}catch{}}var gt=Math.clz32?Math.clz32:ds,fs=Math.log,Zn=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(fs(t)/Zn|0)|0}var rn=256,Rn=262144,B=4194304;function le(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Te(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=le(l):(p&=T,p!==0?h=le(p):a||(a=T&~t,a!==0&&(h=le(a))))):(T=l&~f,T!==0?h=le(T):p!==0?h=le(p):a||(a=l&~t,a!==0&&(h=le(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ke(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Et(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var t=B;return B<<=1,(B&62914560)===0&&(B=4194304),t}function pt(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Xt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ut(t,n,a,l,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-gt(a),$=1<<Q;T[Q]=0,C[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&gn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function gn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Wn(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Rt(t,n){var a=n&-n;return a=(a&42)!==0?1:ei(a),(a&(t.suspendedLanes|n))!==0?0:a}function ei(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function N(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:K_(t.type))}function _e(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var je=Math.random().toString(36).slice(2),Ye="__reactFiber$"+je,$e="__reactProps$"+je,Lt="__reactContainer$"+je,bn="__reactEvents$"+je,Jh="__reactListeners$"+je,vu="__reactHandles$"+je,Eu="__reactResources$"+je,Ui="__reactMarker$"+je;function xa(t){delete t[Ye],delete t[$e],delete t[bn],delete t[Jh],delete t[vu]}function Li(t){var n=t[Ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Lt]||a[Ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[Ye])return a;t=N_(t)}return n}t=a,a=t.parentNode}return null}function ni(t){if(t=t[Ye]||t[Lt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function zi(t){var n=t[Eu];return n||(n=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Ui]=!0}var Pl=new Set,Ul={};function Bi(t,n){qi(t,n),qi(t+"Capture",n)}function qi(t,n){for(Ul[t]=n,t=0;t<n.length;t++)Pl.add(n[t])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Tu(t){return vt.call(Bl,t)?!0:vt.call(zl,t)?!1:Ll.test(t)?Bl[t]=!0:(zl[t]=!0,!1)}function Ra(t,n,a){if(Tu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Bt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ql(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Fs(t)?"checked":"value";t._valueTracker=ql(t,n,""+t[n])}}function qr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function Cn(t){return t.replace(Hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(t,n,a,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Hl(t,p,en(n)):a!=null?Hl(t,p,en(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function bu(t,n,a,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),st(t)}function Hl(t,n,a){n==="number"&&Hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Su(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Ks(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(At(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function In(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Gl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Fl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Fl(t,f,n[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ti(){}var Kl=null;function ii(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,Fi=null;function Fr(t){var n=ni(t);if(n&&(t=n.stateNode)){var a=t[$e]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$e]||null;if(!h)throw Error(r(90));Ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qr(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Gs(t,!!a.multiple,n,!1)}}}var Da=!1;function Xs(t,n,a){if(Da)return t(n,a);Da=!0;try{var l=t(n);return l}finally{if(Da=!1,(Ys!==null||Fi!==null)&&(_c(),Ys&&(n=Ys,t=Fi,Fi=Ys=null,Fr(n),t)))for(n=0;n<t.length;n++)Fr(t[n])}}function bi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(si)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Gr=!1}var Gi=null,Ql=null,Kr=null;function Yl(){if(Kr)return Kr;var t,n=Ql,a=n.length,l,h="value"in Gi?Gi.value:Gi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return Kr=h.slice(t,1<l?1-l:void 0)}function Qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Si(){return!1}function an(t){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ms:Si,this.isPropagationStopped=Si,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=an(gs),$s=A({},gs,{view:0,detail:0}),Xl=an($s),Js,Oa,Qi,Ma=A({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Js=t.screenX-Qi.screenX,Oa=t.screenY-Qi.screenY):Oa=Js=0,Qi=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),$l=an(Ma),Yr=A({},Ma,{dataTransfer:0}),xu=an(Yr),Ru=A({},$s,{relatedTarget:0}),Xr=an(Ru),Jl=A({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=an(Jl),Va=A({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=an(Va),Nu=A({},gs,{data:0}),Yi=an(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function Zs(){return Vu}var Sn=A({},$s,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(t){return t.type==="keypress"?Qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=an(Sn),ju=A({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=an(ju),u=A({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),m=an(u),E=A({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=an(E),U=A({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=an(U),re=A({},gs,{newState:0,oldState:0}),Oe=an(re),Ot=[9,13,27,32],tt=si&&"CompositionEvent"in window,wt=null;si&&"documentMode"in document&&(wt=document.documentMode);var ri=si&&"TextEvent"in window&&!wt,Xi=si&&(!tt||wt&&8<wt&&11>=wt),Ai=" ",wi=!1;function $r(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function R1(t,n){switch(t){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(wi=!0,Ai);case"textInput":return t=n.data,t===Ai&&wi?null:t;default:return null}}function C1(t,n){if(ja)return t==="compositionend"||!tt&&$r(t,n)?(t=Yl(),Kr=Ql=Gi=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xi&&n.locale!=="ko"?null:n.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!I1[t.type]:n==="textarea"}function Vg(t,n,a,l){Ys?Fi?Fi.push(l):Fi=[l]:Ys=l,n=wc(n,"onChange"),0<n.length&&(a=new Ki("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Zl=null,Wl=null;function N1(t){p_(t,0)}function Pu(t){var n=Ln(t);if(qr(n))return t}function kg(t,n){if(t==="change")return n}var jg=!1;if(si){var Zh;if(si){var Wh="oninput"in document;if(!Wh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Wh=typeof Pg.oninput=="function"}Zh=Wh}else Zh=!1;jg=Zh&&(!document.documentMode||9<document.documentMode)}function Ug(){Zl&&(Zl.detachEvent("onpropertychange",Lg),Wl=Zl=null)}function Lg(t){if(t.propertyName==="value"&&Pu(Wl)){var n=[];Vg(n,Wl,t,ii(t)),Xs(N1,n)}}function D1(t,n,a){t==="focusin"?(Ug(),Zl=n,Wl=a,Zl.attachEvent("onpropertychange",Lg)):t==="focusout"&&Ug()}function O1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Wl)}function M1(t,n){if(t==="click")return Pu(n)}function V1(t,n){if(t==="input"||t==="change")return Pu(n)}function k1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:k1;function eo(t,n){if(Bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(n,h)||!Bn(t[h],n[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,n){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function qg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Hi(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var j1=si&&"documentMode"in document&&11>=document.documentMode,Pa=null,tf=null,to=null,nf=!1;function Fg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Pa==null||Pa!==Hi(l)||(l=Pa,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),to&&eo(to,l)||(to=l,l=wc(tf,"onSelect"),0<l.length&&(n=new Ki("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pa)))}function Jr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ua={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},sf={},Gg={};si&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Zr(t){if(sf[t])return sf[t];if(!Ua[t])return t;var n=Ua[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Gg)return sf[t]=n[a];return t}var Kg=Zr("animationend"),Qg=Zr("animationiteration"),Yg=Zr("animationstart"),P1=Zr("transitionrun"),U1=Zr("transitionstart"),L1=Zr("transitioncancel"),Xg=Zr("transitionend"),$g=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function xi(t,n){$g.set(t,n),Bi(n,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ai=[],La=0,af=0;function Lu(){for(var t=La,n=af=La=0;n<t;){var a=ai[n];ai[n++]=null;var l=ai[n];ai[n++]=null;var h=ai[n];ai[n++]=null;var f=ai[n];if(ai[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Jg(a,h,f)}}function zu(t,n,a,l){ai[La++]=t,ai[La++]=n,ai[La++]=a,ai[La++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,n,a,l){return zu(t,n,a,l),Bu(t)}function Wr(t,n){return zu(t,null,null,n),Bu(t)}function Jg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-gt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bu(t){if(50<Ao)throw Ao=0,pd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function z1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,a,l){return new z1(t,n,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,n){var a=t.alternate;return a===null?(a=qn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qu(t,n,a,l,h,f){var p=0;if(l=t,typeof t=="function")of(t)&&(p=1);else if(typeof t=="string")p=Gb(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=qn(31,a,n,h),t.elementType=R,t.lanes=f,t;case te:return ea(a.children,h,f,n);case W:p=8,h|=24;break;case ye:return t=qn(12,a,n,h|2),t.elementType=ye,t.lanes=f,t;case Le:return t=qn(13,a,n,h),t.elementType=Le,t.lanes=f,t;case be:return t=qn(19,a,n,h),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:p=10;break e;case ge:p=9;break e;case Qe:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=qn(p,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,a,l){return t=qn(7,t,l,n),t.lanes=a,t}function uf(t,n,a){return t=qn(6,t,null,n),t.lanes=a,t}function Wg(t){var n=qn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,a){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ep=new WeakMap;function li(t,n){if(typeof t=="object"&&t!==null){var a=ep.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vi(n)},ep.set(t,n),n)}return{value:t,source:n,stack:vi(n)}}var Ba=[],qa=0,Hu=null,no=0,oi=[],ui=0,Ws=null,$i=1,Ji="";function _s(t,n){Ba[qa++]=no,Ba[qa++]=Hu,Hu=t,no=n}function tp(t,n,a){oi[ui++]=$i,oi[ui++]=Ji,oi[ui++]=Ws,Ws=t;var l=$i;t=Ji;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var f=32-gt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,$i=1<<32-gt(n)+h|a<<h|l,Ji=f+t}else $i=1<<f|a<<h|l,Ji=t}function hf(t){t.return!==null&&(_s(t,1),tp(t,1,0))}function ff(t){for(;t===Hu;)Hu=Ba[--qa],Ba[qa]=null,no=Ba[--qa],Ba[qa]=null;for(;t===Ws;)Ws=oi[--ui],oi[ui]=null,Ji=oi[--ui],oi[ui]=null,$i=oi[--ui],oi[ui]=null}function np(t,n){oi[ui++]=$i,oi[ui++]=Ji,oi[ui++]=Ws,$i=n.id,Ji=n.overflow,Ws=t}var ln=null,Tt=null,Ke=!1,er=null,ci=!1,df=Error(r(519));function tr(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(li(n,t)),df}function ip(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ye]=t,n[$e]=l,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<xo.length;a++)Ue(xo[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),bu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Ks(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||E_(n.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=Ti),n=!0):n=!1,n||tr(t,!0)}function sp(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:ln=ln.return}}function Ha(t){if(t!==ln)return!1;if(!Ke)return sp(t),Ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&Tt&&tr(t),sp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Tt=I_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Tt=I_(t)}else n===27?(n=Tt,gr(t.type)?(t=jd,jd=null,Tt=t):Tt=n):Tt=ln?fi(t.stateNode.nextSibling):null;return!0}function ta(){Tt=ln=null,Ke=!1}function mf(){var t=er;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),er=null),t}function io(t){er===null?er=[t]:er.push(t)}var gf=M(null),na=null,vs=null;function nr(t,n,a){se(gf,n._currentValue),n._currentValue=a}function Es(t){t._currentValue=gf.current,Y(gf)}function pf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function yf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),pf(f.return,a,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),pf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Fa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;Bn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===he.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}h=h.return}t!==null&&yf(n,t,a,l),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,vs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return rp(na,t)}function Gu(t,n){return na===null&&ia(t),rp(t,n)}function rp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vs===null){if(t===null)throw Error(r(308));vs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vs=vs.next=n;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},q1=s.unstable_scheduleCallback,H1=s.unstable_NormalPriority,qt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new B1,data:new Map,refCount:0}}function so(t){t.refCount--,t.refCount===0&&q1(H1,function(){t.controller.abort()})}var ro=null,vf=0,Ga=0,Ka=null;function F1(t,n){if(ro===null){var a=ro=[];vf=0,Ga=bd(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,n.then(ap,ap),n}function ap(){if(--vf===0&&ro!==null){Ka!==null&&(Ka.status="fulfilled");var t=ro;ro=null,Ga=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function G1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lp=G.S;G.S=function(t,n){Fy=Pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&F1(t,n),lp!==null&&lp(t,n)};var sa=M(null);function Ef(){var t=sa.current;return t!==null?t:dt.pooledCache}function Ku(t,n){n===null?se(sa,sa.current):se(sa,n.pool)}function op(){var t=Ef();return t===null?null:{parent:qt._currentValue,pool:t}}var Qa=Error(r(460)),Tf=Error(r(474)),Qu=Error(r(542)),Yu={then:function(){}};function up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ti,Ti),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t;default:if(typeof n.status=="string")n.then(Ti,Ti);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t}throw aa=n,Qa}}function ra(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,Qa):a}}var aa=null;function hp(){if(aa===null)throw Error(r(459));var t=aa;return aa=null,t}function fp(t){if(t===Qa||t===Qu)throw Error(r(483))}var Ya=null,ao=0;function Xu(t){var n=ao;return ao+=1,Ya===null&&(Ya=[]),cp(Ya,t,n)}function lo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dp(t){function n(j,V){if(t){var L=j.deletions;L===null?(j.deletions=[V],j.flags|=16):L.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=ys(j,V),j.index=0,j.sibling=null,j}function f(j,V,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<V?(j.flags|=67108866,V):L):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,L,X){return V===null||V.tag!==6?(V=uf(L,j.mode,X),V.return=j,V):(V=h(V,L),V.return=j,V)}function C(j,V,L,X){var ve=L.type;return ve===te?Q(j,V,L.props.children,X,L.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&ra(ve)===V.type)?(V=h(V,L.props),lo(V,L),V.return=j,V):(V=qu(L.type,L.key,L.props,null,j.mode,X),lo(V,L),V.return=j,V)}function z(j,V,L,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=cf(L,j.mode,X),V.return=j,V):(V=h(V,L.children||[]),V.return=j,V)}function Q(j,V,L,X,ve){return V===null||V.tag!==7?(V=ea(L,j.mode,X,ve),V.return=j,V):(V=h(V,L),V.return=j,V)}function $(j,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=uf(""+V,j.mode,L),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case K:return L=qu(V.type,V.key,V.props,null,j.mode,L),lo(L,V),L.return=j,L;case ee:return V=cf(V,j.mode,L),V.return=j,V;case w:return V=ra(V),$(j,V,L)}if(At(V)||P(V))return V=ea(V,j.mode,L,null),V.return=j,V;if(typeof V.then=="function")return $(j,Xu(V),L);if(V.$$typeof===ce)return $(j,Gu(j,V),L);$u(j,V)}return null}function q(j,V,L,X){var ve=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ve!==null?null:T(j,V,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===ve?C(j,V,L,X):null;case ee:return L.key===ve?z(j,V,L,X):null;case w:return L=ra(L),q(j,V,L,X)}if(At(L)||P(L))return ve!==null?null:Q(j,V,L,X,null);if(typeof L.then=="function")return q(j,V,Xu(L),X);if(L.$$typeof===ce)return q(j,V,Gu(j,L),X);$u(j,L)}return null}function F(j,V,L,X,ve){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(L)||null,T(V,j,""+X,ve);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return j=j.get(X.key===null?L:X.key)||null,C(V,j,X,ve);case ee:return j=j.get(X.key===null?L:X.key)||null,z(V,j,X,ve);case w:return X=ra(X),F(j,V,L,X,ve)}if(At(X)||P(X))return j=j.get(L)||null,Q(V,j,X,ve,null);if(typeof X.then=="function")return F(j,V,L,Xu(X),ve);if(X.$$typeof===ce)return F(j,V,L,Gu(V,X),ve);$u(V,X)}return null}function me(j,V,L,X){for(var ve=null,Je=null,pe=V,Ve=V=0,qe=null;pe!==null&&Ve<L.length;Ve++){pe.index>Ve?(qe=pe,pe=null):qe=pe.sibling;var Ze=q(j,pe,L[Ve],X);if(Ze===null){pe===null&&(pe=qe);break}t&&pe&&Ze.alternate===null&&n(j,pe),V=f(Ze,V,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze,pe=qe}if(Ve===L.length)return a(j,pe),Ke&&_s(j,Ve),ve;if(pe===null){for(;Ve<L.length;Ve++)pe=$(j,L[Ve],X),pe!==null&&(V=f(pe,V,Ve),Je===null?ve=pe:Je.sibling=pe,Je=pe);return Ke&&_s(j,Ve),ve}for(pe=l(pe);Ve<L.length;Ve++)qe=F(pe,j,Ve,L[Ve],X),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ve:qe.key),V=f(qe,V,Ve),Je===null?ve=qe:Je.sibling=qe,Je=qe);return t&&pe.forEach(function(Er){return n(j,Er)}),Ke&&_s(j,Ve),ve}function Ae(j,V,L,X){if(L==null)throw Error(r(151));for(var ve=null,Je=null,pe=V,Ve=V=0,qe=null,Ze=L.next();pe!==null&&!Ze.done;Ve++,Ze=L.next()){pe.index>Ve?(qe=pe,pe=null):qe=pe.sibling;var Er=q(j,pe,Ze.value,X);if(Er===null){pe===null&&(pe=qe);break}t&&pe&&Er.alternate===null&&n(j,pe),V=f(Er,V,Ve),Je===null?ve=Er:Je.sibling=Er,Je=Er,pe=qe}if(Ze.done)return a(j,pe),Ke&&_s(j,Ve),ve;if(pe===null){for(;!Ze.done;Ve++,Ze=L.next())Ze=$(j,Ze.value,X),Ze!==null&&(V=f(Ze,V,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze);return Ke&&_s(j,Ve),ve}for(pe=l(pe);!Ze.done;Ve++,Ze=L.next())Ze=F(pe,j,Ve,Ze.value,X),Ze!==null&&(t&&Ze.alternate!==null&&pe.delete(Ze.key===null?Ve:Ze.key),V=f(Ze,V,Ve),Je===null?ve=Ze:Je.sibling=Ze,Je=Ze);return t&&pe.forEach(function(nS){return n(j,nS)}),Ke&&_s(j,Ve),ve}function ct(j,V,L,X){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:e:{for(var ve=L.key;V!==null;){if(V.key===ve){if(ve=L.type,ve===te){if(V.tag===7){a(j,V.sibling),X=h(V,L.props.children),X.return=j,j=X;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&ra(ve)===V.type){a(j,V.sibling),X=h(V,L.props),lo(X,L),X.return=j,j=X;break e}a(j,V);break}else n(j,V);V=V.sibling}L.type===te?(X=ea(L.props.children,j.mode,X,L.key),X.return=j,j=X):(X=qu(L.type,L.key,L.props,null,j.mode,X),lo(X,L),X.return=j,j=X)}return p(j);case ee:e:{for(ve=L.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(j,V.sibling),X=h(V,L.children||[]),X.return=j,j=X;break e}else{a(j,V);break}else n(j,V);V=V.sibling}X=cf(L,j.mode,X),X.return=j,j=X}return p(j);case w:return L=ra(L),ct(j,V,L,X)}if(At(L))return me(j,V,L,X);if(P(L)){if(ve=P(L),typeof ve!="function")throw Error(r(150));return L=ve.call(L),Ae(j,V,L,X)}if(typeof L.then=="function")return ct(j,V,Xu(L),X);if(L.$$typeof===ce)return ct(j,V,Gu(j,L),X);$u(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(j,V.sibling),X=h(V,L),X.return=j,j=X):(a(j,V),X=uf(L,j.mode,X),X.return=j,j=X),p(j)):a(j,V)}return function(j,V,L,X){try{ao=0;var ve=ct(j,V,L,X);return Ya=null,ve}catch(pe){if(pe===Qa||pe===Qu)throw pe;var Je=qn(29,pe,null,j.mode);return Je.lanes=X,Je.return=j,Je}finally{}}}var la=dp(!0),mp=dp(!1),ir=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Bu(t),Jg(t,null,a),n}return zu(t,l,n,a),Bu(t)}function oo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Wn(t,a)}}function Af(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function uo(){if(wf){var t=Ka;if(t!==null)throw t}}function co(t,n,a,l){wf=!1;var h=t.updateQueue;ir=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;p=0,Q=z=C=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Be&q)===q:(l&q)===q){q!==0&&q===Ga&&(wf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Ae=T;q=n;var ct=a;switch(Ae.tag){case 1:if(me=Ae.payload,typeof me=="function"){$=me.call(ct,$,q);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ae.payload,q=typeof me=="function"?me.call(ct,$,q):me,q==null)break e;$=A({},$,q);break e;case 2:ir=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,C=$):Q=Q.next=F,p|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),cr|=p,t.lanes=p,t.memoizedState=$}}function gp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function pp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gp(a[t],n)}var Xa=M(null),Ju=M(0);function yp(t,n){t=Is,se(Ju,t),se(Xa,n),Is=t|n.baseLanes}function xf(){se(Ju,Is),se(Xa,Xa.current)}function Rf(){Is=Ju.current,Y(Xa),Y(Ju)}var Hn=M(null),hi=null;function ar(t){var n=t.alternate;se(Mt,Mt.current&1),se(Hn,t),hi===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(hi=t)}function Cf(t){se(Mt,Mt.current),se(Hn,t),hi===null&&(hi=t)}function _p(t){t.tag===22?(se(Mt,Mt.current),se(Hn,t),hi===null&&(hi=t)):lr()}function lr(){se(Mt,Mt.current),se(Hn,Hn.current)}function Fn(t){Y(Hn),hi===t&&(hi=null),Y(Mt)}var Mt=M(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||kd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ts=0,Me=null,ot=null,Ht=null,Wu=!1,$a=!1,oa=!1,ec=0,ho=0,Ja=null,K1=0;function Nt(){throw Error(r(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Bn(t[a],n[a]))return!1;return!0}function Nf(t,n,a,l,h,f){return Ts=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ty:Gf,oa=!1,f=a(l,h),oa=!1,$a&&(f=Ep(n,a,l,h)),vp(t),f}function vp(t){G.H=go;var n=ot!==null&&ot.next!==null;if(Ts=0,Ht=ot=Me=null,Wu=!1,ho=0,Ja=null,n)throw Error(r(300));t===null||Ft||(t=t.dependencies,t!==null&&Fu(t)&&(Ft=!0))}function Ep(t,n,a,l){Me=t;var h=0;do{if($a&&(Ja=null),ho=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,Ht=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ny,f=n(a,l)}while($a);return f}function Q1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?fo(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Me.flags|=1024),n}function Df(){var t=ec!==0;return ec=0,t}function Of(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mf(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}Ts=0,Ht=ot=Me=null,$a=!1,ho=ec=0,Ja=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Vt(){if(ot===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Ht===null?Me.memoizedState:Ht.next;if(n!==null)Ht=n,ot=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var n=ho;return ho+=1,Ja===null&&(Ja=[]),t=cp(Ja,t,n),n=Me,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ty:Gf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===ce)return on(t)}throw Error(r(438,String(t)))}function Vf(t){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tc(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function bs(t,n){return typeof n=="function"?n(t):n}function ic(t){var n=Vt();return kf(n,ot,t)}function kf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Be&$)===$:(Ts&$)===$){var q=z.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ga&&(Q=!0);else if((Ts&q)===q){z=z.next,q===Ga&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=$,p=f):C=C.next=$,Me.lanes|=q,cr|=q;$=z.action,oa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=q,p=f):C=C.next=q,Me.lanes|=$,cr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=T,!Bn(f,t.memoizedState)&&(Ft=!0,Q&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var n=Vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Bn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tp(t,n,a){var l=Me,h=Vt(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Bn((ot||h).memoizedState,a);if(p&&(h.memoizedState=a,Ft=!0),h=h.queue,Lf(Ap.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Sp.bind(null,l,h,a,n),null),dt===null)throw Error(r(349));f||(Ts&127)!==0||bp(l,n,a)}return a}function bp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=tc(),Me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sp(t,n,a,l){n.value=a,n.getSnapshot=l,wp(n)&&xp(t)}function Ap(t,n,a){return a(function(){wp(n)&&xp(t)})}function wp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Bn(t,a)}catch{return!0}}function xp(t){var n=Wr(t,2);n!==null&&Vn(n,t,2)}function Pf(t){var n=An();if(typeof t=="function"){var a=t;if(t=a(),oa){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},n}function Rp(t,n,a,l){return t.baseState=a,kf(t,ot,typeof l=="function"?l:bs)}function Y1(t,n,a,l,h){if(ac(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Cp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=a(h,l),C=G.S;C!==null&&C(p,T),Ip(t,n,T)}catch(z){Uf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,l),Ip(t,n,f)}catch(z){Uf(t,n,z)}}function Ip(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Np(t,n,l)},function(l){return Uf(t,n,l)}):Np(t,n,a)}function Np(t,n,a){n.status="fulfilled",n.value=a,Dp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cp(t,a)))}function Uf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Dp(n),n=n.next;while(n!==l)}t.action=null}function Dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Op(t,n){return n}function Mp(t,n){if(Ke){var a=dt.formState;if(a!==null){e:{var l=Me;if(Ke){if(Tt){t:{for(var h=Tt,f=ci;h.nodeType!==8;){if(!f){h=null;break t}if(h=fi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Tt=fi(h.nextSibling),l=h.data==="F!";break e}}tr(l)}l=!1}l&&(n=a[0])}}return a=An(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},a.queue=l,a=Zp.bind(null,Me,l),l.dispatch=a,l=Pf(!1),f=Ff.bind(null,Me,!1,l.queue),l=An(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Y1.bind(null,Me,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Vp(t){var n=Vt();return kp(n,ot,t)}function kp(t,n,a){if(n=kf(t,n,Op)[0],t=ic(bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fo(n)}catch(p){throw p===Qa?Qu:p}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,Za(9,{destroy:void 0},X1.bind(null,h,a),null)),[l,f,t]}function X1(t,n){t.action=n}function jp(t){var n=Vt(),a=ot;if(a!==null)return kp(n,a,t);Vt(),n=n.memoizedState,a=Vt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Za(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=tc(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Pp(){return Vt().memoizedState}function sc(t,n,a,l){var h=An();Me.flags|=t,h.memoizedState=Za(1|n,{destroy:void 0},a,l===void 0?null:l)}function rc(t,n,a,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;ot!==null&&l!==null&&If(l,ot.memoizedState.deps)?h.memoizedState=Za(n,f,a,l):(Me.flags|=t,h.memoizedState=Za(1|n,f,a,l))}function Up(t,n){sc(8390656,8,t,n)}function Lf(t,n){rc(2048,8,t,n)}function $1(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=tc(),Me.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lp(t){var n=Vt().memoizedState;return $1({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function zp(t,n){return rc(4,2,t,n)}function Bp(t,n){return rc(4,4,t,n)}function qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hp(t,n,a){a=a!=null?a.concat([t]):null,rc(4,4,qp.bind(null,n,t),a)}function zf(){}function Fp(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&If(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Gp(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&If(n,l[1]))return l[0];if(l=t(),oa){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,n],l}function Bf(t,n,a){return a===void 0||(Ts&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ky(),Me.lanes|=t,cr|=t,a)}function Kp(t,n,a,l){return Bn(a,n)?a:Xa.current!==null?(t=Bf(t,a,l),Bn(t,n)||(Ft=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(Be&261930)===0?(Ft=!0,t.memoizedState=a):(t=Ky(),Me.lanes|=t,cr|=t,n)}function Qp(t,n,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Ff(t,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=G1(C,l);mo(t,n,Q,Qn(t))}else mo(t,n,l,Qn(t))}catch($){mo(t,n,{then:function(){},status:"rejected",reason:$},Qn())}finally{ie.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function J1(){}function qf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Yp(t).queue;Qp(t,h,n,ue,a===null?J1:function(){return Xp(t),a(l)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xp(t){var n=Yp(t);n.next===null&&(n=t.alternate.memoizedState),mo(t,n.next.queue,{},Qn())}function Hf(){return on(Do)}function $p(){return Vt().memoizedState}function Jp(){return Vt().memoizedState}function Z1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Qn();t=sr(a);var l=rr(n,t,a);l!==null&&(Vn(l,n,a),oo(l,n,a)),n={cache:_f()},t.payload=n;return}n=n.return}}function W1(t,n,a){var l=Qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?Wp(n,a):(a=lf(t,n,a,l),a!==null&&(Vn(a,t,l),ey(a,n,l)))}function Zp(t,n,a){var l=Qn();mo(t,n,a,l)}function mo(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Wp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(h.hasEagerState=!0,h.eagerState=T,Bn(T,p))return zu(t,n,h,0),dt===null&&Lu(),!1}catch{}finally{}if(a=lf(t,n,h,l),a!==null)return Vn(a,t,l),ey(a,n,l),!0}return!1}function Ff(t,n,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(r(479))}else n=lf(t,a,l,2),n!==null&&Vn(n,t,2)}function ac(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Wp(t,n){$a=Wu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ey(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Wn(t,a)}}var go={readContext:on,use:nc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};go.useEffectEvent=Nt;var ty={readContext:on,use:nc,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Up,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,sc(4194308,4,qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var a=An();n=n===void 0?null:n;var l=t();if(oa){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=An();if(a!==void 0){var h=a(n);if(oa){sn(!0);try{a(n)}finally{sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=W1.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=Pf(t);var n=t.queue,a=Zp.bind(null,Me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,n){var a=An();return Bf(a,t,n)},useTransition:function(){var t=Pf(!1);return t=Qp.bind(null,Me,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Me,h=An();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),dt===null)throw Error(r(349));(Be&127)!==0||bp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Up(Ap.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},Sp.bind(null,l,f,a,n),null),a},useId:function(){var t=An(),n=dt.identifierPrefix;if(Ke){var a=Ji,l=$i;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ec++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=K1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ff.bind(null,Me,!0,a),a.dispatch=n,[t,n]},useMemoCache:Vf,useCacheRefresh:function(){return An().memoizedState=Z1.bind(null,Me)},useEffectEvent:function(t){var n=An(),a={impl:t};return n.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:on,use:nc,useCallback:Fp,useContext:on,useEffect:Lf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Gp,useReducer:ic,useRef:Pp,useState:function(){return ic(bs)},useDebugValue:zf,useDeferredValue:function(t,n){var a=Vt();return Kp(a,ot.memoizedState,t,n)},useTransition:function(){var t=ic(bs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:fo(t),n]},useSyncExternalStore:Tp,useId:$p,useHostTransitionStatus:Hf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var a=Vt();return Rp(a,ot,t,n)},useMemoCache:Vf,useCacheRefresh:Jp};Gf.useEffectEvent=Lp;var ny={readContext:on,use:nc,useCallback:Fp,useContext:on,useEffect:Lf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Gp,useReducer:jf,useRef:Pp,useState:function(){return jf(bs)},useDebugValue:zf,useDeferredValue:function(t,n){var a=Vt();return ot===null?Bf(a,t,n):Kp(a,ot.memoizedState,t,n)},useTransition:function(){var t=jf(bs)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:fo(t),n]},useSyncExternalStore:Tp,useId:$p,useHostTransitionStatus:Hf,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var a=Vt();return ot!==null?Rp(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Jp};ny.useEffectEvent=Lp;function Kf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Qn(),h=sr(l);h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(Vn(n,t,l),oo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Qn(),h=sr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(Vn(n,t,l),oo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Qn(),l=sr(a);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,a),n!==null&&(Vn(n,t,a),oo(n,t,a))}};function iy(t,n,a,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!eo(a,l)||!eo(h,f):!0}function sy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Qf.enqueueReplaceState(n,n.state,null)}function ua(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){Uu(t)}function ay(t){console.error(t)}function ly(t){Uu(t)}function lc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function oy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,n)},a}function uy(t){return t=sr(t),t.tag=3,t}function cy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){oy(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){oy(n,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 31:case 13:return hi===null?vc():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),vd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),vd(t,l,h)),!1}throw Error(r(435,a.tag))}return vd(t,l,h),vc(),!1}if(Ke)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==df&&(t=Error(r(422),{cause:l}),io(li(t,a)))):(l!==df&&(n=Error(r(423),{cause:l}),io(li(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=li(l,a),h=Yf(t.stateNode,l,h),Af(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(r(520),{cause:l});if(f=li(f,a),So===null?So=[f]:So.push(f),Dt!==4&&(Dt=2),n===null)return!0;l=li(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,l,t),Af(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Ft=!1;function un(t,n,a,l){n.child=t===null?mp(n,null,a,l):la(n,t.child,a,l)}function hy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return ia(n),l=Nf(t,n,a,p,f,h),T=Df(),t!==null&&!Ft?(Of(t,n,h),Ss(t,n,h)):(Ke&&T&&hf(n),n.flags|=1,un(t,n,l,h),n.child)}function fy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!of(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dy(t,n,f,l,h)):(t=qu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(p,l)&&t.ref===n.ref)return Ss(t,n,h)}return n.flags|=1,t=ys(f,l),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(eo(f,l)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=l=f,id(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,Ss(t,n,h)}return $f(t,n,a,l,h)}function my(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return gy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(n,f!==null?f.cachePool:null),f!==null?yp(n,f):xf(),_p(n);else return l=n.lanes=536870912,gy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ku(n,f.cachePool),yp(n,f),lr(),n.memoizedState=null):(t!==null&&Ku(n,null),xf(),lr());return un(t,n,h,a),n.child}function po(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,l,h){var f=Ef();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(n,null),xf(),_p(n),t!==null&&Fa(t,n,l,!0),n.childLanes=h,null}function oc(t,n){return n=cc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,a){return la(n,t.child,null,a),t=oc(n,n.pendingProps),t.flags|=2,Fn(n),n.memoizedState=null,t}function tb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=oc(n,l),n.lanes=536870912,po(null,t);if(Cf(n),(t=Tt)?(t=C_(t,ci),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=n,n.child=a,ln=n,Tt=null)):t=null,t===null)throw tr(n);return n.lanes=536870912,null}return oc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=py(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ft||Fa(t,n,a,!1),h=(a&t.childLanes)!==0,Ft||h){if(l=dt,l!==null&&(p=Rt(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Wr(t,p),Vn(l,t,p),Xf;vc(),n=py(t,n,a)}else t=f.treeContext,Tt=fi(p.nextSibling),ln=n,Ke=!0,er=null,ci=!1,t!==null&&np(n,t),n=oc(n,l),n.flags|=4096;return n}return t=ys(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $f(t,n,a,l,h){return ia(n),a=Nf(t,n,a,l,void 0,h),l=Df(),t!==null&&!Ft?(Of(t,n,h),Ss(t,n,h)):(Ke&&l&&hf(n),n.flags|=1,un(t,n,a,h),n.child)}function yy(t,n,a,l,h,f){return ia(n),n.updateQueue=null,a=Ep(n,l,a,h),vp(t),l=Df(),t!==null&&!Ft?(Of(t,n,f),Ss(t,n,f)):(Ke&&l&&hf(n),n.flags|=1,un(t,n,a,f),n.child)}function _y(t,n,a,l,h){if(ia(n),n.stateNode===null){var f=za,p=a.contextType;typeof p=="object"&&p!==null&&(f=on(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?on(p):za,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Kf(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Qf.enqueueReplaceState(f,f.state,null),co(n,l,f,h),uo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ua(a,T);f.props=C;var z=f.context,Q=a.contextType;p=za,typeof Q=="object"&&Q!==null&&(p=on(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&sy(n,f,l,p),ir=!1;var q=n.memoizedState;f.state=q,co(n,l,f,h),uo(),z=n.memoizedState,T||q!==z||ir?(typeof $=="function"&&(Kf(n,a,$,l),z=n.memoizedState),(C=ir||iy(n,a,C,l,q,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Sf(t,n),p=n.memoizedProps,Q=ua(a,p),f.props=Q,$=n.pendingProps,q=f.context,z=a.contextType,C=za,typeof z=="object"&&z!==null&&(C=on(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==C)&&sy(n,f,l,C),ir=!1,q=n.memoizedState,f.state=q,co(n,l,f,h),uo();var F=n.memoizedState;p!==$||q!==F||ir||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Kf(n,a,T,l),F=n.memoizedState),(Q=ir||iy(n,a,Q,l,q,F,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,h),n.child=la(n,null,a,h)):un(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ss(t,n,h),t}function vy(t,n,a,l){return ta(),n.flags|=256,un(t,n,a,l),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:op()}}function Wf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Kn),t}function Ey(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?ar(n):lr(),(t=Tt)?(t=C_(t,ci),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=n,n.child=a,ln=n,Tt=null)):t=null,t===null)throw tr(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(lr(),h=n.mode,T=cc({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Zf(a),l.childLanes=Wf(t,p,a),n.memoizedState=Jf,po(null,l)):(ar(n),ed(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=td(t,n,a)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),T=l.fallback,h=n.mode,l=cc({mode:"visible",children:l.children},h),T=ea(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,la(n,t.child,null,a),l=n.child,l.memoizedState=Zf(a),l.childLanes=Wf(t,p,a),n.memoizedState=Jf,n=po(null,l));else if(ar(n),kd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(r(419)),l.stack="",l.digest=p,io({value:l,source:null,stack:null}),n=td(t,n,a)}else if(Ft||Fa(t,n,a,!1),p=(a&t.childLanes)!==0,Ft||p){if(p=dt,p!==null&&(l=Rt(p,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Wr(t,l),Vn(p,t,l),Xf;Vd(T)||vc(),n=td(t,n,a)}else Vd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Tt=fi(T.nextSibling),ln=n,Ke=!0,er=null,ci=!1,t!==null&&np(n,t),n=ed(n,l.children),n.flags|=4096);return n}return h?(lr(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ys(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ys(z,T):(T=ea(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,po(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Zf(a):(h=T.cachePool,h!==null?(C=qt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=op(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Wf(t,p,a),n.memoizedState=Jf,po(t.child,l)):(ar(n),a=t.child,t=a.sibling,a=ys(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=cc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cc(t,n){return t=qn(22,t,null,n),t.lanes=0,t}function td(t,n,a){return la(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),pf(t.return,n,a)}function nd(t,n,a,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function by(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Mt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,se(Mt,p),un(t,n,l,a),l=Ke?no:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),nd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(n,!0,a,null,f,l);break;case"together":nd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ss(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ys(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ys(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function nb(t,n,a){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),nr(n,qt,t.memoizedState.cache),ta();break;case 27:case 5:Pn(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(ar(n),t=Ss(t,n,a),t!==null?t.sibling:null);ar(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return by(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,my(t,n,a,n.pendingProps);case 24:nr(n,qt,t.memoizedState.cache)}return Ss(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!id(t,a)&&(n.flags&128)===0)return Ft=!1,nb(t,n,a);Ft=(t.flags&131072)!==0}else Ft=!1,Ke&&(n.flags&1048576)!==0&&tp(n,no,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")of(t)?(l=ua(t,l),n.tag=1,n=_y(null,n,t,l,a)):(n.tag=0,n=$f(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Qe){n.tag=11,n=hy(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=fy(null,n,t,l,a);break e}}throw n=We(t)||t,Error(r(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ua(l,n.pendingProps),_y(t,n,l,h,a);case 3:e:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Sf(t,n),co(n,l,null,a);var p=n.memoizedState;if(l=p.cache,nr(n,qt,l),l!==f.cache&&yf(n,[qt],a,!0),uo(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(t,n,l,a);break e}else if(l!==h){h=li(Error(r(424)),n),io(h),n=vy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=fi(t.firstChild),ln=n,Ke=!0,er=null,ci=!0,a=mp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===h){n=Ss(t,n,a);break e}un(t,n,l,a)}n=n.child}return n;case 26:return uc(t,n),t===null?(a=V_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ke||(a=n.type,t=n.pendingProps,l=xc(ae.current).createElement(a),l[Ye]=n,l[$e]=t,cn(l,a,t),zt(l),n.stateNode=l):n.memoizedState=V_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pn(n),t===null&&Ke&&(l=n.stateNode=D_(n.type,n.pendingProps,ae.current),ln=n,ci=!0,h=Tt,gr(n.type)?(jd=h,Tt=fi(l.firstChild)):Tt=h),un(t,n,n.pendingProps.children,a),uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=Tt)&&(l=Ob(l,n.type,n.pendingProps,ci),l!==null?(n.stateNode=l,ln=n,Tt=fi(l.firstChild),ci=!1,h=!0):h=!1),h||tr(n)),Pn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Dd(h,f)?l=null:p!==null&&Dd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,Q1,null,null,a),Do._currentValue=h),uc(t,n),un(t,n,l,a),n.child;case 6:return t===null&&Ke&&((t=a=Tt)&&(a=Mb(a,n.pendingProps,ci),a!==null?(n.stateNode=a,ln=n,Tt=null,t=!0):t=!1),t||tr(n)),null;case 13:return Ey(t,n,a);case 4:return ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,a):un(t,n,l,a),n.child;case 11:return hy(t,n,n.type,n.pendingProps,a);case 7:return un(t,n,n.pendingProps,a),n.child;case 8:return un(t,n,n.pendingProps.children,a),n.child;case 12:return un(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),un(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ia(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,a),n.child;case 14:return fy(t,n,n.type,n.pendingProps,a);case 15:return dy(t,n,n.type,n.pendingProps,a);case 19:return by(t,n,a);case 31:return tb(t,n,a);case 22:return my(t,n,a,n.pendingProps);case 24:return ia(n),l=on(qt),t===null?(h=Ef(),h===null&&(h=dt,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},bf(n),nr(n,qt,h)):((t.lanes&a)!==0&&(Sf(t,n),co(n,null,null,a),uo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),nr(n,qt,l)):(l=f.cache,nr(n,qt,l),l!==h.cache&&yf(n,[qt],a,!0))),un(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function As(t){t.flags|=4}function sd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw aa=Yu,Tf}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if($y())t.flags|=8192;else throw aa=Yu,Tf}function hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ze():536870912,t.lanes|=n,nl|=n)}function yo(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ib(t,n,a){var l=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Es(qt),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(n)?As(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(As(n),f!==null?(bt(n),Ay(n,f)):(bt(n),sd(n,h,null,l,a))):f?f!==t.memoizedState?(As(n),bt(n),Ay(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&As(n),bt(n),sd(n,h,t,l,a)),null;case 27:if(wn(n),a=ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}t=ne.current,Ha(n)?ip(n):(t=D_(h,l,a),n.stateNode=t,As(n))}return bt(n),null;case 5:if(wn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}if(f=ne.current,Ha(n))ip(n);else{var p=xc(ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ye]=n,f[$e]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&As(n)}}return bt(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ae.current,Ha(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||tr(n,!0)}else t=xc(t).createTextNode(l),t[Ye]=n,n.stateNode=t}return bt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ye]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Fn(n),n):(Fn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ye]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Fn(n),n):(Fn(n),null)}return Fn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),hc(n,n.updateQueue),bt(n),null);case 4:return et(),t===null&&xd(n.stateNode.containerInfo),bt(n),null;case 10:return Es(n.type),bt(n),null;case 19:if(Y(Mt),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)yo(l,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,yo(l,!1),t=f.updateQueue,n.updateQueue=t,hc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zg(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),Ke&&_s(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Pt()>pc&&(n.flags|=128,h=!0,yo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hc(n,t),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return bt(n),null}else 2*Pt()-l.renderingStartTime>pc&&a!==536870912&&(n.flags|=128,h=!0,yo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Pt(),t.sibling=null,a=Mt.current,se(Mt,h?a&1|2:a&1),Ke&&_s(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return Fn(n),Rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),a=n.updateQueue,a!==null&&hc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Es(qt),bt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sb(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Es(qt),et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wn(n),null;case 31:if(n.memoizedState!==null){if(Fn(n),n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Fn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Mt),null;case 4:return et(),null;case 10:return Es(n.type),null;case 22:case 23:return Fn(n),Rf(),t!==null&&Y(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Es(qt),null;case 25:return null;default:return null}}function wy(t,n){switch(ff(n),n.tag){case 3:Es(qt),et();break;case 26:case 27:case 5:wn(n);break;case 4:et();break;case 31:n.memoizedState!==null&&Fn(n);break;case 13:Fn(n);break;case 19:Y(Mt);break;case 10:Es(n.type);break;case 22:case 23:Fn(n),Rf(),t!==null&&Y(sa);break;case 24:Es(qt)}}function _o(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(T){at(n,n.return,T)}}function or(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=a,z=T;try{z()}catch(Q){at(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function xy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{pp(n,a)}catch(l){at(t,t.return,l)}}}function Ry(t,n,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function vo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,n,h)}}function Zi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function Cy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function rd(t,n,a){try{var l=t.stateNode;xb(l,t.type,a,n),l[$e]=n}catch(h){at(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ti));else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ld(t,n,a),t=t.sibling;t!==null;)ld(t,n,a),t=t.sibling}function fc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,n,a),t=t.sibling;t!==null;)fc(t,n,a),t=t.sibling}function Ny(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,a),n[Ye]=t,n[$e]=a}catch(f){at(t,t.return,f)}}var ws=!1,Gt=!1,od=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function rb(t,n){if(t=t.containerInfo,Id=Mc,t=Hg(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,T=-1,C=-1,z=0,Q=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=p+h),$!==f||l!==0&&$.nodeType!==3||(C=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++z===h&&(T=p),q===f&&++Q===l&&(C=p),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},Mc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ua(a.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){at(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Oy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(t,a),l&4&&_o(5,a);break;case 1:if(Rs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){at(a,a.return,p)}else{var h=ua(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(a,a.return,p)}}l&64&&xy(a),l&512&&vo(a,a.return);break;case 3:if(Rs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pp(t,n)}catch(p){at(a,a.return,p)}}break;case 27:n===null&&l&4&&Ny(a);case 26:case 5:Rs(t,a),n===null&&l&4&&Cy(a),l&512&&vo(a,a.return);break;case 12:Rs(t,a);break;case 31:Rs(t,a),l&4&&ky(t,a);break;case 13:Rs(t,a),l&4&&jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mb.bind(null,a),Vb(t,a))));break;case 22:if(l=a.memoizedState!==null||ws,!l){n=n!==null&&n.memoizedState!==null||Gt,h=ws;var f=Gt;ws=l,(Gt=n)&&!f?Cs(t,a,(a.subtreeFlags&8772)!==0):Rs(t,a),ws=h,Gt=f}break;case 30:break;default:Rs(t,a)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Nn=!1;function xs(t,n,a){for(a=a.child;a!==null;)Vy(t,n,a),a=a.sibling}function Vy(t,n,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(mn,a)}catch{}switch(a.tag){case 26:Gt||Zi(a,n),xs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Zi(a,n);var l=xt,h=Nn;gr(a.type)&&(xt=a.stateNode,Nn=!1),xs(t,n,a),Co(a.stateNode),xt=l,Nn=h;break;case 5:Gt||Zi(a,n);case 6:if(l=xt,h=Nn,xt=null,xs(t,n,a),xt=l,Nn=h,xt!==null)if(Nn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{xt.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:xt!==null&&(Nn?(t=xt,x_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):x_(xt,a.stateNode));break;case 4:l=xt,h=Nn,xt=a.stateNode.containerInfo,Nn=!0,xs(t,n,a),xt=l,Nn=h;break;case 0:case 11:case 14:case 15:or(2,a,n),Gt||or(4,a,n),xs(t,n,a);break;case 1:Gt||(Zi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ry(a,n,l)),xs(t,n,a);break;case 21:xs(t,n,a);break;case 22:Gt=(l=Gt)||a.memoizedState!==null,xs(t,n,a),Gt=l;break;default:xs(t,n,a)}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(a){at(n,n.return,a)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){at(n,n.return,a)}}function ab(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(r(435,t.tag))}}function dc(t,n){var a=ab(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=gb.bind(null,t,l);l.then(h,h)}})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){xt=T.stateNode,Nn=!1;break e}break;case 5:xt=T.stateNode,Nn=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(xt===null)throw Error(r(160));Vy(f,p,h),xt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Py(n,t),n=n.sibling}var Ri=null;function Py(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),l&4&&(or(3,t,t.return),_o(3,t),or(5,t,t.return));break;case 1:Dn(n,t),On(t),l&512&&(Gt||a===null||Zi(a,a.return)),l&64&&ws&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ri;if(Dn(n,t),On(t),l&512&&(Gt||a===null||Zi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ui]||f[Ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,a),f[Ye]=t,zt(f),l=f;break e;case"link":var p=P_("link","href",h).get(l+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;case"meta":if(p=P_("meta","content",h).get(l+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ye]=t,zt(f),l=f}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=j_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?U_(h,t.type,t.stateNode):j_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(n,t),On(t),l&512&&(Gt||a===null||Zi(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(n,t),On(t),l&512&&(Gt||a===null||Zi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(me){at(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(Dn(n,t),On(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){at(t,t.return,me)}}break;case 3:if(Ic=null,h=Ri,Ri=Rc(n.containerInfo),Dn(n,t),Ri=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(me){at(t,t.return,me)}od&&(od=!1,Uy(t));break;case 4:l=Ri,Ri=Rc(t.stateNode.containerInfo),Dn(n,t),On(t),Ri=l;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=Pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ws,Q=Gt;if(ws=z||h,Gt=Q||C,Dn(n,t),Gt=Q,ws=z,On(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ws||Gt||ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(me){at(C,C.return,me)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(me){at(C,C.return,me)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?R_(F,!0):R_(C.stateNode,!1)}catch(me){at(C,C.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:Dn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Iy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ad(t);fc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(In(p,""),a.flags&=-33);var T=ad(t);fc(t,T,p);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ad(t);ld(t,z,C);break;default:throw Error(r(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),ca(n);break;case 1:Zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ry(n,n.return,a),ca(n);break;case 27:Co(n.stateNode);case 26:case 5:Zi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function Cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Cs(h,f,a),_o(4,f);break;case 1:if(Cs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)gp(C[h],T)}catch(z){at(l,l.return,z)}}a&&p&64&&xy(f),vo(f,f.return);break;case 27:Ny(f);case 26:case 5:Cs(h,f,a),a&&l===null&&p&4&&Cy(f),vo(f,f.return);break;case 12:Cs(h,f,a);break;case 31:Cs(h,f,a),a&&p&4&&ky(h,f);break;case 13:Cs(h,f,a),a&&p&4&&jy(h,f);break;case 22:f.memoizedState===null&&Cs(h,f,a),vo(f,f.return);break;case 30:break;default:Cs(h,f,a)}n=n.sibling}}function ud(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&so(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&so(t))}function Ci(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,l),n=n.sibling}function Ly(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n,a,l),h&2048&&_o(9,n);break;case 1:Ci(t,n,a,l);break;case 3:Ci(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&so(t)));break;case 12:if(h&2048){Ci(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else Ci(t,n,a,l);break;case 31:Ci(t,n,a,l);break;case 13:Ci(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Ci(t,n,a,l):Eo(t,n):f._visibility&2?Ci(t,n,a,l):(f._visibility|=2,Wa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(p,n);break;case 24:Ci(t,n,a,l),h&2048&&cd(n.alternate,n);break;default:Ci(t,n,a,l)}}function Wa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=a,C=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Wa(f,p,T,C,h),_o(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Wa(f,p,T,C,h):Eo(f,p):(Q._visibility|=2,Wa(f,p,T,C,h)),h&&z&2048&&ud(p.alternate,p);break;case 24:Wa(f,p,T,C,h),h&&z&2048&&cd(p.alternate,p);break;default:Wa(f,p,T,C,h)}n=n.sibling}}function Eo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Eo(a,l),h&2048&&ud(l.alternate,l);break;case 24:Eo(a,l),h&2048&&cd(l.alternate,l);break;default:Eo(a,l)}n=n.sibling}}var To=8192;function el(t,n,a){if(t.subtreeFlags&To)for(t=t.child;t!==null;)zy(t,n,a),t=t.sibling}function zy(t,n,a){switch(t.tag){case 26:el(t,n,a),t.flags&To&&t.memoizedState!==null&&Kb(a,Ri,t.memoizedState,t.memoizedProps);break;case 5:el(t,n,a);break;case 3:case 4:var l=Ri;Ri=Rc(t.stateNode.containerInfo),el(t,n,a),Ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=To,To=16777216,el(t,n,a),To=l):el(t,n,a));break;default:el(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,Hy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&or(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mc(t)):bo(t);break;default:bo(t)}}function mc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,Hy(l,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),mc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mc(n));break;default:mc(n)}t=t.sibling}}function Hy(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:or(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:so(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(My(l),l===a){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var lb={getCacheForType:function(t){var n=on(qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return on(qt).controller.signal}},ob=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,Pe=null,Be=0,rt=0,Gn=null,ur=!1,tl=!1,hd=!1,Is=0,Dt=0,cr=0,ha=0,fd=0,Kn=0,nl=0,So=null,Mn=null,dd=!1,gc=0,Fy=0,pc=1/0,yc=null,hr=null,$t=0,fr=null,il=null,Ns=0,md=0,gd=null,Gy=null,Ao=0,pd=null;function Qn(){return(nt&2)!==0&&Be!==0?Be&-Be:G.T!==null?bd():N()}function Ky(){if(Kn===0)if((Be&536870912)===0||Ke){var t=Rn;Rn<<=1,(Rn&3932160)===0&&(Rn=262144),Kn=t}else Kn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Kn}function Vn(t,n,a){(t===dt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(sl(t,0),dr(t,Be,Kn,!1)),Xt(t,a),((nt&2)===0||t!==dt)&&(t===dt&&((nt&2)===0&&(ha|=a),Dt===4&&dr(t,Be,Kn,!1)),Wi(t))}function Qy(t,n,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ke(t,n),h=l?hb(t,n):_d(t,n,!0),f=l;do{if(h===0){tl&&!l&&dr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ub(a)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=So;var C=T.current.memoizedState.isDehydrated;if(C&&(sl(T,p).flags|=256),p=_d(T,p,!1),p!==2){if(hd&&!C){T.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){sl(t,0),dr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:dr(l,n,Kn,!ur);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=gc+300-Pt(),10<h)){if(dr(l,n,Kn,!ur),Te(l,0,!0)!==0)break e;Ns=n,l.timeoutHandle=A_(Yy.bind(null,l,a,Mn,yc,dd,n,Kn,ha,nl,ur,f,"Throttled",-0,0),h);break e}Yy(l,a,Mn,yc,dd,n,Kn,ha,nl,ur,f,null,-0,0)}}break}while(!0);Wi(t)}function Yy(t,n,a,l,h,f,p,T,C,z,Q,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},zy(n,f,$);var me=(f&62914560)===f?gc-Pt():(f&4194048)===f?Fy-Pt():0;if(me=Qb($,me),me!==null){Ns=f,t.cancelPendingCommit=me(n_.bind(null,t,n,f,a,l,h,p,T,C,Q,$,null,q,F)),dr(t,f,p,!z);return}}n_(t,n,f,a,l,h,p,T,C)}function ub(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Bn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(t,n,a,l){n&=~fd,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-gt(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&gn(t,a,n)}function _c(){return(nt&6)===0?(wo(0),!1):!0}function yd(){if(Pe!==null){if(rt===0)var t=Pe.return;else t=Pe,vs=na=null,Mf(t),Ya=null,ao=0,t=Pe;for(;t!==null;)wy(t.alternate,t),t=t.return;Pe=null}}function sl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ib(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ns=0,yd(),dt=t,Pe=a=ys(t.current,null),Be=n,rt=0,Gn=null,ur=!1,tl=ke(t,n),hd=!1,nl=Kn=fd=ha=cr=Dt=0,Mn=So=null,dd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),f=1<<h;n|=t[h],l&=~f}return Is=n,Lu(),a}function Xy(t,n){Me=null,G.H=go,n===Qa||n===Qu?(n=hp(),rt=3):n===Tf?(n=hp(),rt=4):rt=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,Pe===null&&(Dt=1,lc(t,li(n,t.current)))}function $y(){var t=Hn.current;return t===null?!0:(Be&4194048)===Be?hi===null:(Be&62914560)===Be||(Be&536870912)!==0?t===hi:!1}function Jy(){var t=G.H;return G.H=go,t===null?go:t}function Zy(){var t=G.A;return G.A=lb,t}function vc(){Dt=4,ur||(Be&4194048)!==Be&&Hn.current!==null||(tl=!0),(cr&134217727)===0&&(ha&134217727)===0||dt===null||dr(dt,Be,Kn,!1)}function _d(t,n,a){var l=nt;nt|=2;var h=Jy(),f=Zy();(dt!==t||Be!==n)&&(yc=null,sl(t,n)),n=!1;var p=Dt;e:do try{if(rt!==0&&Pe!==null){var T=Pe,C=Gn;switch(rt){case 8:yd(),p=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var z=rt;if(rt=0,Gn=null,rl(t,T,C,z),a&&tl){p=0;break e}break;default:z=rt,rt=0,Gn=null,rl(t,T,C,z)}}cb(),p=Dt;break}catch(Q){Xy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,vs=na=null,nt=l,G.H=h,G.A=f,Pe===null&&(dt=null,Be=0,Lu()),p}function cb(){for(;Pe!==null;)Wy(Pe)}function hb(t,n){var a=nt;nt|=2;var l=Jy(),h=Zy();dt!==t||Be!==n?(yc=null,pc=Pt()+500,sl(t,n)):tl=ke(t,n);e:do try{if(rt!==0&&Pe!==null){n=Pe;var f=Gn;t:switch(rt){case 1:rt=0,Gn=null,rl(t,n,f,1);break;case 2:case 9:if(up(f)){rt=0,Gn=null,e_(n);break}n=function(){rt!==2&&rt!==9||dt!==t||(rt=7),Wi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:up(f)?(rt=0,Gn=null,e_(n)):(rt=0,Gn=null,rl(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var T=Pe;if(p?L_(p):T.stateNode.complete){rt=0,Gn=null;var C=T.sibling;if(C!==null)Pe=C;else{var z=T.return;z!==null?(Pe=z,Ec(z)):Pe=null}break t}}rt=0,Gn=null,rl(t,n,f,5);break;case 6:rt=0,Gn=null,rl(t,n,f,6);break;case 8:yd(),Dt=6;break e;default:throw Error(r(462))}}fb();break}catch(Q){Xy(t,Q)}while(!0);return vs=na=null,G.H=l,G.A=h,nt=a,Pe!==null?0:(dt=null,Be=0,Lu(),Dt)}function fb(){for(;Pe!==null&&!Ei();)Wy(Pe)}function Wy(t){var n=Sy(t.alternate,t,Is);t.memoizedProps=t.pendingProps,n===null?Ec(t):Pe=n}function e_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=yy(a,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=yy(a,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Mf(n);default:wy(a,n),n=Pe=Zg(n,Is),n=Sy(a,n,Is)}t.memoizedProps=t.pendingProps,n===null?Ec(t):Pe=n}function rl(t,n,a,l){vs=na=null,Mf(n),Ya=null,ao=0;var h=n.return;try{if(eb(t,h,n,a,Be)){Dt=1,lc(t,li(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Dt=1,lc(t,li(a,t.current)),Pe=null;return}n.flags&32768?(Ke||l===1?t=!0:tl||(Be&536870912)!==0?t=!1:(ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(n,t)):Ec(n)}function Ec(t){var n=t;do{if((n.flags&32768)!==0){t_(n,ur);return}t=n.return;var a=ib(n.alternate,n,Is);if(a!==null){Pe=a;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Dt===0&&(Dt=5)}function t_(t,n){do{var a=sb(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);Dt=6,Pe=null}function n_(t,n,a,l,h,f,p,T,C){t.cancelPendingCommit=null;do Tc();while($t!==0);if((nt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=af,Ut(t,a,f,p,T,C),t===dt&&(Pe=dt=null,Be=0),il=n,fr=t,Ns=a,md=f,gd=h,Gy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(Un,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,p=nt,nt|=4;try{rb(t,n,a)}finally{nt=p,ie.p=h,G.T=l}}$t=1,i_(),s_(),r_()}}function i_(){if($t===1){$t=0;var t=fr,n=il,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=nt;nt|=4;try{Py(n,t);var f=Nd,p=Hg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(C!==null&&ef(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),me=T.textContent.length,Ae=Math.min(C.start,me),ct=C.end===void 0?Ae:Math.min(C.end,me);!F.extend&&Ae>ct&&(p=ct,ct=Ae,Ae=p);var j=Bg(T,Ae),V=Bg(T,ct);if(j&&V&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var L=$.createRange();L.setStart(j.node,j.offset),F.removeAllRanges(),Ae>ct?(F.addRange(L),F.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),F.addRange(L))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mc=!!Id,Nd=Id=null}finally{nt=h,ie.p=l,G.T=a}}t.current=n,$t=2}}function s_(){if($t===2){$t=0;var t=fr,n=il,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=nt;nt|=4;try{Oy(t,n.alternate,n)}finally{nt=h,ie.p=l,G.T=a}}$t=3}}function r_(){if($t===4||$t===3){$t=0,cs();var t=fr,n=il,a=Ns,l=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,il=fr=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),ti(a),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ie.p=h}}(Ns&3)!==0&&Tc(),Wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pd?Ao++:(Ao=0,pd=t):Ao=0,wo(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,so(n)))}function Tc(){return i_(),s_(),r_(),l_()}function l_(){if($t!==5)return!1;var t=fr,n=md;md=0;var a=ti(Ns),l=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=gd,gd=null;var f=fr,p=Ns;if($t=0,il=fr=null,Ns=0,(nt&6)!==0)throw Error(r(331));var T=nt;if(nt|=4,qy(f.current),Ly(f,f.current,p,a),nt=T,wo(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(mn,f)}catch{}return!0}finally{ie.p=h,G.T=l,a_(t,n)}}function o_(t,n,a){n=li(a,n),n=Yf(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(Xt(t,2),Wi(t))}function at(t,n,a){if(t.tag===3)o_(t,t,a);else for(;n!==null;){if(n.tag===3){o_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=li(a,t),a=uy(2),l=rr(n,a,2),l!==null&&(cy(a,l,n,t),Xt(l,2),Wi(l));break}}n=n.return}}function vd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ob;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(hd=!0,h.add(a),t=db.bind(null,t,n,a),n.then(t,t))}function db(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dt===t&&(Be&a)===a&&(Dt===4||Dt===3&&(Be&62914560)===Be&&300>Pt()-gc?(nt&2)===0&&sl(t,0):fd|=a,nl===Be&&(nl=0)),Wi(t)}function u_(t,n){n===0&&(n=ze()),t=Wr(t,n),t!==null&&(Xt(t,n),Wi(t))}function mb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(t,a)}function gb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),u_(t,a)}function pb(t,n){return ft(t,n)}var bc=null,al=null,Ed=!1,Sc=!1,Td=!1,mr=0;function Wi(t){t!==al&&t.next===null&&(al===null?bc=al=t:al=al.next=t),Sc=!0,Ed||(Ed=!0,_b())}function wo(t,n){if(!Td&&Sc){Td=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(l,f))}else f=Be,f=Te(l,l===dt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ke(l,f)||(a=!0,d_(l,f));l=l.next}while(a);Td=!1}}function yb(){c_()}function c_(){Sc=Ed=!1;var t=0;mr!==0&&Cb()&&(t=mr);for(var n=Pt(),a=null,l=bc;l!==null;){var h=l.next,f=h_(l,n);f===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(al=a)):(a=l,(t!==0||(f&3)!==0)&&(Sc=!0)),l=h}$t!==0&&$t!==5||wo(t),mr!==0&&(mr=0)}function h_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-gt(f),T=1<<p,C=h[p];C===-1?((T&a)===0||(T&l)!==0)&&(h[p]=Et(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=dt,a=Be,a=Te(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ke(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&xn(l),ti(a)){case 2:case 8:a=ji;break;case 32:a=Un;break;case 268435456:a=hs;break;default:a=Un}return l=f_.bind(null,t),a=ft(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&xn(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Be;return l=Te(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qy(t,l,n),h_(t,Pt()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,n){if(Tc())return null;Qy(t,n,!0)}function _b(){Nb(function(){(nt&6)!==0?ft(ki,yb):c_()})}function bd(){if(mr===0){var t=Ga;t===0&&(t=rn,rn<<=1,(rn&261888)===0&&(rn=256)),mr=t}return mr}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function g_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=m_((h[$e]||null).action),p=l.submitter;p&&(n=(n=p[$e]||null)?m_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ki("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var C=p?g_(h,p):new FormData(h);qf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?g_(h,p):new FormData(h),qf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Ad=rf[Sd],Eb=Ad.toLowerCase(),Tb=Ad[0].toUpperCase()+Ad.slice(1);xi(Eb,"on"+Tb)}xi(Kg,"onAnimationEnd"),xi(Qg,"onAnimationIteration"),xi(Yg,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(P1,"onTransitionRun"),xi(U1,"onTransitionStart"),xi(L1,"onTransitionCancel"),xi(Xg,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function p_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Uu(Q)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Uu(Q)}h.currentTarget=null,f=C}}}}function Ue(t,n){var a=n[bn];a===void 0&&(a=n[bn]=new Set);var l=t+"__bubble";a.has(l)||(y_(n,t,2,!1),a.add(l))}function wd(t,n,a){var l=0;n&&(l|=4),y_(a,t,l,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[Ac]){t[Ac]=!0,Pl.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||wd(a,!1,t),wd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,wd("selectionchange",!1,n))}}function y_(t,n,a,l){switch(K_(n)){case 2:var h=$b;break;case 8:h=Jb;break;default:h=Bd}a=h.bind(null,n,a,t),h=void 0,!Gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Rd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Li(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}T=T.parentNode}}l=l.return}Xs(function(){var z=f,Q=ii(a),$=[];e:{var q=$g.get(t);if(q!==void 0){var F=Ki,me=t;switch(t){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":F=ku;break;case"focusin":me="focus",F=Xr;break;case"focusout":me="blur",F=Xr;break;case"beforeblur":case"afterblur":F=Xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Kg:case Qg:case Yg:F=Cu;break;case Xg:F=b;break;case"scroll":case"scrollend":F=Xl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ps;break;case"toggle":case"beforetoggle":F=Oe}var Ae=(n&4)!==0,ct=!Ae&&(t==="scroll"||t==="scrollend"),j=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var V=z,L;V!==null;){var X=V;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||j===null||(X=bi(V,j),X!=null&&Ae.push(Ro(V,X,L))),ct)break;V=V.return}0<Ae.length&&(q=new F(q,me,null,a,Q),$.push({event:q,listeners:Ae}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Kl&&(me=a.relatedTarget||a.fromElement)&&(Li(me)||me[Lt]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(me=a.relatedTarget||a.toElement,F=z,me=me?Li(me):null,me!==null&&(ct=c(me),Ae=me.tag,me!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(me=null)):(F=null,me=z),F!==me)){if(Ae=$l,X="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ps,X="onPointerLeave",j="onPointerEnter",V="pointer"),ct=F==null?q:Ln(F),L=me==null?q:Ln(me),q=new Ae(X,V+"leave",F,a,Q),q.target=ct,q.relatedTarget=L,X=null,Li(Q)===z&&(Ae=new Ae(j,V+"enter",me,a,Q),Ae.target=L,Ae.relatedTarget=ct,X=Ae),ct=X,F&&me)t:{for(Ae=Sb,j=F,V=me,L=0,X=j;X;X=Ae(X))L++;X=0;for(var ve=V;ve;ve=Ae(ve))X++;for(;0<L-X;)j=Ae(j),L--;for(;0<X-L;)V=Ae(V),X--;for(;L--;){if(j===V||V!==null&&j===V.alternate){Ae=j;break t}j=Ae(j),V=Ae(V)}Ae=null}else Ae=null;F!==null&&__($,q,F,Ae,!1),me!==null&&ct!==null&&__($,ct,me,Ae,!0)}}e:{if(q=z?Ln(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Je=kg;else if(Mg(q))if(jg)Je=V1;else{Je=O1;var pe=D1}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ia(z.elementType)&&(Je=kg):Je=M1;if(Je&&(Je=Je(t,z))){Vg($,Je,a,Q);break e}pe&&pe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Hl(q,"number",q.value)}switch(pe=z?Ln(z):window,t){case"focusin":(Mg(pe)||pe.contentEditable==="true")&&(Pa=pe,tf=z,to=null);break;case"focusout":to=tf=Pa=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Fg($,a,Q);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Fg($,a,Q)}var Ve;if(tt)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ja?$r(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Xi&&a.locale!=="ko"&&(ja||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ja&&(Ve=Yl()):(Gi=Q,Ql="value"in Gi?Gi.value:Gi.textContent,ja=!0)),pe=wc(z,qe),0<pe.length&&(qe=new Yi(qe,t,null,a,Q),$.push({event:qe,listeners:pe}),Ve?qe.data=Ve:(Ve=ka(a),Ve!==null&&(qe.data=Ve)))),(Ve=ri?R1(t,a):C1(t,a))&&(qe=wc(z,"onBeforeInput"),0<qe.length&&(pe=new Yi("onBeforeInput","beforeinput",null,a,Q),$.push({event:pe,listeners:qe}),pe.data=Ve)),vb($,t,z,a,Q)}p_($,n)})}function Ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function wc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=bi(t,a),h!=null&&l.unshift(Ro(t,h,f)),h=bi(t,n),h!=null&&l.push(Ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Sb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=bi(a,f),z!=null&&p.unshift(Ro(a,z,C))):h||(z=bi(a,f),z!=null&&p.push(Ro(a,z,C)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var Ab=/\r\n?/g,wb=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(Ab,`
`).replace(wb,"")}function E_(t,n){return n=v_(n),v_(t)===n}function ut(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Gl(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ti);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,Ra(t,a,l))}}function Cd(t,n,a,l,h,f){switch(a){case"style":Gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$e]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function cn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,f,p,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),l&&ut(t,n,"src",a.src,a,null);return;case"input":Ue("invalid",t);var T=f=p=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ut(t,n,l,Q,a,null)}}bu(t,f,T,C,z,p,h,!1);return;case"select":Ue("invalid",t),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:ut(t,n,h,T,a,null)}n=f,a=p,t.multiple=!!l,n!=null?Gs(t,!!l,n,!1):a!=null&&Gs(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ut(t,n,p,T,a,null)}Ks(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,n,C,l,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<xo.length;l++)Ue(xo[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,z,l,a,null)}return;default:if(Ia(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Cd(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ut(t,n,T,l,a,null))}function xb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,z=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||ut(t,n,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&ut(t,n,q,F,l,$)}}Ca(t,p,T,C,z,Q,f,h);return;case"select":F=p=T=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||ut(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&ut(t,n,h,f,l,C)}n=T,a=p,l=F,q!=null?Gs(t,!!a,q,!1):!!l!=!!a&&(n!=null?Gs(t,!!a,n,!0):Gs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,n,p,h,l,f)}Su(t,q,F);return;case"option":for(var me in a)if(q=a[me],a.hasOwnProperty(me)&&q!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ut(t,n,me,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ut(t,n,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae)&&ut(t,n,Ae,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ut(t,n,z,q,l,F)}return;default:if(Ia(n)){for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!==void 0&&!l.hasOwnProperty(ct)&&Cd(t,n,ct,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Cd(t,n,Q,q,l,F);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&ut(t,n,j,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||ut(t,n,$,q,l,F)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&T_(p)){for(p=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,$=C.initiatorType;Q&&T_($)&&(C=C.responseEnd,p+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Nd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function Cb(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(Db)}:A_;function Db(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function x_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),cl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);cl(n)}function R_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ob(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=fi(t.nextSibling),t===null)break}return null}function Mb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fi(t.nextSibling),t===null))return null;return t}function C_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=fi(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function fi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jd=null;function I_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return fi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function D_(t,n,a){switch(n=xc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xa(t)}var di=new Map,O_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=ie.d;ie.d={f:kb,r:jb,D:Pb,C:Ub,L:Lb,m:zb,X:qb,S:Bb,M:Hb};function kb(){var t=Ds.f(),n=_c();return t||n}function jb(t){var n=ni(t);n!==null&&n.tag===5&&n.type==="form"?Xp(n):Ds.r(t)}var ll=typeof document>"u"?null:document;function M_(t,n,a){var l=ll;if(l&&typeof n=="string"&&n){var h=Cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Pb(t){Ds.D(t),M_("dns-prefetch",t,null)}function Ub(t,n){Ds.C(t,n),M_("preconnect",t,n)}function Lb(t,n,a){Ds.L(t,n,a);var l=ll;if(l&&t&&n){var h='link[rel="preload"][as="'+Cn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Cn(a.imageSizes)+'"]')):h+='[href="'+Cn(t)+'"]';var f=h;switch(n){case"style":f=ol(t);break;case"script":f=ul(t)}di.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),di.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Io(f))||n==="script"&&l.querySelector(No(f))||(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function zb(t,n){Ds.m(t,n);var a=ll;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ul(t)}if(!di.has(f)&&(t=A({rel:"modulepreload",href:t},n),di.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(No(f)))return}l=a.createElement("link"),cn(l,"link",t),zt(l),a.head.appendChild(l)}}}function Bb(t,n,a){Ds.S(t,n,a);var l=ll;if(l&&t){var h=zi(l).hoistableStyles,f=ol(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Io(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=di.get(f))&&Pd(t,a);var C=p=l.createElement("link");zt(C),cn(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function qb(t,n){Ds.X(t,n);var a=ll;if(a&&t){var l=zi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(No(h)),f||(t=A({src:t,async:!0},n),(n=di.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Hb(t,n){Ds.M(t,n);var a=ll;if(a&&t){var l=zi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(No(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=di.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function V_(t,n,a,l){var h=(h=ae.current)?Rc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ol(a.href),a=zi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ol(a.href);var f=zi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Io(t)))&&!f._p&&(p.instance=f,p.state.loading=5),di.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},di.set(t,a),f||Fb(h,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ul(a),a=zi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ol(t){return'href="'+Cn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Fb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",a),zt(n),t.head.appendChild(n))}function ul(t){return'[src="'+Cn(t)+'"]'}function No(t){return"script[async]"+t}function j_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return n.instance=l,zt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),cn(l,"style",h),Cc(l,a.precedence,t),n.instance=l;case"stylesheet":h=ol(a.href);var f=t.querySelector(Io(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;l=k_(a),(h=di.get(h))&&Pd(l,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),cn(f,"link",l),n.state.loading|=4,Cc(f,a.precedence,t),n.instance=f;case"script":return f=ul(a.src),(h=t.querySelector(No(f)))?(n.instance=h,zt(h),h):(l=a,(h=di.get(f))&&(l=A({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cc(l,a.precedence,t));return n.instance}function Cc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ic=null;function P_(t,n,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ui]||f[Ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function U_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Gb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ol(l.href),f=n.querySelector(Io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,zt(f);return}f=n.ownerDocument||n,l=k_(l),(h=di.get(h))&&Pd(l,h),f=f.createElement("link"),zt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),cn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function Qb(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ld===0&&(Ld=62500*Rb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach(Yb,t),Dc=null,Nc.call(t))}function Yb(t,n){if(!(n.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Do={$$typeof:ce,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Xb(t,n,a,l,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function z_(t,n,a,l,h,f,p,T,C,z,Q,$){return t=new Xb(t,n,a,p,C,z,Q,$,T),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},bf(f),t}function B_(t){return t?(t=za,t):za}function q_(t,n,a,l,h,f){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=sr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=rr(t,l,n),a!==null&&(Vn(a,t,n),oo(a,t,n))}function H_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function zd(t,n){H_(t,n),(t=t.alternate)&&H_(t,n)}function F_(t){if(t.tag===13||t.tag===31){var n=Wr(t,67108864);n!==null&&Vn(n,t,67108864),zd(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var n=Qn();n=ei(n);var a=Wr(t,n);a!==null&&Vn(a,t,n),zd(t,n)}}var Mc=!0;function $b(t,n,a,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Bd(t,n,a,l)}finally{ie.p=f,G.T=h}}function Jb(t,n,a,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Bd(t,n,a,l)}finally{ie.p=f,G.T=h}}function Bd(t,n,a,l){if(Mc){var h=qd(l);if(h===null)Rd(t,n,l,Vc,a),Q_(t,l);else if(Wb(h,t,n,a,l))l.stopPropagation();else if(Q_(t,l),n&4&&-1<Zb.indexOf(t)){for(;h!==null;){var f=ni(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=le(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-gt(p);T.entanglements[1]|=C,p&=~C}Wi(f),(nt&6)===0&&(pc=Pt()+500,wo(0))}}break;case 31:case 13:T=Wr(f,2),T!==null&&Vn(T,f,2),_c(),zd(f,2)}if(f=qd(l),f===null&&Rd(t,n,l,Vc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rd(t,n,l,null,a)}}function qd(t){return t=ii(t),Hd(t)}var Vc=null;function Hd(t){if(Vc=null,t=Li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vc=t,null}function K_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case ki:return 2;case ji:return 8;case Un:case qs:return 32;case hs:return 268435456;default:return 32}default:return 32}}var Fd=!1,pr=null,yr=null,_r=null,Oo=new Map,Mo=new Map,vr=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Vo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ni(n),n!==null&&F_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Wb(t,n,a,l,h){switch(n){case"focusin":return pr=Vo(pr,t,n,a,l,h),!0;case"dragenter":return yr=Vo(yr,t,n,a,l,h),!0;case"mouseover":return _r=Vo(_r,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Oo.set(f,Vo(Oo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Mo.set(f,Vo(Mo.get(f)||null,t,n,a,l,h)),!0}return!1}function Y_(t){var n=Li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,_e(t.priority,function(){G_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,_e(t.priority,function(){G_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kl=l,a.target.dispatchEvent(l),Kl=null}else return n=ni(a),n!==null&&F_(n),t.blockedOn=a,!1;n.shift()}return!0}function X_(t,n,a){kc(t)&&a.delete(n)}function eS(){Fd=!1,pr!==null&&kc(pr)&&(pr=null),yr!==null&&kc(yr)&&(yr=null),_r!==null&&kc(_r)&&(_r=null),Oo.forEach(X_),Mo.forEach(X_)}function jc(t,n){t.blockedOn===n&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eS)))}var Pc=null;function $_(t){Pc!==t&&(Pc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var f=ni(a);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cl(t){function n(C){return jc(C,t)}pr!==null&&jc(pr,t),yr!==null&&jc(yr,t),_r!==null&&jc(_r,t),Oo.forEach(n),Mo.forEach(n);for(var a=0;a<vr.length;a++){var l=vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[$e]||null;if(typeof f=="function")p||$_(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[$e]||null)T=p.formAction;else if(Hd(h)!==null)continue}else T=p.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$_(a)}}}function J_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}Uc.prototype.render=Gd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Qn();q_(a,l,t,n,null,null)},Uc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;q_(t.current,2,null,t,null,null),_c(),n[Lt]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=N();t={blockedOn:null,target:t,priority:n};for(var a=0;a<vr.length&&n!==0&&n<vr[a].priority;a++);vr.splice(a,0,t),a===0&&Y_(t)}};var Z_=e.version;if(Z_!=="19.2.0")throw Error(r(527,Z_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{mn=Lc.inject(tS),It=Lc}catch{}}return jo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ry,f=ay,p=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=z_(t,1,!1,null,null,a,l,null,h,f,p,J_),t[Lt]=n.current,xd(t),new Gd(n)},jo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ry,p=ay,T=ly,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=z_(t,1,!0,n,a??null,l,h,C,f,p,T,J_),n.context=B_(null),a=n.current,l=Qn(),l=ei(l),h=sr(l),h.callback=null,rr(a,h,l),a=l,n.current.lanes=a,Xt(n,a),Wi(n),t[Lt]=n.current,xd(t),new Uc(n)},jo.version="19.2.0",jo}var o0;function hS(){if(o0)return Yd.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=cS(),Yd.exports}var fS=hS();const dS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),u0=s=>{const e=mS(s);return e.charAt(0).toUpperCase()+e.slice(1)},$v=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),gS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yS=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},y)=>oe.createElement("svg",{ref:y,...pS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:$v("lucide",o),...!c&&!gS(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,S])=>oe.createElement(v,S)),...Array.isArray(c)?c:[c]]));const mt=(s,e)=>{const i=oe.forwardRef(({className:r,...o},c)=>oe.createElement(yS,{ref:c,iconNode:e,className:$v(`lucide-${dS(u0(s))}`,`lucide-${s}`,r),...o}));return i.displayName=u0(s),i};const _S=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vS=mt("check",_S);const ES=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ah=mt("chevron-right",ES);const TS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bS=mt("chevron-left",TS);const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],c0=mt("circle-pause",SS);const AS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wS=mt("circle-play",AS);const xS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],RS=mt("clipboard-list",xS);const CS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h0=mt("clock",CS);const IS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NS=mt("copy",IS);const DS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],OS=mt("key-round",DS);const MS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jv=mt("log-out",MS);const VS=[["path",{d:"M5 12h14",key:"1ays0h"}]],kS=mt("minus",VS);const jS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],PS=mt("octagon-alert",jS);const US=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zd=mt("pen",US);const LS=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Zv=mt("piggy-bank",LS);const zS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xc=mt("plus",zS);const BS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],f0=mt("rotate-ccw",BS);const qS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wv=mt("settings",qS);const HS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eE=mt("shield-check",HS);const FS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],d0=mt("star",FS);const GS=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],KS=mt("thumbs-down",GS);const QS=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],YS=mt("thumbs-up",QS);const XS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wd=mt("trash-2",XS);const $S=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],JS=mt("user-plus",$S);const ZS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WS=mt("user",ZS);const eA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lh=mt("users",eA);const tA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],m0=mt("wallet",tA);const nA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Um=mt("x",nA),iA=()=>{};var g0={};const tE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,v=y?s[o+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|v>>6,K=v&63;y||(K=64,d||(D=64)),r.push(i[S],i[A],i[D],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):sA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||v==null||A==null)throw new rA;const D=c<<2|g>>4;if(r.push(D),v!==64){const K=g<<4&240|v>>2;if(r.push(K),A!==64){const ee=v<<6&192|A;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(s){const e=tE(s);return nE.encodeByteArray(e,!0)},oh=function(s){return aA(s).replace(/\./g,"")},iE=function(s){try{return nE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>lA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof g0>"u")return;const s=g0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&iE(s[1]);return e&&JSON.parse(e)},Nh=()=>{try{return iA()||oA()||uA()||cA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sE=s=>Nh()?.emulatorHosts?.[s],hA=s=>{const e=sE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},rE=()=>Nh()?.config,aE=s=>Nh()?.[`_${s}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(s){return(await fetch(s,{credentials:"include"})).ok}function dA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const Fo={};function mA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?s.emulator.push(e):s.prod.push(e);return s}function gA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let p0=!1;function oE(s,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||Fo[s]===e||Fo[s]||p0)return;Fo[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=mA().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,K){D.setAttribute("width","24"),D.setAttribute("id",K),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{p0=!0,d()},D}function S(D,K){D.setAttribute("id",K),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=gA(r),K=i("text"),ee=document.getElementById(K)||document.createElement("span"),te=i("learnmore"),W=document.getElementById(te)||document.createElement("a"),ye=i("preprendIcon"),ge=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ce=D.element;g(ce),S(W,te);const Qe=v();y(ge,ye),ce.append(ge,ee,W,Qe),document.body.appendChild(ce)}c?(ee.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function yA(){const s=Nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const wA="FirebaseError";class Ls extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=wA,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?xA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ls(o,g,r)}}function xA(s,e){return s.replace(RA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const RA=/\{\$([^}]+)}/g;function CA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(y0(c)&&y0(d)){if(!pa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function y0(s){return s!==null&&typeof s=="object"}function ou(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Uo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function IA(s,e){const i=new NA(s,e);return i.subscribe.bind(i)}class NA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");DA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function em(){}function Zt(s){return s&&s._delegate?s._delegate:s}class ya{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class OA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new fA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(s){return s===fa?void 0:s}function VA(s){return s.instantiationMode==="EAGER"}class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const jA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},PA=He.INFO,UA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},LA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=UA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const zA=(s,e)=>e.some(i=>s instanceof i);let _0,v0;function BA(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,fm=new WeakMap,cE=new WeakMap,tm=new WeakMap,zm=new WeakMap;function HA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Rr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&uE.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function FA(s){if(fm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,e)}let dm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function GA(s){dm=s(dm)}function KA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(nm(this),e,...i);return cE.set(r,e.sort?e.sort():[e]),Rr(r)}:qA().includes(s)?function(...e){return s.apply(nm(this),e),Rr(uE.get(this))}:function(...e){return Rr(s.apply(nm(this),e))}}function QA(s){return typeof s=="function"?KA(s):(s instanceof IDBTransaction&&FA(s),zA(s,BA())?new Proxy(s,dm):s)}function Rr(s){if(s instanceof IDBRequest)return HA(s);if(tm.has(s))return tm.get(s);const e=QA(s);return e!==s&&(tm.set(s,e),zm.set(e,s)),e}const nm=s=>zm.get(s);function YA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Rr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Rr(d.result),y.oldVersion,y.newVersion,Rr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],im=new Map;function E0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=$A.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return im.set(e,c),c}GA(s=>({...s,get:(e,i,r)=>E0(e,i)||s.get(e,i,r),has:(e,i)=>!!E0(e,i)||s.has(e,i)}));class JA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",T0="0.14.6";const ks=new Lm("@firebase/app"),WA="@firebase/app-compat",ew="@firebase/analytics-compat",tw="@firebase/analytics",nw="@firebase/app-check-compat",iw="@firebase/app-check",sw="@firebase/auth",rw="@firebase/auth-compat",aw="@firebase/database",lw="@firebase/data-connect",ow="@firebase/database-compat",uw="@firebase/functions",cw="@firebase/functions-compat",hw="@firebase/installations",fw="@firebase/installations-compat",dw="@firebase/messaging",mw="@firebase/messaging-compat",gw="@firebase/performance",pw="@firebase/performance-compat",yw="@firebase/remote-config",_w="@firebase/remote-config-compat",vw="@firebase/storage",Ew="@firebase/storage-compat",Tw="@firebase/firestore",bw="@firebase/ai",Sw="@firebase/firestore-compat",Aw="firebase",ww="12.6.0";const gm="[DEFAULT]",xw={[mm]:"fire-core",[WA]:"fire-core-compat",[tw]:"fire-analytics",[ew]:"fire-analytics-compat",[iw]:"fire-app-check",[nw]:"fire-app-check-compat",[sw]:"fire-auth",[rw]:"fire-auth-compat",[aw]:"fire-rtdb",[lw]:"fire-data-connect",[ow]:"fire-rtdb-compat",[uw]:"fire-fn",[cw]:"fire-fn-compat",[hw]:"fire-iid",[fw]:"fire-iid-compat",[dw]:"fire-fcm",[mw]:"fire-fcm-compat",[gw]:"fire-perf",[pw]:"fire-perf-compat",[yw]:"fire-rc",[_w]:"fire-rc-compat",[vw]:"fire-gcs",[Ew]:"fire-gcs-compat",[Tw]:"fire-fst",[Sw]:"fire-fst-compat",[bw]:"fire-vertex","fire-js":"fire-js",[Aw]:"fire-js-all"};const uh=new Map,Rw=new Map,pm=new Map;function b0(s,e){try{s.container.addComponent(e)}catch(i){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Sl(s){const e=s.name;if(pm.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of uh.values())b0(i,s);for(const i of Rw.values())b0(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function gi(s){return s==null?!1:s.settings!==void 0}const Cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new lu("app","Firebase",Cw);class Iw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Dl=ww;function hE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=rE()),!i)throw Cr.create("no-options");const c=uh.get(o);if(c){if(pa(i,c.options)&&pa(r,c.config))return c;throw Cr.create("duplicate-app",{appName:o})}const d=new kA(o);for(const y of pm.values())d.addComponent(y);const g=new Iw(i,r,d);return uh.set(o,g),g}function fE(s=gm){const e=uh.get(s);if(!e&&s===gm&&rE())return hE();if(!e)throw Cr.create("no-app",{appName:s});return e}function Ir(s,e,i){let r=xw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(d.join(" "));return}Sl(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Nw="firebase-heartbeat-database",Dw=1,$o="firebase-heartbeat-store";let sm=null;function dE(){return sm||(sm=YA(Nw,Dw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($o)}catch(i){console.warn(i)}}}}).catch(s=>{throw Cr.create("idb-open",{originalErrorMessage:s.message})})),sm}async function Ow(s){try{const i=(await dE()).transaction($o),r=await i.objectStore($o).get(mE(s));return await i.done,r}catch(e){if(e instanceof Ls)ks.warn(e.message);else{const i=Cr.create("idb-get",{originalErrorMessage:e?.message});ks.warn(i.message)}}}async function S0(s,e){try{const r=(await dE()).transaction($o,"readwrite");await r.objectStore($o).put(e,mE(s)),await r.done}catch(i){if(i instanceof Ls)ks.warn(i.message);else{const r=Cr.create("idb-set",{originalErrorMessage:i?.message});ks.warn(r.message)}}}function mE(s){return`${s.name}!${s.options.appId}`}const Mw=1024,Vw=30;class kw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Pw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Vw){const o=Uw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:i,unsentEntries:r}=jw(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ks.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function jw(s,e=Mw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),w0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),w0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ow(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w0(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function Uw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Lw(s){Sl(new ya("platform-logger",e=>new JA(e),"PRIVATE")),Sl(new ya("heartbeat",e=>new kw(e),"PRIVATE")),Ir(mm,T0,s),Ir(mm,T0,"esm2020"),Ir("fire-js","")}Lw("");var zw="firebase",Bw="12.6.0";Ir(zw,Bw,"app");function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qw=gE,pE=new lu("auth","Firebase",gE());const ch=new Lm("@firebase/auth");function Hw(s,...e){ch.logLevel<=He.WARN&&ch.warn(`Auth (${Dl}): ${s}`,...e)}function $c(s,...e){ch.logLevel<=He.ERROR&&ch.error(`Auth (${Dl}): ${s}`,...e)}function Oi(s,...e){throw qm(s,...e)}function ns(s,...e){return qm(s,...e)}function yE(s,e,i){const r={...qw(),[e]:i};return new lu("auth","Firebase",r).create(e,{appName:s.name})}function Vs(s){return yE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return pE.create(s,...e)}function we(s,e,...i){if(!s)throw qm(e,...i)}function Os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $c(e),new Error(e)}function js(s,e){s||Os(e)}function ym(){return typeof self<"u"&&self.location?.href||""}function Fw(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function Gw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fw()||vA()||"connection"in navigator)?navigator.onLine:!0}function Kw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class uu{constructor(e,i){this.shortDelay=e,this.longDelay=i,js(i>e,"Short delay should be less than long delay!"),this.isMobile=pA()||EA()}get(){return Gw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,e){js(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class _E{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Yw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xw=new uu(3e4,6e4);function zs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Bs(s,e,i,r,o={}){return vE(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=ou({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:y,...c};return _A()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(v.credentials="include"),_E.fetch()(await EE(s,s.config.apiHost,i,g),v)})}async function vE(s,e,i){s._canInitEmulator=!1;const r={...Qw,...e};try{const o=new Jw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw zc(s,"user-disabled",d);const S=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw yE(s,S,v);Oi(s,S)}}catch(o){if(o instanceof Ls)throw o;Oi(s,"network-request-failed",{message:String(o)})}}async function cu(s,e,i,r,o={}){const c=await Bs(s,e,i,r,o);return"mfaPendingCredential"in c&&Oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function EE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return Yw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function $w(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),Xw.get())})}}function zc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ns(s,e,r);return o.customData._tokenResponse=i,o}function R0(s){return s!==void 0&&s.enterprise!==void 0}class Zw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return $w(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ww(s,e){return Bs(s,"GET","/v2/recaptchaConfig",zs(s,e))}async function e2(s,e){return Bs(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return Bs(s,"POST","/v1/accounts:lookup",e)}function Go(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t2(s,e=!1){const i=Zt(s),r=await i.getIdToken(e),o=Fm(r);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Go(rm(o.auth_time)),issuedAtTime:Go(rm(o.iat)),expirationTime:Go(rm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Fm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=iE(i);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function C0(s){const e=Fm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ls&&n2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function n2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class i2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await Jo(s,hh(e,{idToken:i}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?TE(o.providerUserInfo):[],d=r2(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,v=g?y:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function s2(s){const e=Zt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function TE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function a2(s,e){const i=await vE(s,{},async()=>{const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await EE(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(y.credentials="include"),_E.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function l2(s,e){return Bs(s,"POST","/v2/accounts:revokeToken",zs(s,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=C0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await a2(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new yl;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Os("not implemented")}}function Tr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new i2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return t2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await Jo(this,e2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:K,providerData:ee,stsTokenManager:te}=i;we(A&&te,e,"internal-error");const W=yl.fromJSON(this.name,te);we(typeof A=="string",e,"internal-error"),Tr(r,e.name),Tr(o,e.name),we(typeof D=="boolean",e,"internal-error"),we(typeof K=="boolean",e,"internal-error"),Tr(c,e.name),Tr(d,e.name),Tr(g,e.name),Tr(y,e.name),Tr(v,e.name),Tr(S,e.name);const ye=new Di({uid:A,auth:e,email:o,emailVerified:D,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:S});return ee&&Array.isArray(ee)&&(ye.providerData=ee.map(ge=>({...ge}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,r=!1){const o=new yl;o.updateFromServerResponse(i);const c=new Di({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?TE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new yl;g.updateFromIdToken(r);const y=new Di({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const I0=new Map;function Ms(s){js(s instanceof Function,"Expected a class definition");let e=I0.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,I0.set(s,e),e)}class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}bE.type="NONE";const N0=bE;function Jc(s,e,i){return`firebase:${s}:${e}:${i}`}class _l{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?Di._fromGetAccountInfoResponse(this.auth,i,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new _l(Ms(N0),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ms(N0);const d=Jc(r,e.config.apiKey,e.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){let A;if(typeof S=="string"){const D=await hh(e,{idToken:S}).catch(()=>{});if(!D)break;A=await Di._fromGetAccountInfoResponse(e,D,S)}else A=Di._fromJSON(e,S);v!==c&&(g=A),c=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new _l(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new _l(c,e,r))}}function D0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(IE(e))return"Webos";if(AE(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function SE(s=En()){return/firefox\//i.test(s)}function AE(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(s=En()){return/crios\//i.test(s)}function xE(s=En()){return/iemobile/i.test(s)}function RE(s=En()){return/android/i.test(s)}function CE(s=En()){return/blackberry/i.test(s)}function IE(s=En()){return/webos/i.test(s)}function Gm(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function o2(s=En()){return Gm(s)&&!!window.navigator?.standalone}function u2(){return TA()&&document.documentMode===10}function NE(s=En()){return Gm(s)||RE(s)||IE(s)||CE(s)||/windows phone/i.test(s)||xE(s)}function DE(s,e=[]){let i;switch(s){case"Browser":i=D0(En());break;case"Worker":i=`${D0(En())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Dl}/${r}`}class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function h2(s,e={}){return Bs(s,"GET","/v2/passwordPolicy",zs(s,e))}const f2=6;class d2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??f2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class m2{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Vs(this));const i=e?Zt(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),i=new d2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await l2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ms(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Hw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ur(s){return Zt(s)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(s){Dh=s}function OE(s){return Dh.loadJS(s)}function p2(){return Dh.recaptchaEnterpriseScript}function y2(){return Dh.gapiScript}function _2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class v2{constructor(){this.enterprise=new E2}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class E2{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const T2="recaptcha-enterprise",ME="NO_RECAPTCHA";class b2{constructor(e){this.type=T2,this.auth=Ur(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Ww(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Zw(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(y=>{g(y)})})}function o(c,d,g){const y=window.grecaptcha;R0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(ME)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&R0(window.grecaptcha))o(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=p2();y.length!==0&&(y+=g),OE(y).then(()=>{o(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function M0(s,e,i,r=!1,o=!1){const c=new b2(s);let d;if(o)d=ME;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function dh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await M0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await M0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function S2(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(pa(c,e??{}))return o;Oi(o,"already-initialized")}return i.initialize({options:e})}function A2(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function w2(s,e,i){const r=Ur(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=VE(e),{host:d,port:g}=x2(e),y=g===null?"":`:${g}`,v={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(pa(v,r.config.emulator)&&pa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Nl(d)?(lE(`${c}//${d}${y}`),oE("Auth",!0)):R2()}function VE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function x2(s){const e=VE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:V0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:V0(d)}}}function V0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function R2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Km{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,i){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function C2(s,e){return Bs(s,"POST","/v1/accounts:signUp",e)}async function I2(s,e){return cu(s,"POST","/v1/accounts:signInWithPassword",zs(s,e))}async function N2(s,e){return Bs(s,"POST","/v1/accounts:sendOobCode",zs(s,e))}async function D2(s,e){return N2(s,e)}async function O2(s,e){return cu(s,"POST","/v1/accounts:signInWithEmailLink",zs(s,e))}async function M2(s,e){return cu(s,"POST","/v1/accounts:signInWithEmailLink",zs(s,e))}class Zo extends Km{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Zo(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Zo(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,i,"signInWithPassword",I2);case"emailLink":return O2(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",C2);case"emailLink":return M2(e,{idToken:i,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vl(s,e){return cu(s,"POST","/v1/accounts:signInWithIdp",zs(s,e))}const V2="http://localhost";class _a extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new _a(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return vl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,vl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vl(e,i)}buildRequest(){const e={requestUri:V2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ou(i)}return e}}function k2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j2(s){const e=Po(Uo(s)).link,i=e?Po(Uo(e)).deep_link_id:null,r=Po(Uo(s)).deep_link_id;return(r?Po(Uo(r)).link:null)||r||i||e||s}class Qm{constructor(e){const i=Po(Uo(e)),r=i.apiKey??null,o=i.oobCode??null,c=k2(i.mode??null);we(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=j2(e);try{return new Qm(i)}catch{return null}}}class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,i){return Zo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Qm.parseLink(i);return we(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br extends hu{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class Sr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _a._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Sr.credential(i,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";class Ar extends hu{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";class wr extends hu{constructor(){super("twitter.com")}static credential(e,i){return _a._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return wr.credential(i,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";async function P2(s,e){return cu(s,"POST","/v1/accounts:signUp",zs(s,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Di._fromIdTokenResponse(e,r,o),d=k0(r);return new va({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=k0(r);return new va({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function k0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends Ls{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new mh(e,i,r,o)}}function jE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,c,e,r):c})}async function U2(s,e,i=!1){const r=await Jo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return va._forOperation(s,"link",r)}async function L2(s,e,i=!1){const{auth:r}=s;if(gi(r.app))return Promise.reject(Vs(r));const o="reauthenticate";try{const c=await Jo(s,jE(r,o,e,s),i);we(c.idToken,r,"internal-error");const d=Fm(c.idToken);we(d,r,"internal-error");const{sub:g}=d;return we(s.uid===g,r,"user-mismatch"),va._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Oi(r,"user-mismatch"),c}}async function PE(s,e,i=!1){if(gi(s.app))return Promise.reject(Vs(s));const r="signIn",o=await jE(s,r,e),c=await va._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function UE(s,e){return PE(Ur(s),e)}async function LE(s){const e=Ur(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z2(s,e,i){const r=Ur(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",D2)}async function B2(s,e,i){if(gi(s.app))return Promise.reject(Vs(s));const r=Ur(s),d=await dh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&LE(s),y}),g=await va._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function q2(s,e,i){return gi(s.app)?Promise.reject(Vs(s)):UE(Zt(s),Sa.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(s),r})}function H2(s,e,i,r){return Zt(s).onIdTokenChanged(e,i,r)}function F2(s,e,i){return Zt(s).beforeAuthStateChanged(e,i)}function G2(s,e,i,r){return Zt(s).onAuthStateChanged(e,i,r)}function K2(s){return Zt(s).signOut()}const gh="__sak";class zE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q2=1e3,Y2=10;class BE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);u2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Y2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}BE.type="LOCAL";const X2=BE;class qE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}qE.type="SESSION";const HE=qE;function $2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async v=>v(i.origin,c)),y=await $2(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function Ym(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class J2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const v=Ym("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const D=A;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function is(){return window}function Z2(s){is().location.href=s}function FE(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function W2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ex(){return navigator?.serviceWorker?.controller||null}function tx(){return FE()?self:null}const GE="firebaseLocalStorageDb",nx=1,ph="firebaseLocalStorage",KE="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Mh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function ix(){const s=indexedDB.deleteDatabase(GE);return new fu(s).toPromise()}function vm(){const s=indexedDB.open(GE,nx);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:KE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await ix(),e(await vm()))})})}async function j0(s,e,i){const r=Mh(s,!0).put({[KE]:e,value:i});return new fu(r).toPromise()}async function sx(s,e){const i=Mh(s,!1).get(e),r=await new fu(i).toPromise();return r===void 0?null:r.value}function P0(s,e){const i=Mh(s,!0).delete(e);return new fu(i).toPromise()}const rx=800,ax=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>ax)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(tx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W2(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ex()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await j0(e,gh,"1"),await P0(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>j0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>sx(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>P0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Mh(o,!1).getAll();return new fu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const lx=QE;new uu(3e4,6e4);function ox(s,e){return e?Ms(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ux(s){return PE(s.auth,new Xm(s),s.bypassAuthState)}function cx(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),L2(i,new Xm(s),s.bypassAuthState)}async function hx(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),U2(i,new Xm(s),s.bypassAuthState)}class YE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ux;case"linkViaPopup":case"linkViaRedirect":return hx;case"reauthViaPopup":case"reauthViaRedirect":return cx;default:Oi(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fx=new uu(2e3,1e4);class pl extends YE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fx.get())};e()}}pl.currentPopupAction=null;const dx="pendingRedirect",Zc=new Map;class mx extends YE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gx(s,e){const i=_x(e),r=yx(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function px(s,e){Zc.set(s._key(),e)}function yx(s){return Ms(s._redirectPersistence)}function _x(s){return Jc(dx,s.config.apiKey,s.name)}async function vx(s,e,i=!1){if(gi(s.app))return Promise.reject(Vs(s));const r=Ur(s),o=ox(r,e),d=await new mx(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const Ex=600*1e3;class Tx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!XE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ns(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ex&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function XE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function bx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(s);default:return!1}}async function Sx(s,e={}){return Bs(s,"GET","/v1/projects",e)}const Ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wx=/^https?/;async function xx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Sx(s);for(const i of e)try{if(Rx(i))return}catch{}Oi(s,"unauthorized-domain")}function Rx(s){const e=ym(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!wx.test(i))return!1;if(Ax.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Cx=new uu(3e4,6e4);function L0(){const s=is().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Ix(s){return new Promise((e,i)=>{function r(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),i(ns(s,"network-request-failed"))},timeout:Cx.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)r();else{const o=_2("iframefcb");return is()[o]=()=>{gapi.load?r():i(ns(s,"network-request-failed"))},OE(`${y2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function Nx(s){return Wc=Wc||Ix(s),Wc}const Dx=new uu(5e3,15e3),Ox="__/auth/iframe",Mx="emulator/auth/iframe",Vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jx(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Hm(e,Mx):`https://${s.config.authDomain}/${Ox}`,r={apiKey:e.apiKey,appName:s.name,v:Dl},o=kx.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ou(r).slice(1)}`}async function Px(s){const e=await Nx(s),i=is().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:jx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vx,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=ns(s,"network-request-failed"),g=is().setTimeout(()=>{c(d)},Dx.get());function y(){is().clearTimeout(g),o(r)}r.ping(y).then(y,()=>{c(d)})}))}const Ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lx=500,zx=600,Bx="_blank",qx="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hx(s,e,i,r=Lx,o=zx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...Ux,width:r.toString(),height:o.toString(),top:c,left:d},v=En().toLowerCase();i&&(g=wE(v)?Bx:i),SE(v)&&(e=e||qx,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[K,ee])=>`${D}${K}=${ee},`,"");if(o2(v)&&g!=="_self")return Fx(e||"",g),new z0(null);const A=window.open(e||"",g,S);we(A,s,"popup-blocked");try{A.focus()}catch{}return new z0(A)}function Fx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Gx="__/auth/handler",Kx="emulator/auth/handler",Qx=encodeURIComponent("fac");async function B0(s,e,i,r,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Dl,eventId:o};if(e instanceof kE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",CA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof hu){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await s._getAppCheckToken(),v=y?`#${Qx}=${encodeURIComponent(y)}`:"";return`${Yx(s)}?${ou(g).slice(1)}${v}`}function Yx({config:s}){return s.emulator?Hm(s,Kx):`https://${s.authDomain}/${Gx}`}const am="webStorageSupport";class Xx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=vx,this._overrideRedirectResult=px}async _openPopup(e,i,r,o){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await B0(e,i,r,ym(),o);return Hx(e,c,Ym())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await B0(e,i,r,ym(),o);return Z2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(js(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Px(e),r=new Tx(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},o=>{const c=o?.[0]?.[am];c!==void 0&&i(!!c),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return NE()||AE()||Gm()}}const $x=Xx;var q0="@firebase/auth",H0="1.11.1";class Jx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wx(s){Sl(new ya("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(s)},v=new m2(r,o,c,y);return A2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new ya("auth-internal",e=>{const i=Ur(e.getProvider("auth").getImmediate());return(r=>new Jx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(q0,H0,Zx(s)),Ir(q0,H0,"esm2020")}const eR=300,tR=aE("authIdTokenMaxAge")||eR;let F0=null;const nR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>tR)return;const o=i?.token;F0!==o&&(F0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iR(s=fE()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=S2(s,{popupRedirectResolver:$x,persistence:[lx,X2,HE]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=nR(c.toString());F2(i,d,()=>d(i.currentUser)),H2(i,g=>d(g))}}const o=sE("auth");return o&&w2(i,`http://${o}`),i}function sR(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ns("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",sR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wx("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,$E;(function(){var s;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,O,P){for(var x=Array(arguments.length-2),We=2;We<arguments.length;We++)x[We-2]=arguments[We];return w.prototype[O].apply(k,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],O=I.g[2];let P=I.g[3],x;x=w+(P^R&(O^P))+k[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(O^w&(R^O))+k[1]+3905402710&4294967295,P=w+(x<<12&4294967295|x>>>20),x=O+(R^P&(w^R))+k[2]+606105819&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(w^O&(P^w))+k[3]+3250441966&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(P^R&(O^P))+k[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(O^w&(R^O))+k[5]+1200080426&4294967295,P=w+(x<<12&4294967295|x>>>20),x=O+(R^P&(w^R))+k[6]+2821735955&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(w^O&(P^w))+k[7]+4249261313&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(P^R&(O^P))+k[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(O^w&(R^O))+k[9]+2336552879&4294967295,P=w+(x<<12&4294967295|x>>>20),x=O+(R^P&(w^R))+k[10]+4294925233&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(w^O&(P^w))+k[11]+2304563134&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(P^R&(O^P))+k[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=P+(O^w&(R^O))+k[13]+4254626195&4294967295,P=w+(x<<12&4294967295|x>>>20),x=O+(R^P&(w^R))+k[14]+2792965006&4294967295,O=P+(x<<17&4294967295|x>>>15),x=R+(w^O&(P^w))+k[15]+1236535329&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(O^P&(R^O))+k[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(w^R))+k[6]+3225465664&4294967295,P=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(P^w))+k[11]+643717713&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(O^P))+k[0]+3921069994&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^P&(R^O))+k[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(w^R))+k[10]+38016083&4294967295,P=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(P^w))+k[15]+3634488961&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(O^P))+k[4]+3889429448&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^P&(R^O))+k[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(w^R))+k[14]+3275163606&4294967295,P=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(P^w))+k[3]+4107603335&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(O^P))+k[8]+1163531501&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^P&(R^O))+k[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=P+(R^O&(w^R))+k[2]+4243563512&4294967295,P=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(P^w))+k[7]+1735328473&4294967295,O=P+(x<<14&4294967295|x>>>18),x=R+(P^w&(O^P))+k[12]+2368359562&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(R^O^P)+k[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^O)+k[8]+2272392833&4294967295,P=w+(x<<11&4294967295|x>>>21),x=O+(P^w^R)+k[11]+1839030562&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^w)+k[14]+4259657740&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^P)+k[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^O)+k[4]+1272893353&4294967295,P=w+(x<<11&4294967295|x>>>21),x=O+(P^w^R)+k[7]+4139469664&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^w)+k[10]+3200236656&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^P)+k[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^O)+k[0]+3936430074&4294967295,P=w+(x<<11&4294967295|x>>>21),x=O+(P^w^R)+k[3]+3572445317&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^w)+k[6]+76029189&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^P)+k[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=P+(w^R^O)+k[12]+3873151461&4294967295,P=w+(x<<11&4294967295|x>>>21),x=O+(P^w^R)+k[15]+530742520&4294967295,O=P+(x<<16&4294967295|x>>>16),x=R+(O^P^w)+k[2]+3299628645&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(O^(R|~P))+k[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~O))+k[7]+1126891415&4294967295,P=w+(x<<10&4294967295|x>>>22),x=O+(w^(P|~R))+k[14]+2878612391&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~w))+k[5]+4237533241&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~P))+k[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~O))+k[3]+2399980690&4294967295,P=w+(x<<10&4294967295|x>>>22),x=O+(w^(P|~R))+k[10]+4293915773&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~w))+k[1]+2240044497&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~P))+k[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~O))+k[15]+4264355552&4294967295,P=w+(x<<10&4294967295|x>>>22),x=O+(w^(P|~R))+k[6]+2734768916&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~w))+k[13]+1309151649&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~P))+k[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=P+(R^(w|~O))+k[11]+3174756917&4294967295,P=w+(x<<10&4294967295|x>>>22),x=O+(w^(P|~R))+k[2]+718787259&4294967295,O=P+(x<<15&4294967295|x>>>17),x=R+(P^(O|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,k=this.C;let O=this.h,P=0;for(;P<w;){if(O==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(k[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,k),O=0;break}}else for(;P<w;)if(k[O++]=I[P++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[w++]=this.g[R]>>>k&255;return I};function c(I,w){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function d(I,w){this.h=w;const R=[];let k=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;k&&P==w||(R[O]=P,k=!1)}this.g=R}var g={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(v(-I));const w=[];let R=1;for(let k=0;I>=R;k++)w[k]=I/R|0,R*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return W(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(w,8));let k=A;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const x=parseInt(I.substring(P,P+O),w);O<8?(O=v(Math.pow(w,O)),k=k.j(O).add(v(x))):(k=k.j(R),k=k.add(v(x)))}return k}var A=y(0),D=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(te(this))return-W(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(te(this))return"-"+W(this).toString(I);const w=v(Math.pow(I,6));var R=this;let k="";for(;;){const O=Qe(R,w).g;R=ye(R,O.j(w));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,ee(R))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function te(I){return I.h==-1}s.l=function(I){return I=ye(this,I),te(I)?-1:ee(I)?0:1};function W(I){const w=I.g.length,R=[];for(let k=0;k<w;k++)R[k]=~I.g[k];return new d(R,~I.h).add(D)}s.abs=function(){return te(this)?W(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let O=0;O<=w;O++){let P=k+(this.i(O)&65535)+(I.i(O)&65535),x=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=x>>>16,P&=65535,x&=65535,R[O]=x<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ye(I,w){return I.add(W(w))}s.j=function(I){if(ee(this)||ee(I))return A;if(te(this))return te(I)?W(this).j(W(I)):W(W(this).j(I));if(te(I))return W(this.j(W(I)));if(this.l(K)<0&&I.l(K)<0)return v(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const P=this.i(k)>>>16,x=this.i(k)&65535,We=I.i(O)>>>16,At=I.i(O)&65535;R[2*k+2*O]+=x*At,ge(R,2*k+2*O),R[2*k+2*O+1]+=P*At,ge(R,2*k+2*O+1),R[2*k+2*O+1]+=x*We,ge(R,2*k+2*O+1),R[2*k+2*O+2]+=P*We,ge(R,2*k+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function ge(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ce(I,w){this.g=I,this.h=w}function Qe(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new ce(A,A);if(te(I))return w=Qe(W(I),w),new ce(W(w.g),W(w.h));if(te(w))return w=Qe(I,W(w)),new ce(W(w.g),w.h);if(I.g.length>30){if(te(I)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,k=w;k.l(I)<=0;)R=Le(R),k=Le(k);var O=be(R,1),P=be(k,1);for(k=be(k,2),R=be(R,2);!ee(k);){var x=P.add(k);x.l(I)<=0&&(O=O.add(R),P=x),k=be(k,1),R=be(R,1)}return w=ye(I,O.j(w)),new ce(O,w)}for(O=A;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=v(R),x=P.j(w);te(x)||x.l(I)>0;)R-=k,P=v(R),x=P.j(w);ee(P)&&(P=D),O=O.add(P),I=ye(I,x)}return new ce(O,I)}s.B=function(I){return Qe(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&I.i(k);return new d(R,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|I.i(k);return new d(R,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^I.i(k);return new d(R,this.h^I.h)};function Le(I){const w=I.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(R,I.h)}function be(I,w){const R=w>>5;w%=32;const k=I.g.length-R,O=[];for(let P=0;P<k;P++)O[P]=w>0?I.i(P+R)>>>w|I.i(P+R+1)<<32-w:I.i(P+R);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$E=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Nr=d}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JE,Lo,ZE,eh,Em,WE,eT,tT;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var E=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in E))break e;E=E[U]}u=u[u.length-1],b=E[u],m=m(b),m!=b&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&E.push([b,m[b]]);return E}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=y,v.apply(null,arguments)}function S(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var re=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)re[Oe-2]=arguments[Oe];return m.prototype[U].apply(b,re)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const E=Array(m);for(let b=0;b<m;b++)E[b]=u[b];return E}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const H=U.length||0;u.length=E+H;for(let re=0;re<H;re++)u[E+re]=U[re]}else u.push(U)}}class te{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,E){const b=ce.get();b.set(m,E),this.h?this.h.next=b:this.g=b,this.h=b}}var ce=new te(()=>new Qe,u=>u.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,be=!1,I=new ge,w=()=>{const u=Promise.resolve(void 0);Le=()=>{u.then(R)}};function R(){for(var u;u=ye();){try{u.h.call(u.g)}catch(E){W(E)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}be=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function We(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(We,O),We.prototype.init=function(u,m){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,E,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,E){for(const b in u)m.call(E,u[b],b,u)}function Re(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function M(u){const m={};for(const E in u)m[E]=u[E];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)u[E]=b[E];for(let H=0;H<Y.length;H++)E=Y[H],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,E,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=ae(u,m,b,U);return re>-1?(m=u[re],E||(m.fa=!1)):(m=new ie(m,this.src,H,!!b,U),m.fa=E,u.push(m)),m};function Se(u,m){const E=m.type;if(E in u.g){var b=u.g[E],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(ue(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ae(u,m,E,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!E&&H.ha==b)return U}return-1}var he="closure_lm_"+(Math.random()*1e6|0),ht={};function et(u,m,E,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)et(u,m[H],E,b,U);return null}return E=vi(E),u&&u[At]?u.J(m,E,g(b)?!!b.capture:!1,U):Pn(u,m,E,!1,b,U)}function Pn(u,m,E,b,U,H){if(!m)throw Error("Invalid event type");const re=g(U)?!!U.capture:!!U;let Oe=Wt(u);if(Oe||(u[he]=Oe=new ne(u)),E=Oe.add(m,E,b,re,H),E.proxy)return E;if(b=wn(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)P||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wn(){function u(E){return m.call(u.src,u.listener,E)}const m=Vi;return u}function Xn(u,m,E,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xn(u,m[H],E,b,U);else b=g(b)?!!b.capture:!!b,E=vi(E),u&&u[At]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],E=ae(m,E,b,U),E>-1&&(ue(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Wt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ae(m,E,b,U)),(E=u>-1?m[u]:null)&&_i(E))}function _i(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])Se(m.i,u);else{var E=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(E,b,u.capture):m.detachEvent?m.detachEvent(Tn(E),b):m.addListener&&m.removeListener&&m.removeListener(b),(E=Wt(m))?(Se(E,u),E.h==0&&(E.src=null,m[he]=null)):ue(u)}}}function Tn(u){return u in ht?ht[u]:ht[u]="on"+u}function Vi(u,m){if(u.da)u=!0;else{m=new We(m,this);const E=u.listener,b=u.ha||u.src;u.fa&&_i(u),u=E.call(b,m)}return u}function Wt(u){return u=u[he],u instanceof ne?u:null}var $n="__closure_events_fn_"+(Math.random()*1e9>>>0);function vi(u){return typeof u=="function"?u:(u[$n]||(u[$n]=function(m){return u.handleEvent(m)}),u[$n])}function vt(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}A(vt,k),vt.prototype[At]=!0,vt.prototype.removeEventListener=function(u,m,E,b){Xn(this,u,m,E,b)};function ft(u,m){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),se(m,U)}U=!0;let H,re;if(E)for(re=E.length-1;re>=0;re--)H=m.g=E[re],U=xn(H,b,!0,m)&&U;if(H=m.g=u,U=xn(H,b,!0,m)&&U,U=xn(H,b,!1,m)&&U,E)for(re=0;re<E.length;re++)H=m.g=E[re],U=xn(H,b,!1,m)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let b=0;b<E.length;b++)ue(E[b]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,E,b){return this.i.add(String(u),m,!1,E,b)},vt.prototype.K=function(u,m,E,b){return this.i.add(String(u),m,!0,E,b)};function xn(u,m,E,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==E){const Oe=re.listener,Ot=re.ha||re.src;re.fa&&Se(u.i,re),U=Oe.call(Ot,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ei(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function cs(u){u.g=Ei(()=>{u.g=null,u.i&&(u.i=!1,cs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pt extends k{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(u){k.call(this),this.h=u,this.g={}}A(Jn,k);var ki=[];function ji(u){De(u.g,function(m,E){this.g.hasOwnProperty(E)&&_i(m)},u),u.g={}}Jn.prototype.N=function(){Jn.Z.N.call(this),ji(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=d.JSON.stringify,qs=d.JSON.parse,hs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hs(){}function Pi(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){O.call(this,"d")}A(It,O);function sn(){O.call(this,"c")}A(sn,O);var gt={},fs=null;function Zn(){return fs=fs||new vt}gt.Ia="serverreachability";function ds(u){O.call(this,gt.Ia,u)}A(ds,O);function rn(u){const m=Zn();ft(m,new ds(m))}gt.STAT_EVENT="statevent";function Rn(u,m){O.call(this,gt.STAT_EVENT,u),this.stat=m}A(Rn,O);function B(u){const m=Zn();ft(m,new Rn(m,u))}gt.Ja="timingevent";function le(u,m){O.call(this,gt.Ja,u),this.size=m}A(le,O);function Te(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ke(){this.g=!0}ke.prototype.ua=function(){this.g=!1};function Et(u,m,E,b,U,H){u.info(function(){if(u.g)if(H){var re="",Oe=H.split("&");for(let tt=0;tt<Oe.length;tt++){var Ot=Oe[tt].split("=");if(Ot.length>1){const wt=Ot[0];Ot=Ot[1];const ri=wt.split("_");re=ri.length>=2&&ri[1]=="type"?re+(wt+"="+Ot+"&"):re+(wt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+E+`
`+re})}function ze(u,m,E,b,U,H,re){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+E+`
`+H+" "+re})}function pt(u,m,E,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ut(u,E)+(b?" "+b:"")})}function Xt(u,m){u.info(function(){return"TIMEOUT: "+m})}ke.prototype.info=function(){};function Ut(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var E=H[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Un(H)}catch{return m}}var gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rt;function ei(){}A(ei,Hs),ei.prototype.g=function(){return new XMLHttpRequest},Rt=new ei;function ti(u){return encodeURIComponent(String(u))}function N(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function _e(u,m,E,b){this.j=u,this.i=m,this.l=E,this.S=b||1,this.V=new Jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}var Ye={},$e={};function Lt(u,m,E){u.M=1,u.A=qr(Bt(m)),u.u=E,u.R=!0,bn(u,null)}function bn(u,m){u.F=Date.now(),Ui(u),u.B=Bt(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ia(E.i,"t",b),u.C=0,E=u.j.L,u.h=new je,u.g=Mu(u.j,E?m:null,!u.u),u.P>0&&(u.O=new Pt(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ki[0]=U.toString()),U=ki);for(let H=0;H<U.length;H++){const re=et(E,U[H],b||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),rn(),Et(u.i,u.v,u.B,u.l,u.S,u.u)}_e.prototype.ba=function(u){u=u.target;const m=this.O;m&&Si(u)==3?m.j():this.Y(u)},_e.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=Si(this.g),Ot=this.g.ya(),tt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Oe!=4||Ot==7||(Ot==8||tt<=0?rn(3):rn(2)),Li(this);var m=this.g.ca();this.X=m;var E=Jh(this);if(this.o=m==200,ze(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)pt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zi(this,u);else{this.o=!1,this.m=3,B(12),Ln(this),ni(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<E.length;)if(wt=Eu(this,E),wt==$e){Oe==4&&(this.m=4,B(14),u=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Ye){this.m=4,B(15),pt(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else pt(this.i,this.l,wt,null),zi(this,wt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,B(16),u=!1),this.o=this.o&&u,!u)pt(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),ni(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(re),re.P=!0,B(11))}}else pt(this.i,this.l,E,null),zi(this,E);Oe==4&&Ln(this),this.o&&!this.K&&(Oe==4?Iu(this.j,this):(this.o=!1,Ui(this)))}else gs(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,B(12)):(this.m=0,B(13)),Ln(this),ni(this)}}}catch{}finally{}};function Jh(u){if(!vu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let E="";const b=m.length,U=Si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ln(u),ni(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,E+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var E=u.C,b=m.indexOf(`
`,E);return b==-1?$e:(E=Number(m.substring(E,b)),isNaN(E)?Ye:(b+=1,b+E>m.length?$e:(m=m.slice(b,b+E),u.C=b+E,m)))}_e.prototype.cancel=function(){this.K=!0,Ln(this)};function Ui(u){u.T=Date.now()+u.H,xa(u,u.H)}function xa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Te(v(u.aa,u),m)}function Li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}_e.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xt(this.i,this.B),this.M!=2&&(rn(),B(17)),Ln(this),this.m=2,ni(this)):xa(this,this.T-u)};function ni(u){u.j.I==0||u.K||Iu(u.j,u)}function Ln(u){Li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ji(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function zi(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||qi(E.h,u))){if(!u.L&&qi(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Va(E),Js(E);else break e;Xr(E),B(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Te(v(E.Va,E),6e3));Bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Yi(E,11)}else if((u.L||E.g==u)&&Va(E),!x(m))for(U=E.Ba.g.parse(m),m=0;m<U.length;m++){let tt=U[m];const wt=tt[0];if(!(wt<=E.K))if(E.K=wt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const ri=tt[3];ri!=null&&(E.ka=ri,E.j.info("VER="+E.ka));const Xi=tt[4];Xi!=null&&(E.za=Xi,E.j.info("SVER="+E.za));const Ai=tt[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(b=1.5*Ai,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const wi=u.g;if(wi){const $r=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var H=b.h;H.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ll(H,H.h),H.h=null))}if(b.G){const ka=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(b.wa=ka,st(b.J,b.G,ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var re=u;if(b.na=Ou(b,b.L?b.ba:null,b.W),re.L){zl(b.h,re);var Oe=re,Ot=b.O;Ot&&(Oe.H=Ot),Oe.D&&(Li(Oe),Ui(Oe)),b.g=re}else Ru(b);E.i.length>0&&Qi(E)}else tt[0]!="stop"&&tt[0]!="close"||Yi(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Yi(E,7):Xl(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}rn(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bi(u){return u.h?1:u.g?u.g.size:0}function qi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ll(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Pl.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return K(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let U,H=null;b>=0?(U=u[E].substring(0,b),H=u[E].substring(b+1)):U=u[E],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof zn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Fs(this,u.u),this.h=u.h,ql(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,en(this,m[1]||"",!0),this.o=Hi(m[2]||""),this.g=Hi(m[3]||"",!0),Fs(this,m[4]),this.h=Hi(m[5]||"",!0),ql(this,m[6]||"",!0),this.m=Hi(m[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}zn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Hr(m,Ca,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ca,!0),"@"),u.push(ti(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Hr(E,E.charAt(0)=="/"?Hl:bu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Hr(E,Su)),u.join("")},zn.prototype.resolve=function(u){const m=Bt(this);let E=!!u.j;E?en(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var b=u.h;if(E)Fs(m,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const Oe=U[re++];Oe=="."?b&&re==U.length&&H.push(""):Oe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&re==U.length&&H.push("")):(H.push(Oe),b=!0)}b=H.join("/")}else b=U}return E?m.h=b:E=u.i.toString()!=="",E?ql(m,wu(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Bt(u){return new zn(u)}function en(u,m,E){u.j=E?Hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ql(u,m,E){m instanceof Ks?(u.i=m,Na(u.i,u.l)):(E||(m=Hr(m,Gs)),u.i=new Ks(m,u.l))}function st(u,m,E){u.i.set(m,E)}function qr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,Cn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ca=/[#\/\?@]/g,bu=/[#\?:]/g,Hl=/[#\?]/g,Gs=/[#\?@]/g,Su=/#/g;function Ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=Ks.prototype,s.add=function(u,m){In(this),this.i=null,u=Qs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function Au(u,m){In(u),m=Qs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fl(u,m){return In(u),m=Qs(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(E,b){E.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Gl(u,m){In(u);let E=[];if(typeof m=="string")Fl(u,m)&&(E=E.concat(u.g.get(Qs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return In(this),this.i=null,u=Qs(this,u),Fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Gl(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,E){Au(u,m),E.length>0&&(u.i=null,u.g.set(Qs(u,m),K(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var E=m[b];const U=ti(E);E=Gl(this,E);for(let H=0;H<E.length;H++){let re=U;E[H]!==""&&(re+="="+ti(E[H])),u.push(re)}}return this.i=u.join("&")};function wu(u){const m=new Ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Qs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(Au(this,b),Ia(this,U,E))},u)),u.j=m}function Ti(u,m){const E=new ke;if(d.Image){const b=new Image;b.onload=S(ii,E,"TestLoadImage: loaded",!0,m,b),b.onerror=S(ii,E,"TestLoadImage: error",!1,m,b),b.onabort=S(ii,E,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(ii,E,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Kl(u,m){const E=new ke,b=new AbortController,U=setTimeout(()=>{b.abort(),ii(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?ii(E,"TestPingServer: ok",!0,m):ii(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ii(E,"TestPingServer: error",!1,m)})}function ii(u,m,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Ys(){this.g=new hs}function Fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Fi,Hs),Fi.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Fr,vt),s=Fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,bi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xs(this):bi(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Xs(this))},s.Na=function(u){this.g&&(this.response=u,Xs(this))},s.ga=function(){this.g&&Xs(this)};function Xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,bi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function si(u){let m="";return De(u,function(E,b){m+=b,m+=":",m+=E,m+=`\r
`}),m}function Gr(u,m,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=si(E),typeof u=="string"?E!=null&&ti(E):st(u,m,E))}function lt(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,vt);var Gi=/^https?$/i,Ql=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rt.g(),this.g.onreadystatechange=D(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Kr(this,H);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())E.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ql,m,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of E)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Kr(this,H)}};function Kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yl(u),ms(u)}function Yl(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),ms(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},s.Xa=function(){Qr(this)};function Qr(u){if(u.h&&typeof c<"u"){if(u.v&&Si(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),Si(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var b;if(b=H===0){let re=String(u.D).match(Tu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),b=!Gi.test(re?re.toLowerCase():"")}E=b}if(E)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var U=Si(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Yl(u)}}finally{ms(u)}}}}function ms(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||ft(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(u){const m={};u=(u.g&&Si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var E=N(u[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=m[U]||[];m[U]=H,H.push(E)}Re(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function $s(u){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,u),this.Za=Ki("retryDelaySeedMs",1e4,u),this.Ta=Ki("forwardChannelMaxRetries",2,u),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(u&&u.concurrentRequestLimit),this.Ba=new Ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$s.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,b){B(0),this.W=u,this.H=m||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),Qi(this)};function Xl(u){if(Oa(u),u.I==3){var m=u.V++,E=Bt(u.J);if(st(E,"SID",u.M),st(E,"RID",m),st(E,"TYPE","terminate"),Yr(u,E),m=new _e(u,u.j,m),m.M=2,m.A=qr(Bt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ui(m)}Du(u)}function Js(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Oa(u){Js(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Qi(u){if(!Ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;Le||w(),be||(Le(),be=!0),I.add(m,u),u.D=0}}function Ma(u,m){return Bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Te(v(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new _e(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=xu(this,U,m),E=Bt(this.J),st(E,"RID",u),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),Yr(this,E),H&&(this.R?m="headers="+ti(si(H))+"&"+m:this.u&&Gr(E,this.u,H)),Ll(this.h,U),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",m),st(E,"SID","null"),U.U=!0,Lt(U,E,null)):Lt(U,E,m),this.I=2}}else this.I==3&&(u?$l(this,u):this.i.length==0||Ul(this.h)||$l(this))};function $l(u,m){var E;m?E=m.l:E=u.V++;const b=Bt(u.J);st(b,"SID",u.M),st(b,"RID",E),st(b,"AID",u.K),Yr(u,b),u.u&&u.o&&Gr(b,u.u,u.o),E=new _e(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=xu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ll(u.h,E),Lt(E,b,m)}function Yr(u,m){u.H&&De(u.H,function(E,b){st(m,b,E)}),u.l&&De({},function(E,b){st(m,b,E)})}function xu(u,m,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const Ot=["count="+E];Oe==-1?E>0?(Oe=U[0].g,Ot.push("ofs="+Oe)):Oe=0:Ot.push("ofs="+Oe);let tt=!0;for(let wt=0;wt<E;wt++){var H=U[wt].g;const ri=U[wt].map;if(H-=Oe,H<0)Oe=Math.max(0,U[wt].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var re=ri instanceof Map?ri:Object.entries(ri);for(const[Xi,Ai]of re){let wi=Ai;g(Ai)&&(wi=Un(Ai)),Ot.push(H+Xi+"="+encodeURIComponent(wi))}}catch(Xi){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),Xi}}catch{b&&b(ri)}}if(tt){re=Ot.join("&");break e}}re=void 0}return u=u.i.splice(0,E),m.G=u,re}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Le||w(),be||(Le(),be=!0),I.add(m,u),u.A=0}}function Xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Te(v(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Te(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,B(10),Js(this),Cu(this))};function Jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new _e(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Yr(u,m),u.u&&u.o&&Gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=qr(Bt(m)),E.u=null,E.R=!0,bn(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Js(this),Xr(this),B(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Iu(u,m){var E=null;if(u.g==m){Va(u),Jl(u),u.g=null;var b=2}else if(qi(u.h,m))E=m.G,zl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Zn(),ft(b,new le(b,E)),Qi(u)}else Ru(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ma(u,m)||b==2&&Xr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),U){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function Nu(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),b=u.Ua;const U=!b;b=new zn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),qr(b),U?Ti(b.toString(),E):Kl(b.toString(),E)}else B(2);u.I=0,u.l&&u.l.pa(m),Du(u),Oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),B(2)):(this.j.info("Failed to ping google.com"),B(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Bl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,E){var b=E instanceof zn?Bt(E):new zn(E);if(b.g!="")m&&(b.g=m+"."+b.g),Fs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new zn(null);b&&en(H,b),m&&(H.g=m),U&&Fs(H,U),E&&(H.h=E),b=H}return E=u.G,m=u.wa,E&&m&&st(b,E,m),st(b,"VER",u.ka),Yr(u,b),b}function Mu(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Fi({ab:E})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Zs(){}Zs.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){vt.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ps(this)}A(Sn,vt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Xl(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Un(u),u=E);m.i.push(new zt(m.Ya++,u)),m.I==3&&Qi(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,Sn.Z.N.call(this)};function ku(u){It.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ku,It);function ju(){sn.call(this),this.status=1}A(ju,sn);function ps(u){this.g=u}A(ps,Vu),ps.prototype.ra=function(){ft(this.g,"a")},ps.prototype.qa=function(u){ft(this.g,new ku(u))},ps.prototype.pa=function(u){ft(this.g,new ju)},ps.prototype.oa=function(){ft(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,tT=function(){return new Zs},eT=function(){return Zn()},WE=gt,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,eh=gn,Wn.COMPLETE="complete",ZE=Wn,Pi.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Lo=Pi,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,JE=lt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Q0="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Ol="12.3.0";const Ea=new Lm("@firebase/firestore");function fl(){return Ea.logLevel}function de(s,...e){if(Ea.logLevel<=He.DEBUG){const i=e.map($m);Ea.debug(`Firestore (${Ol}): ${s}`,...i)}}function Ps(s,...e){if(Ea.logLevel<=He.ERROR){const i=e.map($m);Ea.error(`Firestore (${Ol}): ${s}`,...i)}}function Al(s,...e){if(Ea.logLevel<=He.WARN){const i=e.map($m);Ea.warn(`Firestore (${Ol}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function xe(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,nT(s,r,i)}function nT(s,e,i){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ps(r),new Error(r)}function it(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||nT(e,o,r)}function Ne(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class aR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lR{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ma,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new iT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class oR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new oR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=hR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Tm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return lm(o)===lm(c)?Fe(o,c):lm(o)?1:-1}return Fe(s.length,e.length)}const fR=55296,dR=57343;function lm(s){const e=s.charCodeAt(0);return e>=fR&&e<=dR}function wl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const X0="__name__";class ts{constructor(e,i,r){i===void 0?i=0:i>e.length&&xe(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&xe(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=ts.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const r=ts.isNumericId(e),o=ts.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ts.extractNumericId(e).compare(ts.extractNumericId(i)):Tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class _t extends ts{construct(e,i,r){return new _t(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const mR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ts{construct(e,i,r){return new fn(e,i,r)}static isValidIdentifier(e){return mR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new fn([X0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(_t.fromString(e))}static fromName(e){return new Ee(_t.fromString(e).popFirst(5))}static empty(){return new Ee(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new _t(e.slice()))}}function sT(s,e,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function gR(s,e,i,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $0(s){if(!Ee.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){if(Ee.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function ss(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vh(s);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function du(s,e){if(!rT(s))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}const Z0=-62135596800,W0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*W0);return new St(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Z0)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Yt("string",St._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new St(0,0))}static max(){return new Ce(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wo=-1;function pR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new St(i+1,0):new St(i,r));return new Or(o,Ee.empty(),e)}function yR(s){return new Or(s.readTime,s.key,Wo)}class Or{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Or(Ce.min(),Ee.empty(),Wo)}static max(){return new Or(Ce.max(),Ee.empty(),Wo)}}function _R(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const vR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ml(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==vR)throw s;de("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>r(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(e[v]).next((S=>{d[v]=S,++g,g===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function TR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vl(s){return s.name==="IndexedDbTransactionError"}class kh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const Zm=-1;function jh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function bR(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const aT="";function SR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ev(e)),e=AR(s.get(i),e);return ev(e)}function AR(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case aT:i+="";break;default:i+=c}}return i}function ev(s){return s+aT+""}function tv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Lr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function lT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new hn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Yn([])}unionWith(e){let i=new Jt(fn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class oT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oT("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const wR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(s){if(it(!!s,39018),typeof s=="string"){let e=0;const i=wR.exec(s);if(it(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Vr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const uT="server_timestamp",cT="__type__",hT="__previous_value__",fT="__local_write_time__";function Wm(s){return(s?.mapValue?.fields||{})[cT]?.stringValue===uT}function Ph(s){const e=s.mapValue.fields[hT];return Wm(e)?Ph(e):e}function eu(s){const e=Mr(s.mapValue.fields[fT].timestampValue);return new St(e.seconds,e.nanos)}class xR{constructor(e,i,r,o,c,d,g,y,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=S}}const _h="(default)";class tu{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const dT="__type__",RR="__max__",Hc={mapValue:{}},mT="__vector__",vh="value";function kr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wm(s)?4:IR(s)?9007199254740991:CR(s)?10:11:xe(28295,{value:s})}function us(s,e){if(s===e)return!0;const i=kr(s);if(i!==kr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return eu(s).isEqual(eu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Mr(o.timestampValue),g=Mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Vr(o.bytesValue).isEqual(Vr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),g=kt(c.doubleValue);return d===g?yh(d)===yh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return wl(s.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(tv(d)!==tv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!us(d[y],g[y])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function nu(s,e){return(s.values||[]).find((i=>us(i,e)))!==void 0}function xl(s,e){if(s===e)return 0;const i=kr(s),r=kr(e);if(i!==r)return Fe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=kt(c.integerValue||c.doubleValue),y=kt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return iv(s.timestampValue,e.timestampValue);case 4:return iv(eu(s),eu(e));case 5:return Tm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Vr(c),y=Vr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const S=Fe(g[v],y[v]);if(S!==0)return S}return Fe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Fe(kt(c.latitude),kt(d.latitude));return g!==0?g:Fe(kt(c.longitude),kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return sv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},v=g[vh]?.arrayValue,S=y[vh]?.arrayValue,A=Fe(v?.values?.length||0,S?.values?.length||0);return A!==0?A:sv(v,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},S=Object.keys(v);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const D=Tm(y[A],S[A]);if(D!==0)return D;const K=xl(g[y[A]],v[S[A]]);if(K!==0)return K}return Fe(y.length,S.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:i})}}function iv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=Mr(s),r=Mr(e),o=Fe(i.seconds,r.seconds);return o!==0?o:Fe(i.nanos,r.nanos)}function sv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=xl(i[o],r[o]);if(c)return c}return Fe(i.length,r.length)}function Rl(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ee.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=bm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${bm(i.fields[d])}`;return o+"}"})(s.mapValue):xe(61005,{value:s})}function th(s){switch(kr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return Vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+th(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Lr(r.fields,((c,d)=>{o+=c.length+th(d)})),o})(s.mapValue);default:throw xe(13486,{value:s})}}function rv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Sm(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function av(s){return!!s&&"nullValue"in s}function lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function CR(s){return(s?.mapValue?.fields||{})[dT]?.stringValue===mT}function Ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Lr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ko(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ko(s.arrayValue.values[i]);return e}return{...s}}function IR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(i)}setAll(e){let i=fn.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Ko(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Lr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(Ko(this.value))}}function gT(s){const e=[];return Lr(s.fields,((i,r)=>{const o=new fn([i]);if(nh(r)){const c=gT(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Yn(e)}class vn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new vn(e,0,Ce.min(),Ce.min(),Ce.min(),jn.empty(),0)}static newFoundDocument(e,i,r,o){return new vn(e,1,i,Ce.min(),r,o,0)}static newNoDocument(e,i){return new vn(e,2,i,Ce.min(),Ce.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,Ce.min(),Ce.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,i){this.position=e,this.inclusive=i}}function ov(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),i.key):r=xl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function uv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!us(s.position[i],e.position[i]))return!1;return!0}class iu{constructor(e,i="asc"){this.field=e,this.dir=i}}function NR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class pT{}class Qt extends pT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new OR(e,i,r):i==="array-contains"?new kR(e,r):i==="in"?new jR(e,r):i==="not-in"?new PR(e,r):i==="array-contains-any"?new UR(e,r):new Qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new MR(e,r):new VR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xl(i,this.value)):i!==null&&kr(this.value)===kr(i)&&this.matchesComparison(xl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends pT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return yT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yT(s){return s.op==="and"}function _T(s){return DR(s)&&yT(s)}function DR(s){for(const e of s.filters)if(e instanceof Mi)return!1;return!0}function Am(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Rl(s.value);if(_T(s))return s.filters.map((e=>Am(e))).join(",");{const e=s.filters.map((i=>Am(i))).join(",");return`${s.op}(${e})`}}function vT(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&us(r.value,o.value)})(s,e):s instanceof Mi?(function(r,o){return o instanceof Mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&vT(d,o.filters[g])),!0):!1})(s,e):void xe(19439)}function ET(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rl(i.value)}`})(s):s instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(ET).join(" ,")+"}"})(s):"Filter"}class OR extends Qt{constructor(e,i,r){super(e,i,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class MR extends Qt{constructor(e,i){super(e,"in",i),this.keys=TT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class VR extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=TT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function TT(s,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class kR extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return eg(i)&&nu(i.arrayValue,this.value)}}class jR extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&nu(this.value.arrayValue,i)}}class PR extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!nu(this.value.arrayValue,i)}}class UR extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>nu(this.value.arrayValue,r)))}}class LR{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function cv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new LR(s,e,i,r,o,c,d)}function tg(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Am(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),jh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Rl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Rl(r))).join(",")),e.Te=i}return e.Te}function ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!NR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!vT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uv(s.startAt,e.startAt)&&uv(s.endAt,e.endAt)}function wm(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class kl{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zR(s,e,i,r,o,c,d,g){return new kl(s,e,i,r,o,c,d,g)}function ig(s){return new kl(s)}function hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bT(s){return s.collectionGroup!==null}function Qo(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Jt(fn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new iu(c,r))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new iu(fn.keyField(),r))}return e.Ie}function rs(s){const e=Ne(s);return e.Ee||(e.Ee=BR(e,Qo(s))),e.Ee}function BR(s,e){if(s.limitType==="F")return cv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new iu(o.field,c)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return cv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function xm(s,e){const i=s.filters.concat([e]);return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Th(s,e,i){return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Uh(s,e){return ng(rs(s),rs(e))&&s.limitType===e.limitType}function ST(s){return`${tg(rs(s))}|lt:${s.limitType}`}function dl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>ET(o))).join(", ")}]`),jh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Rl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Rl(o))).join(",")),`Target(${r})`})(rs(s))}; limitType=${s.limitType})`}function Lh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Qo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,y){const v=ov(d,g,y);return d.inclusive?v<=0:v<0})(r.startAt,Qo(r),o)||r.endAt&&!(function(d,g,y){const v=ov(d,g,y);return d.inclusive?v>=0:v>0})(r.endAt,Qo(r),o))})(s,e)}function qR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function AT(s){return(e,i)=>{let r=!1;for(const o of Qo(s)){const c=HR(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function HR(s,e,i){const r=s.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?xl(y,v):xe(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:s.dir})}}class Aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}const FR=new Ct(Ee.comparator);function Us(){return FR}const wT=new Ct(Ee.comparator);function zo(...s){let e=wT;for(const i of s)e=e.insert(i.key,i);return e}function xT(s){let e=wT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function da(){return Yo()}function RT(){return Yo()}function Yo(){return new Aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const GR=new Ct(Ee.comparator),KR=new Jt(Ee.comparator);function Ge(...s){let e=KR;for(const i of s)e=e.add(i);return e}const QR=new Jt(Fe);function YR(){return QR}function sg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function CT(s){return{integerValue:""+s}}function XR(s,e){return bR(e)?CT(e):sg(s,e)}class zh{constructor(){this._=void 0}}function $R(s,e,i){return s instanceof bh?(function(o,c){const d={fields:{[cT]:{stringValue:uT},[fT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Wm(c)&&(c=Ph(c)),c&&(d.fields[hT]=c),{mapValue:d}})(i,e):s instanceof su?NT(s,e):s instanceof ru?DT(s,e):(function(o,c){const d=IT(o,c),g=fv(d)+fv(o.Ae);return Sm(d)&&Sm(o.Ae)?CT(g):sg(o.serializer,g)})(s,e)}function JR(s,e,i){return s instanceof su?NT(s,e):s instanceof ru?DT(s,e):i}function IT(s,e){return s instanceof Sh?(function(r){return Sm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class bh extends zh{}class su extends zh{constructor(e){super(),this.elements=e}}function NT(s,e){const i=OT(e);for(const r of s.elements)i.some((o=>us(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ru extends zh{constructor(e){super(),this.elements=e}}function DT(s,e){let i=OT(e);for(const r of s.elements)i=i.filter((o=>!us(o,r)));return{arrayValue:{values:i}}}class Sh extends zh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function fv(s){return kt(s.integerValue||s.doubleValue)}function OT(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ZR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof su&&o instanceof su||r instanceof ru&&o instanceof ru?wl(r.elements,o.elements,us):r instanceof Sh&&o instanceof Sh?us(r.Ae,o.Ae):r instanceof bh&&o instanceof bh})(s.transform,e.transform)}class WR{constructor(e,i){this.version=e,this.transformResults=i}}class yi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Bh{}function MT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rg(s.key,yi.none()):new mu(s.key,s.data,yi.none());{const i=s.data,r=jn.empty();let o=new Jt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new zr(s.key,r,new Yn(o.toArray()),yi.none())}}function eC(s,e,i){s instanceof mu?(function(o,c,d){const g=o.value.clone(),y=mv(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof zr?(function(o,c,d){if(!ih(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=mv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(VT(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Xo(s,e,i,r){return s instanceof mu?(function(c,d,g,y){if(!ih(c.precondition,d))return g;const v=c.value.clone(),S=gv(c.fieldTransforms,y,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof zr?(function(c,d,g,y){if(!ih(c.precondition,d))return g;const v=gv(c.fieldTransforms,y,d),S=d.data;return S.setAll(VT(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,g){return ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function tC(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=IT(r.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(r.field,c))}return i||null}function dv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wl(r,o,((c,d)=>ZR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class mu extends Bh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends Bh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function mv(s,e,i){const r=new Map;it(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,JR(d,g,i[o]))}return r}function gv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,$R(c,d,e))}return r}class rg extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nC extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iC{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&eC(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Xo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Xo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=RT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=MT(d,g);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((i,r)=>dv(i,r)))&&wl(this.baseMutations,e.baseMutations,((i,r)=>dv(i,r)))}}class ag{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return GR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new ag(e,i,r,o)}}class sC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Xe;function aC(s){switch(s){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function kT(s){if(s===void 0)return Ps("GRPC error has no .code"),J.UNKNOWN;switch(s){case Kt.OK:return J.OK;case Kt.CANCELLED:return J.CANCELLED;case Kt.UNKNOWN:return J.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return J.INTERNAL;case Kt.UNAVAILABLE:return J.UNAVAILABLE;case Kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Kt.NOT_FOUND:return J.NOT_FOUND;case Kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Kt.ABORTED:return J.ABORTED;case Kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Kt.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:s})}}(Xe=Kt||(Kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function lC(){return new TextEncoder}const oC=new Nr([4294967295,4294967295],0);function pv(s){const e=lC().encode(s),i=new $E;return i.update(e),new Uint8Array(i.digest())}function yv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([i,r],0),new Nr([o,c],0)]}class lg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bo(`Invalid padding: ${i}`);if(r<0)throw new Bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Nr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Nr.fromNumber(r)));return o.compare(oC)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=pv(e),[r,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lg(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=pv(e),[r,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new qh(Ce.min(),o,new Ct(Fe),Us(),Ge())}}class gu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new gu(r,i,Ge(),Ge(),Ge())}}class sh{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class jT{constructor(e,i){this.targetId=e,this.Ce=i}}class PT{constructor(e,i,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:c})}})),new gu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=vv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=Fc(),this.He=Fc(),this.Ye=new Ct(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(wm(c))if(r===0){const d=new Ee(c.path);this.et(i,d,vn.newNoDocument(d,Ce.min()))}else it(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Vr(r).toUint8Array()}catch(y){if(y instanceof oT)return Al("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new lg(d,o,c)}catch(y){return Al(y instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&wm(g.target)){const y=new Ee(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,vn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ge();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new qh(e,i,this.Ye,this.je,r);return this.je=Us(),this.Je=Fc(),this.He=Fc(),this.Ye=new Ct(Fe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new _v,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _v),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fc(){return new Ct(Ee.comparator)}function vv(){return new Ct(Ee.comparator)}const cC={asc:"ASCENDING",desc:"DESCENDING"},hC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fC={and:"AND",or:"OR"};class dC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(s,e){return s.useProto3Json||jh(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mC(s,e){return Ah(s,e.toTimestamp())}function as(s){return it(!!s,49232),Ce.fromTimestamp((function(i){const r=Mr(i);return new St(r.seconds,r.nanos)})(s))}function og(s,e){return Cm(s,e).canonicalString()}function Cm(s,e){const i=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function LT(s){const e=_t.fromString(s);return it(FT(e),10190,{key:e.toString()}),e}function Im(s,e){return og(s.databaseId,e.path)}function om(s,e){const i=LT(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ee(BT(i))}function zT(s,e){return og(s.databaseId,e)}function gC(s){const e=LT(s);return e.length===4?_t.emptyPath():BT(e)}function Nm(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BT(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ev(s,e,i){return{name:Im(s,e),fields:i.value.mapValue.fields}}function pC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(it(S===void 0||typeof S=="string",58123),dn.fromBase64String(S||"")):(it(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),dn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const S=v.code===void 0?J.UNKNOWN:kT(v.code);return new fe(S,v.message||"")})(d);i=new PT(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),c=as(r.document.updateTime),d=r.document.createTime?as(r.document.createTime):Ce.min(),g=new jn({mapValue:{fields:r.document.fields}}),y=vn.newFoundDocument(o,c,d,g),v=r.targetIds||[],S=r.removedTargetIds||[];i=new sh(v,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=om(s,r.document),c=r.readTime?as(r.readTime):Ce.min(),d=vn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new sh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=om(s,r.document),c=r.removedTargetIds||[];i=new sh([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new rC(o,c),g=r.targetId;i=new jT(g,d)}}return i}function yC(s,e){let i;if(e instanceof mu)i={update:Ev(s,e.key,e.value)};else if(e instanceof rg)i={delete:Im(s,e.key)};else if(e instanceof zr)i={update:Ev(s,e.key,e.data),updateMask:xC(e.fieldMask)};else{if(!(e instanceof nC))return xe(16599,{Vt:e.type});i={verify:Im(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof bh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw xe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:mC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(s,e.precondition)),i}function _C(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?as(o.updateTime):as(c);return d.isEqual(Ce.min())&&(d=as(c)),new WR(d,o.transformResults||[])})(i,e)))):[]}function vC(s,e){return{documents:[zT(s,e.path)]}}function EC(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=zT(s,o);const c=(function(v){if(v.length!==0)return HT(Mi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(D){return{field:ml(D.field),direction:SC(D.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Rm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function TC(s){let e=gC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){it(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const D=qT(A);return D instanceof Mi&&_T(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function(ee){return new iu(gl(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,jh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(A){const D=!!A.before,K=A.values||[];return new Eh(K,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const D=!A.before,K=A.values||[];return new Eh(K,D)})(i.endAt)),zR(e,o,d,c,g,"F",y,v)}function bC(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=gl(i.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gl(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(gl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>qT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(i.compositeFilter.op))})(s):xe(30097,{filter:s})}function SC(s){return cC[s]}function AC(s){return hC[s]}function wC(s){return fC[s]}function ml(s){return{fieldPath:s.canonicalString()}}function gl(s){return fn.fromServerFormat(s.fieldPath)}function HT(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(i.field),op:AC(i.op),value:i.value}}})(s):s instanceof Mi?(function(i){const r=i.getFilters().map((o=>HT(o)));return r.length===1?r[0]:{compositeFilter:{op:wC(i.op),filters:r}}})(s):xe(54877,{filter:s})}function xC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function FT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class xr{constructor(e,i,r,o,c=Ce.min(),d=Ce.min(),g=dn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RC{constructor(e){this.yt=e}}function CC(s){const e=TC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Th(e,e.limit,"L"):e}class IC{constructor(){this.Cn=new NC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Or.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class NC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Jt(_t.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jt(_t.comparator)).toArray()}}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(GT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}const bv="LruGarbageCollector",DC=1048576;function Sv([s,e],[i,r]){const o=Fe(s,i);return o===0?Fe(e,r):o}class OC{constructor(e){this.Ir=e,this.buffer=new Jt(Sv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Sv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vl(i)?de(bv,"Ignoring IndexedDB error during garbage collection: ",i):await Ml(i)}await this.Vr(3e5)}))}}class VC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(kh.ce);const r=new OC(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Tv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,g,y,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(v=Date.now(),fl()<=He.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function kC(s,e){return new VC(s,e)}class jC{constructor(){this.changes=new Aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class UC{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Xo(r.mutation,o,Yn.empty(),St.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const o=da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=zo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=Us();const d=Yo(),g=(function(){return Yo()})();return i.forEach(((y,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof zr)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Xo(S.mutation,v,S.mutation.getFieldMask(),St.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>g.set(v,new PC(S,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Yo();let o=new Ct(((d,g)=>d-g)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let S=r.get(y)||Yn.empty();S=g.applyToLocalView(v,S),r.set(y,S);const A=(o.get(g.batchId)||Ge()).add(y);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,S=y.value,A=RT();S.forEach((D=>{if(!c.has(D)){const K=MT(i.get(D),r.get(D));K!==null&&A.set(D,K),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(da());let g=Wo,y=c;return d.next((v=>Z.forEach(v,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Ge()))).next((S=>({batchId:g,changes:xT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((r=>{let o=zo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=zo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const v=(function(A,D){return new kl(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((S=>{S.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((y,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,vn.newInvalidDocument(S)))}));let g=zo();return d.forEach(((y,v)=>{const S=c.get(y);S!==void 0&&Xo(S.mutation,v,Yn.empty(),St.now()),Lh(i,v)&&(g=g.insert(y,v))})),g}))}}class LC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:as(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:CC(o.bundledQuery),readTime:as(o.readTime)}})(i)),Z.resolve()}}class zC{constructor(){this.overlays=new Ct(Ee.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=da();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=da(),c=i.length+1,d=new Ee(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Ct(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=c.get(v.largestBatchId);S===null&&(S=da(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=da(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,S)=>g.set(v,S))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sC(i,r));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class BC{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ug{constructor(){this.Qr=new Jt(nn.$r),this.Ur=new Jt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new nn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ee(new _t([])),r=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new _t([])),r=new nn(i,e),o=new nn(i,e+1);let c=Ge();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}class qC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(nn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iC(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new nn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Jt(Fe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Ee(c),0);let g=new Jt(Fe);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new nn(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class HC{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let r=Us();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Us();const d=i.path,g=new Ee(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:S}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||_R(yR(S),r)<=0||(o.has(S.key)||Lh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){xe(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new FC(this)}getSize(e){return Z.resolve(this.size)}}class FC extends jC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class GC{constructor(e){this.persistence=e,this.si=new Aa((i=>tg(i)),ng),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Cl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class KT{constructor(e,i){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new BC,this.referenceDelegate=e(this),this.Pi=new GC(this),this.indexManager=new IC,this.remoteDocumentCache=(function(o){return new HC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new RC(i),this.Ii=new LC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new qC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const o=new KC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class KC extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wh{constructor(e,i){this.persistence=e,this.pi=new Aa((r=>SR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=kC(this,i)}static mi(e,i){return new wh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=th(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(e,i.fromCache,r,o)}}class QC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:TR(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new QC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(fl()<=He.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",dl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fl()<=He.DEBUG&&de("QueryEngine","Query:",dl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(fl()<=He.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",dl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(i))):Z.resolve())}ys(e,i){if(hv(i))return Z.resolve(null);let r=rs(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Th(i,null,"F"),r=rs(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(i,g);return this.Cs(i,v,d,y.readTime)?this.ys(e,Th(i,null,"F")):this.vs(e,v,i,y)}))))})))))}ws(e,i,r,o){return hv(i)||o.isEqual(Ce.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(fl()<=He.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),dl(i)),this.vs(e,d,i,pR(o,Wo)).next((g=>g)))}))}Ds(e,i){let r=new Jt(AT(e));return i.forEach(((o,c)=>{Lh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return fl()<=He.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",dl(i)),this.ps.getDocumentsMatchingQuery(e,i,Or.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",XC=3e8;class $C{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ct(Fe),this.xs=new Aa((c=>tg(c)),ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function JC(s,e,i,r){return new $C(s,e,i,r)}async function QT(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Ge();for(const v of o){d.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}for(const v of c){g.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function ZC(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,S){const A=v.batch,D=A.keys();let K=Z.resolve();return D.forEach((ee=>{K=K.next((()=>S.getEntry(y,ee))).next((te=>{const W=v.docVersions.get(ee);it(W!==null,48541),te.version.compareTo(W)<0&&(A.applyToRemoteDocument(te,v),te.isValidDocument()&&(te.setReadTime(v.commitVersion),S.addEntry(te)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ge();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function YT(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function WC(s,e){const i=Ne(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,A)=>{const D=o.get(A);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let K=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?K=K.withResumeToken(dn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,r)),o=o.insert(A,K),(function(te,W,ye){return te.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=XC?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(D,K,S)&&g.push(i.Pi.updateTargetData(c,K))}));let y=Us(),v=Ge();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(eI(c,d,e.documentUpdates).next((S=>{y=S.ks,v=S.qs}))),!r.isEqual(Ce.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function eI(s,e,i){let r=Ge(),o=Ge();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Us();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):de(fg,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function tI(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nI(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new xr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Dm(s,e,i){const r=Ne(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Vl(d))throw d;de(fg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Av(s,e,i){const r=Ne(s);let o=Ce.min(),c=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,S){const A=Ne(y),D=A.xs.get(S);return D!==void 0?Z.resolve(A.Ms.get(D)):A.Pi.getTargetData(v,S)})(r,d,rs(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Ce.min(),i?c:Ge()))).next((g=>(iI(r,qR(e),g),{documents:g,Qs:c})))))}function iI(s,e,i){let r=s.Os.get(e)||Ce.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class wv{constructor(){this.activeTargetIds=YR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sI{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rI{Oo(e){}shutdown(){}}const xv="ConnectivityMonitor";class Rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Om(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const um="RestConnection",aI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Om(),g=this.zo(e,i.toUriEncodedString());de(um,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(g),S=Nl(v);return this.Jo(e,g,y,r,S).then((A=>(de(um,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Al(um,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=aI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class oI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class uI extends lI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Om();return new Promise(((g,y)=>{const v=new JE;v.setWithCredentials(!0),v.listenOnce(ZE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case eh.NO_ERROR:const A=v.getResponseJson();de(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case eh.TIMEOUT:de(yn,`RPC '${e}' ${d} timed out`),y(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const D=v.getStatus();if(de(yn,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const ee=K?.error;if(ee&&ee.status&&ee.message){const te=(function(ye){const ge=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ge)>=0?ge:J.UNKNOWN})(ee.status);y(new fe(te,ee.message))}else y(new fe(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new fe(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(yn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);de(yn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tT(),g=eT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const S=c.join("");de(yn,`Creating RPC '${e}' stream ${o}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let D=!1,K=!1;const ee=new oI({Yo:W=>{K?de(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(D||(de(yn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),D=!0),de(yn,`RPC '${e}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),te=(W,ye,ge)=>{W.listen(ye,(ce=>{try{ge(ce)}catch(Qe){setTimeout((()=>{throw Qe}),0)}}))};return te(A,Lo.EventType.OPEN,(()=>{K||(de(yn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),te(A,Lo.EventType.CLOSE,(()=>{K||(K=!0,de(yn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(A))})),te(A,Lo.EventType.ERROR,(W=>{K||(K=!0,Al(yn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),te(A,Lo.EventType.MESSAGE,(W=>{if(!K){const ye=W.data[0];it(!!ye,16349);const ge=ye,ce=ge?.error||ge[0]?.error;if(ce){de(yn,`RPC '${e}' stream ${o} received error:`,ce);const Qe=ce.status;let Le=(function(w){const R=Kt[w];if(R!==void 0)return kT(R)})(Qe),be=ce.message;Le===void 0&&(Le=J.INTERNAL,be="Unknown error status: "+Qe+" with message "+ce.message),K=!0,ee.a_(new fe(Le,be)),A.close()}else de(yn,`RPC '${e}' stream ${o} received:`,ye),ee.u_(ye)}})),te(g,WE.STAT_EVENT,(W=>{W.stat===Em.PROXY?de(yn,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===Em.NOPROXY&&de(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function cm(){return typeof document<"u"?document:null}function Hh(s){return new dC(s,!0)}class XT{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Cv="PersistentStream";class $T{constructor(e,i,r,o,c,d,g,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ps(i.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cI extends $T{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=pC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?as(d.readTime):Ce.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=wm(y)?{documents:vC(c,y)}:{query:EC(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=UT(c,d.resumeToken);const v=Rm(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ce.min())>0){g.readTime=Ah(c,d.snapshotVersion.toTimestamp());const v=Rm(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const r=bC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Nm(this.serializer),i.removeTarget=e,this.q_(i)}}class hI extends $T{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_C(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Nm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>yC(this.serializer,r)))};this.q_(i)}}class fI{}class dI extends fI{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Cm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Cm(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class gI{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{wa(this)&&(de(Ta,"Restarting streams for network reachability change."),await(async function(y){const v=Ne(y);v.Ea.add(4),await pu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Fh(v)})(this))}))})),this.Ra=new mI(r,o)}}async function Fh(s){if(wa(s))for(const e of s.da)await e(!0)}async function pu(s){for(const e of s.da)await e(!1)}function JT(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pg(i)?gg(i):jl(i).O_()&&mg(i,e))}function dg(s,e){const i=Ne(s),r=jl(i);i.Ia.delete(e),r.O_()&&ZT(i,e),i.Ia.size===0&&(r.O_()?r.L_():wa(i)&&i.Ra.set("Unknown"))}function mg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}jl(s).Y_(e)}function ZT(s,e){s.Va.Ue(e),jl(s).Z_(e)}function gg(s){s.Va=new uC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),jl(s).start(),s.Ra.ua()}function pg(s){return wa(s)&&!jl(s).x_()&&s.Ia.size>0}function wa(s){return Ne(s).Ea.size===0}function WT(s){s.Va=void 0}async function pI(s){s.Ra.set("Online")}async function yI(s){s.Ia.forEach(((e,i)=>{mg(s,e)}))}async function _I(s,e){WT(s),pg(s)?(s.Ra.ha(e),gg(s)):s.Ra.set("Unknown")}async function vI(s,e,i){if(s.Ra.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){de(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(s,r)}else if(e instanceof sh?s.Va.Ze(e):e instanceof jT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ce.min()))try{const r=await YT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(dn.EMPTY_BYTE_STRING,S.snapshotVersion)),ZT(c,y);const A=new xr(S.target,y,v,S.sequenceNumber);mg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){de(Ta,"Failed to raise snapshot:",r),await xh(s,r)}}async function xh(s,e,i){if(!Vl(e))throw e;s.Ea.add(1),await pu(s),s.Ra.set("Offline"),i||(i=()=>YT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(Ta,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Fh(s)}))}function e1(s,e){return e().catch((i=>xh(s,i,e)))}async function Gh(s){const e=Ne(s),i=jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;EI(e);)try{const o=await tI(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,TI(e,o)}catch(o){await xh(e,o)}t1(e)&&n1(e)}function EI(s){return wa(s)&&s.Ta.length<10}function TI(s,e){s.Ta.push(e);const i=jr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function t1(s){return wa(s)&&!jr(s).x_()&&s.Ta.length>0}function n1(s){jr(s).start()}async function bI(s){jr(s).ra()}async function SI(s){const e=jr(s);for(const i of s.Ta)e.ea(i.mutations)}async function AI(s,e,i){const r=s.Ta.shift(),o=ag.from(r,e,i);await e1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Gh(s)}async function wI(s,e){e&&jr(s).X_&&await(async function(r,o){if((function(d){return aC(d)&&d!==J.ABORTED})(o.code)){const c=r.Ta.shift();jr(r).B_(),await e1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Gh(r)}})(s,e),t1(s)&&n1(s)}async function Iv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),de(Ta,"RemoteStore received new credentials");const r=wa(i);i.Ea.add(3),await pu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Fh(i)}async function xI(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Fh(i)):e||(i.Ea.add(2),await pu(i),i.Ra.set("Unknown"))}function jl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ne(i);return c.sa(),new cI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:pI.bind(null,s),t_:yI.bind(null,s),r_:_I.bind(null,s),H_:vI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),WT(s))}))),s.ma}function jr(s){return s.fa||(s.fa=(function(i,r,o){const c=Ne(i);return c.sa(),new hI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:bI.bind(null,s),r_:wI.bind(null,s),ta:SI.bind(null,s),na:AI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Gh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(Ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new yg(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,e){if(Ps("AsyncQueue",`${e}: ${s}`),Vl(s))return new fe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=zo(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Nv{constructor(){this.ga=new Ct(Ee.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Il{constructor(e,i,r,o,c,d,g,y,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Il(e,i,El.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class RI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CI{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ne(i),c=o.queries;o.queries=Dv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Dv(){return new Aa((s=>ST(s)),Uh)}async function II(s,e){const i=Ne(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new RI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=_g(d,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vg(i)}async function NI(s,e){const i=Ne(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function DI(s,e){const i=Ne(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&vg(i)}function OI(s,e,i){const r=Ne(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function vg(s){s.Ca.forEach((e=>{e.next()}))}var Mm,Ov;(Ov=Mm||(Mm={})).Ma="default",Ov.Cache="cache";class MI{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class i1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class VI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=AT(e),this.tu=new El(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Nv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const D=o.get(S),K=Lh(this.query,A)?A:null,ee=!!D&&this.mutatedKeys.has(D.key),te=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;D&&K?D.data.isEqual(K.data)?ee!==te&&(r.track({type:3,doc:K}),W=!0):this.su(D,K)||(r.track({type:2,doc:K}),W=!0,(y&&this.eu(K,y)>0||v&&this.eu(K,v)<0)&&(g=!0)):!D&&K?(r.track({type:0,doc:K}),W=!0):D&&!K&&(r.track({type:1,doc:D}),W=!0,(y||v)&&(g=!0)),W&&(K?(d=d.add(K),c=te?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(K,ee){const te=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:W})}};return te(K)-te(ee)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Il(this.query,e.tu,c,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new s1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new i1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eg="SyncEngine";class kI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class jI{constructor(e){this.key=e,this.hu=!1}}class PI{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Aa((g=>ST(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Ee.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UI(s,e,i=!0){const r=c1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await r1(r,e,i,!0),o}async function LI(s,e){const i=c1(s);await r1(i,e,!0,!1)}async function r1(s,e,i,r){const o=await nI(s.localStore,rs(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await zI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&JT(s.remoteStore,o),g}async function zI(s,e,i,r,o){s.pu=(A,D,K)=>(async function(te,W,ye,ge){let ce=W.view.ru(ye);ce.Cs&&(ce=await Av(te.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ce))));const Qe=ge&&ge.targetChanges.get(W.targetId),Le=ge&&ge.targetMismatches.get(W.targetId)!=null,be=W.view.applyChanges(ce,te.isPrimaryClient,Qe,Le);return Vv(te,W.targetId,be.au),be.snapshot})(s,A,D,K);const c=await Av(s.localStore,e,!0),d=new VI(e,c.Qs),g=d.ru(c.documents),y=gu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,y);Vv(s,i,v.au);const S=new kI(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function BI(s,e,i){const r=Ne(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&dg(r.remoteStore,o.targetId),Vm(r,o.targetId)})).catch(Ml)):(Vm(r,o.targetId),await Dm(r.localStore,o.targetId,!0))}async function qI(s,e){const i=Ne(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function HI(s,e,i){const r=$I(s);try{const o=await(function(d,g){const y=Ne(d),v=St.now(),S=g.reduce(((K,ee)=>K.add(ee.key)),Ge());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let ee=Us(),te=Ge();return y.Ns.getEntries(K,S).next((W=>{ee=W,ee.forEach(((ye,ge)=>{ge.isValidDocument()||(te=te.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,ee))).next((W=>{A=W;const ye=[];for(const ge of g){const ce=tC(ge,A.get(ge.key).overlayedDocument);ce!=null&&ye.push(new zr(ge.key,ce,gT(ce.value.mapValue),yi.exists(!0)))}return y.mutationQueue.addMutationBatch(K,v,ye,g)})).next((W=>{D=W;const ye=W.applyToLocalDocumentSet(A,te);return y.documentOverlayCache.saveOverlays(K,W.batchId,ye)}))})).then((()=>({batchId:D.batchId,changes:xT(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ct(Fe)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await yu(r,o.changes),await Gh(r.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");i.reject(c)}}async function a1(s,e){const i=Ne(s);try{const r=await WC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?it(d.hu,14607):o.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await yu(i,r,e)}catch(r){await Ml(r)}}function Mv(s,e,i){const r=Ne(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ne(d);y.onlineState=g;let v=!1;y.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(g)&&(v=!0)})),v&&vg(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FI(s,e,i){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Ct(Ee.comparator);d=d.insert(c,vn.newNoDocument(c,Ce.min()));const g=Ge().add(c),y=new qh(Ce.min(),new Map,new Ct(Fe),d,g);await a1(r,y),r.du=r.du.remove(c),r.Au.delete(e),Tg(r)}else await Dm(r.localStore,e,!1).then((()=>Vm(r,e,i))).catch(Ml)}async function GI(s,e){const i=Ne(s),r=e.batch.batchId;try{const o=await ZC(i.localStore,e);o1(i,r,null),l1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await yu(i,o)}catch(o){await Ml(o)}}async function KI(s,e,i){const r=Ne(s);try{const o=await(function(d,g){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return y.mutationQueue.lookupMutationBatch(v,g).next((A=>(it(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(v,A)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>y.localDocuments.getDocuments(v,S)))}))})(r.localStore,e);o1(r,e,i),l1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await yu(r,o)}catch(o){await Ml(o)}}function l1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function o1(s,e,i){const r=Ne(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||u1(s,r)}))}function u1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Tg(s))}function Vv(s,e,i){for(const r of i)r instanceof i1?(s.Ru.addReference(r.key,e),QI(s,r)):r instanceof s1?(de(Eg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||u1(s,r.key)):xe(19791,{wu:r})}function QI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(de(Eg,"New document in limbo: "+i),s.Eu.add(r),Tg(s))}function Tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ee(_t.fromString(e)),r=s.fu.next();s.Au.set(r,new jI(i)),s.du=s.du.insert(i,r),JT(s.remoteStore,new xr(rs(ig(i.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function yu(s,e,i){const r=Ne(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=hg.As(y.targetId,v);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(y,v){const S=Ne(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(v,(D=>Z.forEach(D.Es,(K=>S.persistence.referenceDelegate.addReference(A,D.targetId,K))).next((()=>Z.forEach(D.ds,(K=>S.persistence.referenceDelegate.removeReference(A,D.targetId,K)))))))))}catch(A){if(!Vl(A))throw A;de(fg,"Failed to update sequence numbers: "+A)}for(const A of v){const D=A.targetId;if(!A.fromCache){const K=S.Ms.get(D),ee=K.snapshotVersion,te=K.withLastLimboFreeSnapshotVersion(ee);S.Ms=S.Ms.insert(D,te)}}})(r.localStore,c))}async function YI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){de(Eg,"User change. New user:",e.toKey());const r=await QT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new fe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(i,r.Ls)}}function XI(s,e){const i=Ne(s),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function c1(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FI.bind(null,e),e.Pu.H_=DI.bind(null,e.eventManager),e.Pu.yu=OI.bind(null,e.eventManager),e}function $I(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return JC(this.persistence,new YC,e.initialUser,this.serializer)}Cu(e){return new KT(cg.mi,this.serializer)}Du(e){return new sI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class JI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new KT((r=>wh.mi(r,i)),this.serializer)}}class km{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await xI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CI})()}createDatastore(e){const i=Hh(e.databaseInfo.databaseId),r=(function(c){return new uI(c)})(e.databaseInfo);return(function(c,d,g,y){return new dI(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new gI(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Rv.v()?new Rv:new rI})())}createSyncEngine(e,i){return(function(o,c,d,g,y,v,S){const A=new PI(o,c,d,g,y,v);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ne(i);de(Ta,"RemoteStore shutting down."),r.Ea.add(5),await pu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class ZI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Pr="FirestoreClient";class WI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),de(Pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function kv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await eN(s);de(Pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Iv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Iv(e.remoteStore,o))),s._onlineComponents=e}async function eN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Pr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Al("Error using user provided cache. Falling back to memory cache: "+i),await hm(s,new Rh)}}else de(Pr,"Using default OfflineComponentProvider"),await hm(s,new JI(void 0));return s._offlineComponents}async function h1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Pr,"Using user provided OnlineComponentProvider"),await kv(s,s._uninitializedComponentsProvider._online)):(de(Pr,"Using default OnlineComponentProvider"),await kv(s,new km))),s._onlineComponents}function tN(s){return h1(s).then((e=>e.syncEngine))}async function jv(s){const e=await h1(s),i=e.eventManager;return i.onListen=UI.bind(null,e.syncEngine),i.onUnlisten=BI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=qI.bind(null,e.syncEngine),i}function f1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Pv=new Map;const d1="firestore.googleapis.com",Uv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=Uv}else this.host=e.host,this.ssl=e.ssl??Uv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DC)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rR;switch(r.type){case"firstParty":return new uR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Pv.get(i);r&&(de("ComponentProvider","Removing Datastore"),Pv.delete(i),r.terminate())})(this),Promise.resolve()}}function nN(s,e,i,r={}){s=ss(s,Kh);const o=Nl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(lE(`https://${g}`),oE("Firestore",!0)),c.host!==d1&&c.host!==g&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:r};if(!pa(y,d)&&(s._setSettings(y),r.mockUserToken)){let v,S;if(typeof r.mockUserToken=="string")v=r.mockUserToken,S=_n.MOCK_USER;else{v=dA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new _n(A)}s._authCredentials=new aR(new iT(v,S))}}class Br{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Br(this.firestore,e,this._query)}}class jt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(du(i,jt._jsonSchema))return new jt(e,r||null,new Ee(_t.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Yt("string",jt._jsonSchemaVersion),referencePath:Yt("string")};class Dr extends Br{constructor(e,i,r){super(e,i,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Ee(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function zv(s,e,...i){if(s=Zt(s),sT("collection","path",e),s instanceof Kh){const r=_t.fromString(e,...i);return J0(r),new Dr(s,null,r)}{if(!(s instanceof jt||s instanceof Dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return J0(r),new Dr(s.firestore,null,r)}}function qo(s,e,...i){if(s=Zt(s),arguments.length===1&&(e=Jm.newId()),sT("doc","path",e),s instanceof Kh){const r=_t.fromString(e,...i);return $0(r),new jt(s,null,new Ee(r))}{if(!(s instanceof jt||s instanceof Dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return $0(r),new jt(s.firestore,s instanceof Dr?s.converter:null,new Ee(r))}}const Bv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XT(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&de(Bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;de(Bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Hv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=yg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Hv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Fv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ba extends Kh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function iN(s,e){const i=typeof s=="object"?s:fE(),r=typeof s=="string"?s:_h,o=Bm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=hA("firestore");c&&nN(o,...c)}return o}function m1(s){if(s._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sN(s),s._firestoreClient}function sN(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new xR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,f1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new WI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(dn.fromBase64String(e))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new pi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Yt("string",pi._jsonSchemaVersion),bytes:Yt("string")};class Qh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class ls{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(du(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Yt("string",ls._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class os{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new os(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Yt("string",os._jsonSchemaVersion),vectorValues:Yt("object")};const rN=/^__.*__$/;class aN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new mu(e,this.data,i,this.fieldTransforms)}}class g1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new zr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function p1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:s})}}class Sg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&rN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Hh(e)}Cc(e,i,r,o=!1){return new Sg({Ac:e,methodName:i,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(s){const e=s._freezeSettings(),i=Hh(s._databaseId);return new lN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function y1(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ag("Data must be an object, but it was:",d,r);const g=_1(r,d);let y,v;if(c.merge)y=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const D=jm(e,A,i);if(!d.contains(D))throw new fe(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);E1(S,D)||S.push(D)}y=new Yn(S),v=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,v=d.fieldTransforms;return new aN(new jn(g),y,v)}class Xh extends bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function oN(s,e,i,r){const o=s.Cc(1,e,i);Ag("Data must be an object, but it was:",o,r);const c=[],d=jn.empty();Lr(r,((y,v)=>{const S=wg(e,y,i);v=Zt(v);const A=o.yc(S);if(v instanceof Xh)c.push(S);else{const D=_u(v,A);D!=null&&(c.push(S),d.set(S,D))}}));const g=new Yn(c);return new g1(d,g,o.fieldTransforms)}function uN(s,e,i,r,o,c){const d=s.Cc(1,e,i),g=[jm(e,r,i)],y=[o];if(c.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(jm(e,c[D])),y.push(c[D+1]);const v=[],S=jn.empty();for(let D=g.length-1;D>=0;--D)if(!E1(v,g[D])){const K=g[D];let ee=y[D];ee=Zt(ee);const te=d.yc(K);if(ee instanceof Xh)v.push(K);else{const W=_u(ee,te);W!=null&&(v.push(K),S.set(K,W))}}const A=new Yn(v);return new g1(S,A,d.fieldTransforms)}function cN(s,e,i,r=!1){return _u(i,s.Cc(r?4:3,e))}function _u(s,e){if(v1(s=Zt(s)))return Ag("Unsupported field value:",e,s),_1(s,e);if(s instanceof bg)return(function(r,o){if(!p1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let y=_u(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=St.fromDate(r);return{timestampValue:Ah(o.serializer,c)}}if(r instanceof St){const c=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pi)return{bytesValue:UT(o.serializer,r._byteString)};if(r instanceof jt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof os)return(function(d,g){return{mapValue:{fields:{[dT]:{stringValue:mT},[vh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Vh(r)}`)})(s,e)}function _1(s,e){const i={};return lT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(s,((r,o)=>{const c=_u(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function v1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof St||s instanceof ls||s instanceof pi||s instanceof jt||s instanceof bg||s instanceof os)}function Ag(s,e,i){if(!v1(i)||!rT(i)){const r=Vh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function jm(s,e,i){if((e=Zt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return wg(s,e);throw Ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const hN=new RegExp("[~\\*/\\[\\]]");function wg(s,e,i){if(e.search(hN)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Qh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ch(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new fe(J.INVALID_ARGUMENT,g+s+y)}function E1(s,e){return s.some((i=>i.isEqual(e)))}class T1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fN extends T1{data(){return super.data()}}function xg(s,e){return typeof e=="string"?wg(s,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}function dN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Cg extends Rg{}function mN(s,e,...i){let r=[];e instanceof Rg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Ng)).length,g=c.filter((y=>y instanceof Ig)).length;if(d>1||d>0&&g>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Ig extends Cg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Ig(e,i,r)}_apply(e){const i=this._parse(e);return b1(e._query,i),new Br(e.firestore,e.converter,xm(e._query,i))}_parse(e){const i=Yh(e.firestore);return(function(c,d,g,y,v,S,A){let D;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Kv(A,S);const ee=[];for(const te of A)ee.push(Gv(y,c,te));D={arrayValue:{values:ee}}}else D=Gv(y,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Kv(A,S),D=cN(g,d,A,S==="in"||S==="not-in");return Qt.create(v,S,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ng extends Rg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ng(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Mi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)b1(d,y),d=xm(d,y)})(e._query,i),new Br(e.firestore,e.converter,xm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Cg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Dg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(c,d)})(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new kl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function gN(s,e="asc"){const i=e,r=xg("orderBy",s);return Dg._create(r,i)}class Og extends Cg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Og(e,i,r)}_apply(e){return new Br(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function pN(s){return Og._create("limit",s,"F")}function Gv(s,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&i.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(_t.fromString(i));if(!Ee.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rv(s,new Ee(r))}if(i instanceof jt)return rv(s,i._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(i)}.`)}function Kv(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b1(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class yN{convertValue(e,i="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Lr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[vh].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new os(i)}convertGeoPoint(e){return new ls(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const i=Mr(e);return new St(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=_t.fromString(e);it(FT(r),9688,{name:e});const o=new tu(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||Ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function S1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends T1{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:Yt("string",ga._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class rh extends ga{data(e={}){return super.data(e)}}class Tl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new rh(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new rh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ho(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new rh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ho(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:_N(g.type),doc:y,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _N(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:Yt("string",Tl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class A1 extends yN{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function mi(s,e,i){s=ss(s,jt);const r=ss(s.firestore,ba),o=S1(s.converter,e,i);return $h(r,[y1(Yh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,yi.none())])}function Ii(s,e,i,...r){s=ss(s,jt);const o=ss(s.firestore,ba),c=Yh(o);let d;return d=typeof(e=Zt(e))=="string"||e instanceof Qh?uN(c,"updateDoc",s._key,e,i,r):oN(c,"updateDoc",s._key,e),$h(o,[d.toMutation(s._key,yi.exists(!0))])}function Kc(s){return $h(ss(s.firestore,ba),[new rg(s._key,yi.none())])}function vN(s,e){const i=ss(s.firestore,ba),r=qo(s),o=S1(s.converter,e);return $h(i,[y1(Yh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function Qv(s,...e){s=Zt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Fv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Fv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof jt)d=ss(s.firestore,ba),g=ig(s._key.path),c={next:y=>{e[r]&&e[r](EN(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=ss(s,Br);d=ss(y.firestore,ba),g=y._query;const v=new A1(d);c={next:S=>{e[r]&&e[r](new Tl(d,v,y,S))},error:e[r+1],complete:e[r+2]},dN(s._query)}return(function(v,S,A,D){const K=new ZI(D),ee=new MI(S,K,A);return v.asyncQueue.enqueueAndForget((async()=>II(await jv(v),ee))),()=>{K.Nu(),v.asyncQueue.enqueueAndForget((async()=>NI(await jv(v),ee)))}})(m1(d),g,o,c)}function $h(s,e){return(function(r,o){const c=new ma;return r.asyncQueue.enqueueAndForget((async()=>HI(await tN(r),o,c))),c.promise})(m1(s),e)}function EN(s,e,i){const r=i.docs.get(e._key),o=new A1(s);return new ga(s,o,e._key,r,new Ho(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ol=o})(Dl),Sl(new ya("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ba(new lR(r.getProvider("auth-internal")),new cR(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(v.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ir(K0,Q0,e),Ir(K0,Q0,"esm2020")})();const TN={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883",measurementId:"G-7ZC94CFHVY"},w1=hE(TN),bl=iR(w1),hl=iN(w1),Yv=()=>Math.random().toString(36).substr(2,9),au=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},bN=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},x1=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=bN(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(au(c))}return r},es=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Ih=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},SN=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Xv=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},Qc=["","","","","","","","","","","","","","","","","","","",""],yt=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",g={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},y={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return _.jsx("button",{onClick:e,className:`${d} ${g[o]} ${y[i]} ${r}`,...c,children:s})},Yc=({children:s,className:e=""})=>_.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),Ni=({isOpen:s,onClose:e,title:i,children:r})=>s?_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[_.jsx("h3",{className:"font-bold text-gray-800",children:i}),e&&_.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:_.jsx(Um,{size:20})})]}),_.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,AN=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o,mode:c="verify"})=>{const[d,g]=oe.useState(""),[y,v]=oe.useState(""),[S,A]=oe.useState(c==="setup"?"create":"verify"),[D,K]=oe.useState(!1),[ee,te]=oe.useState(c==="setup"?"Create a 4-digit PIN":r||"Enter PIN"),W=ge=>{if(d.length<4){const ce=d+ge;g(ce),ce.length===4&&(S==="verify"?ce===i?s(ce):ye():S==="create"?(v(ce),g(""),A("confirm"),te("Confirm your PIN")):S==="confirm"&&(ce===y?s(ce):(ye("PINs didn't match. Try again."),A("create"),te("Create a 4-digit PIN"),v(""))))}},ye=(ge="Incorrect PIN")=>{K(!0);const ce=ee;te(ge),setTimeout(()=>{g(""),K(!1),te(S==="verify"?r||"Enter PIN":S==="create"?"Create a 4-digit PIN":ce)},1e3)};return _.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[_.jsx("h3",{className:`text-xl font-bold text-center mb-6 ${D?"text-red-500":"text-gray-800"}`,children:ee}),_.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(ge=>_.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${d.length>ge?D?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},ge))}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(ge=>_.jsx("button",{onClick:()=>W(ge),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:ge},ge)),_.jsx("div",{}),_.jsx("button",{onClick:()=>W(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),_.jsx("button",{onClick:()=>g(ge=>ge.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:_.jsx(Um,{size:24})})]}),_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx(yt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),c==="verify"&&_.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[_.jsx(OS,{size:12})," Forgot PIN?"]})]})]})})},wN=({onComplete:s})=>{const[e,i]=oe.useState("parent"),[r,o]=oe.useState(""),[c,d]=oe.useState(""),[g,y]=oe.useState([]),[v,S]=oe.useState(""),[A,D]=oe.useState(""),K=()=>{v&&A.length===4&&(y([...g,{name:v,pin:A,allowance:10}]),S(""),D(""))},ee=()=>{s({parentName:r,parentPin:c,kids:g})};return _.jsx(Ni,{isOpen:!0,onClose:null,title:e==="parent"?"Welcome! Let's get setup.":"Add your Kids",children:_.jsx("div",{className:"space-y-4",children:e==="parent"?_.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[_.jsx("p",{className:"text-gray-600 text-sm",children:"First, create the main parent profile."}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Name"}),_.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Mom",value:r,onChange:te=>o(te.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Create PIN"}),_.jsx("input",{className:"w-full border p-2 rounded",placeholder:"1234",maxLength:"4",value:c,onChange:te=>d(te.target.value)})]}),_.jsx(yt,{className:"w-full",onClick:()=>{r&&c.length===4?i("kids"):alert("Name and 4-digit PIN required.")},children:"Next: Add Kids"})]}):_.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[_.jsx("div",{className:"space-y-2",children:g.map((te,W)=>_.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 p-2 rounded text-sm text-indigo-800 font-bold",children:[_.jsx("span",{children:te.name}),_.jsxs("span",{children:["PIN: ",te.pin]})]},W))}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("input",{className:"border p-2 rounded",placeholder:"Kid Name",value:v,onChange:te=>S(te.target.value)}),_.jsx("input",{className:"border p-2 rounded",placeholder:"Kid PIN",maxLength:"4",value:A,onChange:te=>D(te.target.value)})]}),_.jsxs(yt,{variant:"outline",className:"w-full border-dashed",onClick:K,children:[_.jsx(Xc,{size:16})," Add Another Kid"]}),_.jsx("div",{className:"pt-4 flex gap-2",children:_.jsx(yt,{className:"w-full bg-green-600 hover:bg-green-700",onClick:ee,children:"Finish Setup"})})]})})})},xN=({kids:s,onComplete:e})=>{const[i,r]=oe.useState("select-mode"),o=c=>{c==="KID_SOLO"?r("select-kid"):e({mode:c,targetId:null})};return _.jsx(Ni,{isOpen:!0,onClose:null,title:"Setup This Device",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-gray-600 text-sm text-center",children:"Who will be using this specific device?"}),i==="select-mode"&&_.jsxs("div",{className:"grid gap-3",children:[_.jsxs("button",{onClick:()=>o("FAMILY"),className:"p-4 border-2 rounded-xl hover:bg-indigo-50 hover:border-indigo-200 text-left flex items-center gap-3 transition-colors group",children:[_.jsx("div",{className:"bg-indigo-100 p-3 rounded-full text-indigo-600 group-hover:bg-indigo-200",children:_.jsx(lh,{size:24})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold block text-gray-800",children:"Whole Family"}),_.jsx("span",{className:"text-xs text-gray-500",children:"Parents & Kids. Requires PINs to switch."})]})]}),_.jsxs("button",{onClick:()=>o("KIDS_SHARED"),className:"p-4 border-2 rounded-xl hover:bg-purple-50 hover:border-purple-200 text-left flex items-center gap-3 transition-colors group",children:[_.jsx("div",{className:"bg-purple-100 p-3 rounded-full text-purple-600 group-hover:bg-purple-200",children:_.jsx(lh,{size:24})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold block text-gray-800",children:"Just the Kids"}),_.jsx("span",{className:"text-xs text-gray-500",children:"Shared device for multiple kids (No Parents)."})]})]}),_.jsxs("button",{onClick:()=>o("KID_SOLO"),className:"p-4 border-2 rounded-xl hover:bg-green-50 hover:border-green-200 text-left flex items-center gap-3 transition-colors group",children:[_.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-600 group-hover:bg-green-200",children:_.jsx(WS,{size:24})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold block text-gray-800",children:"Specific Kid"}),_.jsx("span",{className:"text-xs text-gray-500",children:"Personal device. Auto-logins."})]})]})]}),i==="select-kid"&&_.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-right-4",children:[_.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Select the Kid:"}),s.map(c=>_.jsxs("button",{onClick:()=>e({mode:"KID_SOLO",targetId:c.id}),className:"w-full p-3 bg-white border rounded-xl flex items-center gap-3 hover:bg-gray-50 shadow-sm",children:[_.jsx("span",{className:"text-2xl",children:c.avatar}),_.jsx("span",{className:"font-bold text-gray-700",children:c.name}),_.jsx(ah,{className:"ml-auto text-gray-300"})]},c.id)),s.length===0&&_.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:"No kids found in family account."}),_.jsx(yt,{variant:"ghost",onClick:()=>r("select-mode"),className:"w-full mt-2",children:"Back"})]})]})})},RN=()=>{const[s,e]=oe.useState(!0),[i,r]=oe.useState(""),[o,c]=oe.useState(""),[d,g]=oe.useState(""),[y,v]=oe.useState(""),S=async D=>{D.preventDefault(),g(""),v("");try{s?await q2(bl,i,o):await B2(bl,i,o)}catch(K){g(K.message)}},A=async()=>{if(!i){g("Please enter your email address first.");return}try{await z2(bl,i),v("Password reset email sent! Check your inbox."),g("")}catch(D){g(D.message)}};return _.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[_.jsx(Zv,{size:40})," ChorePiggy"]}),_.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),_.jsxs("form",{onSubmit:S,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),_.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:D=>r(D.target.value),placeholder:"family@example.com"})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-1",children:[_.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&_.jsx("button",{type:"button",onClick:A,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),_.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:D=>c(D.target.value),placeholder:""})]}),d&&_.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),y&&_.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:y}),_.jsx(yt,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>{e(!s),g(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function CN(){const[s,e]=oe.useState(null),[i,r]=oe.useState(!0),[o,c]=oe.useState([]),[d,g]=oe.useState([]),[y,v]=oe.useState([]),[S,A]=oe.useState([]),[D,K]=oe.useState([]),[ee,te]=oe.useState([]),[W,ye]=oe.useState("login"),[ge,ce]=oe.useState(null),[Qe,Le]=oe.useState(!1),[be,I]=oe.useState(null),[w,R]=oe.useState(!1),[k,O]=oe.useState(!1),[P,x]=oe.useState(!1),[We,At]=oe.useState(""),[G,ie]=oe.useState(!1),[ue,De]=oe.useState(""),[Re,M]=oe.useState(null),[Y,se]=oe.useState([]),[ne,Se]=oe.useState(()=>{try{const B=localStorage.getItem("chorePiggy_deviceConfig");return B?JSON.parse(B):null}catch{return null}});oe.useEffect(()=>G2(bl,le=>{if(e(le),le){const Te=JSON.parse(localStorage.getItem("chorePiggy_knownFamilies")||"[]"),ke=[...new Set([le.uid,...Te])];se(ke),M(ke[0])}r(!1)}),[]),oe.useEffect(()=>{if(!i&&s&&d.length>0&&W==="login"&&!ge){if(ne?.mode==="KID_SOLO"&&ne?.targetId){const le=d.find(Te=>Te.id===ne.targetId);if(le){ce(le),ye("kid");return}}const B=localStorage.getItem("chorePiggy_activeUser");if(B&&ne?.mode==="FAMILY"){const le=d.find(Te=>Te.id===B);le&&(ce(le),ye("kid"))}}},[i,s,d,W,ge,ne]),oe.useEffect(()=>{if(!s||!Re)return;const B=ze=>zv(hl,"families",Re,ze),le={users:B("users"),kids:B("kids"),chores:B("chores"),task_log:B("task_log"),bonuses:B("bonuses")},Te=Object.entries(le).map(([ze,pt])=>Qv(pt,Xt=>{const Ut=Xt.docs.map(gn=>({id:gn.id,...gn.data()}));ze==="users"&&c(Ut),ze==="kids"&&g(Ut),ze==="chores"&&v(Ut),ze==="task_log"&&A(Ut),ze==="bonuses"&&K(Ut)},Xt=>console.log(`Error fetching ${ze}:`,Xt))),ke=mN(B("history"),gN("date","desc"),pN(100)),Et=Qv(ke,ze=>{te(ze.docs.map(pt=>({id:pt.id,...pt.data()})))},ze=>console.log("History Error",ze));return()=>{Te.forEach(ze=>ze()),Et()}},[s,Re]);const ae={users:o,kids:d,chores:y,taskLog:S,bonuses:D,history:ee},he=(B,le)=>qo(hl,"families",Re,B,le||Yv()),ht=B=>zv(hl,"families",Re,B),et=B=>{I(B),B.pin?(R(!1),Le(!0)):(R(!0),Le(!0))},Pn=B=>{if(w){const le=be.role==="kid"?"kids":"users";Ii(he(le,be.id),{pin:B}),R(!1)}ce(be),ye(be.role==="parent"?"parent":"kid"),Le(!1),I(null),be.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",be.id)},wn=()=>{ce(null),ye("login"),localStorage.removeItem("chorePiggy_activeUser")},Xn=()=>{K2(bl),ce(null),ye("login"),localStorage.removeItem("chorePiggy_activeUser"),localStorage.removeItem("chorePiggy_deviceConfig"),Se(null)},_i=()=>{Le(!1),x(!0)},Tn=async()=>{if(We)try{const B=Sa.credential(s.email,We);await UE(bl,B),await Ii(he("users",be.id),{pin:"1234"}),alert("Success! Your PIN has been reset to: 1234"),At(""),x(!1)}catch{alert("Incorrect password.")}},Vi=async B=>{try{const le={id:s.uid,name:B.parentName,role:"parent",pin:B.parentPin};await mi(qo(hl,"families",s.uid,"users",s.uid),le);for(const Te of B.kids)await mi(qo(hl,"families",s.uid,"kids",Yv()),{name:Te.name,pin:Te.pin,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Qc[Math.floor(Math.random()*Qc.length)],allowanceAmount:10});O(!1)}catch(le){alert(`Error creating database: ${le.message}. Check Firestore Rules!`)}},Wt=async()=>{if(!ue)return;const B=[...new Set([...Y,ue])];se(B),localStorage.setItem("chorePiggy_knownFamilies",JSON.stringify(B));try{await mi(qo(hl,"families",ue,"users",s.uid),{name:"Guardian",role:"parent",pin:"1234"}),M(ue),ie(!1),alert("Family Joined! Default PIN is 1234. Ask admin to rename you.")}catch{alert("Could not join. Check the ID or ask the owner to invite you.")}},$n=B=>{Se(B),localStorage.setItem("chorePiggy_deviceConfig",JSON.stringify(B))},vi=()=>{const B=o.find(le=>le.role==="parent");B&&(I({...B,isGateUnlock:!0}),Le(!0))},vt=()=>{confirm("Parent Access Granted. Reset device mode to Family?")&&($n({mode:"FAMILY",targetId:null}),wn()),Le(!1),I(null)},ft=B=>{be.isGateUnlock?o.find(Te=>Te.role==="parent"&&Te.pin===B)?vt():alert("Incorrect Parent PIN"):Pn(B)},xn=async(B,le,Te,ke,Et)=>{await vN(ht("history"),{kidId:B,amount:le,type:Te,description:ke,date:new Date().toISOString(),by:Et||"Unknown"})},Ei=async(B,le,Te,ke,Et)=>{const ze=d.find(pt=>pt.id===B);ze&&(await Ii(he("kids",B),{balance:ze.balance+le}),await xn(B,le,Te,ke,Et))},cs=async(B,le)=>{await mi(he("users"),{name:B,pin:le,role:"parent"})},Pt=async B=>{await Kc(he("users",B))},Jn=async(B,le)=>{await Ii(he("users",B),{pin:le})},ki=async(B,le)=>{await Ii(he("users",B),{name:le})},ji=async(B,le,Te)=>{const ke=S.find(Et=>Et.type==="chore"&&Et.taskId===B.id&&Et.kidId===le&&Et.dateString===Te);ke?await Ii(he("task_log",ke.id),{status:"pending",timestamp:new Date().toISOString()}):await mi(he("task_log"),{type:"chore",taskId:B.id,title:B.title,kidId:le,dateString:Te,status:"pending",timestamp:new Date().toISOString()})},Un=async(B,le,Te,ke,Et)=>{const ze=S.find(Ut=>Ut.type==="chore"&&Ut.taskId===B.id&&Ut.kidId===le&&Ut.dateString===Te);let pt=ze?he("task_log",ze.id):he("task_log");const Xt={type:"chore",taskId:B.id,title:B.title,kidId:le,dateString:Te,timestamp:new Date().toISOString()};if(ke==="approve"){const Ut=Rn(le),Wn=(B.weight||1)*Ut.valuePerPoint;await mi(pt,{...Xt,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!ze||ze.status!=="approved")&&await Ei(le,Wn,"chore",`${B.title} (${Ih(Te)})`,Et)}else ke==="fail"?await mi(pt,{...Xt,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):ke==="retry"&&await mi(pt,{...Xt,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},qs=async(B,le)=>{await mi(he("task_log"),{type:"bonus",taskId:B.id,title:B.title,reward:B.reward,kidId:le,status:"pending",timestamp:new Date().toISOString(),isGroupTask:B.maxKids>1}),(!B.maxKids||B.maxKids<=1)&&await Kc(he("bonuses",B.id))},hs=async(B,le)=>{const Te=he("bonuses",B),Et=D.find(ze=>ze.id===B).workers||[];Et.includes(le)||await Ii(Te,{workers:[...Et,le]})},Hs=async(B,le,Te=1)=>{mi(he("bonuses"),{title:B,reward:le,status:"available",maxKids:Te,workers:[]})},Pi=async(B,le,Te)=>{await Ii(he("task_log",B.id),{status:"approved",approvedAt:new Date().toISOString()});const ke=le,Et=B.dateString?`(${Ih(B.dateString)})`:"(Bonus)";await Ei(B.kidId,ke,B.type,`${B.title} ${Et}`,Te)},mn=async(B,le)=>{const Te=le==="retry"?"changes_requested":"failed";await Ii(he("task_log",B.id),{status:Te,rejectedAt:new Date().toISOString()})},It=async(B,le,Te)=>{await mi(he("kids"),{name:B,pin:le,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Qc[Math.floor(Math.random()*Qc.length)],allowanceAmount:Number(Te)})},sn=async(B,le)=>Ii(he("kids",B),le),gt=async B=>{mi(he("chores"),{...B,createdAt:au()})},fs=async(B,le)=>Ii(he("chores",B),le),Zn=async B=>Kc(he("chores",B)),ds=async B=>Kc(he("bonuses",B)),rn=B=>{if(!B.pausedUntil)return!0;const le=au();return B.pausedUntil<=le},Rn=(B,le=0)=>{const Te=d.find(Rt=>Rt.id===B);if(!Te)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const ke=Te.allowanceAmount||0,Et=y.filter(Rt=>Rt.kidId===B&&rn(Rt));let ze=0;Et.forEach(Rt=>{const ei=Rt.weight||1;ze+=ei*Rt.days.length});const pt=ze>0?ke/ze:0,Xt=x1(le),Ut=S.filter(Rt=>Rt.kidId===B&&Rt.type==="chore"&&Xt.includes(Rt.dateString));let gn=0,Wn=0;return Ut.forEach(Rt=>{const N=(y.find(_e=>_e.id===Rt.taskId)?.weight||1)*pt;Rt.status==="approved"&&(gn+=N),Rt.status==="pending"&&(Wn+=N)}),{potential:ke,earned:gn,pending:Wn,totalWeight:ze,valuePerPoint:pt}};return i?_.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?_.jsxs(_.Fragment,{children:[Qe&&_.jsx(AN,{targetPin:be?.pin,onSuccess:ft,onCancel:()=>{Le(!1),I(null),R(!1)},title:w?"Create PIN":be.isGateUnlock?"Enter Parent PIN":`Enter ${be?.name}'s PIN`,onForgot:_i,mode:w?"setup":"verify"}),k&&_.jsx(wN,{onComplete:Vi}),s&&!ne&&o.length>0&&_.jsx(xN,{kids:d,onComplete:$n}),P&&_.jsx(Ni,{isOpen:!0,onClose:()=>x(!1),title:"Reset PIN",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-sm text-gray-600",children:"To reset this PIN, please enter your Family Account Password:"}),_.jsx("input",{type:"password",className:"w-full border p-2 rounded",value:We,onChange:B=>At(B.target.value),placeholder:"Password"}),_.jsx(yt,{onClick:Tn,className:"w-full",children:"Verify & Reset PIN to 1234"})]})}),G&&_.jsx(Ni,{isOpen:!0,onClose:()=>ie(!1),title:"Join Existing Family",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Enter the Family ID from the other parent."}),_.jsx("input",{className:"w-full border p-2 rounded text-center font-mono",value:ue,onChange:B=>De(B.target.value),placeholder:"Paste ID here"}),_.jsx(yt,{className:"w-full",onClick:Wt,children:"Join Family"})]})}),_.jsx(InstallPrompt,{}),W==="login"&&_.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[_.jsxs("div",{className:"absolute top-4 right-4 flex gap-3",children:[Y.length>1&&_.jsx("select",{className:"text-xs font-bold bg-white border rounded p-1 text-gray-500",value:Re,onChange:B=>M(B.target.value),children:Y.map(B=>_.jsx("option",{value:B,children:B===s.uid?"My Family":"Shared Family"},B))}),ne?.mode!=="KIDS_SHARED"&&ne?.mode!=="KID_SOLO"&&_.jsxs("button",{onClick:()=>{o.length>0&&vi()},className:"flex items-center gap-2 text-gray-400 hover:text-blue-500 text-xs font-bold",children:[_.jsx(Wv,{size:14})," Device"]}),_.jsxs("button",{onClick:Xn,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-xs font-bold",children:[_.jsx(Jv,{size:14})," Sign Out"]})]}),_.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[_.jsx(Zv,{size:40})," ChorePiggy"]}),_.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"}),_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.email})]}),_.jsx("div",{className:"max-w-md w-full grid gap-4",children:o.length===0&&d.length===0?_.jsxs("div",{className:"text-center py-10",children:[_.jsx("p",{className:"text-gray-500 mb-4",children:"Welcome! No family data found."}),_.jsx(yt,{onClick:()=>O(!0),className:"w-full py-3",children:"Initialize Family"}),_.jsx("button",{onClick:()=>ie(!0),className:"mt-4 text-sm text-blue-500 hover:underline",children:"Or Join Existing Family"})]}):_.jsxs(_.Fragment,{children:[(ne?.mode==="FAMILY"||ne?.mode==="PARENT_SOLO")&&_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(B=>_.jsxs("button",{onClick:()=>et(B),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:_.jsx(eE,{size:24})}),_.jsx("span",{className:"font-bold text-lg text-gray-700",children:B.name})]}),_.jsx(ah,{className:"text-gray-300 group-hover:text-blue-500"})]},B.id))]}),(ne?.mode==="FAMILY"||ne?.mode==="KIDS_SHARED"||ne?.mode==="KID_SOLO")&&_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(B=>_.jsxs("button",{onClick:()=>et(B),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:B.avatar}),_.jsxs("div",{className:"text-left",children:[_.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:B.name}),_.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),_.jsx(ah,{className:"text-gray-300 group-hover:text-purple-500"})]},B.id))]})]})})]}),W==="parent"&&_.jsx(IN,{data:ae,user:ge,logout:wn,addKid:It,addChore:gt,updateChore:fs,deleteChore:Zn,addBonus:Hs,deleteBonus:ds,updateBalance:Ei,updateKid:sn,approveTask:Pi,rejectTask:mn,parentOverrideTask:Un,calculateWeeklyStats:Rn,updateParentPin:Jn,addParent:cs,deleteParent:Pt,updateParentName:ki,deviceConfig:ne,updateDeviceConfig:$n,currentFamilyId:Re}),W==="kid"&&_.jsx(KidView,{user:d.find(B=>B.id===ge.id)||ge,data:ae,logout:wn,submitChore:ji,submitBonus:qs,joinBonus:hs,updateKid:sn,calculateWeeklyStats:Rn,isChoreActive:rn,deviceConfig:ne,handleParentGate:vi})]}):_.jsx(RN,{})}function IN({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:g,deleteBonus:y,updateBalance:v,updateKid:S,approveTask:A,rejectTask:D,parentOverrideTask:K,calculateWeeklyStats:ee,updateParentPin:te,addParent:W,deleteParent:ye,updateParentName:ge,deviceConfig:ce,updateDeviceConfig:Qe,currentFamilyId:Le}){const[be,I]=oe.useState("approvals"),[w,R]=oe.useState(!1),[k,O]=oe.useState(""),[P,x]=oe.useState(""),[We,At]=oe.useState("10"),[G,ie]=oe.useState(null),[ue,De]=oe.useState(null),[Re,M]=oe.useState(null),[Y,se]=oe.useState(null),[ne,Se]=oe.useState(!1),[ae,he]=oe.useState(null),[ht,et]=oe.useState(null),[Pn,wn]=oe.useState(0),[Xn,_i]=oe.useState(""),[Tn,Vi]=oe.useState(""),[Wt,$n]=oe.useState("add"),[vi,vt]=oe.useState(0),[ft,xn]=oe.useState([]),[Ei,cs]=oe.useState(""),[Pt,Jn]=oe.useState("1"),[ki,ji]=oe.useState(""),[Un,qs]=oe.useState(""),[hs,Hs]=oe.useState([0,1,2,3,4]),[Pi,mn]=oe.useState(""),[It,sn]=oe.useState("2"),[gt,fs]=oe.useState("1"),[Zn,ds]=oe.useState(""),[rn,Rn]=oe.useState(""),[B,le]=oe.useState("");oe.useEffect(()=>{s.kids.length>0&&!ft.length&&xn([])},[s.kids]);const Te=s.taskLog.filter(N=>N.status==="pending");Te.sort((N,_e)=>new Date(_e.timestamp)-new Date(N.timestamp));const ke=Te.length,Et=()=>{if(!Xn||!G)return;const N=Number(Xn),_e=Wt==="add"?N:-N,je=Wt==="add"?"manual_add":"manual_subtract",Ye=Wt==="add"?"Manual Deposit":"Cash Out / Purchase";v(G.id,_e,je,Tn||Ye,e.name),ie(null),_i(""),Vi("")},ze=async()=>{if(confirm(`Approve all ${ke} tasks?`))for(const N of Te)if(N.type==="chore"){const _e=ee(N.kidId),$e=(s.chores.find(Lt=>Lt.id===N.taskId)?.weight||1)*_e.valuePerPoint;await A(N,$e,e.name)}else await A(N,0,e.name)},pt=N=>{N.isGroupTask?(wn(Math.floor(N.reward/2)),et(N)):A(N,N.reward,e.name)},Xt=N=>{N.preventDefault(),k&&P&&(r(k,P,We),R(!1),O(""),x(""))},Ut=N=>{N.preventDefault(),Ei&&ft.length>0&&(ft.forEach(_e=>{o({kidId:_e,title:Ei,days:hs,weight:Number(Pt),startTime:ki,doByTime:Un})}),cs(""),Jn("1"),ji(""),qs(""),xn([]))},gn=()=>{ae&&(c(ae.id,{title:ae.title,days:ae.days,weight:Number(ae.weight),startTime:ae.startTime,doByTime:ae.doByTime,pausedUntil:ae.pausedUntil||null}),he(null))},Wn=()=>{rn&&B.length===4&&(W(rn,B),Rn(""),le(""))},Rt=N=>Hs(_e=>_e.includes(N)?_e.filter(je=>je!==N):[..._e,N].sort()),ei=N=>{xn(_e=>_e.includes(N)?_e.filter(je=>je!==N):[..._e,N])},ti=()=>{navigator.clipboard.writeText(Le),alert("Family ID copied to clipboard!")};return _.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[_.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:_.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[_.jsx(eE,{})," ",e.name,"'s Dashboard"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>Se(!0),className:"text-gray-500 hover:text-blue-600",children:_.jsx(Wv,{size:20})}),_.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:_.jsx(Jv,{size:20})})]})]})}),_.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[_.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(N=>_.jsxs("button",{onClick:()=>I(N),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${be===N?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[N,N==="approvals"&&ke>0&&_.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:ke})]},N))}),_.jsx(Ni,{isOpen:ne,onClose:()=>Se(!1),title:"Family Settings",children:_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[_.jsx("h4",{className:"font-bold text-indigo-800 text-sm uppercase",children:"This Device Mode"}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("button",{onClick:()=>Qe({mode:"FAMILY",targetId:null}),className:`p-2 text-xs rounded border ${ce?.mode==="FAMILY"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Family (Default)"}),_.jsx("button",{onClick:()=>Qe({mode:"KIDS_SHARED",targetId:null}),className:`p-2 text-xs rounded border ${ce?.mode==="KIDS_SHARED"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Kids Only"}),s.kids.map(N=>_.jsxs("button",{onClick:()=>Qe({mode:"KID_SOLO",targetId:N.id}),className:`p-2 text-xs rounded border ${ce?.mode==="KID_SOLO"&&ce?.targetId===N.id?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:[N.name," Only"]},N.id))]}),_.jsxs("p",{className:"text-[10px] text-indigo-400",children:["Current: ",ce?.mode," ",ce?.targetId?`(${s.kids.find(N=>N.id===ce.targetId)?.name})`:""]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:Zn,onChange:N=>ds(N.target.value)}),_.jsx(yt,{size:"sm",onClick:()=>{Zn.length===4&&te(e.id,Zn),ds(""),alert("PIN updated")},children:"Update"})]})]}),_.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[_.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),_.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 p-2 rounded text-xs text-gray-600 flex justify-between items-center",children:[_.jsxs("span",{children:["Invite Code (Family ID): ",_.jsx("strong",{children:Le})]}),_.jsx("button",{onClick:ti,children:_.jsx(NS,{size:14})})]}),_.jsx("div",{className:"space-y-2",children:s.users.filter(N=>N.role==="parent").map(N=>_.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"font-bold text-gray-700",children:[N.name," ",N.id===e.id&&"(You)"]}),_.jsx("button",{onClick:()=>{const _e=prompt("Enter new name:",N.name);_e&&ge(N.id,_e)},className:"text-gray-400 hover:text-blue-500",children:_.jsx(Zd,{size:14})})]}),N.id!==e.id&&_.jsx("button",{onClick:()=>ye(N.id),className:"text-red-400 hover:text-red-600",children:_.jsx(Wd,{size:16})})]},N.id))}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:rn,onChange:N=>Rn(N.target.value)}),_.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:B,onChange:N=>le(N.target.value)})]}),_.jsxs(yt,{onClick:Wn,className:"w-full",variant:"outline",children:[_.jsx(JS,{size:16})," Add Guardian"]})]})]})}),_.jsx(Ni,{isOpen:!!ht,onClose:()=>et(null),title:"Split Group Reward",children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[_.jsx("h4",{className:"font-bold text-gray-800",children:ht?.title}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",es(ht?.reward)]})]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",_.jsx("strong",{children:s.kids.find(N=>N.id===ht?.kidId)?.name})," get?"]}),_.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[_.jsx("button",{onClick:()=>wn(N=>Math.max(0,N-1)),className:"p-3 bg-gray-100 rounded-full",children:_.jsx(kS,{size:20})}),_.jsx("span",{className:"text-4xl font-bold text-green-600",children:es(Pn)}),_.jsx("button",{onClick:()=>wn(N=>N+1),className:"p-3 bg-gray-100 rounded-full",children:_.jsx(Xc,{size:20})})]}),_.jsxs(yt,{className:"w-full bg-green-600",onClick:()=>{A(ht,Pn,e.name),et(null)},children:["Approve ",es(Pn)]})]})}),be==="history"&&_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&_.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),_.jsx("div",{className:"space-y-2",children:s.history.map(N=>{const _e=s.kids.find(je=>je.id===N.kidId);return _.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[_e&&_.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:_e.name}),_.jsx("span",{children:N.description})]}),_.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[_.jsx("span",{children:new Date(N.date).toLocaleString()}),_.jsx("span",{children:""}),_.jsxs("span",{className:"font-medium text-blue-500",children:["by ",N.by||"System"]})]})]}),N.amount!==0&&_.jsxs("span",{className:`font-bold ${N.amount>0?"text-green-600":"text-red-600"}`,children:[N.amount>0?"+":"",es(N.amount)]})]},N.id)})})]}),_.jsx(Ni,{isOpen:!!ue,onClose:()=>De(null),title:"Edit Profile",children:ue&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),_.jsx("input",{className:"w-full border p-2 rounded",value:ue.name,onChange:N=>De({...ue,name:N.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),_.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:ue.pin,onChange:N=>De({...ue,pin:N.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),_.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:ue.allowanceAmount,onChange:N=>De({...ue,allowanceAmount:N.target.value})})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[_.jsx(yt,{variant:"ghost",onClick:()=>De(null),className:"flex-1",children:"Cancel"}),_.jsx(yt,{onClick:()=>{S(ue.id,{name:ue.name,pin:ue.pin,allowanceAmount:Number(ue.allowanceAmount)}),De(null)},className:"flex-1",children:"Save Changes"})]})]})}),_.jsx(Ni,{isOpen:!!ae,onClose:()=>he(null),title:"Edit Chore",children:ae&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),_.jsx("input",{className:"w-full border p-2 rounded",value:ae.title,onChange:N=>he({...ae,title:N.target.value})})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),_.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:ae.startTime||"",onChange:N=>he({...ae,startTime:N.target.value})})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),_.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:ae.doByTime||"",onChange:N=>he({...ae,doByTime:N.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),_.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[_.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:ae.weight||1,onChange:N=>he({...ae,weight:N.target.value})}),_.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[ae.weight||1,"x"]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),_.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((N,_e)=>_.jsx("button",{onClick:()=>{const je=ae.days.includes(_e)?ae.days.filter(Ye=>Ye!==_e):[...ae.days,_e].sort();he({...ae,days:je})},className:`w-8 h-8 rounded-full text-xs font-bold ${ae.days.includes(_e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:N},_e))})]}),_.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),_.jsxs("div",{className:"flex gap-2 mt-1",children:[_.jsxs("button",{onClick:()=>he({...ae,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${ae.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[_.jsx(wS,{size:16,className:"inline mr-1"})," Active"]}),_.jsxs("button",{onClick:()=>he({...ae,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${ae.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[_.jsx(c0,{size:16,className:"inline mr-1"})," Paused"]})]}),ae.pausedUntil&&_.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",_.jsx("input",{type:"date",value:ae.pausedUntil==="2099-12-31"?"":ae.pausedUntil,onChange:N=>he({...ae,pausedUntil:N.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),_.jsxs("div",{className:"flex gap-2 pt-2",children:[_.jsx(yt,{variant:"ghost",onClick:()=>he(null),className:"flex-1",children:"Cancel"}),_.jsx(yt,{onClick:gn,className:"flex-1",children:"Save Changes"})]})]})}),_.jsx(Ni,{isOpen:!!Y,onClose:()=>se(null),title:"Review Task",children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",_.jsx("strong",{children:Y?.title}),"?"]}),_.jsxs("button",{onClick:()=>{D(Y,"retry"),se(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:_.jsx(f0,{size:20})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),_.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),_.jsxs("button",{onClick:()=>{D(Y,"fail"),se(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:_.jsx(PS,{size:20})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),_.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),_.jsx(Ni,{isOpen:!!G,onClose:()=>ie(null),title:`Bank Manager: ${G?.name}`,children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[_.jsxs("button",{onClick:()=>$n("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Wt==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[_.jsx(Xc,{size:16})," Deposit"]}),_.jsxs("button",{onClick:()=>$n("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Wt==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[_.jsx(m0,{size:16})," Cash Out"]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),_.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:Xn,onChange:N=>_i(N.target.value)})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),_.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:Wt==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:Tn,onChange:N=>Vi(N.target.value)})]}),_.jsxs(yt,{onClick:Et,className:`w-full ${Wt==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",Wt==="add"?"Deposit":"Withdrawal"]}),_.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[_.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),_.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(N=>N.kidId===G?.id).slice(0,5).map(N=>_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:N.description}),_.jsxs("div",{className:"text-right",children:[_.jsxs("span",{className:`font-bold block ${N.amount>0?"text-green-600":"text-red-600"}`,children:[N.amount>0?"+":"",es(N.amount)]}),_.jsx("span",{className:"text-[10px] text-gray-400",children:N.by})]})]},N.id))})]})]})}),_.jsx(Ni,{isOpen:!!Re,onClose:()=>M(null),title:`Tasks: ${Re?.name}`,children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[_.jsx("button",{onClick:()=>vt(N=>N-1),className:"p-2 hover:bg-gray-200 rounded",children:_.jsx(bS,{size:16})}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:vi===0?"This Week":"Last Week"}),_.jsx("button",{onClick:()=>vt(N=>N+1),className:"p-2 hover:bg-gray-200 rounded",children:_.jsx(ah,{size:16})})]}),_.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[x1(vi).map(N=>{const _e=s.chores.filter(je=>je.kidId===Re?.id&&je.days.includes(new Date(N).getDay()));return _e.length===0?null:_.jsxs("div",{className:"space-y-2",children:[_.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[SN(N)," (",Ih(N),")"]}),_e.map(je=>{const Ye=s.taskLog.find(bn=>bn.type==="chore"&&bn.taskId===je.id&&bn.kidId===Re.id&&bn.dateString===N),$e=Ye?Ye.status:"todo";let Lt="bg-gray-100 border-gray-200";return $e==="approved"&&(Lt="bg-green-50 border-green-200"),$e==="pending"&&(Lt="bg-amber-50 border-amber-200"),$e==="failed"&&(Lt="bg-red-50 border-red-200"),$e==="changes_requested"&&(Lt="bg-yellow-50 border-yellow-200"),_.jsxs("div",{className:`p-3 rounded-lg border ${Lt} flex justify-between items-center`,children:[_.jsxs("div",{children:[_.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[je.title," ",_.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[je.weight||1,"x"]})]}),_.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:$e.replace("_"," ")})]}),_.jsxs("div",{className:"flex gap-1",children:[$e!=="approved"&&_.jsx("button",{onClick:()=>K(je,Re.id,N,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:_.jsx(vS,{size:16})}),$e!=="failed"&&_.jsx("button",{onClick:()=>K(je,Re.id,N,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:_.jsx(Um,{size:16})}),$e!=="changes_requested"&&$e!=="approved"&&_.jsx("button",{onClick:()=>K(je,Re.id,N,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:_.jsx(f0,{size:16})})]})]},`${je.id}-${N}`)})]},N)}),s.chores.filter(N=>N.kidId===Re?.id).length===0&&_.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),be==="approvals"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),ke>0&&_.jsxs(yt,{size:"sm",variant:"success",onClick:ze,children:["Approve All (",ke,")"]})]}),ke===0&&_.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),_.jsx("div",{className:"space-y-3",children:Te.map(N=>{const _e=s.kids.find(bn=>bn.id===N.kidId),Ye=s.chores.find(bn=>bn.id===N.taskId)?.weight||1,$e=ee(N.kidId),Lt=N.type==="bonus"?N.reward:Ye*$e.valuePerPoint;return _.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[_.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[_.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[_e?.avatar,_.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:_.jsx(h0,{size:12,className:"text-amber-500"})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[N.title,N.type==="chore"&&Ye>1&&_.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[Ye,"x"]}),N.isGroupTask&&_.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),_.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[_.jsx("span",{children:_e?.name}),_.jsx("span",{children:""}),_.jsx("span",{className:`font-bold ${N.dateString===au()?"text-green-600":"text-amber-600"}`,children:N.dateString?Ih(N.dateString):"Bonus Task"})]})]})]}),_.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[_.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:es(Lt)}),_.jsx("button",{onClick:()=>se(N),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:_.jsx(KS,{size:20})}),_.jsx("button",{onClick:()=>pt(N),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:_.jsx(YS,{size:20})})]})]},N.id)})})]}),be==="kids"&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),_.jsxs(yt,{onClick:()=>R(!0),size:"sm",children:[_.jsx(Xc,{size:16})," Add Kid"]})]}),w&&_.jsx(Yc,{className:"p-4 animate-in slide-in-from-top-4",children:_.jsxs("form",{onSubmit:Xt,className:"space-y-4",children:[_.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),_.jsx("input",{className:"w-full border p-2 rounded",value:k,onChange:N=>O(N.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),_.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:P,onChange:N=>x(N.target.value),required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),_.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:We,onChange:N=>At(N.target.value)})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx(yt,{type:"button",variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),_.jsx(yt,{type:"submit",children:"Save"})]})]})}),_.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(N=>{const _e=ee(N.id);return _.jsxs(Yc,{className:"p-4 flex flex-col gap-4",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:N.avatar}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-lg",children:N.name}),_.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",es(N.allowanceAmount||0)]}),_.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",es(_e.valuePerPoint)," / point"]})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-3xl font-bold text-green-600",children:es(N.balance)}),_.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),_.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[_.jsxs(yt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>De(N),children:[_.jsx(Zd,{size:12})," Edit Profile"]}),_.jsxs(yt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>ie(N),children:[_.jsx(m0,{size:14})," Manage Funds"]})]}),_.jsxs(yt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>M(N),children:[_.jsx(RS,{size:14})," View Tasks"]})]},N.id)})})]}),be==="chores"&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs(Yc,{className:"p-6",children:[_.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),_.jsxs("form",{onSubmit:Ut,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(N=>_.jsx("button",{type:"button",onClick:()=>ei(N.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${ft.includes(N.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:N.name},N.id))}),ft.length===0&&_.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),_.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:Ei,onChange:N=>cs(N.target.value),required:!0})]}),_.jsxs("div",{className:"w-full sm:w-24",children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),_.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[_.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:Pt,onChange:N=>Jn(N.target.value)}),_.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),_.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:ki,onChange:N=>ji(N.target.value)})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),_.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Un,onChange:N=>qs(N.target.value)})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),_.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((N,_e)=>_.jsx("button",{type:"button",onClick:()=>Rt(_e),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${hs.includes(_e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:N},_e))})]}),_.jsx(yt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(N=>{const _e=s.kids.find(Ye=>Ye.id===N.kidId),je=N.pausedUntil&&N.pausedUntil>au();return _.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${je?"opacity-60 grayscale":""}`,children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-gray-800",children:N.title}),N.weight>1&&_.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[N.weight,"x"]}),je&&_.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[_.jsx(c0,{size:10})," Paused"]})]}),_.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[_.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:_e?.name||"Unknown"}),_.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:N.days.length===7?"Everyday":`${N.days.length} days/wk`})]}),(N.startTime||N.doByTime)&&_.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[_.jsx(h0,{size:10}),N.startTime?Xv(N.startTime):"Start"," ",N.startTime&&N.doByTime&&" - ",N.doByTime?`Due ${Xv(N.doByTime)}`:""]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>he(N),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:_.jsx(Zd,{size:18})}),_.jsx("button",{onClick:()=>d(N.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:_.jsx(Wd,{size:18})})]})]},N.id)})]})]}),be==="bonuses"&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs(Yc,{className:"p-6 bg-yellow-50 border-yellow-100",children:[_.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[_.jsx(d0,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[_.jsx("div",{className:"flex-1",children:_.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Pi,onChange:N=>mn(N.target.value)})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[_.jsx(lh,{size:16,className:"text-yellow-500 mr-2"}),_.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:gt||1,onChange:N=>fs(N.target.value)})]}),_.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[_.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),_.jsx("input",{className:"w-full outline-none",type:"number",value:It,onChange:N=>sn(N.target.value)})]}),_.jsx(yt,{onClick:()=>{Pi&&(g(Pi,Number(It),Number(gt||1)),mn(""),fs(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(N=>_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:_.jsx(d0,{size:16,className:"fill-yellow-500"})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-semibold text-gray-700",children:N.title}),N.maxKids>1&&_.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[_.jsx(lh,{size:10})," Group Task (",N.workers?.length||0,"/",N.maxKids,")"]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:es(N.reward)}),_.jsx("button",{onClick:()=>y(N.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:_.jsx(Wd,{size:18})})]})]},N.id))]})]})]})]})}fS.createRoot(document.getElementById("root")).render(_.jsx(oe.StrictMode,{children:_.jsx(CN,{})}));
