(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Qd={exports:{}},jo={};var a_;function rS(){if(a_)return jo;a_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return jo.Fragment=e,jo.jsx=i,jo.jsxs=i,jo}var l_;function aS(){return l_||(l_=1,Qd.exports=rS()),Qd.exports}var g=aS(),Yd={exports:{}},Re={};var o_;function lS(){if(o_)return Re;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,te={};function pe(I,K,se){this.props=I,this.context=K,this.refs=te,this.updater=se||ne}pe.prototype.isReactComponent={},pe.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},pe.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function de(){}de.prototype=pe.prototype;function ue(I,K,se){this.props=I,this.context=K,this.refs=te,this.updater=se||ne}var Le=ue.prototype=new de;Le.constructor=ue,ie(Le,pe.prototype),Le.isPureReactComponent=!0;var Ne=Array.isArray;function Se(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(I,K,se){var ce=se.ref;return{$$typeof:s,type:I,key:K,ref:ce!==void 0?ce:null,props:se}}function V(I,K){return N(I.type,K,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(se){return K[se]})}var b=/\/+/g;function Be(I,K){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):K.toString(36)}function Pe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Se,Se):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,K,se,ce,ae){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var Oe=!1;if(I===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(I.$$typeof){case s:case e:Oe=!0;break;case S:return Oe=I._init,H(Oe(I._payload),K,se,ce,ae)}}if(Oe)return ae=ae(I),Oe=ce===""?"."+Be(I,0):ce,Ne(ae)?(se="",Oe!=null&&(se=Oe.replace(b,"$&/")+"/"),H(ae,K,se,"",function(jn){return jn})):ae!=null&&(M(ae)&&(ae=V(ae,se+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(b,"$&/")+"/")+Oe)),K.push(ae)),1;Oe=0;var _t=ce===""?".":ce+":";if(Ne(I))for(var tt=0;tt<I.length;tt++)ce=I[tt],_e=_t+Be(ce,tt),Oe+=H(ce,K,se,_e,ae);else if(tt=G(I),typeof tt=="function")for(I=tt.call(I),tt=0;!(ce=I.next()).done;)ce=ce.value,_e=_t+Be(ce,tt++),Oe+=H(ce,K,se,_e,ae);else if(_e==="object"){if(typeof I.then=="function")return H(Pe(I),K,se,ce,ae);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(I,K,se){if(I==null)return I;var ce=[],ae=0;return H(I,ce,"","",function(_e){return K.call(se,_e,ae++)}),ce}function ee(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(se){(I._status===0||I._status===-1)&&(I._status=1,I._result=se)},function(se){(I._status===0||I._status===-1)&&(I._status=2,I._result=se)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var ge=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},De={map:W,forEach:function(I,K,se){W(I,function(){K.apply(this,arguments)},se)},count:function(I){var K=0;return W(I,function(){K++}),K},toArray:function(I){return W(I,function(K){return K})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Re.Activity=w,Re.Children=De,Re.Component=pe,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=ue,Re.StrictMode=r,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},Re.cache=function(I){return function(){return I.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(I,K,se){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ce=ie({},I.props),ae=I.key;if(K!=null)for(_e in K.key!==void 0&&(ae=""+K.key),K)!x.call(K,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&K.ref===void 0||(ce[_e]=K[_e]);var _e=arguments.length-2;if(_e===1)ce.children=se;else if(1<_e){for(var Oe=Array(_e),_t=0;_t<_e;_t++)Oe[_t]=arguments[_t+2];ce.children=Oe}return N(I.type,ae,ce)},Re.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Re.createElement=function(I,K,se){var ce,ae={},_e=null;if(K!=null)for(ce in K.key!==void 0&&(_e=""+K.key),K)x.call(K,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ae[ce]=K[ce]);var Oe=arguments.length-2;if(Oe===1)ae.children=se;else if(1<Oe){for(var _t=Array(Oe),tt=0;tt<Oe;tt++)_t[tt]=arguments[tt+2];ae.children=_t}if(I&&I.defaultProps)for(ce in Oe=I.defaultProps,Oe)ae[ce]===void 0&&(ae[ce]=Oe[ce]);return N(I,_e,ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(I){return{$$typeof:p,render:I}},Re.isValidElement=M,Re.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ee}},Re.memo=function(I,K){return{$$typeof:v,type:I,compare:K===void 0?null:K}},Re.startTransition=function(I){var K=C.T,se={};C.T=se;try{var ce=I(),ae=C.S;ae!==null&&ae(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,ge)}catch(_e){ge(_e)}finally{K!==null&&se.types!==null&&(K.types=se.types),C.T=K}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(I){return C.H.use(I)},Re.useActionState=function(I,K,se){return C.H.useActionState(I,K,se)},Re.useCallback=function(I,K){return C.H.useCallback(I,K)},Re.useContext=function(I){return C.H.useContext(I)},Re.useDebugValue=function(){},Re.useDeferredValue=function(I,K){return C.H.useDeferredValue(I,K)},Re.useEffect=function(I,K){return C.H.useEffect(I,K)},Re.useEffectEvent=function(I){return C.H.useEffectEvent(I)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(I,K,se){return C.H.useImperativeHandle(I,K,se)},Re.useInsertionEffect=function(I,K){return C.H.useInsertionEffect(I,K)},Re.useLayoutEffect=function(I,K){return C.H.useLayoutEffect(I,K)},Re.useMemo=function(I,K){return C.H.useMemo(I,K)},Re.useOptimistic=function(I,K){return C.H.useOptimistic(I,K)},Re.useReducer=function(I,K,se){return C.H.useReducer(I,K,se)},Re.useRef=function(I){return C.H.useRef(I)},Re.useState=function(I){return C.H.useState(I)},Re.useSyncExternalStore=function(I,K,se){return C.H.useSyncExternalStore(I,K,se)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.0",Re}var u_;function Hm(){return u_||(u_=1,Yd.exports=lS()),Yd.exports}var oe=Hm(),Xd={exports:{}},Po={},$d={exports:{}},Zd={};var c_;function oS(){return c_||(c_=1,(function(s){function e(H,W){var ee=H.length;H.push(W);e:for(;0<ee;){var ge=ee-1>>>1,De=H[ge];if(0<o(De,W))H[ge]=W,H[ee]=De,ee=ge;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ee=H.pop();if(ee!==W){H[0]=ee;e:for(var ge=0,De=H.length,I=De>>>1;ge<I;){var K=2*(ge+1)-1,se=H[K],ce=K+1,ae=H[ce];if(0>o(se,ee))ce<De&&0>o(ae,se)?(H[ge]=ae,H[ce]=ee,ge=ce):(H[ge]=se,H[K]=ee,ge=K);else if(ce<De&&0>o(ae,ee))H[ge]=ae,H[ce]=ee,ge=ce;else break e}}return W}function o(H,W){var ee=H.sortIndex-W.sortIndex;return ee!==0?ee:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,w=null,O=3,G=!1,ne=!1,ie=!1,te=!1,pe=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Le(H){for(var W=i(v);W!==null;){if(W.callback===null)r(v);else if(W.startTime<=H)r(v),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(v)}}function Ne(H){if(ie=!1,Le(H),!ne)if(i(_)!==null)ne=!0,Se||(Se=!0,j());else{var W=i(v);W!==null&&Pe(Ne,W.startTime-H)}}var Se=!1,C=-1,x=5,N=-1;function V(){return te?!0:!(s.unstable_now()-N<x)}function M(){if(te=!1,Se){var H=s.unstable_now();N=H;var W=!0;try{e:{ne=!1,ie&&(ie=!1,de(C),C=-1),G=!0;var ee=O;try{t:{for(Le(H),w=i(_);w!==null&&!(w.expirationTime>H&&V());){var ge=w.callback;if(typeof ge=="function"){w.callback=null,O=w.priorityLevel;var De=ge(w.expirationTime<=H);if(H=s.unstable_now(),typeof De=="function"){w.callback=De,Le(H),W=!0;break t}w===i(_)&&r(_),Le(H)}else r(_);w=i(_)}if(w!==null)W=!0;else{var I=i(v);I!==null&&Pe(Ne,I.startTime-H),W=!1}}break e}finally{w=null,O=ee,G=!1}W=void 0}}finally{W?j():Se=!1}}}var j;if(typeof ue=="function")j=function(){ue(M)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Be=b.port2;b.port1.onmessage=M,j=function(){Be.postMessage(null)}}else j=function(){pe(M,0)};function Pe(H,W){C=pe(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var ee=O;O=W;try{return H()}finally{O=ee}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=O;O=H;try{return W()}finally{O=ee}},s.unstable_scheduleCallback=function(H,W,ee){var ge=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ee+De,H={id:S++,callback:W,priorityLevel:H,startTime:ee,expirationTime:De,sortIndex:-1},ee>ge?(H.sortIndex=ee,e(v,H),i(_)===null&&H===i(v)&&(ie?(de(C),C=-1):ie=!0,Pe(Ne,ee-ge))):(H.sortIndex=De,e(_,H),ne||G||(ne=!0,Se||(Se=!0,j()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var W=O;return function(){var ee=O;O=W;try{return H.apply(this,arguments)}finally{O=ee}}}})(Zd)),Zd}var h_;function uS(){return h_||(h_=1,$d.exports=oS()),$d.exports}var Jd={exports:{}},pn={};var f_;function cS(){if(f_)return pn;f_=1;var s=Hm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,S)},pn.flushSync=function(_){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=S,r.d.f()}},pn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},pn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},pn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,w=p(S,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:G}):S==="script"&&r.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},pn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,w=p(S,v.crossOrigin);r.d.L(_,S,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pn.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},pn.requestFormReset=function(_){r.d.r(_)},pn.unstable_batchedUpdates=function(_,v){return _(v)},pn.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var d_;function hS(){if(d_)return Jd.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=cS(),Jd.exports}var m_;function fS(){if(m_)return Po;m_=1;var s=uS(),e=Hm(),i=hS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case pe:return"Profiler";case te:return"StrictMode";case Ne:return"Suspense";case Se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case ue:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case Le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Be(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Be(t(n))}catch{}}return null}var Pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],De=-1;function I(t){return{current:t}}function K(t){0>De||(t.current=ge[De],ge[De]=null,De--)}function se(t,n){De++,ge[De]=t.current,t.current=n}var ce=I(null),ae=I(null),_e=I(null),Oe=I(null);function _t(t,n){switch(se(_e,n),se(ae,t),se(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?C0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=C0(n),t=I0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ce),se(ce,t)}function tt(){K(ce),K(ae),K(_e)}function jn(t){t.memoizedState!==null&&se(Oe,t);var n=ce.current,a=I0(n,t.type);n!==a&&(se(ae,t),se(ce,a))}function $n(t){ae.current===t&&(K(ce),K(ae)),Oe.current===t&&(K(Oe),Oo._currentValue=ee)}var di,mi;function Tn(t){if(di===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);di=n&&n[1]||"",mi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+t+mi}var mn=!1;function Pn(t,n){if(!t||mn)return"";mn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){B=F}t.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var R=y.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{mn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tn(a):""}function Ii(t,n){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return Pn(t.type,!1);case 11:return Pn(t.type.render,!1);case 1:return Pn(t.type,!0);case 31:return Tn("Activity");default:return""}}function Di(t){try{var n="",a=null;do n+=Ii(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,vt=s.unstable_scheduleCallback,bn=s.unstable_cancelCallback,Oi=s.unstable_shouldYield,X=s.unstable_requestPaint,le=s.unstable_now,Ie=s.unstable_getCurrentPriorityLevel,mt=s.unstable_ImmediatePriority,ut=s.unstable_UserBlockingPriority,ke=s.unstable_NormalPriority,Ut=s.unstable_LowPriority,gn=s.unstable_IdlePriority,Ct=s.log,xn=s.unstable_setDisableYieldValue,Xt=null,Qe=null;function Wt(t){if(typeof Ct=="function"&&xn(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Xt,t)}catch{}}var Et=Math.clz32?Math.clz32:Ps,gi=Math.log,pi=Math.LN2;function Ps(t){return t>>>=0,t===0?32:31-(gi(t)/pi|0)|0}var Ln=256,yi=262144,It=4194304;function Sn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Sn(l):(y&=T,y!==0?h=Sn(y):a||(a=T&~t,a!==0&&(h=Sn(a))))):(T=l&~f,T!==0?h=Sn(T):y!==0?h=Sn(y):a||(a=l&~t,a!==0&&(h=Sn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function as(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pl(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-Et(a),$=1<<Q;T[Q]=0,R[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&ls(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ls(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Et(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Et(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Pr(t,n){var a=n&-n;return a=(a&42)!==0?1:D(a),(a&(t.suspendedLanes|n))!==0?0:a}function D(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Te(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nt(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:W0(t.type))}function Tt(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var bt=Math.random().toString(36).slice(2),it="__reactFiber$"+bt,gt="__reactProps$"+bt,Mi="__reactContainer$"+bt,Sa="__reactEvents$"+bt,Jh="__reactListeners$"+bt,Tu="__reactHandles$"+bt,bu="__reactResources$"+bt,Vi="__reactMarker$"+bt;function Aa(t){delete t[it],delete t[gt],delete t[Sa],delete t[Jh],delete t[Tu]}function ki(t){var n=t[it];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Mi]||a[it]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[it])return a;t=P0(t)}return n}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[it]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ji(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Vi]=!0}var Ll=new Set,Ul={};function Pi(t,n){Li(t,n),Li(t+"Capture",n)}function Li(t,n){for(Ul[t]=n,t=0;t<n.length;t++)Ll.add(n[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Su(t){return ot.call(ql,t)?!0:ot.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function wa(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Bt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=Ls(t)?"checked":"value";t._valueTracker=Hl(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function Nn(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xa(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Fl(t,y,en(n)):a!=null?Fl(t,y,en(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Au(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),rt(t)}function Fl(t,n,a){n==="number"&&Ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Us(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function zs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Pe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),rt(t)}function Rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Kl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Gl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Gl(t,f,n[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var Ql=null;function Wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,zi=null;function zr(t){var n=Jn(t);if(n&&(t=n.stateNode)){var a=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(r(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Lr(l)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Us(t,!!a.multiple,n,!1)}}}var Ca=!1;function Hs(t,n,a){if(Ca)return t(n,a);Ca=!0;try{var l=t(n);return l}finally{if(Ca=!1,(qs!==null||zi!==null)&&(Ec(),qs&&(n=qs,t=zi,zi=qs=null,zr(n),t)))for(n=0;n<t.length;n++)zr(t[n])}}function vi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(ei)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Br=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Br=!1}var Bi=null,Yl=null,qr=null;function Xl(){if(qr)return qr;var t,n=Yl,a=n.length,l,h="value"in Bi?Bi.value:Bi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return qr=h.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function Ei(){return!1}function an(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?os:Ei,this.isPropagationStopped=Ei,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),n}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=an(us),Fs=w({},us,{view:0,detail:0}),$l=an(Fs),Gs,Ia,Hi,Da=w({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(Gs=t.screenX-Hi.screenX,Ia=t.screenY-Hi.screenY):Ia=Gs=0,Hi=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Zl=an(Da),Fr=w({},Da,{dataTransfer:0}),Ru=an(Fr),Cu=w({},Fs,{relatedTarget:0}),Gr=an(Cu),Jl=w({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=an(Jl),Oa=w({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=an(Oa),Ou=w({},us,{data:0}),Fi=an(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Ks(){return ju}var An=w({},Fs,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=an(An),Lu=w({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=an(Lu),u=w({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),m=an(u),E=w({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=an(E),L=w({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=an(L),re=w({},us,{newState:0,oldState:0}),Me=an(re),Vt=[9,13,27,32],We=ei&&"CompositionEvent"in window,Nt=null;ei&&"documentMode"in document&&(Nt=document.documentMode);var ti=ei&&"TextEvent"in window&&!Nt,Gi=ei&&(!We||Nt&&8<Nt&&11>=Nt),Ti=" ",bi=!1;function Kr(t,n){switch(t){case"keyup":return Vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function CT(t,n){switch(t){case"compositionend":return Ma(n);case"keypress":return n.which!==32?null:(bi=!0,Ti);case"textInput":return t=n.data,t===Ti&&bi?null:t;default:return null}}function IT(t,n){if(Va)return t==="compositionend"||!We&&Kr(t,n)?(t=Xl(),qr=Yl=Bi=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gi&&n.locale!=="ko"?null:n.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!DT[t.type]:n==="textarea"}function Bg(t,n,a,l){qs?zi?zi.push(l):zi=[l]:qs=l,n=Nc(n,"onChange"),0<n.length&&(a=new qi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Wl=null,eo=null;function OT(t){S0(t,0)}function Uu(t){var n=zn(t);if(Lr(n))return t}function qg(t,n){if(t==="change")return n}var Hg=!1;if(ei){var Wh;if(ei){var ef="oninput"in document;if(!ef){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),ef=typeof Fg.oninput=="function"}Wh=ef}else Wh=!1;Hg=Wh&&(!document.documentMode||9<document.documentMode)}function Gg(){Wl&&(Wl.detachEvent("onpropertychange",Kg),eo=Wl=null)}function Kg(t){if(t.propertyName==="value"&&Uu(eo)){var n=[];Bg(n,eo,t,Wn(t)),Hs(OT,n)}}function MT(t,n,a){t==="focusin"?(Gg(),Wl=n,eo=a,Wl.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function VT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(eo)}function kT(t,n){if(t==="click")return Uu(n)}function jT(t,n){if(t==="input"||t==="change")return Uu(n)}function PT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:PT;function to(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ot.call(n,h)||!qn(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ui(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ui(t.document)}return n}function tf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var LT=ei&&"documentMode"in document&&11>=document.documentMode,ka=null,nf=null,no=null,sf=!1;function Zg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||ka==null||ka!==Ui(l)||(l=ka,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=Nc(nf,"onSelect"),0<l.length&&(n=new qi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ka)))}function Qr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ja={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},rf={},Jg={};ei&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Yr(t){if(rf[t])return rf[t];if(!ja[t])return t;var n=ja[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jg)return rf[t]=n[a];return t}var Wg=Yr("animationend"),ep=Yr("animationiteration"),tp=Yr("animationstart"),UT=Yr("transitionrun"),zT=Yr("transitionstart"),BT=Yr("transitioncancel"),np=Yr("transitionend"),ip=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Si(t,n){ip.set(t,n),Pi(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ni=[],Pa=0,lf=0;function Bu(){for(var t=Pa,n=lf=Pa=0;n<t;){var a=ni[n];ni[n++]=null;var l=ni[n];ni[n++]=null;var h=ni[n];ni[n++]=null;var f=ni[n];if(ni[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&sp(a,h,f)}}function qu(t,n,a,l){ni[Pa++]=t,ni[Pa++]=n,ni[Pa++]=a,ni[Pa++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,n,a,l){return qu(t,n,a,l),Hu(t)}function Xr(t,n){return qu(t,null,null,n),Hu(t)}function sp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<wo)throw wo=0,yd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var La={};function qT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,n,a,l){return new qT(t,n,a,l)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hs(t,n){var a=t.alternate;return a===null?(a=Hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")uf(t)&&(y=1);else if(typeof t=="string")y=Qb(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Hn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ie:return $r(a.children,h,f,n);case te:y=8,h|=24;break;case pe:return t=Hn(12,a,n,h|2),t.elementType=pe,t.lanes=f,t;case Ne:return t=Hn(13,a,n,h),t.elementType=Ne,t.lanes=f,t;case Se:return t=Hn(19,a,n,h),t.elementType=Se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:y=10;break e;case de:y=9;break e;case Le:y=11;break e;case C:y=14;break e;case x:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Hn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,a,l){return t=Hn(7,t,l,n),t.lanes=a,t}function cf(t,n,a){return t=Hn(6,t,null,n),t.lanes=a,t}function ap(t){var n=Hn(18,null,null,0);return n.stateNode=t,n}function hf(t,n,a){return n=Hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lp=new WeakMap;function ii(t,n){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Di(n)},lp.set(t,n),n)}return{value:t,source:n,stack:Di(n)}}var Ua=[],za=0,Gu=null,io=0,si=[],ri=0,Qs=null,Ki=1,Qi="";function fs(t,n){Ua[za++]=io,Ua[za++]=Gu,Gu=t,io=n}function op(t,n,a){si[ri++]=Ki,si[ri++]=Qi,si[ri++]=Qs,Qs=t;var l=Ki;t=Qi;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var f=32-Et(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ki=1<<32-Et(n)+h|a<<h|l,Qi=f+t}else Ki=1<<f|a<<h|l,Qi=t}function ff(t){t.return!==null&&(fs(t,1),op(t,1,0))}function df(t){for(;t===Gu;)Gu=Ua[--za],Ua[za]=null,io=Ua[--za],Ua[za]=null;for(;t===Qs;)Qs=si[--ri],si[ri]=null,Qi=si[--ri],si[ri]=null,Ki=si[--ri],si[ri]=null}function up(t,n){si[ri++]=Ki,si[ri++]=Qi,si[ri++]=Qs,Ki=n.id,Qi=n.overflow,Qs=t}var ln=null,St=null,Ye=!1,Ys=null,ai=!1,mf=Error(r(519));function Xs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(ii(n,t)),mf}function cp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[it]=t,n[gt]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<No.length;a++)ze(No[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),Au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),zs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||N0(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=_i),n=!0):n=!1,n||Xs(t,!0)}function hp(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:ln=ln.return}}function Ba(t){if(t!==ln)return!1;if(!Ye)return hp(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&St&&Xs(t),hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=j0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=j0(t)}else n===27?(n=St,ur(t.type)?(t=Pd,Pd=null,St=t):St=n):St=ln?oi(t.stateNode.nextSibling):null;return!0}function Zr(){St=ln=null,Ye=!1}function gf(){var t=Ys;return t!==null&&(On===null?On=t:On.push.apply(On,t),Ys=null),t}function so(t){Ys===null?Ys=[t]:Ys.push(t)}var pf=I(null),Jr=null,ds=null;function $s(t,n,a){se(pf,n._currentValue),n._currentValue=a}function ms(t){t._currentValue=pf.current,K(pf)}function yf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function _f(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),yf(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),yf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function qa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;qn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}h=h.return}t!==null&&_f(n,t,a,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){Jr=t,ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return fp(Jr,t)}function Qu(t,n){return Jr===null&&Wr(t),fp(t,n)}function fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ds===null){if(t===null)throw Error(r(308));ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ds=ds.next=n;return a}var HT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},FT=s.unstable_scheduleCallback,GT=s.unstable_NormalPriority,qt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new HT,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&FT(GT,function(){t.controller.abort()})}var ao=null,Ef=0,Ha=0,Fa=null;function KT(t,n){if(ao===null){var a=ao=[];Ef=0,Ha=Sd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,n.then(dp,dp),n}function dp(){if(--Ef===0&&ao!==null){Fa!==null&&(Fa.status="fulfilled");var t=ao;ao=null,Ha=0,Fa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function QT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mp=H.S;H.S=function(t,n){Zy=le(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KT(t,n),mp!==null&&mp(t,n)};var ea=I(null);function Tf(){var t=ea.current;return t!==null?t:pt.pooledCache}function Yu(t,n){n===null?se(ea,ea.current):se(ea,n.pool)}function gp(){var t=Tf();return t===null?null:{parent:qt._currentValue,pool:t}}var Ga=Error(r(460)),bf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(_i,_i),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t;default:if(typeof n.status=="string")n.then(_i,_i);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t}throw na=n,Ga}}function ta(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ga):a}}var na=null;function _p(){if(na===null)throw Error(r(459));var t=na;return na=null,t}function vp(t){if(t===Ga||t===Xu)throw Error(r(483))}var Ka=null,lo=0;function Zu(t){var n=lo;return lo+=1,Ka===null&&(Ka=[]),yp(Ka,t,n)}function oo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ep(t){function n(P,k){if(t){var U=P.deletions;U===null?(P.deletions=[k],P.flags|=16):U.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)n(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=hs(P,k),P.index=0,P.sibling=null,P}function f(P,k,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<k?(P.flags|=67108866,k):U):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,k,U,Y){return k===null||k.tag!==6?(k=cf(U,P.mode,Y),k.return=P,k):(k=h(k,U),k.return=P,k)}function R(P,k,U,Y){var ve=U.type;return ve===ie?Q(P,k,U.props.children,Y,U.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ta(ve)===k.type)?(k=h(k,U.props),oo(k,U),k.return=P,k):(k=Fu(U.type,U.key,U.props,null,P.mode,Y),oo(k,U),k.return=P,k)}function z(P,k,U,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=hf(U,P.mode,Y),k.return=P,k):(k=h(k,U.children||[]),k.return=P,k)}function Q(P,k,U,Y,ve){return k===null||k.tag!==7?(k=$r(U,P.mode,Y,ve),k.return=P,k):(k=h(k,U),k.return=P,k)}function $(P,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=cf(""+k,P.mode,U),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return U=Fu(k.type,k.key,k.props,null,P.mode,U),oo(U,k),U.return=P,U;case ne:return k=hf(k,P.mode,U),k.return=P,k;case x:return k=ta(k),$(P,k,U)}if(Pe(k)||j(k))return k=$r(k,P.mode,U,null),k.return=P,k;if(typeof k.then=="function")return $(P,Zu(k),U);if(k.$$typeof===ue)return $(P,Qu(P,k),U);Ju(P,k)}return null}function B(P,k,U,Y){var ve=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ve!==null?null:T(P,k,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===ve?R(P,k,U,Y):null;case ne:return U.key===ve?z(P,k,U,Y):null;case x:return U=ta(U),B(P,k,U,Y)}if(Pe(U)||j(U))return ve!==null?null:Q(P,k,U,Y,null);if(typeof U.then=="function")return B(P,k,Zu(U),Y);if(U.$$typeof===ue)return B(P,k,Qu(P,U),Y);Ju(P,U)}return null}function F(P,k,U,Y,ve){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(U)||null,T(k,P,""+Y,ve);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return P=P.get(Y.key===null?U:Y.key)||null,R(k,P,Y,ve);case ne:return P=P.get(Y.key===null?U:Y.key)||null,z(k,P,Y,ve);case x:return Y=ta(Y),F(P,k,U,Y,ve)}if(Pe(Y)||j(Y))return P=P.get(U)||null,Q(k,P,Y,ve,null);if(typeof Y.then=="function")return F(P,k,U,Zu(Y),ve);if(Y.$$typeof===ue)return F(P,k,U,Qu(k,Y),ve);Ju(k,Y)}return null}function me(P,k,U,Y){for(var ve=null,Ze=null,ye=k,je=k=0,He=null;ye!==null&&je<U.length;je++){ye.index>je?(He=ye,ye=null):He=ye.sibling;var Je=B(P,ye,U[je],Y);if(Je===null){ye===null&&(ye=He);break}t&&ye&&Je.alternate===null&&n(P,ye),k=f(Je,k,je),Ze===null?ve=Je:Ze.sibling=Je,Ze=Je,ye=He}if(je===U.length)return a(P,ye),Ye&&fs(P,je),ve;if(ye===null){for(;je<U.length;je++)ye=$(P,U[je],Y),ye!==null&&(k=f(ye,k,je),Ze===null?ve=ye:Ze.sibling=ye,Ze=ye);return Ye&&fs(P,je),ve}for(ye=l(ye);je<U.length;je++)He=F(ye,P,je,U[je],Y),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?je:He.key),k=f(He,k,je),Ze===null?ve=He:Ze.sibling=He,Ze=He);return t&&ye.forEach(function(mr){return n(P,mr)}),Ye&&fs(P,je),ve}function be(P,k,U,Y){if(U==null)throw Error(r(151));for(var ve=null,Ze=null,ye=k,je=k=0,He=null,Je=U.next();ye!==null&&!Je.done;je++,Je=U.next()){ye.index>je?(He=ye,ye=null):He=ye.sibling;var mr=B(P,ye,Je.value,Y);if(mr===null){ye===null&&(ye=He);break}t&&ye&&mr.alternate===null&&n(P,ye),k=f(mr,k,je),Ze===null?ve=mr:Ze.sibling=mr,Ze=mr,ye=He}if(Je.done)return a(P,ye),Ye&&fs(P,je),ve;if(ye===null){for(;!Je.done;je++,Je=U.next())Je=$(P,Je.value,Y),Je!==null&&(k=f(Je,k,je),Ze===null?ve=Je:Ze.sibling=Je,Ze=Je);return Ye&&fs(P,je),ve}for(ye=l(ye);!Je.done;je++,Je=U.next())Je=F(ye,P,je,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&ye.delete(Je.key===null?je:Je.key),k=f(Je,k,je),Ze===null?ve=Je:Ze.sibling=Je,Ze=Je);return t&&ye.forEach(function(sS){return n(P,sS)}),Ye&&fs(P,je),ve}function dt(P,k,U,Y){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var ve=U.key;k!==null;){if(k.key===ve){if(ve=U.type,ve===ie){if(k.tag===7){a(P,k.sibling),Y=h(k,U.props.children),Y.return=P,P=Y;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&ta(ve)===k.type){a(P,k.sibling),Y=h(k,U.props),oo(Y,U),Y.return=P,P=Y;break e}a(P,k);break}else n(P,k);k=k.sibling}U.type===ie?(Y=$r(U.props.children,P.mode,Y,U.key),Y.return=P,P=Y):(Y=Fu(U.type,U.key,U.props,null,P.mode,Y),oo(Y,U),Y.return=P,P=Y)}return y(P);case ne:e:{for(ve=U.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(P,k.sibling),Y=h(k,U.children||[]),Y.return=P,P=Y;break e}else{a(P,k);break}else n(P,k);k=k.sibling}Y=hf(U,P.mode,Y),Y.return=P,P=Y}return y(P);case x:return U=ta(U),dt(P,k,U,Y)}if(Pe(U))return me(P,k,U,Y);if(j(U)){if(ve=j(U),typeof ve!="function")throw Error(r(150));return U=ve.call(U),be(P,k,U,Y)}if(typeof U.then=="function")return dt(P,k,Zu(U),Y);if(U.$$typeof===ue)return dt(P,k,Qu(P,U),Y);Ju(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(P,k.sibling),Y=h(k,U),Y.return=P,P=Y):(a(P,k),Y=cf(U,P.mode,Y),Y.return=P,P=Y),y(P)):a(P,k)}return function(P,k,U,Y){try{lo=0;var ve=dt(P,k,U,Y);return Ka=null,ve}catch(ye){if(ye===Ga||ye===Xu)throw ye;var Ze=Hn(29,ye,null,P.mode);return Ze.lanes=Y,Ze.return=P,Ze}finally{}}}var ia=Ep(!0),Tp=Ep(!1),Zs=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Hu(t),sp(t,null,a),n}return qu(t,l,n,a),Hu(t)}function uo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}function wf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var xf=!1;function co(){if(xf){var t=Fa;if(t!==null)throw t}}function ho(t,n,a,l){xf=!1;var h=t.updateQueue;Zs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;y=0,Q=z=R=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(qe&B)===B:(l&B)===B){B!==0&&B===Ha&&(xf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;B=n;var dt=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){$=me.call(dt,$,B);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,B=typeof me=="function"?me.call(dt,$,B):me,B==null)break e;$=w({},$,B);break e;case 2:Zs=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,R=$):Q=Q.next=F,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),sr|=y,t.lanes=y,t.memoizedState=$}}function bp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],n)}var Qa=I(null),Wu=I(0);function Ap(t,n){t=Ss,se(Wu,t),se(Qa,n),Ss=t|n.baseLanes}function Nf(){se(Wu,Ss),se(Qa,Qa.current)}function Rf(){Ss=Wu.current,K(Qa),K(Wu)}var Fn=I(null),li=null;function er(t){var n=t.alternate;se(kt,kt.current&1),se(Fn,t),li===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(li=t)}function Cf(t){se(kt,kt.current),se(Fn,t),li===null&&(li=t)}function wp(t){t.tag===22?(se(kt,kt.current),se(Fn,t),li===null&&(li=t)):tr()}function tr(){se(kt,kt.current),se(Fn,Fn.current)}function Gn(t){K(Fn),li===t&&(li=null),K(kt)}var kt=I(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||jd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,Ve=null,ht=null,Ht=null,tc=!1,Ya=!1,sa=!1,nc=0,fo=0,Xa=null,YT=0;function Ot(){throw Error(r(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!qn(t[a],n[a]))return!1;return!0}function Df(t,n,a,l,h,f){return gs=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?oy:Kf,sa=!1,f=a(l,h),sa=!1,Ya&&(f=Np(n,a,l,h)),xp(t),f}function xp(t){H.H=po;var n=ht!==null&&ht.next!==null;if(gs=0,Ht=ht=Ve=null,tc=!1,fo=0,Xa=null,n)throw Error(r(300));t===null||Ft||(t=t.dependencies,t!==null&&Ku(t)&&(Ft=!0))}function Np(t,n,a,l){Ve=t;var h=0;do{if(Ya&&(Xa=null),fo=0,Ya=!1,25<=h)throw Error(r(301));if(h+=1,Ht=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=uy,f=n(a,l)}while(Ya);return f}function XT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?mo(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Ve.flags|=1024),n}function Of(){var t=nc!==0;return nc=0,t}function Mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}gs=0,Ht=ht=Ve=null,Ya=!1,fo=nc=0,Xa=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ve.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function jt(){if(ht===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ht===null?Ve.memoizedState:Ht.next;if(n!==null)Ht=n,ht=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?Ve.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var n=fo;return fo+=1,Xa===null&&(Xa=[]),t=yp(Xa,t,n),n=Ve,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?oy:Kf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===ue)return on(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=Ve.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),Ve.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function ps(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=jt();return jf(n,ht,t)}function jf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,R=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(qe&$)===$:(gs&$)===$){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ha&&(Q=!0);else if((gs&B)===B){z=z.next,B===Ha&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=$,y=f):R=R.next=$,Ve.lanes|=B,sr|=B;$=z.action,sa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=B,y=f):R=R.next=B,Ve.lanes|=$,sr|=$;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=T,!qn(f,t.memoizedState)&&(Ft=!0,Q&&(a=Fa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var n=jt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);qn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rp(t,n,a){var l=Ve,h=jt(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!qn((ht||h).memoizedState,a);if(y&&(h.memoizedState=a,Ft=!0),h=h.queue,zf(Dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Ip.bind(null,l,h,a,n),null),pt===null)throw Error(r(349));f||(gs&127)!==0||Cp(l,n,a)}return a}function Cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ve.updateQueue,n===null?(n=ic(),Ve.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,l){n.value=a,n.getSnapshot=l,Op(n)&&Mp(t)}function Dp(t,n,a){return a(function(){Op(n)&&Mp(t)})}function Op(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!qn(t,a)}catch{return!0}}function Mp(t){var n=Xr(t,2);n!==null&&Mn(n,t,2)}function Lf(t){var n=wn();if(typeof t=="function"){var a=t;if(t=a(),sa){Wt(!0);try{a()}finally{Wt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,jf(t,ht,typeof l=="function"?l:ps)}function $T(t,n,a,l,h){if(oc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,kp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function kp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var T=a(h,l),R=H.S;R!==null&&R(y,T),jp(t,n,T)}catch(z){Uf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,l),jp(t,n,f)}catch(z){Uf(t,n,z)}}function jp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,n,l)},function(l){return Uf(t,n,l)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Lp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kp(t,a)))}function Uf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==l)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Up(t,n){return n}function zp(t,n){if(Ye){var a=pt.formState;if(a!==null){e:{var l=Ve;if(Ye){if(St){t:{for(var h=St,f=ai;h.nodeType!==8;){if(!f){h=null;break t}if(h=oi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=oi(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(n=a[0])}}return a=wn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:n},a.queue=l,a=ry.bind(null,Ve,l),l.dispatch=a,l=Lf(!1),f=Gf.bind(null,Ve,!1,l.queue),l=wn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=$T.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bp(t){var n=jt();return qp(n,ht,t)}function qp(t,n,a){if(n=jf(t,n,Up)[0],t=rc(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=mo(n)}catch(y){throw y===Ga?Xu:y}else l=n;n=jt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ve.flags|=2048,$a(9,{destroy:void 0},ZT.bind(null,h,a),null)),[l,f,t]}function ZT(t,n){t.action=n}function Hp(t){var n=jt(),a=ht;if(a!==null)return qp(n,a,t);jt(),n=n.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $a(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=ic(),Ve.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Fp(){return jt().memoizedState}function ac(t,n,a,l){var h=wn();Ve.flags|=t,h.memoizedState=$a(1|n,{destroy:void 0},a,l===void 0?null:l)}function lc(t,n,a,l){var h=jt();l=l===void 0?null:l;var f=h.memoizedState.inst;ht!==null&&l!==null&&If(l,ht.memoizedState.deps)?h.memoizedState=$a(n,f,a,l):(Ve.flags|=t,h.memoizedState=$a(1|n,f,a,l))}function Gp(t,n){ac(8390656,8,t,n)}function zf(t,n){lc(2048,8,t,n)}function JT(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=ic(),Ve.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Kp(t){var n=jt().memoizedState;return JT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return lc(4,2,t,n)}function Yp(t,n){return lc(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,a){a=a!=null?a.concat([t]):null,lc(4,4,Xp.bind(null,n,t),a)}function Bf(){}function Zp(t,n){var a=jt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&If(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Jp(t,n){var a=jt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&If(n,l[1]))return l[0];if(l=t(),sa){Wt(!0);try{t()}finally{Wt(!1)}}return a.memoizedState=[l,n],l}function qf(t,n,a){return a===void 0||(gs&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Wy(),Ve.lanes|=t,sr|=t,a)}function Wp(t,n,a,l){return qn(a,n)?a:Qa.current!==null?(t=qf(t,a,l),qn(t,n)||(Ft=!0),t):(gs&42)===0||(gs&1073741824)!==0&&(qe&261930)===0?(Ft=!0,t.memoizedState=a):(t=Wy(),Ve.lanes|=t,sr|=t,n)}function ey(t,n,a,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var y=H.T,T={};H.T=T,Gf(t,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=QT(R,l);go(t,n,Q,Yn(t))}else go(t,n,l,Yn(t))}catch($){go(t,n,{then:function(){},status:"rejected",reason:$},Yn())}finally{W.p=f,y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}function WT(){}function Hf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,n,ee,a===null?WT:function(){return ny(t),a(l)})}function ty(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ny(t){var n=ty(t);n.next===null&&(n=t.alternate.memoizedState),go(t,n.next.queue,{},Yn())}function Ff(){return on(Oo)}function iy(){return jt().memoizedState}function sy(){return jt().memoizedState}function eb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Yn();t=Js(a);var l=Ws(n,t,a);l!==null&&(Mn(l,n,a),uo(l,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function tb(t,n,a){var l=Yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?ay(n,a):(a=of(t,n,a,l),a!==null&&(Mn(a,t,l),ly(a,n,l)))}function ry(t,n,a){var l=Yn();go(t,n,a,l)}function go(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))ay(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,qn(T,y))return qu(t,n,h,0),pt===null&&Bu(),!1}catch{}finally{}if(a=of(t,n,h,l),a!==null)return Mn(a,t,l),ly(a,n,l),!0}return!1}function Gf(t,n,a,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(r(479))}else n=of(t,a,l,2),n!==null&&Mn(n,t,2)}function oc(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function ay(t,n){Ya=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ly(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}var po={readContext:on,use:sc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};po.useEffectEvent=Ot;var oy={readContext:on,use:sc,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Xp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=wn();n=n===void 0?null:n;var l=t();if(sa){Wt(!0);try{t()}finally{Wt(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=wn();if(a!==void 0){var h=a(n);if(sa){Wt(!0);try{a(n)}finally{Wt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tb.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lf(t);var n=t.queue,a=ry.bind(null,Ve,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,n){var a=wn();return qf(a,t,n)},useTransition:function(){var t=Lf(!1);return t=ey.bind(null,Ve,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ve,h=wn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pt===null)throw Error(r(349));(qe&127)!==0||Cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gp(Dp.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},Ip.bind(null,l,f,a,n),null),a},useId:function(){var t=wn(),n=pt.identifierPrefix;if(Ye){var a=Qi,l=Ki;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=YT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,Ve,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return wn().memoizedState=eb.bind(null,Ve)},useEffectEvent:function(t){var n=wn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:on,use:sc,useCallback:Zp,useContext:on,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:rc,useRef:Fp,useState:function(){return rc(ps)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=jt();return Wp(a,ht.memoizedState,t,n)},useTransition:function(){var t=rc(ps)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=jt();return Vp(a,ht,t,n)},useMemoCache:kf,useCacheRefresh:sy};Kf.useEffectEvent=Kp;var uy={readContext:on,use:sc,useCallback:Zp,useContext:on,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Pf,useRef:Fp,useState:function(){return Pf(ps)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=jt();return ht===null?qf(a,t,n):Wp(a,ht.memoizedState,t,n)},useTransition:function(){var t=Pf(ps)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var a=jt();return ht!==null?Vp(a,ht,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:sy};uy.useEffectEvent=Kp;function Qf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Yn(),h=Js(l);h.payload=n,a!=null&&(h.callback=a),n=Ws(t,h,l),n!==null&&(Mn(n,t,l),uo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Yn(),h=Js(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ws(t,h,l),n!==null&&(Mn(n,t,l),uo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Yn(),l=Js(a);l.tag=2,n!=null&&(l.callback=n),n=Ws(t,l,a),n!==null&&(Mn(n,t,a),uo(n,t,a))}};function cy(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!to(a,l)||!to(h,f):!0}function hy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function ra(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){zu(t)}function dy(t){console.error(t)}function my(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,n,a){return a=Js(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function py(t){return t=Js(t),t.tag=3,t}function yy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){gy(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gy(n,a,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&qa(n,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 31:case 13:return li===null?Tc():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(r(435,a.tag))}return Ed(t,l,h),Tc(),!1}if(Ye)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mf&&(t=Error(r(422),{cause:l}),so(ii(t,a)))):(l!==mf&&(n=Error(r(423),{cause:l}),so(ii(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ii(l,a),h=Xf(t.stateNode,l,h),wf(t,h),Mt!==4&&(Mt=2)),!1;var f=Error(r(520),{cause:l});if(f=ii(f,a),Ao===null?Ao=[f]:Ao.push(f),Mt!==4&&(Mt=2),n===null)return!0;l=ii(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),wf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,t,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Ft=!1;function un(t,n,a,l){n.child=t===null?Tp(n,null,a,l):ia(n,t.child,a,l)}function _y(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Wr(n),l=Df(t,n,a,y,f,h),T=Of(),t!==null&&!Ft?(Mf(t,n,h),ys(t,n,h)):(Ye&&T&&ff(n),n.flags|=1,un(t,n,l,h),n.child)}function vy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ey(t,n,f,l,h)):(t=Fu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(y,l)&&t.ref===n.ref)return ys(t,n,h)}return n.flags|=1,t=hs(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ey(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=l=f,sd(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,ys(t,n,h)}return Zf(t,n,a,l,h)}function Ty(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return by(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?Ap(n,f):Nf(),wp(n);else return l=n.lanes=536870912,by(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Yu(n,f.cachePool),Ap(n,f),tr(),n.memoizedState=null):(t!==null&&Yu(n,null),Nf(),tr());return un(t,n,h,a),n.child}function yo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,a,l,h){var f=Tf();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Nf(),wp(n),t!==null&&qa(t,n,l,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Sy(t,n,a){return ia(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function ib(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=cc(n,l),n.lanes=536870912,yo(null,t);if(Cf(n),(t=St)?(t=k0(t,ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,ln=n,St=null)):t=null,t===null)throw Xs(n);return n.lanes=536870912,null}return cc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=Sy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ft||qa(t,n,a,!1),h=(a&t.childLanes)!==0,Ft||h){if(l=pt,l!==null&&(y=Pr(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Xr(t,y),Mn(l,t,y),$f;Tc(),n=Sy(t,n,a)}else t=f.treeContext,St=oi(y.nextSibling),ln=n,Ye=!0,Ys=null,ai=!1,t!==null&&up(n,t),n=cc(n,l),n.flags|=4096;return n}return t=hs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zf(t,n,a,l,h){return Wr(n),a=Df(t,n,a,l,void 0,h),l=Of(),t!==null&&!Ft?(Mf(t,n,h),ys(t,n,h)):(Ye&&l&&ff(n),n.flags|=1,un(t,n,a,h),n.child)}function Ay(t,n,a,l,h,f){return Wr(n),n.updateQueue=null,a=Np(n,l,a,h),xp(t),l=Of(),t!==null&&!Ft?(Mf(t,n,f),ys(t,n,f)):(Ye&&l&&ff(n),n.flags|=1,un(t,n,a,f),n.child)}function wy(t,n,a,l,h){if(Wr(n),n.stateNode===null){var f=La,y=a.contextType;typeof y=="object"&&y!==null&&(f=on(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?on(y):La,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Qf(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Yf.enqueueReplaceState(f,f.state,null),ho(n,l,f,h),co(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ra(a,T);f.props=R;var z=f.context,Q=a.contextType;y=La,typeof Q=="object"&&Q!==null&&(y=on(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&hy(n,f,l,y),Zs=!1;var B=n.memoizedState;f.state=B,ho(n,l,f,h),co(),z=n.memoizedState,T||B!==z||Zs?(typeof $=="function"&&(Qf(n,a,$,l),z=n.memoizedState),(R=Zs||cy(n,a,R,l,B,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Af(t,n),y=n.memoizedProps,Q=ra(a,y),f.props=Q,$=n.pendingProps,B=f.context,z=a.contextType,R=La,typeof z=="object"&&z!==null&&(R=on(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==R)&&hy(n,f,l,R),Zs=!1,B=n.memoizedState,f.state=B,ho(n,l,f,h),co();var F=n.memoizedState;y!==$||B!==F||Zs||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(Qf(n,a,T,l),F=n.memoizedState),(Q=Zs||cy(n,a,Q,l,B,F,R)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,h),n.child=ia(n,null,a,h)):un(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ys(t,n,h),t}function xy(t,n,a,l){return Zr(),n.flags|=256,un(t,n,a,l),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:gp()}}function ed(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Qn),t}function Ny(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?er(n):tr(),(t=St)?(t=k0(t,ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,ln=n,St=null)):t=null,t===null)throw Xs(n);return jd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(tr(),h=n.mode,T=fc({mode:"hidden",children:T},h),l=$r(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Wf(a),l.childLanes=ed(t,y,a),n.memoizedState=Jf,yo(null,l)):(er(n),td(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),T=l.fallback,h=n.mode,l=fc({mode:"visible",children:l.children},h),T=$r(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ia(n,t.child,null,a),l=n.child,l.memoizedState=Wf(a),l.childLanes=ed(t,y,a),n.memoizedState=Jf,n=yo(null,l));else if(er(n),jd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,so({value:l,source:null,stack:null}),n=nd(t,n,a)}else if(Ft||qa(t,n,a,!1),y=(a&t.childLanes)!==0,Ft||y){if(y=pt,y!==null&&(l=Pr(y,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Xr(t,l),Mn(y,t,l),$f;kd(T)||Tc(),n=nd(t,n,a)}else kd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,St=oi(T.nextSibling),ln=n,Ye=!0,Ys=null,ai=!1,t!==null&&up(n,t),n=td(n,l.children),n.flags|=4096);return n}return h?(tr(),T=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=hs(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=hs(z,T):(T=$r(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,yo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(R=qt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=gp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(t,y,a),n.memoizedState=Jf,yo(t.child,l)):(er(n),a=t.child,t=a.sibling,a=hs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=Hn(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return ia(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yf(t.return,n,a)}function id(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Cy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=kt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,se(kt,y),un(t,n,l,a),l=Ye?io:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(n,!0,a,null,f,l);break;case"together":id(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ys(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(qa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=hs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=hs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function sb(t,n,a){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),$s(n,qt,t.memoizedState.cache),Zr();break;case 27:case 5:jn(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:$s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ny(t,n,a):(er(n),t=ys(t,n,a),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(qa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Cy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(kt,kt.current),l)break;return null;case 22:return n.lanes=0,Ty(t,n,a,n.pendingProps);case 24:$s(n,qt,t.memoizedState.cache)}return ys(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Ft=!1,sb(t,n,a);Ft=(t.flags&131072)!==0}else Ft=!1,Ye&&(n.flags&1048576)!==0&&op(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ta(n.elementType),n.type=t,typeof t=="function")uf(t)?(l=ra(t,l),n.tag=1,n=wy(null,n,t,l,a)):(n.tag=0,n=Zf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Le){n.tag=11,n=_y(null,n,t,l,a);break e}else if(h===C){n.tag=14,n=vy(null,n,t,l,a);break e}}throw n=Be(t)||t,Error(r(306,n,""))}}return n;case 0:return Zf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ra(l,n.pendingProps),wy(t,n,l,h,a);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Af(t,n),ho(n,l,null,a);var y=n.memoizedState;if(l=y.cache,$s(n,qt,l),l!==f.cache&&_f(n,[qt],a,!0),co(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xy(t,n,l,a);break e}else if(l!==h){h=ii(Error(r(424)),n),so(h),n=xy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=oi(t.firstChild),ln=n,Ye=!0,Ys=null,ai=!0,a=Tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zr(),l===h){n=ys(t,n,a);break e}un(t,n,l,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=B0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,l=Rc(_e.current).createElement(a),l[it]=n,l[gt]=t,cn(l,a,t),zt(l),n.stateNode=l):n.memoizedState=B0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return jn(n),t===null&&Ye&&(l=n.stateNode=L0(n.type,n.pendingProps,_e.current),ln=n,ai=!0,h=St,ur(n.type)?(Pd=h,St=oi(l.firstChild)):St=h),un(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=St)&&(l=Vb(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,ln=n,St=oi(l.firstChild),ai=!1,h=!0):h=!1),h||Xs(n)),jn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Od(h,f)?l=null:y!==null&&Od(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(t,n,XT,null,null,a),Oo._currentValue=h),hc(t,n),un(t,n,l,a),n.child;case 6:return t===null&&Ye&&((t=a=St)&&(a=kb(a,n.pendingProps,ai),a!==null?(n.stateNode=a,ln=n,St=null,t=!0):t=!1),t||Xs(n)),null;case 13:return Ny(t,n,a);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,a):un(t,n,l,a),n.child;case 11:return _y(t,n,n.type,n.pendingProps,a);case 7:return un(t,n,n.pendingProps,a),n.child;case 8:return un(t,n,n.pendingProps.children,a),n.child;case 12:return un(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,$s(n,n.type,l.value),un(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Wr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,a),n.child;case 14:return vy(t,n,n.type,n.pendingProps,a);case 15:return Ey(t,n,n.type,n.pendingProps,a);case 19:return Cy(t,n,a);case 31:return ib(t,n,a);case 22:return Ty(t,n,a,n.pendingProps);case 24:return Wr(n),l=on(qt),t===null?(h=Tf(),h===null&&(h=pt,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Sf(n),$s(n,qt,h)):((t.lanes&a)!==0&&(Af(t,n),ho(n,null,null,a),co()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$s(n,qt,l)):(l=f.cache,$s(n,qt,l),l!==h.cache&&_f(n,[qt],a,!0))),un(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function _s(t){t.flags|=4}function rd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i0())t.flags|=8192;else throw na=$u,bf}else t.flags&=-16777217}function Dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K0(n))if(i0())t.flags|=8192;else throw na=$u,bf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ba():536870912,t.lanes|=n,el|=n)}function _o(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rb(t,n,a){var l=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(n),null;case 1:return At(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ms(qt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(n)?_s(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),At(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(_s(n),f!==null?(At(n),Dy(n,f)):(At(n),rd(n,h,null,l,a))):f?f!==t.memoizedState?(_s(n),At(n),Dy(n,f)):(At(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&_s(n),At(n),rd(n,h,t,l,a)),null;case 27:if($n(n),a=_e.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return At(n),null}t=ce.current,Ba(n)?cp(n):(t=L0(h,l,a),n.stateNode=t,_s(n))}return At(n),null;case 5:if($n(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return At(n),null}if(f=ce.current,Ba(n))cp(n);else{var y=Rc(_e.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[it]=n,f[gt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_s(n)}}return At(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=_e.current,Ba(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[it]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N0(t.nodeValue,a)),t||Xs(n,!0)}else t=Rc(t).createTextNode(l),t[it]=n,n.stateNode=t}return At(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[it]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return At(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ba(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[it]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),At(n),null);case 4:return tt(),t===null&&Nd(n.stateNode.containerInfo),At(n),null;case 10:return ms(n.type),At(n),null;case 19:if(K(kt),l=n.memoizedState,l===null)return At(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)_o(l,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,_o(l,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rp(a,t),a=a.sibling;return se(kt,kt.current&1|2),Ye&&fs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&le()>_c&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),_o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return At(n),null}else 2*le()-l.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=le(),t.sibling=null,a=kt.current,se(kt,h?a&1|2:a&1),Ye&&fs(n,l.treeForkCount),t):(At(n),null);case 22:case 23:return Gn(n),Rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(At(n),n.subtreeFlags&6&&(n.flags|=8192)):At(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ms(qt),At(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ab(t,n){switch(df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ms(qt),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $n(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(r(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(kt),null;case 4:return tt(),null;case 10:return ms(n.type),null;case 22:case 23:return Gn(n),Rf(),t!==null&&K(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ms(qt),null;case 25:return null;default:return null}}function Oy(t,n){switch(df(n),n.tag){case 3:ms(qt),tt();break;case 26:case 27:case 5:$n(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:K(kt);break;case 10:ms(n.type);break;case 22:case 23:Gn(n),Rf(),t!==null&&K(ea);break;case 24:ms(qt)}}function vo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){lt(n,n.return,T)}}function nr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(Q){lt(h,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){lt(n,n.return,Q)}}function My(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sp(n,a)}catch(l){lt(t,t.return,l)}}}function Vy(t,n,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,n,l)}}function Eo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){lt(t,n,h)}}function Yi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){lt(t,n,h)}else a.current=null}function ky(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){lt(t,t.return,h)}}function ad(t,n,a){try{var l=t.stateNode;Rb(l,t.type,a,n),l[gt]=n}catch(h){lt(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_i));else if(l!==4&&(l===27&&ur(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function mc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,a),n[it]=t,n[gt]=a}catch(f){lt(t,t.return,f)}}var vs=!1,Gt=!1,ud=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,tn=null;function lb(t,n){if(t=t.containerInfo,Id=kc,t=$g(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,R=-1,z=0,Q=0,$=t,B=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=y+h),$!==f||l!==0&&$.nodeType!==3||(R=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===t)break t;if(B===a&&++z===h&&(T=y),B===f&&++Q===l&&(R=y),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},kc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ra(a.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){lt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Uy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(t,a),l&4&&vo(5,a);break;case 1:if(Ts(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){lt(a,a.return,y)}else{var h=ra(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){lt(a,a.return,y)}}l&64&&My(a),l&512&&Eo(a,a.return);break;case 3:if(Ts(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sp(t,n)}catch(y){lt(a,a.return,y)}}break;case 27:n===null&&l&4&&Py(a);case 26:case 5:Ts(t,a),n===null&&l&4&&ky(a),l&512&&Eo(a,a.return);break;case 12:Ts(t,a);break;case 31:Ts(t,a),l&4&&qy(t,a);break;case 13:Ts(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pb.bind(null,a),jb(t,a))));break;case 22:if(l=a.memoizedState!==null||vs,!l){n=n!==null&&n.memoizedState!==null||Gt,h=vs;var f=Gt;vs=l,(Gt=n)&&!f?bs(t,a,(a.subtreeFlags&8772)!==0):Ts(t,a),vs=h,Gt=f}break;case 30:break;default:Ts(t,a)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Cn=!1;function Es(t,n,a){for(a=a.child;a!==null;)By(t,n,a),a=a.sibling}function By(t,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Xt,a)}catch{}switch(a.tag){case 26:Gt||Yi(a,n),Es(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Yi(a,n);var l=Rt,h=Cn;ur(a.type)&&(Rt=a.stateNode,Cn=!1),Es(t,n,a),Co(a.stateNode),Rt=l,Cn=h;break;case 5:Gt||Yi(a,n);case 6:if(l=Rt,h=Cn,Rt=null,Es(t,n,a),Rt=l,Cn=h,Rt!==null)if(Cn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(a.stateNode)}catch(f){lt(a,n,f)}else try{Rt.removeChild(a.stateNode)}catch(f){lt(a,n,f)}break;case 18:Rt!==null&&(Cn?(t=Rt,M0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ol(t)):M0(Rt,a.stateNode));break;case 4:l=Rt,h=Cn,Rt=a.stateNode.containerInfo,Cn=!0,Es(t,n,a),Rt=l,Cn=h;break;case 0:case 11:case 14:case 15:nr(2,a,n),Gt||nr(4,a,n),Es(t,n,a);break;case 1:Gt||(Yi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,n,l)),Es(t,n,a);break;case 21:Es(t,n,a);break;case 22:Gt=(l=Gt)||a.memoizedState!==null,Es(t,n,a),Gt=l;break;default:Es(t,n,a)}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(a){lt(n,n.return,a)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(a){lt(n,n.return,a)}}function ob(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function gc(t,n){var a=ob(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=yb.bind(null,t,l);l.then(h,h)}})}function In(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){Rt=T.stateNode,Cn=!1;break e}break;case 5:Rt=T.stateNode,Cn=!1;break e;case 3:case 4:Rt=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(Rt===null)throw Error(r(160));By(f,y,h),Rt=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var Ai=null;function Fy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),Dn(t),l&4&&(nr(3,t,t.return),vo(3,t),nr(5,t,t.return));break;case 1:In(n,t),Dn(t),l&512&&(Gt||a===null||Yi(a,a.return)),l&64&&vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ai;if(In(n,t),Dn(t),l&512&&(Gt||a===null||Yi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Vi]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,a),f[it]=t,zt(f),l=f;break e;case"link":var y=F0("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;case"meta":if(y=F0("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[it]=t,zt(f),l=f}t.stateNode=l}else G0(h,t.type,t.stateNode);else t.stateNode=H0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G0(h,t.type,t.stateNode):H0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:In(n,t),Dn(t),l&512&&(Gt||a===null||Yi(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(In(n,t),Dn(t),l&512&&(Gt||a===null||Yi(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(me){lt(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(In(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){lt(t,t.return,me)}}break;case 3:if(Dc=null,h=Ai,Ai=Cc(n.containerInfo),In(n,t),Ai=h,Dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(me){lt(t,t.return,me)}ud&&(ud=!1,Gy(t));break;case 4:l=Ai,Ai=Cc(t.stateNode.containerInfo),In(n,t),Dn(t),Ai=l;break;case 12:In(n,t),Dn(t);break;case 31:In(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:In(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=le()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=vs,Q=Gt;if(vs=z||h,Gt=Q||R,In(n,t),Gt=Q,vs=z,Dn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||vs||Gt||aa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(me){lt(R,R.return,me)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(me){lt(R,R.return,me)}}}else if(n.tag===18){if(a===null){R=n;try{var F=R.stateNode;h?V0(F,!0):V0(R.stateNode,!1)}catch(me){lt(R,R.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:In(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:In(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(t);mc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(Rn(y,""),a.flags&=-33);var T=ld(t);mc(t,T,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=ld(t);od(t,z,R);break;default:throw Error(r(161))}}catch(Q){lt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),aa(n);break;case 1:Yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vy(n,n.return,a),aa(n);break;case 27:Co(n.stateNode);case 26:case 5:Yi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function bs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:bs(h,f,a),vo(4,f);break;case 1:if(bs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)bp(R[h],T)}catch(z){lt(l,l.return,z)}}a&&y&64&&My(f),Eo(f,f.return);break;case 27:Py(f);case 26:case 5:bs(h,f,a),a&&l===null&&y&4&&ky(f),Eo(f,f.return);break;case 12:bs(h,f,a);break;case 31:bs(h,f,a),a&&y&4&&qy(h,f);break;case 13:bs(h,f,a),a&&y&4&&Hy(h,f);break;case 22:f.memoizedState===null&&bs(h,f,a),Eo(f,f.return);break;case 30:break;default:bs(h,f,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t))}function wi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ky(t,n,a,l),n=n.sibling}function Ky(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(t,n,a,l),h&2048&&vo(9,n);break;case 1:wi(t,n,a,l);break;case 3:wi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){wi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){lt(n,n.return,R)}}else wi(t,n,a,l);break;case 31:wi(t,n,a,l);break;case 13:wi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?wi(t,n,a,l):To(t,n):f._visibility&2?wi(t,n,a,l):(f._visibility|=2,Za(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(y,n);break;case 24:wi(t,n,a,l),h&2048&&hd(n.alternate,n);break;default:wi(t,n,a,l)}}function Za(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,T,R,h),vo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Za(f,y,T,R,h):To(f,y):(Q._visibility|=2,Za(f,y,T,R,h)),h&&z&2048&&cd(y.alternate,y);break;case 24:Za(f,y,T,R,h),h&&z&2048&&hd(y.alternate,y);break;default:Za(f,y,T,R,h)}n=n.sibling}}function To(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:To(a,l),h&2048&&cd(l.alternate,l);break;case 24:To(a,l),h&2048&&hd(l.alternate,l);break;default:To(a,l)}n=n.sibling}}var bo=8192;function Ja(t,n,a){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:Ja(t,n,a),t.flags&bo&&t.memoizedState!==null&&Yb(a,Ai,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,n,a);break;case 3:case 4:var l=Ai;Ai=Cc(t.stateNode.containerInfo),Ja(t,n,a),Ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bo,bo=16777216,Ja(t,n,a),bo=l):Ja(t,n,a));break;default:Ja(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function So(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&nr(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):So(t);break;default:So(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function $y(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:nr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(zy(l),l===a){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var ub={getCacheForType:function(t){var n=on(qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return on(qt).controller.signal}},cb=typeof WeakMap=="function"?WeakMap:Map,et=0,pt=null,Ue=null,qe=0,at=0,Kn=null,ir=!1,Wa=!1,fd=!1,Ss=0,Mt=0,sr=0,la=0,dd=0,Qn=0,el=0,Ao=null,On=null,md=!1,yc=0,Zy=0,_c=1/0,vc=null,rr=null,$t=0,ar=null,tl=null,As=0,gd=0,pd=null,Jy=null,wo=0,yd=null;function Yn(){return(et&2)!==0&&qe!==0?qe&-qe:H.T!==null?Sd():nt()}function Wy(){if(Qn===0)if((qe&536870912)===0||Ye){var t=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),Qn=t}else Qn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Qn}function Mn(t,n,a){(t===pt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(nl(t,0),lr(t,qe,Qn,!1)),as(t,a),((et&2)===0||t!==pt)&&(t===pt&&((et&2)===0&&(la|=a),Mt===4&&lr(t,qe,Qn,!1)),Xi(t))}function e0(t,n,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=l?db(t,n):vd(t,n,!0),f=l;do{if(h===0){Wa&&!l&&lr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!hb(a)){h=vd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=Ao;var R=T.current.memoizedState.isDehydrated;if(R&&(nl(T,y).flags|=256),y=vd(T,y,!1),y!==2){if(fd&&!R){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){nl(t,0),lr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,Qn,!ir);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-le(),10<h)){if(lr(l,n,Qn,!ir),rn(l,0,!0)!==0)break e;As=n,l.timeoutHandle=D0(t0.bind(null,l,a,On,vc,md,n,Qn,la,el,ir,f,"Throttled",-0,0),h);break e}t0(l,a,On,vc,md,n,Qn,la,el,ir,f,null,-0,0)}}break}while(!0);Xi(t)}function t0(t,n,a,l,h,f,y,T,R,z,Q,$,B,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Qy(n,f,$);var me=(f&62914560)===f?yc-le():(f&4194048)===f?Zy-le():0;if(me=Xb($,me),me!==null){As=f,t.cancelPendingCommit=me(u0.bind(null,t,n,f,a,l,h,y,T,R,Q,$,null,B,F)),lr(t,f,y,!z);return}}u0(t,n,f,a,l,h,y,T,R)}function hb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,a,l){n&=~dd,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&ls(t,a,n)}function Ec(){return(et&6)===0?(xo(0),!1):!0}function _d(){if(Ue!==null){if(at===0)var t=Ue.return;else t=Ue,ds=Jr=null,Vf(t),Ka=null,lo=0,t=Ue;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ue=null}}function nl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Db(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),As=0,_d(),pt=t,Ue=a=hs(t.current,null),qe=n,at=0,Kn=null,ir=!1,Wa=Un(t,n),fd=!1,el=Qn=dd=la=sr=Mt=0,On=Ao=null,md=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Et(l),f=1<<h;n|=t[h],l&=~f}return Ss=n,Bu(),a}function n0(t,n){Ve=null,H.H=po,n===Ga||n===Xu?(n=_p(),at=3):n===bf?(n=_p(),at=4):at=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,Ue===null&&(Mt=1,uc(t,ii(n,t.current)))}function i0(){var t=Fn.current;return t===null?!0:(qe&4194048)===qe?li===null:(qe&62914560)===qe||(qe&536870912)!==0?t===li:!1}function s0(){var t=H.H;return H.H=po,t===null?po:t}function r0(){var t=H.A;return H.A=ub,t}function Tc(){Mt=4,ir||(qe&4194048)!==qe&&Fn.current!==null||(Wa=!0),(sr&134217727)===0&&(la&134217727)===0||pt===null||lr(pt,qe,Qn,!1)}function vd(t,n,a){var l=et;et|=2;var h=s0(),f=r0();(pt!==t||qe!==n)&&(vc=null,nl(t,n)),n=!1;var y=Mt;e:do try{if(at!==0&&Ue!==null){var T=Ue,R=Kn;switch(at){case 8:_d(),y=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var z=at;if(at=0,Kn=null,il(t,T,R,z),a&&Wa){y=0;break e}break;default:z=at,at=0,Kn=null,il(t,T,R,z)}}fb(),y=Mt;break}catch(Q){n0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ds=Jr=null,et=l,H.H=h,H.A=f,Ue===null&&(pt=null,qe=0,Bu()),y}function fb(){for(;Ue!==null;)a0(Ue)}function db(t,n){var a=et;et|=2;var l=s0(),h=r0();pt!==t||qe!==n?(vc=null,_c=le()+500,nl(t,n)):Wa=Un(t,n);e:do try{if(at!==0&&Ue!==null){n=Ue;var f=Kn;t:switch(at){case 1:at=0,Kn=null,il(t,n,f,1);break;case 2:case 9:if(pp(f)){at=0,Kn=null,l0(n);break}n=function(){at!==2&&at!==9||pt!==t||(at=7),Xi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:pp(f)?(at=0,Kn=null,l0(n)):(at=0,Kn=null,il(t,n,f,7));break;case 5:var y=null;switch(Ue.tag){case 26:y=Ue.memoizedState;case 5:case 27:var T=Ue;if(y?K0(y):T.stateNode.complete){at=0,Kn=null;var R=T.sibling;if(R!==null)Ue=R;else{var z=T.return;z!==null?(Ue=z,bc(z)):Ue=null}break t}}at=0,Kn=null,il(t,n,f,5);break;case 6:at=0,Kn=null,il(t,n,f,6);break;case 8:_d(),Mt=6;break e;default:throw Error(r(462))}}mb();break}catch(Q){n0(t,Q)}while(!0);return ds=Jr=null,H.H=l,H.A=h,et=a,Ue!==null?0:(pt=null,qe=0,Bu(),Mt)}function mb(){for(;Ue!==null&&!Oi();)a0(Ue)}function a0(t){var n=Iy(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,n===null?bc(t):Ue=n}function l0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ay(a,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=Ay(a,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Vf(n);default:Oy(a,n),n=Ue=rp(n,Ss),n=Iy(a,n,Ss)}t.memoizedProps=t.pendingProps,n===null?bc(t):Ue=n}function il(t,n,a,l){ds=Jr=null,Vf(n),Ka=null,lo=0;var h=n.return;try{if(nb(t,h,n,a,qe)){Mt=1,uc(t,ii(a,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Mt=1,uc(t,ii(a,t.current)),Ue=null;return}n.flags&32768?(Ye||l===1?t=!0:Wa||(qe&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o0(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){o0(n,ir);return}t=n.return;var a=rb(n.alternate,n,Ss);if(a!==null){Ue=a;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Mt===0&&(Mt=5)}function o0(t,n){do{var a=ab(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Mt=6,Ue=null}function u0(t,n,a,l,h,f,y,T,R){t.cancelPendingCommit=null;do Sc();while($t!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=lf,Pl(t,a,f,y,T,R),t===pt&&(Ue=pt=null,qe=0),tl=n,ar=t,As=a,gd=f,pd=h,Jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_b(ke,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=W.p,W.p=2,y=et,et|=4;try{lb(t,n,a)}finally{et=y,W.p=h,H.T=l}}$t=1,c0(),h0(),f0()}}function c0(){if($t===1){$t=0;var t=ar,n=tl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var h=et;et|=4;try{Fy(n,t);var f=Dd,y=$g(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(R!==null&&tf(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),me=T.textContent.length,be=Math.min(R.start,me),dt=R.end===void 0?be:Math.min(R.end,me);!F.extend&&be>dt&&(y=dt,dt=be,be=y);var P=Yg(T,be),k=Yg(T,dt);if(P&&k&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==k.node||F.focusOffset!==k.offset)){var U=$.createRange();U.setStart(P.node,P.offset),F.removeAllRanges(),be>dt?(F.addRange(U),F.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),F.addRange(U))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}kc=!!Id,Dd=Id=null}finally{et=h,W.p=l,H.T=a}}t.current=n,$t=2}}function h0(){if($t===2){$t=0;var t=ar,n=tl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=W.p;W.p=2;var h=et;et|=4;try{Uy(t,n.alternate,n)}finally{et=h,W.p=l,H.T=a}}$t=3}}function f0(){if($t===4||$t===3){$t=0,X();var t=ar,n=tl,a=As,l=Jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,tl=ar=null,d0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),Te(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Xt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{H.T=n,W.p=h}}(As&3)!==0&&Sc(),Xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?wo++:(wo=0,yd=t):wo=0,xo(0)}}function d0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ro(n)))}function Sc(){return c0(),h0(),f0(),m0()}function m0(){if($t!==5)return!1;var t=ar,n=gd;gd=0;var a=Te(As),l=H.T,h=W.p;try{W.p=32>a?32:a,H.T=null,a=pd,pd=null;var f=ar,y=As;if($t=0,tl=ar=null,As=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,Xy(f.current),Ky(f,f.current,y,a),et=T,xo(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Xt,f)}catch{}return!0}finally{W.p=h,H.T=l,d0(t,n)}}function g0(t,n,a){n=ii(a,n),n=Xf(t.stateNode,n,2),t=Ws(t,n,2),t!==null&&(as(t,2),Xi(t))}function lt(t,n,a){if(t.tag===3)g0(t,t,a);else for(;n!==null;){if(n.tag===3){g0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=ii(a,t),a=py(2),l=Ws(n,a,2),l!==null&&(yy(a,l,n,t),as(l,2),Xi(l));break}}n=n.return}}function Ed(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(fd=!0,h.add(a),t=gb.bind(null,t,n,a),n.then(t,t))}function gb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(qe&a)===a&&(Mt===4||Mt===3&&(qe&62914560)===qe&&300>le()-yc?(et&2)===0&&nl(t,0):dd|=a,el===qe&&(el=0)),Xi(t)}function p0(t,n){n===0&&(n=ba()),t=Xr(t,n),t!==null&&(as(t,n),Xi(t))}function pb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function yb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),p0(t,a)}function _b(t,n){return vt(t,n)}var Ac=null,sl=null,Td=!1,wc=!1,bd=!1,or=0;function Xi(t){t!==sl&&t.next===null&&(sl===null?Ac=sl=t:sl=sl.next=t),wc=!0,Td||(Td=!0,Eb())}function xo(t,n){if(!bd&&wc){bd=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,E0(l,f))}else f=qe,f=rn(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,E0(l,f));l=l.next}while(a);bd=!1}}function vb(){y0()}function y0(){wc=Td=!1;var t=0;or!==0&&Ib()&&(t=or);for(var n=le(),a=null,l=Ac;l!==null;){var h=l.next,f=_0(l,n);f===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(sl=a)):(a=l,(t!==0||(f&3)!==0)&&(wc=!0)),l=h}$t!==0&&$t!==5||xo(t),or!==0&&(or=0)}function _0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Et(f),T=1<<y,R=h[y];R===-1?((T&a)===0||(T&l)!==0)&&(h[y]=jl(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=pt,a=qe,a=rn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&bn(l),Te(a)){case 2:case 8:a=ut;break;case 32:a=ke;break;case 268435456:a=gn;break;default:a=ke}return l=v0.bind(null,t),a=vt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&bn(l),t.callbackPriority=2,t.callbackNode=null,2}function v0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var l=qe;return l=rn(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e0(t,l,n),_0(t,le()),t.callbackNode!=null&&t.callbackNode===a?v0.bind(null,t):null)}function E0(t,n){if(Sc())return null;e0(t,n,!0)}function Eb(){Ob(function(){(et&6)!==0?vt(mt,vb):y0()})}function Sd(){if(or===0){var t=Ha;t===0&&(t=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),or=t}return or}function T0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function b0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Tb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=T0((h[gt]||null).action),y=l.submitter;y&&(n=(n=y[gt]||null)?T0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new qi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var R=y?b0(h,y):new FormData(h);Hf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=y?b0(h,y):new FormData(h),Hf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Ad=0;Ad<af.length;Ad++){var wd=af[Ad],bb=wd.toLowerCase(),Sb=wd[0].toUpperCase()+wd.slice(1);Si(bb,"on"+Sb)}Si(Wg,"onAnimationEnd"),Si(ep,"onAnimationIteration"),Si(tp,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(UT,"onTransitionRun"),Si(zT,"onTransitionStart"),Si(BT,"onTransitionCancel"),Si(np,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function S0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(T=l[y],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=R}}}}function ze(t,n){var a=n[Sa];a===void 0&&(a=n[Sa]=new Set);var l=t+"__bubble";a.has(l)||(A0(n,t,2,!1),a.add(l))}function xd(t,n,a){var l=0;n&&(l|=4),A0(a,t,l,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[xc]){t[xc]=!0,Ll.forEach(function(a){a!=="selectionchange"&&(Ab.has(a)||xd(a,!1,t),xd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,xd("selectionchange",!1,n))}}function A0(t,n,a,l){switch(W0(n)){case 2:var h=Jb;break;case 8:h=Wb;break;default:h=qd}a=h.bind(null,n,a,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Rd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ki(T),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue e}T=T.parentNode}}l=l.return}Hs(function(){var z=f,Q=Wn(a),$=[];e:{var B=ip.get(t);if(B!==void 0){var F=qi,me=t;switch(t){case"keypress":if(Hr(a)===0)break e;case"keydown":case"keyup":F=Pu;break;case"focusin":me="focus",F=Gr;break;case"focusout":me="blur",F=Gr;break;case"beforeblur":case"afterblur":F=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Wg:case ep:case tp:F=Iu;break;case np:F=A;break;case"scroll":case"scrollend":F=$l;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=cs;break;case"toggle":case"beforetoggle":F=Me}var be=(n&4)!==0,dt=!be&&(t==="scroll"||t==="scrollend"),P=be?B!==null?B+"Capture":null:B;be=[];for(var k=z,U;k!==null;){var Y=k;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||P===null||(Y=vi(k,P),Y!=null&&be.push(Ro(k,Y,U))),dt)break;k=k.return}0<be.length&&(B=new F(B,me,null,a,Q),$.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Ql&&(me=a.relatedTarget||a.fromElement)&&(ki(me)||me[Mi]))break e;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(me=a.relatedTarget||a.toElement,F=z,me=me?ki(me):null,me!==null&&(dt=c(me),be=me.tag,me!==dt||be!==5&&be!==27&&be!==6)&&(me=null)):(F=null,me=z),F!==me)){if(be=Zl,Y="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=cs,Y="onPointerLeave",P="onPointerEnter",k="pointer"),dt=F==null?B:zn(F),U=me==null?B:zn(me),B=new be(Y,k+"leave",F,a,Q),B.target=dt,B.relatedTarget=U,Y=null,ki(Q)===z&&(be=new be(P,k+"enter",me,a,Q),be.target=U,be.relatedTarget=dt,Y=be),dt=Y,F&&me)t:{for(be=wb,P=F,k=me,U=0,Y=P;Y;Y=be(Y))U++;Y=0;for(var ve=k;ve;ve=be(ve))Y++;for(;0<U-Y;)P=be(P),U--;for(;0<Y-U;)k=be(k),Y--;for(;U--;){if(P===k||k!==null&&P===k.alternate){be=P;break t}P=be(P),k=be(k)}be=null}else be=null;F!==null&&w0($,B,F,be,!1),me!==null&&dt!==null&&w0($,dt,me,be,!0)}}e:{if(B=z?zn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ze=qg;else if(zg(B))if(Hg)Ze=jT;else{Ze=VT;var ye=MT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Na(z.elementType)&&(Ze=qg):Ze=kT;if(Ze&&(Ze=Ze(t,z))){Bg($,Ze,a,Q);break e}ye&&ye(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Fl(B,"number",B.value)}switch(ye=z?zn(z):window,t){case"focusin":(zg(ye)||ye.contentEditable==="true")&&(ka=ye,nf=z,no=null);break;case"focusout":no=nf=ka=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Zg($,a,Q);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":Zg($,a,Q)}var je;if(We)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Va?Kr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Gi&&a.locale!=="ko"&&(Va||He!=="onCompositionStart"?He==="onCompositionEnd"&&Va&&(je=Xl()):(Bi=Q,Yl="value"in Bi?Bi.value:Bi.textContent,Va=!0)),ye=Nc(z,He),0<ye.length&&(He=new Fi(He,t,null,a,Q),$.push({event:He,listeners:ye}),je?He.data=je:(je=Ma(a),je!==null&&(He.data=je)))),(je=ti?CT(t,a):IT(t,a))&&(He=Nc(z,"onBeforeInput"),0<He.length&&(ye=new Fi("onBeforeInput","beforeinput",null,a,Q),$.push({event:ye,listeners:He}),ye.data=je)),Tb($,t,z,a,Q)}S0($,n)})}function Ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,a),h!=null&&l.unshift(Ro(t,h,f)),h=vi(t,n),h!=null&&l.push(Ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function wb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w0(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=vi(a,f),z!=null&&y.unshift(Ro(a,z,R))):h||(z=vi(a,f),z!=null&&y.push(Ro(a,z,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var xb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function x0(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Nb,"")}function N0(t,n){return n=x0(n),x0(t)===n}function ft(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":Kl(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_i);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,wa(t,a,l))}}function Cd(t,n,a,l,h,f){switch(a){case"style":Kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function cn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,f,y,a,null)}}h&&ft(t,n,"srcSet",a.srcSet,a,null),l&&ft(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=f=y=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ft(t,n,l,Q,a,null)}}Au(t,f,T,R,z,y,h,!1);return;case"select":ze("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:ft(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Us(t,!!l,n,!1):a!=null&&Us(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ft(t,n,y,T,a,null)}zs(t,l,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,n,R,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<No.length;l++)ze(No[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,z,l,a,null)}return;default:if(Na(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Cd(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ft(t,n,T,l,a,null))}function Rb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,R=null,z=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(F)||ft(t,n,F,null,l,$)}}for(var B in l){var F=l[B];if($=a[B],l.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&ft(t,n,B,F,l,$)}}xa(t,y,T,R,z,Q,f,h);return;case"select":F=y=T=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||ft(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==R&&ft(t,n,h,f,l,R)}n=T,a=y,l=F,B!=null?Us(t,!!a,B,!1):!!l!=!!a&&(n!=null?Us(t,!!a,n,!0):Us(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ft(t,n,y,h,l,f)}wu(t,B,F);return;case"option":for(var me in a)if(B=a[me],a.hasOwnProperty(me)&&B!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ft(t,n,me,null,l,B)}for(R in l)if(B=l[R],F=a[R],l.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ft(t,n,R,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&ft(t,n,be,null,l,B);for(z in l)if(B=l[z],F=a[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ft(t,n,z,B,l,F)}return;default:if(Na(n)){for(var dt in a)B=a[dt],a.hasOwnProperty(dt)&&B!==void 0&&!l.hasOwnProperty(dt)&&Cd(t,n,dt,void 0,l,B);for(Q in l)B=l[Q],F=a[Q],!l.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||Cd(t,n,Q,B,l,F);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&ft(t,n,P,null,l,B);for($ in l)B=l[$],F=a[$],!l.hasOwnProperty($)||B===F||B==null&&F==null||ft(t,n,$,B,l,F)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&R0(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>T)break;var Q=R.transferSize,$=R.initiatorType;Q&&R0($)&&(R=R.responseEnd,y+=Q*(R<T?1:(T-z)/(R-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Dd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function C0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function Ib(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(Mb)}:D0;function Mb(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function M0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ol(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);ol(n)}function V0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vb(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=oi(t.nextSibling),t===null)break}return null}function kb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=oi(t.nextSibling),t===null))return null;return t}function k0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=oi(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function oi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function j0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return oi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function P0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L0(t,n,a){switch(n=Rc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Aa(t)}var ui=new Map,U0=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ws=W.d;W.d={f:Pb,r:Lb,D:Ub,C:zb,L:Bb,m:qb,X:Fb,S:Hb,M:Gb};function Pb(){var t=ws.f(),n=Ec();return t||n}function Lb(t){var n=Jn(t);n!==null&&n.tag===5&&n.type==="form"?ny(n):ws.r(t)}var rl=typeof document>"u"?null:document;function z0(t,n,a){var l=rl;if(l&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U0.has(h)||(U0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Ub(t){ws.D(t),z0("dns-prefetch",t,null)}function zb(t,n){ws.C(t,n),z0("preconnect",t,n)}function Bb(t,n,a){ws.L(t,n,a);var l=rl;if(l&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nn(a.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var f=h;switch(n){case"style":f=al(t);break;case"script":f=ll(t)}ui.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ui.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Io(f))||n==="script"&&l.querySelector(Do(f))||(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function qb(t,n){ws.m(t,n);var a=rl;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ll(t)}if(!ui.has(f)&&(t=w({rel:"modulepreload",href:t},n),ui.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(f)))return}l=a.createElement("link"),cn(l,"link",t),zt(l),a.head.appendChild(l)}}}function Hb(t,n,a){ws.S(t,n,a);var l=rl;if(l&&t){var h=ji(l).hoistableStyles,f=al(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Io(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ui.get(f))&&Ld(t,a);var R=y=l.createElement("link");zt(R),cn(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function Fb(t,n){ws.X(t,n);var a=rl;if(a&&t){var l=ji(a).hoistableScripts,h=ll(t),f=l.get(h);f||(f=a.querySelector(Do(h)),f||(t=w({src:t,async:!0},n),(n=ui.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Gb(t,n){ws.M(t,n);var a=rl;if(a&&t){var l=ji(a).hoistableScripts,h=ll(t),f=l.get(h);f||(f=a.querySelector(Do(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ui.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B0(t,n,a,l){var h=(h=_e.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=al(a.href),a=ji(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var f=ji(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Io(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ui.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ui.set(t,a),f||Kb(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ll(a),a=ji(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function al(t){return'href="'+Nn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function q0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",a),zt(n),t.head.appendChild(n))}function ll(t){return'[src="'+Nn(t)+'"]'}function Do(t){return"script[async]"+t}function H0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Nn(a.href)+'"]');if(l)return n.instance=l,zt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),cn(l,"style",h),Ic(l,a.precedence,t),n.instance=l;case"stylesheet":h=al(a.href);var f=t.querySelector(Io(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;l=q0(a),(h=ui.get(h))&&Ld(l,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var y=f;return y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),cn(f,"link",l),n.state.loading|=4,Ic(f,a.precedence,t),n.instance=f;case"script":return f=ll(a.src),(h=t.querySelector(Do(f)))?(n.instance=h,zt(h),h):(l=a,(h=ui.get(f))&&(l=w({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ic(l,a.precedence,t));return n.instance}function Ic(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function F0(t,n,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Vi]||f[it]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function G0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Qb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=al(l.href),f=n.querySelector(Io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,zt(f);return}f=n.ownerDocument||n,l=q0(l),(h=ui.get(h))&&Ld(l,h),f=f.createElement("link"),zt(f);var y=f;y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),cn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function Xb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&zd===0&&(zd=62500*Cb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach($b,t),Mc=null,Oc.call(t))}function $b(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Oo={$$typeof:ue,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Zb(t,n,a,l,h,f,y,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Q0(t,n,a,l,h,f,y,T,R,z,Q,$){return t=new Zb(t,n,a,y,R,z,Q,$,T),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),t.current=f,f.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Sf(f),t}function Y0(t){return t?(t=La,t):La}function X0(t,n,a,l,h,f){h=Y0(h),l.context===null?l.context=h:l.pendingContext=h,l=Js(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ws(t,l,n),a!==null&&(Mn(a,t,n),uo(a,t,n))}function $0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bd(t,n){$0(t,n),(t=t.alternate)&&$0(t,n)}function Z0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Mn(n,t,67108864),Bd(t,67108864)}}function J0(t){if(t.tag===13||t.tag===31){var n=Yn();n=D(n);var a=Xr(t,n);a!==null&&Mn(a,t,n),Bd(t,n)}}var kc=!0;function Jb(t,n,a,l){var h=H.T;H.T=null;var f=W.p;try{W.p=2,qd(t,n,a,l)}finally{W.p=f,H.T=h}}function Wb(t,n,a,l){var h=H.T;H.T=null;var f=W.p;try{W.p=8,qd(t,n,a,l)}finally{W.p=f,H.T=h}}function qd(t,n,a,l){if(kc){var h=Hd(l);if(h===null)Rd(t,n,l,jc,a),e_(t,l);else if(tS(h,t,n,a,l))l.stopPropagation();else if(e_(t,l),n&4&&-1<eS.indexOf(t)){for(;h!==null;){var f=Jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Sn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var R=1<<31-Et(y);T.entanglements[1]|=R,y&=~R}Xi(f),(et&6)===0&&(_c=le()+500,xo(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&Mn(T,f,2),Ec(),Bd(f,2)}if(f=Hd(l),f===null&&Rd(t,n,l,jc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rd(t,n,l,null,a)}}function Hd(t){return t=Wn(t),Fd(t)}var jc=null;function Fd(t){if(jc=null,t=ki(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function W0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case mt:return 2;case ut:return 8;case ke:case Ut:return 32;case gn:return 268435456;default:return 32}default:return 32}}var Gd=!1,cr=null,hr=null,fr=null,Mo=new Map,Vo=new Map,dr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function ko(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Jn(n),n!==null&&Z0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function tS(t,n,a,l,h){switch(n){case"focusin":return cr=ko(cr,t,n,a,l,h),!0;case"dragenter":return hr=ko(hr,t,n,a,l,h),!0;case"mouseover":return fr=ko(fr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Mo.set(f,ko(Mo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,n,a,l,h)),!0}return!1}function t_(t){var n=ki(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Tt(t.priority,function(){J0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Tt(t.priority,function(){J0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ql=l,a.target.dispatchEvent(l),Ql=null}else return n=Jn(a),n!==null&&Z0(n),t.blockedOn=a,!1;n.shift()}return!0}function n_(t,n,a){Pc(t)&&a.delete(n)}function nS(){Gd=!1,cr!==null&&Pc(cr)&&(cr=null),hr!==null&&Pc(hr)&&(hr=null),fr!==null&&Pc(fr)&&(fr=null),Mo.forEach(n_),Vo.forEach(n_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nS)))}var Uc=null;function i_(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var f=Jn(a);f!==null&&(t.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ol(t){function n(R){return Lc(R,t)}cr!==null&&Lc(cr,t),hr!==null&&Lc(hr,t),fr!==null&&Lc(fr,t),Mo.forEach(n),Vo.forEach(n);for(var a=0;a<dr.length;a++){var l=dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[gt]||null;if(typeof f=="function")y||i_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[gt]||null)T=y.formAction;else if(Fd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}zc.prototype.render=Kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Yn();X0(a,l,t,n,null,null)},zc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;X0(t.current,2,null,t,null,null),Ec(),n[Mi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nt();t={blockedOn:null,target:t,priority:n};for(var a=0;a<dr.length&&n!==0&&n<dr[a].priority;a++);dr.splice(a,0,t),a===0&&t_(t)}};var r_=e.version;if(r_!=="19.2.0")throw Error(r(527,r_,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Xt=Bc.inject(iS),Qe=Bc}catch{}}return Po.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=fy,f=dy,y=my;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Q0(t,1,!1,null,null,a,l,null,h,f,y,s_),t[Mi]=n.current,Nd(t),new Kd(n)},Po.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=fy,y=dy,T=my,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Q0(t,1,!0,n,a??null,l,h,R,f,y,T,s_),n.context=Y0(null),a=n.current,l=Yn(),l=D(l),h=Js(l),h.callback=null,Ws(a,h,l),a=l,n.current.lanes=a,as(n,a),Xi(n),t[Mi]=n.current,Nd(t),new zc(n)},Po.version="19.2.0",Po}var g_;function dS(){if(g_)return Xd.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=fS(),Xd.exports}var mS=dS();const gS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=pS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Wv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),yS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vS=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>oe.createElement("svg",{ref:_,..._S,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Wv("lucide",o),...!c&&!yS(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,S])=>oe.createElement(v,S)),...Array.isArray(c)?c:[c]]));const $e=(s,e)=>{const i=oe.forwardRef(({className:r,...o},c)=>oe.createElement(vS,{ref:c,iconNode:e,className:Wv(`lucide-${gS(p_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=p_(s),i};const ES=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],TS=$e("award",ES);const bS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],SS=$e("calendar-days",bS);const AS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wS=$e("check",AS);const xS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oh=$e("chevron-right",xS);const NS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],e1=$e("chevron-left",NS);const RS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y_=$e("circle-check-big",RS);const CS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],__=$e("circle-pause",CS);const IS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DS=$e("circle-play",IS);const OS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],MS=$e("clipboard-list",OS);const VS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fo=$e("clock",VS);const kS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jS=$e("download",kS);const PS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],LS=$e("history",PS);const US=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],zS=$e("key-round",US);const BS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qS=$e("lock",BS);const HS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fm=$e("log-out",HS);const FS=[["path",{d:"M5 12h14",key:"1ays0h"}]],GS=$e("minus",FS);const KS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],QS=$e("octagon-alert",KS);const YS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$c=$e("pen",YS);const XS=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],t1=$e("piggy-bank",XS);const $S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zc=$e("plus",$S);const ZS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dm=$e("rotate-ccw",ZS);const JS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n1=$e("settings",JS);const WS=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],eA=$e("share",WS);const tA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i1=$e("shield-check",tA);const nA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mm=$e("star",nA);const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wd=$e("target",iA);const sA=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],rA=$e("thumbs-down",sA);const aA=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],lA=$e("thumbs-up",aA);const oA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],em=$e("trash-2",oA);const uA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cA=$e("user-plus",uA);const hA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gm=$e("users",hA);const fA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],v_=$e("wallet",fA);const dA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=$e("x",dA),mA=()=>{};var E_={};const s1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let O=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(O=64)),r.push(i[S],i[w],i[O],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(s1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):gA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||w==null)throw new pA;const O=c<<2|p>>4;if(r.push(O),v!==64){const G=p<<4&240|v>>2;if(r.push(G),w!==64){const ne=v<<6&192|w;r.push(ne)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(s){const e=s1(s);return r1.encodeByteArray(e,!0)},uh=function(s){return yA(s).replace(/\./g,"")},a1=function(s){try{return r1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vA=()=>_A().__FIREBASE_DEFAULTS__,EA=()=>{if(typeof process>"u"||typeof E_>"u")return;const s=E_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},TA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&a1(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return mA()||vA()||EA()||TA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},l1=s=>Dh()?.emulatorHosts?.[s],bA=s=>{const e=l1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},o1=()=>Dh()?.config,u1=s=>Dh()?.[`_${s}`];class SA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c1(s){return(await fetch(s,{credentials:"include"})).ok}function AA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(i)),uh(JSON.stringify(d)),""].join(".")}const Go={};function wA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?s.emulator.push(e):s.prod.push(e);return s}function xA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let T_=!1;function h1(s,e){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Go[s]===e||Go[s]||T_)return;Go[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=wA().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{T_=!0,d()},O}function S(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=xA(r),G=i("text"),ne=document.getElementById(G)||document.createElement("span"),ie=i("learnmore"),te=document.getElementById(ie)||document.createElement("a"),pe=i("preprendIcon"),de=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ue=O.element;p(ue),S(te,ie);const Le=v();_(de,pe),ue.append(de,ne,te,Le),document.body.appendChild(ue)}c?(ne.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function RA(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OA(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const jA="FirebaseError";class Vs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=jA,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?PA(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,p,r)}}function PA(s,e){return s.replace(LA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const LA=/\{\$([^}]+)}/g;function UA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(b_(c)&&b_(d)){if(!fa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b_(s){return s!==null&&typeof s=="object"}function cu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Uo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function zA(s,e){const i=new BA(s,e);return i.subscribe.bind(i)}class BA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function tm(){}function Jt(s){return s&&s._delegate?s._delegate:s}class da{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class HA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new SA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GA(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FA(s){return s===oa?void 0:s}function GA(s){return s.instantiationMode==="EAGER"}class KA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const QA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},YA=Fe.INFO,XA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},$A=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=XA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=YA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const ZA=(s,e)=>e.some(i=>s instanceof i);let S_,A_;function JA(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,pm=new WeakMap,d1=new WeakMap,nm=new WeakMap,Km=new WeakMap;function ew(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Tr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&f1.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function tw(s){if(pm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let ym={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||d1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nw(s){ym=s(ym)}function iw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(im(this),e,...i);return d1.set(r,e.sort?e.sort():[e]),Tr(r)}:WA().includes(s)?function(...e){return s.apply(im(this),e),Tr(f1.get(this))}:function(...e){return Tr(s.apply(im(this),e))}}function sw(s){return typeof s=="function"?iw(s):(s instanceof IDBTransaction&&tw(s),ZA(s,JA())?new Proxy(s,ym):s)}function Tr(s){if(s instanceof IDBRequest)return ew(s);if(nm.has(s))return nm.get(s);const e=sw(s);return e!==s&&(nm.set(s,e),Km.set(e,s)),e}const im=s=>Km.get(s);function rw(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Tr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Tr(d.result),_.oldVersion,_.newVersion,Tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const aw=["get","getKey","getAll","getAllKeys","count"],lw=["put","add","delete","clear"],sm=new Map;function w_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aw.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return sm.set(e,c),c}nw(s=>({...s,get:(e,i,r)=>w_(e,i)||s.get(e,i,r),has:(e,i)=>!!w_(e,i)||s.has(e,i)}));class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uw(s){return s.getComponent()?.type==="VERSION"}const _m="@firebase/app",x_="0.14.6";const Is=new Gm("@firebase/app"),cw="@firebase/app-compat",hw="@firebase/analytics-compat",fw="@firebase/analytics",dw="@firebase/app-check-compat",mw="@firebase/app-check",gw="@firebase/auth",pw="@firebase/auth-compat",yw="@firebase/database",_w="@firebase/data-connect",vw="@firebase/database-compat",Ew="@firebase/functions",Tw="@firebase/functions-compat",bw="@firebase/installations",Sw="@firebase/installations-compat",Aw="@firebase/messaging",ww="@firebase/messaging-compat",xw="@firebase/performance",Nw="@firebase/performance-compat",Rw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Iw="@firebase/storage",Dw="@firebase/storage-compat",Ow="@firebase/firestore",Mw="@firebase/ai",Vw="@firebase/firestore-compat",kw="firebase",jw="12.6.0";const vm="[DEFAULT]",Pw={[_m]:"fire-core",[cw]:"fire-core-compat",[fw]:"fire-analytics",[hw]:"fire-analytics-compat",[mw]:"fire-app-check",[dw]:"fire-app-check-compat",[gw]:"fire-auth",[pw]:"fire-auth-compat",[yw]:"fire-rtdb",[_w]:"fire-data-connect",[vw]:"fire-rtdb-compat",[Ew]:"fire-fn",[Tw]:"fire-fn-compat",[bw]:"fire-iid",[Sw]:"fire-iid-compat",[Aw]:"fire-fcm",[ww]:"fire-fcm-compat",[xw]:"fire-perf",[Nw]:"fire-perf-compat",[Rw]:"fire-rc",[Cw]:"fire-rc-compat",[Iw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Ow]:"fire-fst",[Vw]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};const ch=new Map,Lw=new Map,Em=new Map;function N_(s,e){try{s.container.addComponent(e)}catch(i){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function El(s){const e=s.name;if(Em.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,s);for(const i of ch.values())N_(i,s);for(const i of Lw.values())N_(i,s);return!0}function Qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ci(s){return s==null?!1:s.settings!==void 0}const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new uu("app","Firebase",Uw);class zw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Cl=jw;function m1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw br.create("bad-app-name",{appName:String(o)});if(i||(i=o1()),!i)throw br.create("no-options");const c=ch.get(o);if(c){if(fa(i,c.options)&&fa(r,c.config))return c;throw br.create("duplicate-app",{appName:o})}const d=new KA(o);for(const _ of Em.values())d.addComponent(_);const p=new zw(i,r,d);return ch.set(o,p),p}function g1(s=vm){const e=ch.get(s);if(!e&&s===vm&&o1())return m1();if(!e)throw br.create("no-app",{appName:s});return e}function Sr(s,e,i){let r=Pw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}El(new da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bw="firebase-heartbeat-database",qw=1,Jo="firebase-heartbeat-store";let rm=null;function p1(){return rm||(rm=rw(Bw,qw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jo)}catch(i){console.warn(i)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),rm}async function Hw(s){try{const i=(await p1()).transaction(Jo),r=await i.objectStore(Jo).get(y1(s));return await i.done,r}catch(e){if(e instanceof Vs)Is.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Is.warn(i.message)}}}async function R_(s,e){try{const r=(await p1()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,y1(s)),await r.done}catch(i){if(i instanceof Vs)Is.warn(i.message);else{const r=br.create("idb-set",{originalErrorMessage:i?.message});Is.warn(r.message)}}}function y1(s){return`${s.name}!${s.options.appId}`}const Fw=1024,Gw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Yw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Gw){const o=Xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:i,unsentEntries:r}=Qw(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Is.warn(e),""}}}function C_(){return new Date().toISOString().substring(0,10)}function Qw(s,e=Fw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),I_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),I_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?kA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Hw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I_(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function Xw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function $w(s){El(new da("platform-logger",e=>new ow(e),"PRIVATE")),El(new da("heartbeat",e=>new Kw(e),"PRIVATE")),Sr(_m,x_,s),Sr(_m,x_,"esm2020"),Sr("fire-js","")}$w("");var Zw="firebase",Jw="12.6.0";Sr(Zw,Jw,"app");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=_1,v1=new uu("auth","Firebase",_1());const hh=new Gm("@firebase/auth");function ex(s,...e){hh.logLevel<=Fe.WARN&&hh.warn(`Auth (${Cl}): ${s}`,...e)}function Jc(s,...e){hh.logLevel<=Fe.ERROR&&hh.error(`Auth (${Cl}): ${s}`,...e)}function Ri(s,...e){throw Ym(s,...e)}function Ji(s,...e){return Ym(s,...e)}function E1(s,e,i){const r={...Ww(),[e]:i};return new uu("auth","Firebase",r).create(e,{appName:s.name})}function Cs(s){return E1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return v1.create(s,...e)}function Ae(s,e,...i){if(!s)throw Ym(e,...i)}function Ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function Ds(s,e){s||Ns(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function tx(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}function nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tx()||IA()||"connection"in navigator)?navigator.onLine:!0}function ix(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class hu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ds(i>e,"Short delay should be less than long delay!"),this.isMobile=NA()||DA()}get(){return nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,e){Ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class T1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ax=new hu(3e4,6e4);function ks(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function js(s,e,i,r,o={}){return b1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=cu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return CA()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Rl(s.emulatorConfig.host)&&(v.credentials="include"),T1.fetch()(await S1(s,s.config.apiHost,i,p),v)})}async function b1(s,e,i){s._canInitEmulator=!1;const r={...sx,...e};try{const o=new ox(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw qc(s,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw E1(s,S,v);Ri(s,S)}}catch(o){if(o instanceof Vs)throw o;Ri(s,"network-request-failed",{message:String(o)})}}async function fu(s,e,i,r,o={}){const c=await js(s,e,i,r,o);return"mfaPendingCredential"in c&&Ri(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function S1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Xm(s.config,o):`${s.config.apiScheme}://${o}`;return rx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function lx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ji(this.auth,"network-request-failed")),ax.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Ji(s,e,r);return o.customData._tokenResponse=i,o}function O_(s){return s!==void 0&&s.enterprise!==void 0}class ux{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return lx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cx(s,e){return js(s,"GET","/v2/recaptchaConfig",ks(s,e))}async function hx(s,e){return js(s,"POST","/v1/accounts:delete",e)}async function fh(s,e){return js(s,"POST","/v1/accounts:lookup",e)}function Ko(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fx(s,e=!1){const i=Jt(s),r=await i.getIdToken(e),o=$m(r);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Ko(am(o.auth_time)),issuedAtTime:Ko(am(o.iat)),expirationTime:Ko(am(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function $m(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=a1(i);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function M_(s){const e=$m(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Vs&&dx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function dx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class mx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dh(s){const e=s.auth,i=await s.getIdToken(),r=await Wo(s,fh(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?A1(o.providerUserInfo):[],d=px(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function gx(s){const e=Jt(s);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function px(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yx(s,e){const i=await b1(s,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await S1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Rl(s.emulatorConfig.host)&&(_.credentials="include"),T1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _x(s,e){return js(s,"POST","/v2/accounts:revokeToken",ks(s,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=M_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await yx(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new gl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function gr(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Wo(this,hx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:G,providerData:ne,stsTokenManager:ie}=i;Ae(w&&ie,e,"internal-error");const te=gl.fromJSON(this.name,ie);Ae(typeof w=="string",e,"internal-error"),gr(r,e.name),gr(o,e.name),Ae(typeof O=="boolean",e,"internal-error"),Ae(typeof G=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(p,e.name),gr(_,e.name),gr(v,e.name),gr(S,e.name);const pe=new Ni({uid:w,auth:e,email:o,emailVerified:O,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:v,lastLoginAt:S});return ne&&Array.isArray(ne)&&(pe.providerData=ne.map(de=>({...de}))),_&&(pe._redirectEventId=_),pe}static async _fromIdTokenResponse(e,i,r=!1){const o=new gl;o.updateFromServerResponse(i);const c=new Ni({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await dh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?A1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new gl;p.updateFromIdToken(r);const _=new Ni({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const V_=new Map;function Rs(s){Ds(s instanceof Function,"Expected a class definition");let e=V_.get(s);return e?(Ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V_.set(s,e),e)}class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}w1.type="NONE";const k_=w1;function Wc(s,e,i){return`firebase:${s}:${e}:${i}`}class pl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await fh(this.auth,{idToken:e}).catch(()=>{});return i?Ni._fromGetAccountInfoResponse(this.auth,i,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new pl(Rs(k_),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Rs(k_);const d=Wc(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let w;if(typeof S=="string"){const O=await fh(e,{idToken:S}).catch(()=>{});if(!O)break;w=await Ni._fromGetAccountInfoResponse(e,O,S)}else w=Ni._fromJSON(e,S);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new pl(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new pl(c,e,r))}}function j_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D1(e))return"Blackberry";if(O1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function x1(s=En()){return/firefox\//i.test(s)}function N1(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(s=En()){return/crios\//i.test(s)}function C1(s=En()){return/iemobile/i.test(s)}function I1(s=En()){return/android/i.test(s)}function D1(s=En()){return/blackberry/i.test(s)}function O1(s=En()){return/webos/i.test(s)}function Zm(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vx(s=En()){return Zm(s)&&!!window.navigator?.standalone}function Ex(){return OA()&&document.documentMode===10}function M1(s=En()){return Zm(s)||I1(s)||O1(s)||D1(s)||/windows phone/i.test(s)||C1(s)}function V1(s,e=[]){let i;switch(s){case"Browser":i=j_(En());break;case"Worker":i=`${j_(En())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cl}/${r}`}class Tx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bx(s,e={}){return js(s,"GET","/v2/passwordPolicy",ks(s,e))}const Sx=6;class Ax{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Sx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new Tx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await fh(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ix()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Cs(this));const i=e?Jt(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bx(this),i=new Ax(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await _x(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Rs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ex(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Or(s){return Jt(s)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=zA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xx(s){Oh=s}function k1(s){return Oh.loadJS(s)}function Nx(){return Oh.recaptchaEnterpriseScript}function Rx(){return Oh.gapiScript}function Cx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Ix{constructor(){this.enterprise=new Dx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Dx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Ox="recaptcha-enterprise",j1="NO_RECAPTCHA";class Mx{constructor(e){this.type=Ox,this.auth=Or(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{cx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new ux(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;O_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(j1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ix().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&O_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Nx();_.length!==0&&(_+=p),k1(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function L_(s,e,i,r=!1,o=!1){const c=new Mx(s);let d;if(o)d=j1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function mh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await L_(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Vx(s,e){const i=Qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(fa(c,e??{}))return o;Ri(o,"already-initialized")}return i.initialize({options:e})}function kx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function jx(s,e,i){const r=Or(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=P1(e),{host:d,port:p}=Px(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(fa(v,r.config.emulator)&&fa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Rl(d)?(c1(`${c}//${d}${_}`),h1("Auth",!0)):Lx()}function P1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Px(s){const e=P1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:U_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:U_(d)}}}function U_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Lx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Jm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,i){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Ux(s,e){return js(s,"POST","/v1/accounts:signUp",e)}async function zx(s,e){return fu(s,"POST","/v1/accounts:signInWithPassword",ks(s,e))}async function Bx(s,e){return js(s,"POST","/v1/accounts:sendOobCode",ks(s,e))}async function qx(s,e){return Bx(s,e)}async function Hx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",ks(s,e))}async function Fx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",ks(s,e))}class eu extends Jm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new eu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new eu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,i,"signInWithPassword",zx);case"emailLink":return Hx(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,r,"signUpPassword",Ux);case"emailLink":return Fx(e,{idToken:i,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(s,e){return fu(s,"POST","/v1/accounts:signInWithIdp",ks(s,e))}const Gx="http://localhost";class ma extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new ma(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return yl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,yl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,yl(e,i)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=cu(i)}return e}}function Kx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qx(s){const e=Lo(Uo(s)).link,i=e?Lo(Uo(e)).deep_link_id:null,r=Lo(Uo(s)).deep_link_id;return(r?Lo(Uo(r)).link:null)||r||i||e||s}class Wm{constructor(e){const i=Lo(Uo(e)),r=i.apiKey??null,o=i.oobCode??null,c=Kx(i.mode??null);Ae(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Qx(e);try{return new Wm(i)}catch{return null}}}class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,i){return eu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Wm.parseLink(i);return Ae(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class L1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends L1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends du{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class yr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ma._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return yr.credential(i,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class _r extends du{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class vr extends du{constructor(){super("twitter.com")}static credential(e,i){return ma._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return vr.credential(i,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";async function Yx(s,e){return fu(s,"POST","/v1/accounts:signUp",ks(s,e))}class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Ni._fromIdTokenResponse(e,r,o),d=z_(r);return new ga({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=z_(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function z_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class gh extends Vs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new gh(e,i,r,o)}}function U1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,e,r):c})}async function Xx(s,e,i=!1){const r=await Wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ga._forOperation(s,"link",r)}async function $x(s,e,i=!1){const{auth:r}=s;if(ci(r.app))return Promise.reject(Cs(r));const o="reauthenticate";try{const c=await Wo(s,U1(r,o,e,s),i);Ae(c.idToken,r,"internal-error");const d=$m(c.idToken);Ae(d,r,"internal-error");const{sub:p}=d;return Ae(s.uid===p,r,"user-mismatch"),ga._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),c}}async function z1(s,e,i=!1){if(ci(s.app))return Promise.reject(Cs(s));const r="signIn",o=await U1(s,r,e),c=await ga._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function Zx(s,e){return z1(Or(s),e)}async function B1(s){const e=Or(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jx(s,e,i){const r=Or(s);await mh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qx)}async function Wx(s,e,i){if(ci(s.app))return Promise.reject(Cs(s));const r=Or(s),d=await mh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yx).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&B1(s),_}),p=await ga._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function e2(s,e,i){return ci(s.app)?Promise.reject(Cs(s)):Zx(Jt(s),Il.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B1(s),r})}function t2(s,e,i,r){return Jt(s).onIdTokenChanged(e,i,r)}function n2(s,e,i){return Jt(s).beforeAuthStateChanged(e,i)}function i2(s,e,i,r){return Jt(s).onAuthStateChanged(e,i,r)}function s2(s){return Jt(s).signOut()}const ph="__sak";class q1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class H1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ex()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}H1.type="LOCAL";const l2=H1;class F1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}F1.type="SESSION";const G1=F1;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await o2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function eg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=eg("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const O=w;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Wi(){return window}function c2(s){Wi().location.href=s}function K1(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return K1()?self:null}const Q1="firebaseLocalStorageDb",m2=1,yh="firebaseLocalStorage",Y1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,e){return s.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function g2(){const s=indexedDB.deleteDatabase(Q1);return new mu(s).toPromise()}function Sm(){const s=indexedDB.open(Q1,m2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yh,{keyPath:Y1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await g2(),e(await Sm()))})})}async function B_(s,e,i){const r=Vh(s,!0).put({[Y1]:e,value:i});return new mu(r).toPromise()}async function p2(s,e){const i=Vh(s,!1).get(e),r=await new mu(i).toPromise();return r===void 0?null:r.value}function q_(s,e){const i=Vh(s,!0).delete(e);return new mu(i).toPromise()}const y2=800,_2=3;class X1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>_2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await B_(e,ph,"1"),await q_(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>B_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>p2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>q_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Vh(o,!1).getAll();return new mu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X1.type="LOCAL";const v2=X1;new hu(3e4,6e4);function E2(s,e){return e?Rs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return yl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function T2(s){return z1(s.auth,new tg(s),s.bypassAuthState)}function b2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),$x(i,new tg(s),s.bypassAuthState)}async function S2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),Xx(i,new tg(s),s.bypassAuthState)}class $1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Ri(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A2=new hu(2e3,1e4);class dl extends $1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A2.get())};e()}}dl.currentPopupAction=null;const w2="pendingRedirect",eh=new Map;class x2 extends $1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await N2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(s,e){const i=I2(e),r=C2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function R2(s,e){eh.set(s._key(),e)}function C2(s){return Rs(s._redirectPersistence)}function I2(s){return Wc(w2,s.config.apiKey,s.name)}async function D2(s,e,i=!1){if(ci(s.app))return Promise.reject(Cs(s));const r=Or(s),o=E2(r,e),d=await new x2(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const O2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Z1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ji(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Z1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(s);default:return!1}}async function k2(s,e={}){return js(s,"GET","/v1/projects",e)}const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await k2(s);for(const i of e)try{if(U2(i))return}catch{}Ri(s,"unauthorized-domain")}function U2(s){const e=Tm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!P2.test(i))return!1;if(j2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const z2=new hu(3e4,6e4);function F_(){const s=Wi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((e,i)=>{function r(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),i(Ji(s,"network-request-failed"))},timeout:z2.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)r();else{const o=Cx("iframefcb");return Wi()[o]=()=>{gapi.load?r():i(Ji(s,"network-request-failed"))},k1(`${Rx()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw th=null,e})}let th=null;function q2(s){return th=th||B2(s),th}const H2=new hu(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Xm(e,G2):`https://${s.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:s.name,v:Cl},o=Q2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${cu(r).slice(1)}`}async function X2(s){const e=await q2(s),i=Wi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ji(s,"network-request-failed"),p=Wi().setTimeout(()=>{c(d)},H2.get());function _(){Wi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,J2=600,W2="_blank",eN="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(s,e,i,r=Z2,o=J2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$2,width:r.toString(),height:o.toString(),top:c,left:d},v=En().toLowerCase();i&&(p=R1(v)?W2:i),x1(v)&&(e=e||eN,_.scrollbars="yes");const S=Object.entries(_).reduce((O,[G,ne])=>`${O}${G}=${ne},`,"");if(vx(v)&&p!=="_self")return nN(e||"",p),new G_(null);const w=window.open(e||"",p,S);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new G_(w)}function nN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iN="__/auth/handler",sN="emulator/auth/handler",rN=encodeURIComponent("fac");async function K_(s,e,i,r,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Cl,eventId:o};if(e instanceof L1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",UA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof du){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),v=_?`#${rN}=${encodeURIComponent(_)}`:"";return`${aN(s)}?${cu(p).slice(1)}${v}`}function aN({config:s}){return s.emulator?Xm(s,sN):`https://${s.authDomain}/${iN}`}const lm="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=D2,this._overrideRedirectResult=R2}async _openPopup(e,i,r,o){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await K_(e,i,r,Tm(),o);return tN(e,c,eg())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await K_(e,i,r,Tm(),o);return c2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ds(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await X2(e),r=new M2(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(lm,{type:lm},o=>{const c=o?.[0]?.[lm];c!==void 0&&i(!!c),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=L2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return M1()||N1()||Zm()}}const oN=lN;var Q_="@firebase/auth",Y_="1.11.1";class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(s){El(new da("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(s)},v=new wx(r,o,c,_);return kx(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),El(new da("auth-internal",e=>{const i=Or(e.getProvider("auth").getImmediate());return(r=>new uN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(Q_,Y_,cN(s)),Sr(Q_,Y_,"esm2020")}const fN=300,dN=u1("authIdTokenMaxAge")||fN;let X_=null;const mN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dN)return;const o=i?.token;X_!==o&&(X_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(s=g1()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Vx(s,{popupRedirectResolver:oN,persistence:[v2,l2,G1]}),r=u1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mN(c.toString());n2(i,d,()=>d(i.currentUser)),t2(i,p=>d(p))}}const o=l1("auth");return o&&jx(i,`http://${o}`),i}function pN(){return document.getElementsByTagName("head")?.[0]??document}xx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Ji("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",pN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,J1;(function(){var s;function e(C,x){function N(){}N.prototype=x.prototype,C.F=x.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(V,M,j){for(var b=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)b[Be-2]=arguments[Be];return x.prototype[M].apply(V,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,N){N||(N=0);const V=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)V[M]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=C.g[0],N=C.g[1],M=C.g[2];let j=C.g[3],b;b=x+(j^N&(M^j))+V[0]+3614090360&4294967295,x=N+(b<<7&4294967295|b>>>25),b=j+(M^x&(N^M))+V[1]+3905402710&4294967295,j=x+(b<<12&4294967295|b>>>20),b=M+(N^j&(x^N))+V[2]+606105819&4294967295,M=j+(b<<17&4294967295|b>>>15),b=N+(x^M&(j^x))+V[3]+3250441966&4294967295,N=M+(b<<22&4294967295|b>>>10),b=x+(j^N&(M^j))+V[4]+4118548399&4294967295,x=N+(b<<7&4294967295|b>>>25),b=j+(M^x&(N^M))+V[5]+1200080426&4294967295,j=x+(b<<12&4294967295|b>>>20),b=M+(N^j&(x^N))+V[6]+2821735955&4294967295,M=j+(b<<17&4294967295|b>>>15),b=N+(x^M&(j^x))+V[7]+4249261313&4294967295,N=M+(b<<22&4294967295|b>>>10),b=x+(j^N&(M^j))+V[8]+1770035416&4294967295,x=N+(b<<7&4294967295|b>>>25),b=j+(M^x&(N^M))+V[9]+2336552879&4294967295,j=x+(b<<12&4294967295|b>>>20),b=M+(N^j&(x^N))+V[10]+4294925233&4294967295,M=j+(b<<17&4294967295|b>>>15),b=N+(x^M&(j^x))+V[11]+2304563134&4294967295,N=M+(b<<22&4294967295|b>>>10),b=x+(j^N&(M^j))+V[12]+1804603682&4294967295,x=N+(b<<7&4294967295|b>>>25),b=j+(M^x&(N^M))+V[13]+4254626195&4294967295,j=x+(b<<12&4294967295|b>>>20),b=M+(N^j&(x^N))+V[14]+2792965006&4294967295,M=j+(b<<17&4294967295|b>>>15),b=N+(x^M&(j^x))+V[15]+1236535329&4294967295,N=M+(b<<22&4294967295|b>>>10),b=x+(M^j&(N^M))+V[1]+4129170786&4294967295,x=N+(b<<5&4294967295|b>>>27),b=j+(N^M&(x^N))+V[6]+3225465664&4294967295,j=x+(b<<9&4294967295|b>>>23),b=M+(x^N&(j^x))+V[11]+643717713&4294967295,M=j+(b<<14&4294967295|b>>>18),b=N+(j^x&(M^j))+V[0]+3921069994&4294967295,N=M+(b<<20&4294967295|b>>>12),b=x+(M^j&(N^M))+V[5]+3593408605&4294967295,x=N+(b<<5&4294967295|b>>>27),b=j+(N^M&(x^N))+V[10]+38016083&4294967295,j=x+(b<<9&4294967295|b>>>23),b=M+(x^N&(j^x))+V[15]+3634488961&4294967295,M=j+(b<<14&4294967295|b>>>18),b=N+(j^x&(M^j))+V[4]+3889429448&4294967295,N=M+(b<<20&4294967295|b>>>12),b=x+(M^j&(N^M))+V[9]+568446438&4294967295,x=N+(b<<5&4294967295|b>>>27),b=j+(N^M&(x^N))+V[14]+3275163606&4294967295,j=x+(b<<9&4294967295|b>>>23),b=M+(x^N&(j^x))+V[3]+4107603335&4294967295,M=j+(b<<14&4294967295|b>>>18),b=N+(j^x&(M^j))+V[8]+1163531501&4294967295,N=M+(b<<20&4294967295|b>>>12),b=x+(M^j&(N^M))+V[13]+2850285829&4294967295,x=N+(b<<5&4294967295|b>>>27),b=j+(N^M&(x^N))+V[2]+4243563512&4294967295,j=x+(b<<9&4294967295|b>>>23),b=M+(x^N&(j^x))+V[7]+1735328473&4294967295,M=j+(b<<14&4294967295|b>>>18),b=N+(j^x&(M^j))+V[12]+2368359562&4294967295,N=M+(b<<20&4294967295|b>>>12),b=x+(N^M^j)+V[5]+4294588738&4294967295,x=N+(b<<4&4294967295|b>>>28),b=j+(x^N^M)+V[8]+2272392833&4294967295,j=x+(b<<11&4294967295|b>>>21),b=M+(j^x^N)+V[11]+1839030562&4294967295,M=j+(b<<16&4294967295|b>>>16),b=N+(M^j^x)+V[14]+4259657740&4294967295,N=M+(b<<23&4294967295|b>>>9),b=x+(N^M^j)+V[1]+2763975236&4294967295,x=N+(b<<4&4294967295|b>>>28),b=j+(x^N^M)+V[4]+1272893353&4294967295,j=x+(b<<11&4294967295|b>>>21),b=M+(j^x^N)+V[7]+4139469664&4294967295,M=j+(b<<16&4294967295|b>>>16),b=N+(M^j^x)+V[10]+3200236656&4294967295,N=M+(b<<23&4294967295|b>>>9),b=x+(N^M^j)+V[13]+681279174&4294967295,x=N+(b<<4&4294967295|b>>>28),b=j+(x^N^M)+V[0]+3936430074&4294967295,j=x+(b<<11&4294967295|b>>>21),b=M+(j^x^N)+V[3]+3572445317&4294967295,M=j+(b<<16&4294967295|b>>>16),b=N+(M^j^x)+V[6]+76029189&4294967295,N=M+(b<<23&4294967295|b>>>9),b=x+(N^M^j)+V[9]+3654602809&4294967295,x=N+(b<<4&4294967295|b>>>28),b=j+(x^N^M)+V[12]+3873151461&4294967295,j=x+(b<<11&4294967295|b>>>21),b=M+(j^x^N)+V[15]+530742520&4294967295,M=j+(b<<16&4294967295|b>>>16),b=N+(M^j^x)+V[2]+3299628645&4294967295,N=M+(b<<23&4294967295|b>>>9),b=x+(M^(N|~j))+V[0]+4096336452&4294967295,x=N+(b<<6&4294967295|b>>>26),b=j+(N^(x|~M))+V[7]+1126891415&4294967295,j=x+(b<<10&4294967295|b>>>22),b=M+(x^(j|~N))+V[14]+2878612391&4294967295,M=j+(b<<15&4294967295|b>>>17),b=N+(j^(M|~x))+V[5]+4237533241&4294967295,N=M+(b<<21&4294967295|b>>>11),b=x+(M^(N|~j))+V[12]+1700485571&4294967295,x=N+(b<<6&4294967295|b>>>26),b=j+(N^(x|~M))+V[3]+2399980690&4294967295,j=x+(b<<10&4294967295|b>>>22),b=M+(x^(j|~N))+V[10]+4293915773&4294967295,M=j+(b<<15&4294967295|b>>>17),b=N+(j^(M|~x))+V[1]+2240044497&4294967295,N=M+(b<<21&4294967295|b>>>11),b=x+(M^(N|~j))+V[8]+1873313359&4294967295,x=N+(b<<6&4294967295|b>>>26),b=j+(N^(x|~M))+V[15]+4264355552&4294967295,j=x+(b<<10&4294967295|b>>>22),b=M+(x^(j|~N))+V[6]+2734768916&4294967295,M=j+(b<<15&4294967295|b>>>17),b=N+(j^(M|~x))+V[13]+1309151649&4294967295,N=M+(b<<21&4294967295|b>>>11),b=x+(M^(N|~j))+V[4]+4149444226&4294967295,x=N+(b<<6&4294967295|b>>>26),b=j+(N^(x|~M))+V[11]+3174756917&4294967295,j=x+(b<<10&4294967295|b>>>22),b=M+(x^(j|~N))+V[2]+718787259&4294967295,M=j+(b<<15&4294967295|b>>>17),b=N+(j^(M|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,x){x===void 0&&(x=C.length);const N=x-this.blockSize,V=this.C;let M=this.h,j=0;for(;j<x;){if(M==0)for(;j<=N;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<x;)if(V[M++]=C.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<x;)if(V[M++]=C[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=x},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)C[x++]=this.g[N]>>>V&255;return C};function c(C,x){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=x(C)}function d(C,x){this.h=x;const N=[];let V=!0;for(let M=C.length-1;M>=0;M--){const j=C[M]|0;V&&j==x||(N[M]=j,V=!1)}this.g=N}var p={};function _(C){return-128<=C&&C<128?c(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return te(v(-C));const x=[];let N=1;for(let V=0;C>=N;V++)x[V]=C/N|0,N*=4294967296;return new d(x,0)}function S(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return te(S(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(x,8));let V=w;for(let j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j);const b=parseInt(C.substring(j,j+M),x);M<8?(M=v(Math.pow(x,M)),V=V.j(M).add(v(b))):(V=V.j(N),V=V.add(v(b)))}return V}var w=_(0),O=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(ie(this))return-te(this).m();let C=0,x=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);C+=(V>=0?V:4294967296+V)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ne(this))return"0";if(ie(this))return"-"+te(this).toString(C);const x=v(Math.pow(C,6));var N=this;let V="";for(;;){const M=Le(N,x).g;N=pe(N,M.j(x));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=M,ne(N))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ne(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function ie(C){return C.h==-1}s.l=function(C){return C=pe(this,C),ie(C)?-1:ne(C)?0:1};function te(C){const x=C.g.length,N=[];for(let V=0;V<x;V++)N[V]=~C.g[V];return new d(N,~C.h).add(O)}s.abs=function(){return ie(this)?te(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),N=[];let V=0;for(let M=0;M<=x;M++){let j=V+(this.i(M)&65535)+(C.i(M)&65535),b=(j>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=b>>>16,j&=65535,b&=65535,N[M]=b<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function pe(C,x){return C.add(te(x))}s.j=function(C){if(ne(this)||ne(C))return w;if(ie(this))return ie(C)?te(this).j(te(C)):te(te(this).j(C));if(ie(C))return te(this.j(te(C)));if(this.l(G)<0&&C.l(G)<0)return v(this.m()*C.m());const x=this.g.length+C.g.length,N=[];for(var V=0;V<2*x;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const j=this.i(V)>>>16,b=this.i(V)&65535,Be=C.i(M)>>>16,Pe=C.i(M)&65535;N[2*V+2*M]+=b*Pe,de(N,2*V+2*M),N[2*V+2*M+1]+=j*Pe,de(N,2*V+2*M+1),N[2*V+2*M+1]+=b*Be,de(N,2*V+2*M+1),N[2*V+2*M+2]+=j*Be,de(N,2*V+2*M+2)}for(C=0;C<x;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=x;C<2*x;C++)N[C]=0;return new d(N,0)};function de(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ue(C,x){this.g=C,this.h=x}function Le(C,x){if(ne(x))throw Error("division by zero");if(ne(C))return new ue(w,w);if(ie(C))return x=Le(te(C),x),new ue(te(x.g),te(x.h));if(ie(x))return x=Le(C,te(x)),new ue(te(x.g),x.h);if(C.g.length>30){if(ie(C)||ie(x))throw Error("slowDivide_ only works with positive integers.");for(var N=O,V=x;V.l(C)<=0;)N=Ne(N),V=Ne(V);var M=Se(N,1),j=Se(V,1);for(V=Se(V,2),N=Se(N,2);!ne(V);){var b=j.add(V);b.l(C)<=0&&(M=M.add(N),j=b),V=Se(V,1),N=Se(N,1)}return x=pe(C,M.j(x)),new ue(M,x)}for(M=w;C.l(x)>=0;){for(N=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=v(N),b=j.j(x);ie(b)||b.l(C)>0;)N-=V,j=v(N),b=j.j(x);ne(j)&&(j=O),M=M.add(j),C=pe(C,b)}return new ue(M,C)}s.B=function(C){return Le(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)&C.i(V);return new d(N,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)|C.i(V);return new d(N,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)^C.i(V);return new d(N,this.h^C.h)};function Ne(C){const x=C.g.length+1,N=[];for(let V=0;V<x;V++)N[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(N,C.h)}function Se(C,x){const N=x>>5;x%=32;const V=C.g.length-N,M=[];for(let j=0;j<V;j++)M[j]=x>0?C.i(j+N)>>>x|C.i(j+N+1)<<32-x:C.i(j+N);return new d(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Ar=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W1,zo,eE,nh,Am,tE,nE,iE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in E))break e;E=E[L]}u=u[u.length-1],A=E[u],m=m(A),m!=A&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=_,v.apply(null,arguments)}function S(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var re=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)re[Me-2]=arguments[Me];return m.prototype[L].apply(A,re)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=u[A];return E}return[]}function ne(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const q=L.length||0;u.length=E+q;for(let re=0;re<q;re++)u[E+re]=L[re]}else u.push(L)}}class ie{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,E){const A=ue.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new ie(()=>new Le,u=>u.reset());class Le{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Se=!1,C=new de,x=()=>{const u=Promise.resolve(void 0);Ne=()=>{u.then(N)}};function N(){for(var u;u=pe();){try{u.h.call(u.g)}catch(E){te(E)}var m=ue;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Se=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function Be(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Be,M),Be.prototype.init=function(u,m){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,E,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=L,this.key=++H,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u,m,E){for(const A in u)m.call(E,u[A],A,u)}function De(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function I(u){const m={};for(const E in u)m[E]=u[E];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)u[E]=A[E];for(let q=0;q<K.length;q++)E=K[q],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,m,E,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=_e(u,m,A,L);return re>-1?(m=u[re],E||(m.fa=!1)):(m=new W(m,this.src,q,!!A,L),m.fa=E,u.push(m)),m};function ae(u,m){const E=m.type;if(E in u.g){var A=u.g[E],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ee(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function _e(u,m,E,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!E&&q.ha==A)return L}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),_t={};function tt(u,m,E,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)tt(u,m[q],E,A,L);return null}return E=Di(E),u&&u[Pe]?u.J(m,E,p(A)?!!A.capture:!1,L):jn(u,m,E,!1,A,L)}function jn(u,m,E,A,L,q){if(!m)throw Error("Invalid event type");const re=p(L)?!!L.capture:!!L;let Me=Pn(u);if(Me||(u[Oe]=Me=new ce(u)),E=Me.add(m,E,A,re,q),E.proxy)return E;if(A=$n(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)j||(L=re),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $n(){function u(E){return m.call(u.src,u.listener,E)}const m=mn;return u}function di(u,m,E,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)di(u,m[q],E,A,L);else A=p(A)?!!A.capture:!!A,E=Di(E),u&&u[Pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],E=_e(m,E,A,L),E>-1&&(ee(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_e(m,E,A,L)),(E=u>-1?m[u]:null)&&mi(E))}function mi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Pe])ae(m.i,u);else{var E=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(E,A,u.capture):m.detachEvent?m.detachEvent(Tn(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=Pn(m))?(ae(E,u),E.h==0&&(E.src=null,m[Oe]=null)):ee(u)}}}function Tn(u){return u in _t?_t[u]:_t[u]="on"+u}function mn(u,m){if(u.da)u=!0;else{m=new Be(m,this);const E=u.listener,A=u.ha||u.src;u.fa&&mi(u),u=E.call(A,m)}return u}function Pn(u){return u=u[Oe],u instanceof ce?u:null}var Ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function Di(u){return typeof u=="function"?u:(u[Ii]||(u[Ii]=function(m){return u.handleEvent(m)}),u[Ii])}function ot(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}w(ot,V),ot.prototype[Pe]=!0,ot.prototype.removeEventListener=function(u,m,E,A){di(this,u,m,E,A)};function vt(u,m){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var L=m;m=new M(A,u),se(m,L)}L=!0;let q,re;if(E)for(re=E.length-1;re>=0;re--)q=m.g=E[re],L=bn(q,A,!0,m)&&L;if(q=m.g=u,L=bn(q,A,!0,m)&&L,L=bn(q,A,!1,m)&&L,E)for(re=0;re<E.length;re++)q=m.g=E[re],L=bn(q,A,!1,m)&&L}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let A=0;A<E.length;A++)ee(E[A]);delete u.g[m],u.h--}}this.G=null},ot.prototype.J=function(u,m,E,A){return this.i.add(String(u),m,!1,E,A)},ot.prototype.K=function(u,m,E,A){return this.i.add(String(u),m,!0,E,A)};function bn(u,m,E,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const re=m[q];if(re&&!re.da&&re.capture==E){const Me=re.listener,Vt=re.ha||re.src;re.fa&&ae(u.i,re),L=Me.call(Vt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Oi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function X(u){u.g=Oi(()=>{u.g=null,u.i&&(u.i=!1,X(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class le extends V{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:X(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(u){V.call(this),this.h=u,this.g={}}w(Ie,V);var mt=[];function ut(u){ge(u.g,function(m,E){this.g.hasOwnProperty(E)&&mi(m)},u),u.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),ut(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=d.JSON.stringify,Ut=d.JSON.parse,gn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ct(){}function xn(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){M.call(this,"d")}w(Qe,M);function Wt(){M.call(this,"c")}w(Wt,M);var Et={},gi=null;function pi(){return gi=gi||new ot}Et.Ia="serverreachability";function Ps(u){M.call(this,Et.Ia,u)}w(Ps,M);function Ln(u){const m=pi();vt(m,new Ps(m))}Et.STAT_EVENT="statevent";function yi(u,m){M.call(this,Et.STAT_EVENT,u),this.stat=m}w(yi,M);function It(u){const m=pi();vt(m,new yi(m,u))}Et.Ja="timingevent";function Sn(u,m){M.call(this,Et.Ja,u),this.size=m}w(Sn,M);function rn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function jl(u,m,E,A,L,q){u.info(function(){if(u.g)if(q){var re="",Me=q.split("&");for(let We=0;We<Me.length;We++){var Vt=Me[We].split("=");if(Vt.length>1){const Nt=Vt[0];Vt=Vt[1];const ti=Nt.split("_");re=ti.length>=2&&ti[1]=="type"?re+(Nt+"="+Vt+"&"):re+(Nt+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+E+`
`+re})}function ba(u,m,E,A,L,q,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+E+`
`+q+" "+re})}function Zn(u,m,E,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pl(u,E)+(A?" "+A:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Pl(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var E=q[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return ke(q)}catch{return m}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function D(){}w(D,Ct),D.prototype.g=function(){return new XMLHttpRequest},Pr=new D;function Te(u){return encodeURIComponent(String(u))}function nt(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function Tt(u,m,E,A){this.j=u,this.i=m,this.l=E,this.S=A||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var it={},gt={};function Mi(u,m,E){u.M=1,u.A=Lr(Bt(m)),u.u=E,u.R=!0,Sa(u,null)}function Sa(u,m){u.F=Date.now(),Vi(u),u.B=Bt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Na(E.i,"t",A),u.C=0,E=u.j.L,u.h=new bt,u.g=ku(u.j,E?m:null,!u.u),u.P>0&&(u.O=new le(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(mt[0]=L.toString()),L=mt);for(let q=0;q<L.length;q++){const re=tt(E,L[q],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ln(),jl(u.i,u.v,u.B,u.l,u.S,u.u)}Tt.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ei(u)==3?m.j():this.Y(u)},Tt.prototype.Y=function(u){try{if(u==this.g)e:{const Me=Ei(this.g),Vt=this.g.ya(),We=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Me!=4||Vt==7||(Vt==8||We<=0?Ln(3):Ln(2)),ki(this);var m=this.g.ca();this.X=m;var E=Jh(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,Me,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var q=A;break t}}q=null}if(u=q)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,u);else{this.o=!1,this.m=3,It(12),zn(this),Jn(this);break e}}if(this.R){u=!0;let Nt;for(;!this.K&&this.C<E.length;)if(Nt=bu(this,E),Nt==gt){Me==4&&(this.m=4,It(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==it){this.m=4,It(15),Zn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,Nt,null),ji(this,Nt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,E,"[Invalid Chunked Response]"),zn(this),Jn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(re),re.P=!0,It(11))}}else Zn(this.i,this.l,E,null),ji(this,E);Me==4&&zn(this),this.o&&!this.K&&(Me==4?Du(this.j,this):(this.o=!1,Vi(this)))}else us(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),zn(this),Jn(this)}}}catch{}finally{}};function Jh(u){if(!Tu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let E="";const A=m.length,L=Ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return zn(u),Jn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,E+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var E=u.C,A=m.indexOf(`
`,E);return A==-1?gt:(E=Number(m.substring(E,A)),isNaN(E)?it:(A+=1,A+E>m.length?gt:(m=m.slice(A,A+E),u.C=A+E,m)))}Tt.prototype.cancel=function(){this.K=!0,zn(this)};function Vi(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=rn(v(u.aa,u),m)}function ki(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Tt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(Ln(),It(17)),zn(this),this.m=2,Jn(this)):Aa(this,this.T-u)};function Jn(u){u.j.I==0||u.K||Du(u.j,u)}function zn(u){ki(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ut(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ji(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||Li(E.h,u))){if(!u.L&&Li(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Oa(E),Gs(E);else break e;Gr(E),It(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=rn(v(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((u.L||E.g==u)&&Oa(E),!b(m))for(L=E.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const Nt=We[0];if(!(Nt<=E.K))if(E.K=Nt,We=We[1],E.I==2)if(We[0]=="c"){E.M=We[1],E.ba=We[2];const ti=We[3];ti!=null&&(E.ka=ti,E.j.info("VER="+E.ka));const Gi=We[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const Ti=We[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(A=1.5*Ti,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const bi=u.g;if(bi){const Kr=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var q=A.h;q.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zl(q,q.h),q.h=null))}if(A.G){const Ma=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(A.wa=Ma,rt(A.J,A.G,Ma))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var re=u;if(A.na=Vu(A,A.L?A.ba:null,A.W),re.L){Bl(A.h,re);var Me=re,Vt=A.O;Vt&&(Me.H=Vt),Me.D&&(ki(Me),Vi(Me)),A.g=re}else Cu(A);E.i.length>0&&Hi(E)}else We[0]!="stop"&&We[0]!="close"||Fi(E,7);else E.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Fi(E,7):$l(E):We[0]!="noop"&&E.l&&E.l.qa(We),E.A=0)}}Ln(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Ll(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pi(u){return u.h?1:u.g?u.g.size:0}function Li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zl(u,m){u.g?u.g.add(m):u.h=m}function Bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ll.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ql(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return G(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let L,q=null;A>=0?(L=u[E].substring(0,A),q=u[E].substring(A+1)):L=u[E],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Bn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Hl(this,Nu(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,en(this,m[1]||"",!0),this.o=Ui(m[2]||""),this.g=Ui(m[3]||"",!0),Ls(this,m[4]),this.h=Ui(m[5]||"",!0),Hl(this,m[6]||"",!0),this.m=Ui(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,xa,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,xa,!0),"@"),u.push(Te(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Ur(E,E.charAt(0)=="/"?Fl:Au,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Ur(E,wu)),u.join("")},Bn.prototype.resolve=function(u){const m=Bt(this);let E=!!u.j;E?en(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var A=u.h;if(E)Ls(m,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let re=0;re<L.length;){const Me=L[re++];Me=="."?A&&re==L.length&&q.push(""):Me==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&re==L.length&&q.push("")):(q.push(Me),A=!0)}A=q.join("/")}else A=L}return E?m.h=A:E=u.i.toString()!=="",E?Hl(m,Nu(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Bt(u){return new Bn(u)}function en(u,m,E){u.j=E?Ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hl(u,m,E){m instanceof zs?(u.i=m,Ra(u.i,u.l)):(E||(m=Ur(m,Us)),u.i=new zs(m,u.l))}function rt(u,m,E){u.i.set(m,E)}function Lr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,Nn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Au=/[#\?:]/g,Fl=/[#\?]/g,Us=/[#\?@]/g,wu=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=zs.prototype,s.add=function(u,m){Rn(this),this.i=null,u=Bs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function xu(u,m){Rn(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Gl(u,m){return Rn(u),m=Bs(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(E,A){E.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Kl(u,m){Rn(u);let E=[];if(typeof m=="string")Gl(u,m)&&(E=E.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return Rn(this),this.i=null,u=Bs(this,u),Gl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Kl(this,u),u.length>0?String(u[0]):m):m};function Na(u,m,E){xu(u,m),E.length>0&&(u.i=null,u.g.set(Bs(u,m),G(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const L=Te(E);E=Kl(this,E);for(let q=0;q<E.length;q++){let re=L;E[q]!==""&&(re+="="+Te(E[q])),u.push(re)}}return this.i=u.join("&")};function Nu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ra(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(xu(this,A),Na(this,L,E))},u)),u.j=m}function _i(u,m){const E=new Un;if(d.Image){const A=new Image;A.onload=S(Wn,E,"TestLoadImage: loaded",!0,m,A),A.onerror=S(Wn,E,"TestLoadImage: error",!1,m,A),A.onabort=S(Wn,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(Wn,E,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ql(u,m){const E=new Un,A=new AbortController,L=setTimeout(()=>{A.abort(),Wn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Wn(E,"TestPingServer: ok",!0,m):Wn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Wn(E,"TestPingServer: error",!1,m)})}function Wn(u,m,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function qs(){this.g=new gn}function zi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(zi,Ct),zi.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){ot.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(zr,ot),s=zr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,vi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hs(this):vi(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Hs(this))},s.Na=function(u){this.g&&(this.response=u,Hs(this))},s.ga=function(){this.g&&Hs(this)};function Hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ei(u){let m="";return ge(u,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function Br(u,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ei(E),typeof u=="string"?E!=null&&Te(E):rt(u,m,E))}function ct(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ct,ot);var Bi=/^https?$/i,Yl=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){qr(this,q);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())E.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Yl,m,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of E)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){qr(this,q)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xl(u),os(u)}function Xl(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,vt(this,"complete"),vt(this,"abort"),os(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&Ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(vt(u,"readystatechange"),Ei(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=q===0){let re=String(u.D).match(Su)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!Bi.test(re?re.toLowerCase():"")}E=A}if(E)vt(u,"complete"),vt(u,"success");else{u.o=6;try{var L=Ei(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Xl(u)}}finally{os(u)}}}}function os(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||vt(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ut(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function us(u){const m={};u=(u.g&&Ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(b(u[A]))continue;var E=nt(u[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=m[L]||[];m[L]=q,q.push(E)}De(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function Fs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,u),this.Za=qi("retryDelaySeedMs",1e4,u),this.Ta=qi("forwardChannelMaxRetries",2,u),this.va=qi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(u&&u.concurrentRequestLimit),this.Ba=new qs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Fs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,A){It(0),this.W=u,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),Hi(this)};function $l(u){if(Ia(u),u.I==3){var m=u.V++,E=Bt(u.J);if(rt(E,"SID",u.M),rt(E,"RID",m),rt(E,"TYPE","terminate"),Fr(u,E),m=new Tt(u,u.j,m),m.M=2,m.A=Lr(Bt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Vi(m)}Mu(u)}function Gs(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Ia(u){Gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Hi(u){if(!Ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ne||x(),Se||(Ne(),Se=!0),C.add(m,u),u.D=0}}function Da(u,m){return Pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=rn(v(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Tt(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Ru(this,L,m),E=Bt(this.J),rt(E,"RID",u),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),Fr(this,E),q&&(this.R?m="headers="+Te(ei(q))+"&"+m:this.u&&Br(E,this.u,q)),zl(this.h,L),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",m),rt(E,"SID","null"),L.U=!0,Mi(L,E,null)):Mi(L,E,m),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||Ul(this.h)||Zl(this))};function Zl(u,m){var E;m?E=m.l:E=u.V++;const A=Bt(u.J);rt(A,"SID",u.M),rt(A,"RID",E),rt(A,"AID",u.K),Fr(u,A),u.u&&u.o&&Br(A,u.u,u.o),E=new Tt(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zl(u.h,E),Mi(E,A,m)}function Fr(u,m){u.H&&ge(u.H,function(E,A){rt(m,A,E)}),u.l&&ge({},function(E,A){rt(m,A,E)})}function Ru(u,m,E){E=Math.min(u.i.length,E);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Me=-1;for(;;){const Vt=["count="+E];Me==-1?E>0?(Me=L[0].g,Vt.push("ofs="+Me)):Me=0:Vt.push("ofs="+Me);let We=!0;for(let Nt=0;Nt<E;Nt++){var q=L[Nt].g;const ti=L[Nt].map;if(q-=Me,q<0)Me=Math.max(0,L[Nt].g-100),We=!1;else try{q="req"+q+"_"||"";try{var re=ti instanceof Map?ti:Object.entries(ti);for(const[Gi,Ti]of re){let bi=Ti;p(Ti)&&(bi=ke(Ti)),Vt.push(q+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Vt.push(q+"type="+encodeURIComponent("_badmap")),Gi}}catch{A&&A(ti)}}if(We){re=Vt.join("&");break e}}re=void 0}return u=u.i.splice(0,E),m.G=u,re}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ne||x(),Se||(Ne(),Se=!0),C.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=rn(v(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=rn(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Gs(this),Iu(this))};function Jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new Tt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Fr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Lr(Bt(m)),E.u=null,E.R=!0,Sa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Gs(this),Gr(this),It(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var E=null;if(u.g==m){Oa(u),Jl(u),u.g=null;var A=2}else if(Li(u.h,m))E=m.G,Bl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=pi(),vt(A,new Sn(A,E)),Hi(u)}else Cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Da(u,m)||A==2&&Gr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),L){case 1:Fi(u,5);break;case 4:Fi(u,10);break;case 3:Fi(u,6);break;default:Fi(u,2)}}}function Ou(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Fi(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),A=u.Ua;const L=!A;A=new Bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(A,"https"),Lr(A),L?_i(A.toString(),E):Ql(A.toString(),E)}else It(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=ql(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,E){var A=E instanceof Bn?Bt(E):new Bn(E);if(A.g!="")m&&(A.g=m+"."+A.g),Ls(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Bn(null);A&&en(q,A),m&&(q.g=m),L&&Ls(q,L),E&&(q.h=E),A=q}return E=u.G,m=u.wa,E&&m&&rt(A,E,m),rt(A,"VER",u.ka),Fr(u,A),A}function ku(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new zi({ab:E})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new An(u,m)};function An(u,m){ot.call(this),this.g=new Fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new cs(this)}w(An,ot),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){$l(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=ke(u),u=E);m.i.push(new zt(m.Ya++,u)),m.I==3&&Hi(m)},An.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,An.Z.N.call(this)};function Pu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Pu,Qe);function Lu(){Wt.call(this),this.status=1}w(Lu,Wt);function cs(u){this.g=u}w(cs,ju),cs.prototype.ra=function(){vt(this.g,"a")},cs.prototype.qa=function(u){vt(this.g,new Pu(u))},cs.prototype.pa=function(u){vt(this.g,new Lu)},cs.prototype.oa=function(){vt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,iE=function(){return new Ks},nE=function(){return pi()},tE=Et,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,nh=ls,jr.COMPLETE="complete",eE=jr,xn.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",ot.prototype.listen=ot.prototype.J,zo=xn,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,W1=ct}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",J_="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Dl="12.3.0";const pa=new Gm("@firebase/firestore");function ul(){return pa.logLevel}function fe(s,...e){if(pa.logLevel<=Fe.DEBUG){const i=e.map(ng);pa.debug(`Firestore (${Dl}): ${s}`,...i)}}function Os(s,...e){if(pa.logLevel<=Fe.ERROR){const i=e.map(ng);pa.error(`Firestore (${Dl}): ${s}`,...i)}}function Tl(s,...e){if(pa.logLevel<=Fe.WARN){const i=e.map(ng);pa.warn(`Firestore (${Dl}): ${s}`,...i)}}function ng(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,sE(s,r,i)}function sE(s,e,i){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Os(r),new Error(r)}function st(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||sE(e,o,r)}function Ce(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class rE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ca,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new rE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class EN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function wm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return om(o)===om(c)?Ge(o,c):om(o)?1:-1}return Ge(s.length,e.length)}const AN=55296,wN=57343;function om(s){const e=s.charCodeAt(0);return e>=AN&&e<=wN}function bl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const ev="__name__";class Zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&we(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const r=Zi.isNumericId(e),o=Zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):wm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class yt extends Zi{construct(e,i,r){return new yt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const xN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Zi{construct(e,i,r){return new fn(e,i,r)}static isValidIdentifier(e){return xN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new fn([ev])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(yt.fromString(e))}static fromName(e){return new Ee(yt.fromString(e).popFirst(5))}static empty(){return new Ee(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new yt(e.slice()))}}function aE(s,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function NN(s,e,i,r){if(e===!0&&r===!0)throw new he(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function tv(s){if(!Ee.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nv(s){if(Ee.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function lE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kh(s);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function gu(s,e){if(!lE(s))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const iv=-62135596800,sv=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*sv);return new xt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<iv)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Yt("string",xt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new xt(0,0))}static max(){return new xe(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function RN(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new xt(i+1,0):new xt(i,r));return new xr(o,Ee.empty(),e)}function CN(s){return new xr(s.readTime,s.key,tu)}class xr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new xr(xe.min(),Ee.empty(),tu)}static max(){return new xr(xe.max(),Ee.empty(),tu)}}function IN(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==DN)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((S=>{d[v]=S,++p,p===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function MN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ml(s){return s.name==="IndexedDbTransactionError"}class jh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const sg=-1;function Ph(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function VN(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const oE="";function kN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=rv(e)),e=jN(s.get(i),e);return rv(e)}function jN(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case oE:i+="";break;default:i+=c}}return i}function rv(s){return s+oE+""}function av(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Mr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function uE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Dt{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Dt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new hn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(e){return new lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Zt(this.comparator);return i.data=e,i}}class lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Xn([])}unionWith(e){let i=new Zt(fn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new cE("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=PN.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(s.seconds),nanos:Pt(s.nanos)}}function Pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const hE="server_timestamp",fE="__type__",dE="__previous_value__",mE="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[fE]?.stringValue===hE}function Lh(s){const e=s.mapValue.fields[dE];return rg(e)?Lh(e):e}function nu(s){const e=Nr(s.mapValue.fields[mE].timestampValue);return new xt(e.seconds,e.nanos)}class LN{constructor(e,i,r,o,c,d,p,_,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const vh="(default)";class iu{constructor(e,i){this.projectId=e,this.database=i||vh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const gE="__type__",UN="__max__",Gc={mapValue:{}},pE="__vector__",Eh="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:BN(s)?9007199254740991:zN(s)?10:11:we(28295,{value:s})}function rs(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Nr(o.timestampValue),p=Nr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Pt(o.geoPointValue.latitude)===Pt(c.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Pt(o.integerValue)===Pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Pt(o.doubleValue),p=Pt(c.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(av(d)!==av(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!rs(d[_],p[_])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function su(s,e){return(s.values||[]).find((i=>rs(i,e)))!==void 0}function Sl(s,e){if(s===e)return 0;const i=Cr(s),r=Cr(e);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Pt(c.integerValue||c.doubleValue),_=Pt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return ov(s.timestampValue,e.timestampValue);case 4:return ov(nu(s),nu(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Rr(c),_=Rr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Ge(p[v],_[v]);if(S!==0)return S}return Ge(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ge(Pt(c.latitude),Pt(d.latitude));return p!==0?p:Ge(Pt(c.longitude),Pt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return uv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Eh]?.arrayValue,S=_[Eh]?.arrayValue,w=Ge(v?.values?.length||0,S?.values?.length||0);return w!==0?w:uv(v,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const O=wm(_[w],S[w]);if(O!==0)return O;const G=Sl(p[_[w]],v[S[w]]);if(G!==0)return G}return Ge(_.length,S.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function ov(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=Nr(s),r=Nr(e),o=Ge(i.seconds,r.seconds);return o!==0?o:Ge(i.nanos,r.nanos)}function uv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Sl(i[o],r[o]);if(c)return c}return Ge(i.length,r.length)}function Al(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ee.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=xm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${xm(i.fields[d])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function ih(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Mr(r.fields,((c,d)=>{o+=c.length+ih(d)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function cv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function zN(s){return(s?.mapValue?.fields||{})[gE]?.stringValue===pE}function Qo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Mr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Qo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Qo(s.arrayValue.values[i]);return e}return{...s}}function BN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!sh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(i)}setAll(e){let i=fn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Qo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());sh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Mr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new kn(Qo(this.value))}}function yE(s){const e=[];return Mr(s.fields,((i,r)=>{const o=new fn([i]);if(sh(r)){const c=yE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Xn(e)}class vn{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,xe.min(),xe.min(),xe.min(),kn.empty(),0)}static newFoundDocument(e,i,r,o){return new vn(e,1,i,xe.min(),r,o,0)}static newNoDocument(e,i){return new vn(e,2,i,xe.min(),xe.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,xe.min(),xe.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,i){this.position=e,this.inclusive=i}}function dv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),i.key):r=Sl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function mv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!rs(s.position[i],e.position[i]))return!1;return!0}class ru{constructor(e,i="asc"){this.field=e,this.dir=i}}function qN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class _E{}class Qt extends _E{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new FN(e,i,r):i==="array-contains"?new QN(e,r):i==="in"?new YN(e,r):i==="not-in"?new XN(e,r):i==="array-contains-any"?new $N(e,r):new Qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new GN(e,r):new KN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sl(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Sl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends _E{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return vE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vE(s){return s.op==="and"}function EE(s){return HN(s)&&vE(s)}function HN(s){for(const e of s.filters)if(e instanceof Ci)return!1;return!0}function Rm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Al(s.value);if(EE(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((i=>Rm(i))).join(",");return`${s.op}(${e})`}}function TE(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&rs(r.value,o.value)})(s,e):s instanceof Ci?(function(r,o){return o instanceof Ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&TE(d,o.filters[p])),!0):!1})(s,e):void we(19439)}function bE(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Al(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(bE).join(" ,")+"}"})(s):"Filter"}class FN extends Qt{constructor(e,i,r){super(e,i,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class GN extends Qt{constructor(e,i){super(e,"in",i),this.keys=SE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class KN extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=SE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function SE(s,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class QN extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ag(i)&&su(i.arrayValue,this.value)}}class YN extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&su(this.value.arrayValue,i)}}class XN extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!su(this.value.arrayValue,i)}}class $N extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class ZN{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function gv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new ZN(s,e,i,r,o,c,d)}function lg(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Rm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Al(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Al(r))).join(",")),e.Te=i}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!TE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!mv(s.startAt,e.startAt)&&mv(s.endAt,e.endAt)}function Cm(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vl{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JN(s,e,i,r,o,c,d,p){return new Vl(s,e,i,r,o,c,d,p)}function ug(s){return new Vl(s)}function pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AE(s){return s.collectionGroup!==null}function Yo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Zt(fn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ru(c,r))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new ru(fn.keyField(),r))}return e.Ie}function ts(s){const e=Ce(s);return e.Ee||(e.Ee=WN(e,Yo(s))),e.Ee}function WN(s,e){if(s.limitType==="F")return gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ru(o.field,c)}));const i=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Im(s,e){const i=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bh(s,e,i){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Uh(s,e){return og(ts(s),ts(e))&&s.limitType===e.limitType}function wE(s){return`${lg(ts(s))}|lt:${s.limitType}`}function cl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>bE(o))).join(", ")}]`),Ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Al(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Al(o))).join(",")),`Target(${r})`})(ts(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Yo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=dv(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,Yo(r),o)||r.endAt&&!(function(d,p,_){const v=dv(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,Yo(r),o))})(s,e)}function eR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(e,i)=>{let r=!1;for(const o of Yo(s)){const c=tR(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tR(s,e,i){const r=s.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Sl(_,v):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}const nR=new Dt(Ee.comparator);function Ms(){return nR}const NE=new Dt(Ee.comparator);function Bo(...s){let e=NE;for(const i of s)e=e.insert(i.key,i);return e}function RE(s){let e=NE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ua(){return Xo()}function CE(){return Xo()}function Xo(){return new Ea((s=>s.toString()),((s,e)=>s.isEqual(e)))}const iR=new Dt(Ee.comparator),sR=new Zt(Ee.comparator);function Ke(...s){let e=sR;for(const i of s)e=e.add(i);return e}const rR=new Zt(Ge);function aR(){return rR}function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function IE(s){return{integerValue:""+s}}function lR(s,e){return VN(e)?IE(e):cg(s,e)}class Bh{constructor(){this._=void 0}}function oR(s,e,i){return s instanceof Sh?(function(o,c){const d={fields:{[fE]:{stringValue:hE},[mE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rg(c)&&(c=Lh(c)),c&&(d.fields[dE]=c),{mapValue:d}})(i,e):s instanceof au?OE(s,e):s instanceof lu?ME(s,e):(function(o,c){const d=DE(o,c),p=yv(d)+yv(o.Ae);return Nm(d)&&Nm(o.Ae)?IE(p):cg(o.serializer,p)})(s,e)}function uR(s,e,i){return s instanceof au?OE(s,e):s instanceof lu?ME(s,e):i}function DE(s,e){return s instanceof Ah?(function(r){return Nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Sh extends Bh{}class au extends Bh{constructor(e){super(),this.elements=e}}function OE(s,e){const i=VE(e);for(const r of s.elements)i.some((o=>rs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lu extends Bh{constructor(e){super(),this.elements=e}}function ME(s,e){let i=VE(e);for(const r of s.elements)i=i.filter((o=>!rs(o,r)));return{arrayValue:{values:i}}}class Ah extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function yv(s){return Pt(s.integerValue||s.doubleValue)}function VE(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof au&&o instanceof au||r instanceof lu&&o instanceof lu?bl(r.elements,o.elements,rs):r instanceof Ah&&o instanceof Ah?rs(r.Ae,o.Ae):r instanceof Sh&&o instanceof Sh})(s.transform,e.transform)}class hR{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function kE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hg(s.key,fi.none()):new pu(s.key,s.data,fi.none());{const i=s.data,r=kn.empty();let o=new Zt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Vr(s.key,r,new Xn(o.toArray()),fi.none())}}function fR(s,e,i){s instanceof pu?(function(o,c,d){const p=o.value.clone(),_=vv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Vr?(function(o,c,d){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=vv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(jE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $o(s,e,i,r){return s instanceof pu?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=c.value.clone(),S=Ev(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Vr?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=Ev(c.fieldTransforms,_,d),S=d.data;return S.setAll(jE(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function dR(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=DE(r.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(r.field,c))}return i||null}function _v(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&bl(r,o,((c,d)=>cR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends qh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends qh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function vv(s,e,i){const r=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,uR(d,p,i[o]))}return r}function Ev(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,oR(c,d,e))}return r}class hg extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gR{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fR(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=$o(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=$o(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=CE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=kE(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((i,r)=>_v(i,r)))&&bl(this.baseMutations,e.baseMutations,((i,r)=>_v(i,r)))}}class fg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new fg(e,i,r,o)}}class pR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Xe;function _R(s){switch(s){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function PE(s){if(s===void 0)return Os("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Kt.OK:return Z.OK;case Kt.CANCELLED:return Z.CANCELLED;case Kt.UNKNOWN:return Z.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return Z.INTERNAL;case Kt.UNAVAILABLE:return Z.UNAVAILABLE;case Kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Kt.NOT_FOUND:return Z.NOT_FOUND;case Kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Kt.ABORTED:return Z.ABORTED;case Kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Kt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:s})}}(Xe=Kt||(Kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function vR(){return new TextEncoder}const ER=new Ar([4294967295,4294967295],0);function Tv(s){const e=vR().encode(s),i=new J1;return i.update(e),new Uint8Array(i.digest())}function bv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,r],0),new Ar([o,c],0)]}class dg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new qo(`Invalid padding: ${i}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new qo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ar.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ar.fromNumber(r)));return o.compare(ER)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Tv(e),[r,o]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dg(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Tv(e),[r,o]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Hh(xe.min(),o,new Dt(Ge),Ms(),Ke())}}class yu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yu(r,i,Ke(),Ke(),Ke())}}class ah{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class LE{constructor(e,i){this.targetId=e,this.Ce=i}}class UE{constructor(e,i,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=Av(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),r=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:c})}})),new yu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Kc(),this.He=Kc(),this.Ye=new Dt(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Cm(c))if(r===0){const d=new Ee(c.path);this.et(i,d,vn.newNoDocument(d,xe.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Rr(r).toUint8Array()}catch(_){if(_ instanceof cE)return Tl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new dg(d,o,c)}catch(_){return Tl(_ instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Cm(p.target)){const _=new Ee(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,vn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Hh(e,i,this.Ye,this.je,r);return this.je=Ms(),this.Je=Kc(),this.He=Kc(),this.Ye=new Dt(Ge),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Sv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Zt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Zt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||fe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Kc(){return new Dt(Ee.comparator)}function Av(){return new Dt(Ee.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class wR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dm(s,e){return s.useProto3Json||Ph(e)?e:{value:e}}function wh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xR(s,e){return wh(s,e.toTimestamp())}function ns(s){return st(!!s,49232),xe.fromTimestamp((function(i){const r=Nr(i);return new xt(r.seconds,r.nanos)})(s))}function mg(s,e){return Om(s,e).canonicalString()}function Om(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function BE(s){const e=yt.fromString(s);return st(KE(e),10190,{key:e.toString()}),e}function Mm(s,e){return mg(s.databaseId,e.path)}function um(s,e){const i=BE(e);if(i.get(1)!==s.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ee(HE(i))}function qE(s,e){return mg(s.databaseId,e)}function NR(s){const e=BE(s);return e.length===4?yt.emptyPath():HE(e)}function Vm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function HE(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,e,i){return{name:Mm(s,e),fields:i.value.mapValue.fields}}function RR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(st(S===void 0||typeof S=="string",58123),dn.fromBase64String(S||"")):(st(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),dn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Z.UNKNOWN:PE(v.code);return new he(S,v.message||"")})(d);i=new UE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(s,r.document.name),c=ns(r.document.updateTime),d=r.document.createTime?ns(r.document.createTime):xe.min(),p=new kn({mapValue:{fields:r.document.fields}}),_=vn.newFoundDocument(o,c,d,p),v=r.targetIds||[],S=r.removedTargetIds||[];i=new ah(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(s,r.document),c=r.readTime?ns(r.readTime):xe.min(),d=vn.newNoDocument(o,c),p=r.removedTargetIds||[];i=new ah([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(s,r.document),c=r.removedTargetIds||[];i=new ah([],c,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yR(o,c),p=r.targetId;i=new LE(p,d)}}return i}function CR(s,e){let i;if(e instanceof pu)i={update:wv(s,e.key,e.value)};else if(e instanceof hg)i={delete:Mm(s,e.key)};else if(e instanceof Vr)i={update:wv(s,e.key,e.data),updateMask:LR(e.fieldMask)};else{if(!(e instanceof mR))return we(16599,{Vt:e.type});i={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:xR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function IR(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?ns(o.updateTime):ns(c);return d.isEqual(xe.min())&&(d=ns(c)),new hR(d,o.transformResults||[])})(i,e)))):[]}function DR(s,e){return{documents:[qE(s,e.path)]}}function OR(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=qE(s,o);const c=(function(v){if(v.length!==0)return GE(Ci.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(O){return{field:hl(O.field),direction:kR(O.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Dm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function MR(s){let e=NR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){st(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const O=FE(w);return O instanceof Ci&&EE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(ne){return new ru(fl(ne.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let O;return O=typeof w=="object"?w.value:w,Ph(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,G=w.values||[];return new Th(G,O)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const O=!w.before,G=w.values||[];return new Th(G,O)})(i.endAt)),JN(e,o,d,c,p,"F",_,v)}function VR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function FE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=fl(i.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fl(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fl(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fl(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(fl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>FE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function kR(s){return bR[s]}function jR(s){return SR[s]}function PR(s){return AR[s]}function hl(s){return{fieldPath:s.canonicalString()}}function fl(s){return fn.fromServerFormat(s.fieldPath)}function GE(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(i.field),op:jR(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const r=i.getFilters().map((o=>GE(o)));return r.length===1?r[0]:{compositeFilter:{op:PR(i.op),filters:r}}})(s):we(54877,{filter:s})}function LR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function KE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Er{constructor(e,i,r,o,c=xe.min(),d=xe.min(),p=dn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UR{constructor(e){this.yt=e}}function zR(s){const e=MR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bh(e,e.limit,"L"):e}class BR{constructor(){this.Cn=new qR}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(xr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class qR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Zt(yt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Zt(yt.comparator)).toArray()}}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(QE,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}const Nv="LruGarbageCollector",HR=1048576;function Rv([s,e],[i,r]){const o=Ge(s,i);return o===0?Ge(e,r):o}class FR{constructor(e){this.Ir=e,this.buffer=new Zt(Rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ml(i)?fe(Nv,"Ignoring IndexedDB error during garbage collection: ",i):await Ol(i)}await this.Vr(3e5)}))}}class KR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(jh.ce);const r=new FR(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(xv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(v=Date.now(),ul()<=Fe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function QR(s,e){return new KR(s,e)}class YR{constructor(){this.changes=new Ea((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $R{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&$o(r.mutation,o,Xn.empty(),xt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ke()){const o=ua();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Bo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ua();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ke())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=Ms();const d=Xo(),p=(function(){return Xo()})();return i.forEach(((_,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Vr)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),$o(S.mutation,v,S.mutation.getFieldMask(),xt.now())):d.set(v.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new XR(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Xo();let o=new Dt(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=r.get(_)||Xn.empty();S=p.applyToLocalView(v,S),r.set(_,S);const w=(o.get(p.batchId)||Ke()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,w=CE();S.forEach((O=>{if(!c.has(O)){const G=kE(i.get(O),r.get(O));G!==null&&w.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(ua());let p=tu,_=c;return d.next((v=>J.forEach(v,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{_=_.insert(S,O)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ke()))).next((S=>({batchId:p,changes:RE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((r=>{let o=Bo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const v=(function(w,O){return new Vl(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((S=>{S.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,vn.newInvalidDocument(S)))}));let p=Bo();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&$o(S.mutation,v,Xn.empty(),xt.now()),zh(i,v)&&(p=p.insert(_,v))})),p}))}}class ZR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ns(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zR(o.bundledQuery),readTime:ns(o.readTime)}})(i)),J.resolve()}}class JR{constructor(){this.overlays=new Dt(Ee.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ua();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=ua(),c=i.length+1,d=new Ee(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Dt(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=c.get(v.largestBatchId);S===null&&(S=ua(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return J.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pR(i,r));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class WR{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class gg{constructor(){this.Qr=new Zt(sn.$r),this.Ur=new Zt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new sn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ee(new yt([])),r=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new yt([])),r=new sn(i,e),o=new sn(i,e+1);let c=Ke();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}class eC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(sn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gR(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Zt(Ge);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const d=new sn(new Ee(c),0);let p=new Zt(Ge);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new sn(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tC{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let r=Ms();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Ms();const d=i.path,p=new Ee(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||IN(CN(S),r)<=0||(o.has(S.key)||zh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){we(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nC(this)}getSize(e){return J.resolve(this.size)}}class nC extends YR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class iC{constructor(e){this.persistence=e,this.si=new Ea((i=>lg(i)),og),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class YE{constructor(e,i){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new WR,this.referenceDelegate=e(this),this.Pi=new iC(this),this.indexManager=new BR,this.remoteDocumentCache=(function(o){return new tC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new UR(i),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){fe("MemoryPersistence","Starting transaction:",e);const o=new sC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class sC extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class xh{constructor(e,i){this.persistence=e,this.pi=new Ea((r=>kN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QR(this,i)}static mi(e,i){return new xh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ih(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new yg(e,i.fromCache,r,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:MN(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(ul()<=Fe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",cl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(ul()<=Fe.DEBUG&&fe("QueryEngine","Query:",cl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ul()<=Fe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",cl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(i))):J.resolve())}ys(e,i){if(pv(i))return J.resolve(null);let r=ts(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bh(i,null,"F"),r=ts(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,bh(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return pv(i)||o.isEqual(xe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?J.resolve(null):(ul()<=Fe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(i)),this.vs(e,d,i,RN(o,tu)).next((p=>p)))}))}Ds(e,i){let r=new Zt(xE(e));return i.forEach(((o,c)=>{zh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return ul()<=Fe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",cl(i)),this.ps.getDocumentsMatchingQuery(e,i,xr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _g="LocalStore",lC=3e8;class oC{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Dt(Ge),this.xs=new Ea((c=>lg(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $R(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function uC(s,e,i,r){return new oC(s,e,i,r)}async function XE(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ke();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function cC(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const w=v.batch,O=w.keys();let G=J.resolve();return O.forEach((ne=>{G=G.next((()=>S.getEntry(_,ne))).next((ie=>{const te=v.docVersions.get(ne);st(te!==null,48541),ie.version.compareTo(te)<0&&(w.applyToRemoteDocument(ie,v),ie.isValidDocument()&&(ie.setReadTime(v.commitVersion),S.addEntry(ie)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ke();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function $E(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hC(s,e){const i=Ce(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,w)=>{const O=o.get(w);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let G=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(dn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),o=o.insert(w,G),(function(ie,te,pe){return ie.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=lC?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(O,G,S)&&p.push(i.Pi.updateTargetData(c,G))}));let _=Ms(),v=Ke();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(fC(c,d,e.documentUpdates).next((S=>{_=S.ks,v=S.qs}))),!r.isEqual(xe.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(S)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function fC(s,e,i){let r=Ke(),o=Ke();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ms();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):fe(_g,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function dC(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mC(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Er(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function km(s,e,i){const r=Ce(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ml(d))throw d;fe(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Cv(s,e,i){const r=Ce(s);let o=xe.min(),c=Ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const w=Ce(_),O=w.xs.get(S);return O!==void 0?J.resolve(w.Ms.get(O)):w.Pi.getTargetData(v,S)})(r,d,ts(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Ke()))).next((p=>(gC(r,eR(e),p),{documents:p,Qs:c})))))}function gC(s,e,i){let r=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Iv{constructor(){this.activeTargetIds=aR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yC{Oo(e){}shutdown(){}}const Dv="ConnectivityMonitor";class Ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Dv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function jm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const cm="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=jm(),p=this.zo(e,i.toUriEncodedString());fe(cm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),S=Rl(v);return this.Jo(e,p,_,r,S).then((w=>(fe(cm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Tl(cm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=_C[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class EC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class TC extends vC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=jm();return new Promise(((p,_)=>{const v=new W1;v.setWithCredentials(!0),v.listenOnce(eE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case nh.NO_ERROR:const w=v.getResponseJson();fe(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case nh.TIMEOUT:fe(yn,`RPC '${e}' ${d} timed out`),_(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const O=v.getStatus();if(fe(yn,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ne=G?.error;if(ne&&ne.status&&ne.message){const ie=(function(pe){const de=pe.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(de)>=0?de:Z.UNKNOWN})(ne.status);_(new he(ie,ne.message))}else _(new he(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new he(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{fe(yn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);fe(yn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=jm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=iE(),p=nE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=c.join("");fe(yn,`Creating RPC '${e}' stream ${o}: ${S}`,_);const w=d.createWebChannel(S,_);this.I_(w);let O=!1,G=!1;const ne=new EC({Yo:te=>{G?fe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(O||(fe(yn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),O=!0),fe(yn,`RPC '${e}' stream ${o} sending:`,te),w.send(te))},Zo:()=>w.close()}),ie=(te,pe,de)=>{te.listen(pe,(ue=>{try{de(ue)}catch(Le){setTimeout((()=>{throw Le}),0)}}))};return ie(w,zo.EventType.OPEN,(()=>{G||(fe(yn,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),ie(w,zo.EventType.CLOSE,(()=>{G||(G=!0,fe(yn,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(w))})),ie(w,zo.EventType.ERROR,(te=>{G||(G=!0,Tl(yn,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),ne.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),ie(w,zo.EventType.MESSAGE,(te=>{if(!G){const pe=te.data[0];st(!!pe,16349);const de=pe,ue=de?.error||de[0]?.error;if(ue){fe(yn,`RPC '${e}' stream ${o} received error:`,ue);const Le=ue.status;let Ne=(function(x){const N=Kt[x];if(N!==void 0)return PE(N)})(Le),Se=ue.message;Ne===void 0&&(Ne=Z.INTERNAL,Se="Unknown error status: "+Le+" with message "+ue.message),G=!0,ne.a_(new he(Ne,Se)),w.close()}else fe(yn,`RPC '${e}' stream ${o} received:`,pe),ne.u_(pe)}})),ie(p,tE.STAT_EVENT,(te=>{te.stat===Am.PROXY?fe(yn,`RPC '${e}' stream ${o} detected buffering proxy`):te.stat===Am.NOPROXY&&fe(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hm(){return typeof document<"u"?document:null}function Fh(s){return new wR(s,!0)}class ZE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Mv="PersistentStream";class JE{constructor(e,i,r,o,c,d,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(fe(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends JE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?ns(d.readTime):xe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Vm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Cm(_)?{documents:DR(c,_)}:{query:OR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=zE(c,d.resumeToken);const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=wh(c,d.snapshotVersion.toTimestamp());const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=VR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Vm(this.serializer),i.removeTarget=e,this.q_(i)}}class SC extends JE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IR(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>CR(this.serializer,r)))};this.q_(i)}}class AC{}class wC extends AC{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Om(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Om(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):fe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class NC{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ta(this)&&(fe(ya,"Restarting streams for network reachability change."),await(async function(_){const v=Ce(_);v.Ea.add(4),await _u(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Gh(v)})(this))}))})),this.Ra=new xC(r,o)}}async function Gh(s){if(Ta(s))for(const e of s.da)await e(!0)}async function _u(s){for(const e of s.da)await e(!1)}function WE(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bg(i)?Tg(i):kl(i).O_()&&Eg(i,e))}function vg(s,e){const i=Ce(s),r=kl(i);i.Ia.delete(e),r.O_()&&eT(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ta(i)&&i.Ra.set("Unknown"))}function Eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}kl(s).Y_(e)}function eT(s,e){s.Va.Ue(e),kl(s).Z_(e)}function Tg(s){s.Va=new TR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.Ra.ua()}function bg(s){return Ta(s)&&!kl(s).x_()&&s.Ia.size>0}function Ta(s){return Ce(s).Ea.size===0}function tT(s){s.Va=void 0}async function RC(s){s.Ra.set("Online")}async function CC(s){s.Ia.forEach(((e,i)=>{Eg(s,e)}))}async function IC(s,e){tT(s),bg(s)?(s.Ra.ha(e),Tg(s)):s.Ra.set("Unknown")}async function DC(s,e,i){if(s.Ra.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){fe(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(s,r)}else if(e instanceof ah?s.Va.Ze(e):e instanceof LE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const r=await $E(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(dn.EMPTY_BYTE_STRING,S.snapshotVersion)),eT(c,_);const w=new Er(S.target,_,v,S.sequenceNumber);Eg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){fe(ya,"Failed to raise snapshot:",r),await Nh(s,r)}}async function Nh(s,e,i){if(!Ml(e))throw e;s.Ea.add(1),await _u(s),s.Ra.set("Offline"),i||(i=()=>$E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(ya,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function nT(s,e){return e().catch((i=>Nh(s,i,e)))}async function Kh(s){const e=Ce(s),i=Ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;OC(e);)try{const o=await dC(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,MC(e,o)}catch(o){await Nh(e,o)}iT(e)&&sT(e)}function OC(s){return Ta(s)&&s.Ta.length<10}function MC(s,e){s.Ta.push(e);const i=Ir(s);i.O_()&&i.X_&&i.ea(e.mutations)}function iT(s){return Ta(s)&&!Ir(s).x_()&&s.Ta.length>0}function sT(s){Ir(s).start()}async function VC(s){Ir(s).ra()}async function kC(s){const e=Ir(s);for(const i of s.Ta)e.ea(i.mutations)}async function jC(s,e,i){const r=s.Ta.shift(),o=fg.from(r,e,i);await nT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function PC(s,e){e&&Ir(s).X_&&await(async function(r,o){if((function(d){return _R(d)&&d!==Z.ABORTED})(o.code)){const c=r.Ta.shift();Ir(r).B_(),await nT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kh(r)}})(s,e),iT(s)&&sT(s)}async function Vv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),fe(ya,"RemoteStore received new credentials");const r=Ta(i);i.Ea.add(3),await _u(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function LC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await _u(i),i.Ra.set("Unknown"))}function kl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ce(i);return c.sa(),new bC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:RC.bind(null,s),t_:CC.bind(null,s),r_:IC.bind(null,s),H_:DC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),bg(s)?Tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),tT(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,r,o){const c=Ce(i);return c.sa(),new SC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,s),r_:PC.bind(null,s),ta:kC.bind(null,s),na:jC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(ya,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Sg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Sg(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(s,e){if(Os("AsyncQueue",`${e}: ${s}`),Ml(s))return new he(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=Bo(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class kv{constructor(){this.ga=new Dt(Ee.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class xl{constructor(e,i,r,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xl(e,i,_l.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zC{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ce(i),c=o.queries;o.queries=jv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function jv(){return new Ea((s=>wE(s)),Uh)}async function BC(s,e){const i=Ce(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new UC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ag(d,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&wg(i)}async function qC(s,e){const i=Ce(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HC(s,e){const i=Ce(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&wg(i)}function FC(s,e,i){const r=Ce(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function wg(s){s.Ca.forEach((e=>{e.next()}))}var Pm,Pv;(Pv=Pm||(Pm={})).Ma="default",Pv.Cache="cache";class GC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class rT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class KC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=xE(e),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new kv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const O=o.get(S),G=zh(this.query,w)?w:null,ne=!!O&&this.mutatedKeys.has(O.key),ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let te=!1;O&&G?O.data.isEqual(G.data)?ne!==ie&&(r.track({type:3,doc:G}),te=!0):this.su(O,G)||(r.track({type:2,doc:G}),te=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!O&&G?(r.track({type:0,doc:G}),te=!0):O&&!G&&(r.track({type:1,doc:O}),te=!0,(_||v)&&(p=!0)),te&&(G?(d=d.add(G),c=ie?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(G,ne){const ie=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:te})}};return ie(G)-ie(ne)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new xl(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new aT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new rT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class QC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class YC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ea((p=>wE(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ee.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(s,e,i=!0){const r=fT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await lT(r,e,i,!0),o}async function ZC(s,e){const i=fT(s);await lT(i,e,!0,!1)}async function lT(s,e,i,r){const o=await mC(s.localStore,ts(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await JC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&WE(s.remoteStore,o),p}async function JC(s,e,i,r,o){s.pu=(w,O,G)=>(async function(ie,te,pe,de){let ue=te.view.ru(pe);ue.Cs&&(ue=await Cv(ie.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,ue))));const Le=de&&de.targetChanges.get(te.targetId),Ne=de&&de.targetMismatches.get(te.targetId)!=null,Se=te.view.applyChanges(ue,ie.isPrimaryClient,Le,Ne);return Uv(ie,te.targetId,Se.au),Se.snapshot})(s,w,O,G);const c=await Cv(s.localStore,e,!0),d=new KC(e,c.Qs),p=d.ru(c.documents),_=yu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);Uv(s,i,v.au);const S=new QC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function WC(s,e,i){const r=Ce(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&vg(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(Ol)):(Lm(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function eI(s,e){const i=Ce(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vg(i.remoteStore,r.targetId))}async function tI(s,e,i){const r=oI(s);try{const o=await(function(d,p){const _=Ce(d),v=xt.now(),S=p.reduce(((G,ne)=>G.add(ne.key)),Ke());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ne=Ms(),ie=Ke();return _.Ns.getEntries(G,S).next((te=>{ne=te,ne.forEach(((pe,de)=>{de.isValidDocument()||(ie=ie.add(pe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ne))).next((te=>{w=te;const pe=[];for(const de of p){const ue=dR(de,w.get(de.key).overlayedDocument);ue!=null&&pe.push(new Vr(de.key,ue,yE(ue.value.mapValue),fi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,pe,p)})).next((te=>{O=te;const pe=te.applyToLocalDocumentSet(w,ie);return _.documentOverlayCache.saveOverlays(G,te.batchId,pe)}))})).then((()=>({batchId:O.batchId,changes:RE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Dt(Ge)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await vu(r,o.changes),await Kh(r.remoteStore)}catch(o){const c=Ag(o,"Failed to persist write");i.reject(c)}}async function oT(s,e){const i=Ce(s);try{const r=await hC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await vu(i,r,e)}catch(r){await Ol(r)}}function Lv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,w)=>{for(const O of w.Sa)O.va(p)&&(v=!0)})),v&&wg(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nI(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Dt(Ee.comparator);d=d.insert(c,vn.newNoDocument(c,xe.min()));const p=Ke().add(c),_=new Hh(xe.min(),new Map,new Dt(Ge),d,p);await oT(r,_),r.du=r.du.remove(c),r.Au.delete(e),Ng(r)}else await km(r.localStore,e,!1).then((()=>Lm(r,e,i))).catch(Ol)}async function iI(s,e){const i=Ce(s),r=e.batch.batchId;try{const o=await cC(i.localStore,e);cT(i,r,null),uT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vu(i,o)}catch(o){await Ol(o)}}async function sI(s,e,i){const r=Ce(s);try{const o=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(st(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(r.localStore,e);cT(r,e,i),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vu(r,o)}catch(o){await Ol(o)}}function uT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function cT(s,e,i){const r=Ce(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Lm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||hT(s,r)}))}function hT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ng(s))}function Uv(s,e,i){for(const r of i)r instanceof rT?(s.Ru.addReference(r.key,e),rI(s,r)):r instanceof aT?(fe(xg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||hT(s,r.key)):we(19791,{wu:r})}function rI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(fe(xg,"New document in limbo: "+i),s.Eu.add(r),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ee(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new YC(i)),s.du=s.du.insert(i,r),WE(s.remoteStore,new Er(ts(ug(i.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function vu(s,e,i){const r=Ce(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=yg.As(_.targetId,v);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const S=Ce(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(v,(O=>J.forEach(O.Es,(G=>S.persistence.referenceDelegate.addReference(w,O.targetId,G))).next((()=>J.forEach(O.ds,(G=>S.persistence.referenceDelegate.removeReference(w,O.targetId,G)))))))))}catch(w){if(!Ml(w))throw w;fe(_g,"Failed to update sequence numbers: "+w)}for(const w of v){const O=w.targetId;if(!w.fromCache){const G=S.Ms.get(O),ne=G.snapshotVersion,ie=G.withLastLimboFreeSnapshotVersion(ne);S.Ms=S.Ms.insert(O,ie)}}})(r.localStore,c))}async function aI(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){fe(xg,"User change. New user:",e.toKey());const r=await XE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(i,r.Ls)}}function lI(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function fT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nI.bind(null,e),e.Pu.H_=HC.bind(null,e.eventManager),e.Pu.yu=FC.bind(null,e.eventManager),e}function oI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}Cu(e){return new YE(pg.mi,this.serializer)}Du(e){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class uI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new YE((r=>xh.mi(r,i)),this.serializer)}}class Um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zC})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=(function(c){return new TC(c)})(e.databaseInfo);return(function(c,d,p,_){return new wC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new NC(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new yC})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,S){const w=new XC(o,c,d,p,_,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);fe(ya,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Dr="FirestoreClient";class hI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{fe(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(fe(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ag(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await XE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function zv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fI(s);fe(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Vv(e.remoteStore,o))),s._onlineComponents=e}async function fI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Dr,"Using user provided OfflineComponentProvider");try{await fm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Tl("Error using user provided cache. Falling back to memory cache: "+i),await fm(s,new Rh)}}else fe(Dr,"Using default OfflineComponentProvider"),await fm(s,new uI(void 0));return s._offlineComponents}async function dT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Dr,"Using user provided OnlineComponentProvider"),await zv(s,s._uninitializedComponentsProvider._online)):(fe(Dr,"Using default OnlineComponentProvider"),await zv(s,new Um))),s._onlineComponents}function dI(s){return dT(s).then((e=>e.syncEngine))}async function Bv(s){const e=await dT(s),i=e.eventManager;return i.onListen=$C.bind(null,e.syncEngine),i.onUnlisten=WC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,e.syncEngine),i}function mT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qv=new Map;const gT="firestore.googleapis.com",Hv=!0;class Fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=Hv}else this.host=e.host,this.ssl=e.ssl??Hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HR)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yN;switch(r.type){case"firstParty":return new TN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=qv.get(i);r&&(fe("ComponentProvider","Removing Datastore"),qv.delete(i),r.terminate())})(this),Promise.resolve()}}function mI(s,e,i,r={}){s=es(s,Qh);const o=Rl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(c1(`https://${p}`),h1("Firestore",!0)),c.host!==gT&&c.host!==p&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!fa(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,S;if(typeof r.mockUserToken=="string")v=r.mockUserToken,S=_n.MOCK_USER;else{v=AA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new _n(w)}s._authCredentials=new _N(new rE(v,S))}}class kr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class Lt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(gu(i,Lt._jsonSchema))return new Lt(e,r||null,new Ee(yt.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Yt("string",Lt._jsonSchemaVersion),referencePath:Yt("string")};class wr extends kr{constructor(e,i,r){super(e,i,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ee(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Gv(s,e,...i){if(s=Jt(s),aE("collection","path",e),s instanceof Qh){const r=yt.fromString(e,...i);return nv(r),new wr(s,null,r)}{if(!(s instanceof Lt||s instanceof wr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return nv(r),new wr(s.firestore,null,r)}}function zm(s,e,...i){if(s=Jt(s),arguments.length===1&&(e=ig.newId()),aE("doc","path",e),s instanceof Qh){const r=yt.fromString(e,...i);return tv(r),new Lt(s,null,new Ee(r))}{if(!(s instanceof Lt||s instanceof wr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return tv(r),new Lt(s.firestore,s instanceof wr?s.converter:null,new Ee(r))}}const Kv="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&fe(Kv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=hm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;fe(Kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",Yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Sg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Yv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Xv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class _a extends Qh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function gI(s,e){const i=typeof s=="object"?s:g1(),r=typeof s=="string"?s:vh,o=Qm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=bA("firestore");c&&mI(o,...c)}return o}function pT(s){if(s._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pI(s),s._firestoreClient}function pI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new LN(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(dn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new hi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Yt("string",hi._jsonSchemaVersion),bytes:Yt("string")};class Yh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class is{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(gu(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Yt("string",is._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class ss{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ss(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Yt("string",ss._jsonSchemaVersion),vectorValues:Yt("object")};const yI=/^__.*__$/;class _I{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new pu(e,this.data,i,this.fieldTransforms)}}class yT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function _T(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class Cg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_T(this.Ac)&&yI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}Cc(e,i,r,o=!1){return new Cg({Ac:e,methodName:i,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new vI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vT(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ig("Data must be an object, but it was:",d,r);const p=ET(r,d);let _,v;if(c.merge)_=new Xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const O=Bm(e,w,i);if(!d.contains(O))throw new he(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);bT(S,O)||S.push(O)}_=new Xn(S),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new _I(new kn(p),_,v)}class $h extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function EI(s,e,i,r){const o=s.Cc(1,e,i);Ig("Data must be an object, but it was:",o,r);const c=[],d=kn.empty();Mr(r,((_,v)=>{const S=Dg(e,_,i);v=Jt(v);const w=o.yc(S);if(v instanceof $h)c.push(S);else{const O=Eu(v,w);O!=null&&(c.push(S),d.set(S,O))}}));const p=new Xn(c);return new yT(d,p,o.fieldTransforms)}function TI(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[Bm(e,r,i)],_=[o];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Bm(e,c[O])),_.push(c[O+1]);const v=[],S=kn.empty();for(let O=p.length-1;O>=0;--O)if(!bT(v,p[O])){const G=p[O];let ne=_[O];ne=Jt(ne);const ie=d.yc(G);if(ne instanceof $h)v.push(G);else{const te=Eu(ne,ie);te!=null&&(v.push(G),S.set(G,te))}}const w=new Xn(v);return new yT(S,w,d.fieldTransforms)}function bI(s,e,i,r=!1){return Eu(i,s.Cc(r?4:3,e))}function Eu(s,e){if(TT(s=Jt(s)))return Ig("Unsupported field value:",e,s),ET(s,e);if(s instanceof Rg)return(function(r,o){if(!_T(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=Eu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=xt.fromDate(r);return{timestampValue:wh(o.serializer,c)}}if(r instanceof xt){const c=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(o.serializer,c)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:zE(o.serializer,r._byteString)};if(r instanceof Lt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ss)return(function(d,p){return{mapValue:{fields:{[gE]:{stringValue:pE},[Eh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${kh(r)}`)})(s,e)}function ET(s,e){const i={};return uE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(s,((r,o)=>{const c=Eu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function TT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof xt||s instanceof is||s instanceof hi||s instanceof Lt||s instanceof Rg||s instanceof ss)}function Ig(s,e,i){if(!TT(i)||!lE(i)){const r=kh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Bm(s,e,i){if((e=Jt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Dg(s,e);throw Ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const SI=new RegExp("[~\\*/\\[\\]]");function Dg(s,e,i){if(e.search(SI)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Yh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ch(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new he(Z.INVALID_ARGUMENT,p+s+_)}function bT(s,e){return s.some((i=>i.isEqual(e)))}class ST{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AI extends ST{data(){return super.data()}}function Og(s,e){return typeof e=="string"?Dg(s,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}function wI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class Vg extends Mg{}function xI(s,e,...i){let r=[];e instanceof Mg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof jg)).length,p=c.filter((_=>_ instanceof kg)).length;if(d>1||d>0&&p>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kg extends Vg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kg(e,i,r)}_apply(e){const i=this._parse(e);return AT(e._query,i),new kr(e.firestore,e.converter,Im(e._query,i))}_parse(e){const i=Xh(e.firestore);return(function(c,d,p,_,v,S,w){let O;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Zv(w,S);const ne=[];for(const ie of w)ne.push($v(_,c,ie));O={arrayValue:{values:ne}}}else O=$v(_,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Zv(w,S),O=bI(p,d,w,S==="in"||S==="not-in");return Qt.create(v,S,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Mg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)AT(d,_),d=Im(d,_)})(e._query,i),new kr(e.firestore,e.converter,Im(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends Vg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(c,d)})(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Vl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function NI(s,e="asc"){const i=e,r=Og("orderBy",s);return Pg._create(r,i)}class Lg extends Vg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Lg(e,i,r)}_apply(e){return new kr(e.firestore,e.converter,bh(e._query,this._limit,this._limitType))}}function RI(s){return Lg._create("limit",s,"F")}function $v(s,e,i){if(typeof(i=Jt(i))=="string"){if(i==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&i.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(yt.fromString(i));if(!Ee.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cv(s,new Ee(r))}if(i instanceof Lt)return cv(s,i._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(i)}.`)}function Zv(s,e){if(!Array.isArray(s)||s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class CI{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Mr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Eh].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new ss(i)}convertGeoPoint(e){return new is(Pt(e.latitude),Pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new xt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=yt.fromString(e);st(KE(r),9688,{name:e});const o=new iu(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||Os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function wT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends ST{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Yt("string",ha._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class lh extends ha{data(e={}){return super.data(e)}}class vl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lh(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:II(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Yt("string",vl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class xT extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}function $i(s,e,i){s=es(s,Lt);const r=es(s.firestore,_a),o=wT(s.converter,e,i);return Zh(r,[vT(Xh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,fi.none())])}function xi(s,e,i,...r){s=es(s,Lt);const o=es(s.firestore,_a),c=Xh(o);let d;return d=typeof(e=Jt(e))=="string"||e instanceof Yh?TI(c,"updateDoc",s._key,e,i,r):EI(c,"updateDoc",s._key,e),Zh(o,[d.toMutation(s._key,fi.exists(!0))])}function Yc(s){return Zh(es(s.firestore,_a),[new hg(s._key,fi.none())])}function DI(s,e){const i=es(s.firestore,_a),r=zm(s),o=wT(s.converter,e);return Zh(i,[vT(Xh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then((()=>r))}function Jv(s,...e){s=Jt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Lt)d=es(s.firestore,_a),p=ug(s._key.path),c={next:_=>{e[r]&&e[r](OI(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=es(s,kr);d=es(_.firestore,_a),p=_._query;const v=new xT(d);c={next:S=>{e[r]&&e[r](new vl(d,v,_,S))},error:e[r+1],complete:e[r+2]},wI(s._query)}return(function(v,S,w,O){const G=new cI(O),ne=new GC(S,G,w);return v.asyncQueue.enqueueAndForget((async()=>BC(await Bv(v),ne))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>qC(await Bv(v),ne)))}})(pT(d),p,o,c)}function Zh(s,e){return(function(r,o){const c=new ca;return r.asyncQueue.enqueueAndForget((async()=>tI(await dI(r),o,c))),c.promise})(pT(s),e)}function OI(s,e,i){const r=i.docs.get(e._key),o=new xT(s);return new ha(s,o,e._key,r,new Ho(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Dl=o})(Cl),El(new da("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new _a(new vN(r.getProvider("auth-internal")),new bN(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(v.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Sr(Z_,J_,e),Sr(Z_,J_,"esm2020")})();const MI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883"},NT=m1(MI),Zo=gN(NT),Xc=gI(NT),VI=()=>Math.random().toString(36).substr(2,9),va=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},kI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},Ug=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=kI(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(va(c))}return r},nn=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Nl=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},RT=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Ih=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},qm=["","","","","","","","","","","","","","","","","","","",""],wt=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return g.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${r}`,...c,children:s})},ml=({children:s,className:e=""})=>g.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),xs=({isOpen:s,onClose:e,title:i,children:r})=>s?g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[g.jsx("h3",{className:"font-bold text-gray-800",children:i}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:g.jsx(ou,{size:20})})]}),g.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,jI=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o,mode:c="verify"})=>{const[d,p]=oe.useState(""),[_,v]=oe.useState(""),[S,w]=oe.useState(c==="setup"?"create":"verify"),[O,G]=oe.useState(!1),[ne,ie]=oe.useState(c==="setup"?"Create a 4-digit PIN":r||"Enter PIN"),te=de=>{if(d.length<4){const ue=d+de;p(ue),ue.length===4&&(S==="verify"?ue===i?s(ue):pe():S==="create"?(v(ue),p(""),w("confirm"),ie("Confirm your PIN")):S==="confirm"&&(ue===_?s(ue):(pe("PINs didn't match. Try again."),w("create"),ie("Create a 4-digit PIN"),v(""))))}},pe=(de="Incorrect PIN")=>{G(!0);const ue=ne;ie(de),setTimeout(()=>{p(""),G(!1),ie(S==="verify"?r||"Enter PIN":S==="create"?"Create a 4-digit PIN":ue)},1e3)};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[g.jsx("h3",{className:`text-xl font-bold text-center mb-6 ${O?"text-red-500":"text-gray-800"}`,children:ne}),g.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(de=>g.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${d.length>de?O?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},de))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(de=>g.jsx("button",{onClick:()=>te(de),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:de},de)),g.jsx("div",{}),g.jsx("button",{onClick:()=>te(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),g.jsx("button",{onClick:()=>p(de=>de.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:g.jsx(ou,{size:24})})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(wt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),c==="verify"&&g.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[g.jsx(zS,{size:12})," Forgot PIN?"]})]})]})})},PI=()=>{const[s,e]=oe.useState(!1),[i,r]=oe.useState(!1),[o,c]=oe.useState(null);oe.useEffect(()=>{const p=window.navigator.userAgent.toLowerCase(),_=/iphone|ipad|ipod/.test(p),v=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;_&&!v&&(r(!0),e(!0));const S=w=>{w.preventDefault(),c(w),e(!0)};return window.addEventListener("beforeinstallprompt",S),()=>{window.removeEventListener("beforeinstallprompt",S)}},[]);const d=()=>{o&&(o.prompt(),o.userChoice.then(p=>{p.outcome==="accepted"&&e(!1),c(null)}))};return s?g.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-indigo-100 p-4 flex flex-col gap-3 relative",children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:g.jsx(ou,{size:16})}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:g.jsx(jS,{className:"text-indigo-600",size:20})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800",children:"Install App"}),g.jsx("p",{className:"text-sm text-gray-500 leading-tight mt-1",children:"Add to your home screen for full screen view and easier access!"})]})]}),i?g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-600 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"1. Tap the"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-blue-600",children:[g.jsx(eA,{size:14})," Share"]}),g.jsx("span",{children:"button in your browser bar."})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"2. Scroll down and tap"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-gray-800",children:[g.jsx(Zc,{size:14,className:"border border-gray-400 rounded-[4px] p-[1px]"})," Add to Home Screen"]}),"."]})]}):g.jsx(wt,{onClick:d,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Install Now"})]})}):null},LI=()=>{const[s,e]=oe.useState(!0),[i,r]=oe.useState(""),[o,c]=oe.useState(""),[d,p]=oe.useState(""),[_,v]=oe.useState(""),S=async O=>{O.preventDefault(),p(""),v("");try{s?await e2(Zo,i,o):await Wx(Zo,i,o)}catch(G){p(G.message)}},w=async()=>{if(!i){p("Please enter your email address first.");return}try{await Jx(Zo,i),v("Password reset email sent! Check your inbox."),p("")}catch(O){p(O.message)}};return g.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(t1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:O=>r(O.target.value),placeholder:"family@example.com"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&g.jsx("button",{type:"button",onClick:w,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),g.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:O=>c(O.target.value),placeholder:""})]}),d&&g.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),_&&g.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:_}),g.jsx(wt,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:()=>{e(!s),p(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function UI(){const[s,e]=oe.useState(null),[i,r]=oe.useState(!0),[o,c]=oe.useState([]),[d,p]=oe.useState([]),[_,v]=oe.useState([]),[S,w]=oe.useState([]),[O,G]=oe.useState([]),[ne,ie]=oe.useState([]),[te,pe]=oe.useState("login"),[de,ue]=oe.useState(null),[Le,Ne]=oe.useState(!1),[Se,C]=oe.useState(null),[x,N]=oe.useState(!1),[V,M]=oe.useState(()=>{const X=localStorage.getItem("chorePiggy_deviceConfig");return X?JSON.parse(X):{mode:"FAMILY",targetId:null}});oe.useEffect(()=>i2(Zo,le=>{e(le),r(!1)}),[]),oe.useEffect(()=>{if(!i&&s&&te==="login"&&!de){if(V.mode==="KID_SOLO"&&V.targetId){const le=d.find(Ie=>Ie.id===V.targetId);if(le){ue(le),pe("kid");return}}V.mode==="PARENT_SOLO"&&V.targetId;const X=localStorage.getItem("chorePiggy_activeUser");if(X&&V.mode==="FAMILY"){const le=d.find(Ie=>Ie.id===X);le&&(ue(le),pe("kid"))}}},[i,s,d,te,de,V]),oe.useEffect(()=>{if(!s)return;const X=ke=>Gv(Xc,"families",s.uid,ke),le={users:X("users"),kids:X("kids"),chores:X("chores"),task_log:X("task_log"),bonuses:X("bonuses")},Ie=Object.entries(le).map(([ke,Ut])=>Jv(Ut,gn=>{const Ct=gn.docs.map(xn=>({id:xn.id,...xn.data()}));ke==="users"&&c(Ct),ke==="kids"&&p(Ct),ke==="chores"&&v(Ct),ke==="task_log"&&w(Ct),ke==="bonuses"&&G(Ct)},gn=>{console.log(`Error fetching ${ke}:`,gn)})),mt=xI(X("history"),NI("date","desc"),RI(100)),ut=Jv(mt,ke=>{ie(ke.docs.map(Ut=>({id:Ut.id,...Ut.data()})))},ke=>console.log("History Error",ke));return()=>{Ie.forEach(ke=>ke()),ut()}},[s]);const j={users:o,kids:d,chores:_,taskLog:S,bonuses:O,history:ne},b=(X,le)=>zm(Xc,"families",s.uid,X,le||VI()),Be=X=>Gv(Xc,"families",s.uid,X),Pe=X=>{C(X),X.pin?(N(!1),Ne(!0)):(N(!0),Ne(!0))},H=X=>{if(x){const le=Se.role==="kid"?"kids":"users";xi(b(le,Se.id),{pin:X}),N(!1)}ue(Se),pe(Se.role==="parent"?"parent":"kid"),Ne(!1),C(null),Se.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",Se.id)},W=()=>{ue(null),pe("login"),localStorage.removeItem("chorePiggy_activeUser")},ee=()=>{s2(Zo),ue(null),pe("login"),localStorage.removeItem("chorePiggy_activeUser")},ge=async()=>{Se?.role==="parent"?prompt("Enter Master Recovery Code (hint: admin):")==="admin"?(await xi(b("users",Se.id),{pin:"1234"}),alert(`${Se.name}'s PIN has been reset to: 1234`),Ne(!1),C(null)):alert("Incorrect recovery code."):alert("Please ask a parent to reset your PIN in the Family Members tab.")},De=async()=>{const X=prompt("What should we call you? (e.g. Mom, Dad, Your Name)","Parent");if(X)try{const le={id:"parent1",name:X,role:"parent",pin:"1234"};await $i(zm(Xc,"families",s.uid,"users",le.id),le),alert(`Family initialized! Welcome ${X}. Default PIN: 1234`)}catch(le){alert(`Error creating database: ${le.message}. Check Firestore Rules!`),console.error(le)}},I=X=>{M(X),localStorage.setItem("chorePiggy_deviceConfig",JSON.stringify(X))},K=async(X,le,Ie,mt,ut)=>{await DI(Be("history"),{kidId:X,amount:le,type:Ie,description:mt,date:new Date().toISOString(),by:ut||"Unknown"})},se=async(X,le,Ie,mt,ut)=>{const ke=d.find(Ut=>Ut.id===X);ke&&(await xi(b("kids",X),{balance:ke.balance+le}),await K(X,le,Ie,mt,ut))},ce=async(X,le)=>{await $i(b("users"),{name:X,pin:le,role:"parent"})},ae=async X=>{await Yc(b("users",X))},_e=async(X,le)=>{await xi(b("users",X),{pin:le})},Oe=async(X,le)=>{await xi(b("users",X),{name:le})},_t=async(X,le,Ie)=>{const mt=S.find(ut=>ut.type==="chore"&&ut.taskId===X.id&&ut.kidId===le&&ut.dateString===Ie);mt?await xi(b("task_log",mt.id),{status:"pending",timestamp:new Date().toISOString()}):await $i(b("task_log"),{type:"chore",taskId:X.id,title:X.title,kidId:le,dateString:Ie,status:"pending",timestamp:new Date().toISOString()})},tt=async(X,le,Ie,mt,ut)=>{const ke=S.find(Ct=>Ct.type==="chore"&&Ct.taskId===X.id&&Ct.kidId===le&&Ct.dateString===Ie);let Ut=ke?b("task_log",ke.id):b("task_log");const gn={type:"chore",taskId:X.id,title:X.title,kidId:le,dateString:Ie,timestamp:new Date().toISOString()};if(mt==="approve"){const Ct=Oi(le),Xt=(X.weight||1)*Ct.valuePerPoint;await $i(Ut,{...gn,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!ke||ke.status!=="approved")&&await se(le,Xt,"chore",`${X.title} (${Nl(Ie)})`,ut)}else mt==="fail"?await $i(Ut,{...gn,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):mt==="retry"&&await $i(Ut,{...gn,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},jn=async(X,le)=>{await $i(b("task_log"),{type:"bonus",taskId:X.id,title:X.title,reward:X.reward,kidId:le,status:"pending",timestamp:new Date().toISOString(),isGroupTask:X.maxKids>1}),(!X.maxKids||X.maxKids<=1)&&await Yc(b("bonuses",X.id))},$n=async(X,le)=>{const Ie=b("bonuses",X),ut=O.find(ke=>ke.id===X).workers||[];ut.includes(le)||await xi(Ie,{workers:[...ut,le]})},di=async(X,le,Ie=1)=>{$i(b("bonuses"),{title:X,reward:le,status:"available",maxKids:Ie,workers:[]})},mi=async(X,le,Ie)=>{await xi(b("task_log",X.id),{status:"approved",approvedAt:new Date().toISOString()});const mt=le,ut=X.dateString?`(${Nl(X.dateString)})`:"(Bonus)";await se(X.kidId,mt,X.type,`${X.title} ${ut}`,Ie)},Tn=async(X,le)=>{const Ie=le==="retry"?"changes_requested":"failed";await xi(b("task_log",X.id),{status:Ie,rejectedAt:new Date().toISOString()})},mn=async(X,le,Ie)=>{await $i(b("kids"),{name:X,pin:le,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:qm[Math.floor(Math.random()*qm.length)],allowanceAmount:Number(Ie)})},Pn=async(X,le)=>xi(b("kids",X),le),Ii=async X=>{$i(b("chores"),{...X,createdAt:va()})},Di=async(X,le)=>xi(b("chores",X),le),ot=async X=>Yc(b("chores",X)),vt=async X=>Yc(b("bonuses",X)),bn=X=>{if(!X.pausedUntil)return!0;const le=va();return X.pausedUntil<=le},Oi=(X,le=0)=>{const Ie=d.find(Qe=>Qe.id===X);if(!Ie)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const mt=Ie.allowanceAmount||0,ut=_.filter(Qe=>Qe.kidId===X&&bn(Qe));let ke=0;ut.forEach(Qe=>{const Wt=Qe.weight||1;ke+=Wt*Qe.days.length});const Ut=ke>0?mt/ke:0,gn=Ug(le),Ct=S.filter(Qe=>Qe.kidId===X&&Qe.type==="chore"&&gn.includes(Qe.dateString));let xn=0,Xt=0;return Ct.forEach(Qe=>{const gi=(_.find(pi=>pi.id===Qe.taskId)?.weight||1)*Ut;Qe.status==="approved"&&(xn+=gi),Qe.status==="pending"&&(Xt+=gi)}),{potential:mt,earned:xn,pending:Xt,totalWeight:ke,valuePerPoint:Ut}};return i?g.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?g.jsxs(g.Fragment,{children:[Le&&g.jsx(jI,{targetPin:Se?.pin,onSuccess:H,onCancel:()=>{Ne(!1),C(null),N(!1)},title:x?"Create PIN":`Enter ${Se?.name}'s PIN`,onForgot:ge,mode:x?"setup":"verify"}),g.jsx(PI,{}),te==="login"&&g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[g.jsxs("div",{className:"absolute top-4 right-4 flex gap-3",children:[g.jsxs("button",{onClick:()=>{const X=prompt("Enter Parent PIN to access device settings:");o.find(Ie=>Ie.role==="parent"&&Ie.pin===X)?(localStorage.removeItem("chorePiggy_deviceConfig"),alert("Device mode reset to Family."),window.location.reload()):X&&alert("Incorrect PIN")},className:"flex items-center gap-2 text-gray-400 hover:text-blue-500 text-xs font-bold",children:[g.jsx(n1,{size:14})," Device"]}),g.jsxs("button",{onClick:ee,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-xs font-bold",children:[g.jsx(Fm,{size:14})," Sign Out"]})]}),g.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(t1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.email})]}),g.jsx("div",{className:"max-w-md w-full grid gap-4",children:o.length===0&&d.length===0?g.jsxs("div",{className:"text-center py-10",children:[g.jsx("p",{className:"text-gray-500 mb-4",children:"Welcome! No family data found."}),g.jsx(wt,{onClick:De,className:"w-full py-3",children:"Initialize Family Database"})]}):g.jsxs(g.Fragment,{children:[(V.mode==="FAMILY"||V.mode==="PARENT_SOLO")&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(X=>g.jsxs("button",{onClick:()=>Pe(X),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(i1,{size:24})}),g.jsx("span",{className:"font-bold text-lg text-gray-700",children:X.name})]}),g.jsx(oh,{className:"text-gray-300 group-hover:text-blue-500"})]},X.id))]}),(V.mode==="FAMILY"||V.mode==="KIDS_SHARED"||V.mode==="KID_SOLO")&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(X=>g.jsxs("button",{onClick:()=>Pe(X),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:X.avatar}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:X.name}),g.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),g.jsx(oh,{className:"text-gray-300 group-hover:text-purple-500"})]},X.id))]}),d.length===0&&o.length>0&&g.jsx("div",{className:"text-center p-6 bg-white rounded-xl border border-dashed text-gray-400",children:"No kids yet. Login as parent to setup!"})]})})]}),te==="parent"&&g.jsx(zI,{data:j,user:de,logout:W,addKid:mn,addChore:Ii,updateChore:Di,deleteChore:ot,addBonus:di,deleteBonus:vt,updateBalance:se,updateKid:Pn,approveTask:mi,rejectTask:Tn,parentOverrideTask:tt,calculateWeeklyStats:Oi,updateParentPin:_e,addParent:ce,deleteParent:ae,updateParentName:Oe,deviceConfig:V,updateDeviceConfig:I}),te==="kid"&&g.jsx(BI,{user:d.find(X=>X.id===de.id)||de,data:j,logout:W,submitChore:_t,submitBonus:jn,joinBonus:$n,updateKid:Pn,calculateWeeklyStats:Oi,isChoreActive:bn})]}):g.jsx(LI,{})}function zI({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:S,approveTask:w,rejectTask:O,parentOverrideTask:G,calculateWeeklyStats:ne,updateParentPin:ie,addParent:te,deleteParent:pe,updateParentName:de,deviceConfig:ue,updateDeviceConfig:Le}){const[Ne,Se]=oe.useState("approvals"),[C,x]=oe.useState(!1),[N,V]=oe.useState(""),[M,j]=oe.useState(""),[b,Be]=oe.useState("10"),[Pe,H]=oe.useState(null),[W,ee]=oe.useState(null),[ge,De]=oe.useState(null),[I,K]=oe.useState(null),[se,ce]=oe.useState(!1),[ae,_e]=oe.useState(null),[Oe,_t]=oe.useState(null),[tt,jn]=oe.useState(0),[$n,di]=oe.useState(""),[mi,Tn]=oe.useState(""),[mn,Pn]=oe.useState("add"),[Ii,Di]=oe.useState(0),[ot,vt]=oe.useState([]),[bn,Oi]=oe.useState(""),[X,le]=oe.useState("1"),[Ie,mt]=oe.useState(""),[ut,ke]=oe.useState(""),[Ut,gn]=oe.useState([0,1,2,3,4]),[Ct,xn]=oe.useState(""),[Xt,Qe]=oe.useState("2"),[Wt,Et]=oe.useState("1"),[gi,pi]=oe.useState(""),[Ps,Ln]=oe.useState(""),[yi,It]=oe.useState("");oe.useEffect(()=>{s.kids.length>0&&!ot.length&&vt([])},[s.kids]);const Sn=s.taskLog.filter(D=>D.status==="pending");Sn.sort((D,Te)=>new Date(Te.timestamp)-new Date(D.timestamp));const rn=Sn.length,Un=()=>{if(!$n||!Pe)return;const D=Number($n),Te=mn==="add"?D:-D,nt=mn==="add"?"manual_add":"manual_subtract",Tt=mn==="add"?"Manual Deposit":"Cash Out / Purchase";v(Pe.id,Te,nt,mi||Tt,e.name),H(null),di(""),Tn("")},jl=async()=>{if(confirm(`Approve all ${rn} tasks?`))for(const D of Sn)if(D.type==="chore"){const Te=ne(D.kidId),bt=(s.chores.find(it=>it.id===D.taskId)?.weight||1)*Te.valuePerPoint;await w(D,bt,e.name)}else await w(D,0,e.name)},ba=D=>{D.isGroupTask?(jn(Math.floor(D.reward/2)),_t(D)):w(D,D.reward,e.name)},Zn=D=>{D.preventDefault(),N&&M&&(r(N,M,b),x(!1),V(""),j(""))},as=D=>{D.preventDefault(),bn&&ot.length>0&&(ot.forEach(Te=>{o({kidId:Te,title:bn,days:Ut,weight:Number(X),startTime:Ie,doByTime:ut})}),Oi(""),le("1"),mt(""),ke(""),vt([]))},Pl=()=>{ae&&(c(ae.id,{title:ae.title,days:ae.days,weight:Number(ae.weight),startTime:ae.startTime,doByTime:ae.doByTime,pausedUntil:ae.pausedUntil||null}),_e(null))},ls=()=>{Ps&&yi.length===4&&(te(Ps,yi),Ln(""),It(""))},jr=D=>gn(Te=>Te.includes(D)?Te.filter(nt=>nt!==D):[...Te,D].sort()),Pr=D=>{vt(Te=>Te.includes(D)?Te.filter(nt=>nt!==D):[...Te,D])};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[g.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:g.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[g.jsx(i1,{})," ",e.name,"'s Dashboard"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ce(!0),className:"text-gray-500 hover:text-blue-600",children:g.jsx(n1,{size:20})}),g.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:g.jsx(Fm,{size:20})})]})]})}),g.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[g.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(D=>g.jsxs("button",{onClick:()=>Se(D),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${Ne===D?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[D,D==="approvals"&&rn>0&&g.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:rn})]},D))}),g.jsx(xs,{isOpen:se,onClose:()=>ce(!1),title:"Family Settings",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[g.jsx("h4",{className:"font-bold text-indigo-800 text-sm uppercase",children:"This Device Mode"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>Le({mode:"FAMILY",targetId:null}),className:`p-2 text-xs rounded border ${ue.mode==="FAMILY"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Family (Default)"}),g.jsx("button",{onClick:()=>Le({mode:"KIDS_SHARED",targetId:null}),className:`p-2 text-xs rounded border ${ue.mode==="KIDS_SHARED"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Kids Only"}),s.kids.map(D=>g.jsxs("button",{onClick:()=>Le({mode:"KID_SOLO",targetId:D.id}),className:`p-2 text-xs rounded border ${ue.mode==="KID_SOLO"&&ue.targetId===D.id?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:[D.name," Only"]},D.id))]}),g.jsxs("p",{className:"text-[10px] text-indigo-400",children:["Current: ",ue.mode," ",ue.targetId?`(${s.kids.find(D=>D.id===ue.targetId)?.name})`:""]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:gi,onChange:D=>pi(D.target.value)}),g.jsx(wt,{size:"sm",onClick:()=>{gi.length===4&&ie(e.id,gi),pi(""),alert("PIN updated")},children:"Update"})]})]}),g.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),g.jsx("div",{className:"space-y-2",children:s.users.filter(D=>D.role==="parent").map(D=>g.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"font-bold text-gray-700",children:[D.name," ",D.id===e.id&&"(You)"]}),g.jsx("button",{onClick:()=>{const Te=prompt("Enter new name:",D.name);Te&&de(D.id,Te)},className:"text-gray-400 hover:text-blue-500",children:g.jsx($c,{size:14})})]}),D.id!==e.id&&g.jsx("button",{onClick:()=>pe(D.id),className:"text-red-400 hover:text-red-600",children:g.jsx(em,{size:16})})]},D.id))}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:Ps,onChange:D=>Ln(D.target.value)}),g.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:yi,onChange:D=>It(D.target.value)})]}),g.jsxs(wt,{onClick:ls,className:"w-full",variant:"outline",children:[g.jsx(cA,{size:16})," Add Guardian"]})]})]})}),g.jsx(xs,{isOpen:!!Oe,onClose:()=>_t(null),title:"Split Group Reward",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[g.jsx("h4",{className:"font-bold text-gray-800",children:Oe?.title}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",nn(Oe?.reward)]})]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",g.jsx("strong",{children:s.kids.find(D=>D.id===Oe?.kidId)?.name})," get?"]}),g.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[g.jsx("button",{onClick:()=>jn(D=>Math.max(0,D-1)),className:"p-3 bg-gray-100 rounded-full",children:g.jsx(GS,{size:20})}),g.jsx("span",{className:"text-4xl font-bold text-green-600",children:nn(tt)}),g.jsx("button",{onClick:()=>jn(D=>D+1),className:"p-3 bg-gray-100 rounded-full",children:g.jsx(Zc,{size:20})})]}),g.jsxs(wt,{className:"w-full bg-green-600",onClick:()=>{w(Oe,tt,e.name),_t(null)},children:["Approve ",nn(tt)]})]})}),Ne==="history"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&g.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),g.jsx("div",{className:"space-y-2",children:s.history.map(D=>{const Te=s.kids.find(nt=>nt.id===D.kidId);return g.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Te&&g.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Te.name}),g.jsx("span",{children:D.description})]}),g.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[g.jsx("span",{children:new Date(D.date).toLocaleString()}),g.jsx("span",{children:""}),g.jsxs("span",{className:"font-medium text-blue-500",children:["by ",D.by||"System"]})]})]}),D.amount!==0&&g.jsxs("span",{className:`font-bold ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]})]},D.id)})})]}),g.jsx(xs,{isOpen:!!W,onClose:()=>ee(null),title:"Edit Profile",children:W&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:W.name,onChange:D=>ee({...W,name:D.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),g.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:W.pin,onChange:D=>ee({...W,pin:D.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:W.allowanceAmount,onChange:D=>ee({...W,allowanceAmount:D.target.value})})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(wt,{variant:"ghost",onClick:()=>ee(null),className:"flex-1",children:"Cancel"}),g.jsx(wt,{onClick:()=>{S(W.id,{name:W.name,pin:W.pin,allowanceAmount:Number(W.allowanceAmount)}),ee(null)},className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(xs,{isOpen:!!ae,onClose:()=>_e(null),title:"Edit Chore",children:ae&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:ae.title,onChange:D=>_e({...ae,title:D.target.value})})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:ae.startTime||"",onChange:D=>_e({...ae,startTime:D.target.value})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:ae.doByTime||"",onChange:D=>_e({...ae,doByTime:D.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),g.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:ae.weight||1,onChange:D=>_e({...ae,weight:D.target.value})}),g.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[ae.weight||1,"x"]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),g.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((D,Te)=>g.jsx("button",{onClick:()=>{const nt=ae.days.includes(Te)?ae.days.filter(Tt=>Tt!==Te):[...ae.days,Te].sort();_e({...ae,days:nt})},className:`w-8 h-8 rounded-full text-xs font-bold ${ae.days.includes(Te)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:D},Te))})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),g.jsxs("div",{className:"flex gap-2 mt-1",children:[g.jsxs("button",{onClick:()=>_e({...ae,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${ae.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[g.jsx(DS,{size:16,className:"inline mr-1"})," Active"]}),g.jsxs("button",{onClick:()=>_e({...ae,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${ae.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[g.jsx(__,{size:16,className:"inline mr-1"})," Paused"]})]}),ae.pausedUntil&&g.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",g.jsx("input",{type:"date",value:ae.pausedUntil==="2099-12-31"?"":ae.pausedUntil,onChange:D=>_e({...ae,pausedUntil:D.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(wt,{variant:"ghost",onClick:()=>_e(null),className:"flex-1",children:"Cancel"}),g.jsx(wt,{onClick:Pl,className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(xs,{isOpen:!!I,onClose:()=>K(null),title:"Review Task",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",g.jsx("strong",{children:I?.title}),"?"]}),g.jsxs("button",{onClick:()=>{O(I,"retry"),K(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:g.jsx(dm,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),g.jsxs("button",{onClick:()=>{O(I,"fail"),K(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:g.jsx(QS,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),g.jsx(xs,{isOpen:!!Pe,onClose:()=>H(null),title:`Bank Manager: ${Pe?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[g.jsxs("button",{onClick:()=>Pn("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${mn==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[g.jsx(Zc,{size:16})," Deposit"]}),g.jsxs("button",{onClick:()=>Pn("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${mn==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[g.jsx(v_,{size:16})," Cash Out"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),g.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:$n,onChange:D=>di(D.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),g.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:mn==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:mi,onChange:D=>Tn(D.target.value)})]}),g.jsxs(wt,{onClick:Un,className:`w-full ${mn==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",mn==="add"?"Deposit":"Withdrawal"]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(D=>D.kidId===Pe?.id).slice(0,5).map(D=>g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:D.description}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:`font-bold block ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]}),g.jsx("span",{className:"text-[10px] text-gray-400",children:D.by})]})]},D.id))})]})]})}),g.jsx(xs,{isOpen:!!ge,onClose:()=>De(null),title:`Tasks: ${ge?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[g.jsx("button",{onClick:()=>Di(D=>D-1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(e1,{size:16})}),g.jsx("span",{className:"font-bold text-sm text-gray-700",children:Ii===0?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>Di(D=>D+1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(oh,{size:16})})]}),g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Ug(Ii).map(D=>{const Te=s.chores.filter(nt=>nt.kidId===ge?.id&&nt.days.includes(new Date(D).getDay()));return Te.length===0?null:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[RT(D)," (",Nl(D),")"]}),Te.map(nt=>{const Tt=s.taskLog.find(gt=>gt.type==="chore"&&gt.taskId===nt.id&&gt.kidId===ge.id&&gt.dateString===D),bt=Tt?Tt.status:"todo";let it="bg-gray-100 border-gray-200";return bt==="approved"&&(it="bg-green-50 border-green-200"),bt==="pending"&&(it="bg-amber-50 border-amber-200"),bt==="failed"&&(it="bg-red-50 border-red-200"),bt==="changes_requested"&&(it="bg-yellow-50 border-yellow-200"),g.jsxs("div",{className:`p-3 rounded-lg border ${it} flex justify-between items-center`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[nt.title," ",g.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[nt.weight||1,"x"]})]}),g.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:bt.replace("_"," ")})]}),g.jsxs("div",{className:"flex gap-1",children:[bt!=="approved"&&g.jsx("button",{onClick:()=>G(nt,ge.id,D,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:g.jsx(wS,{size:16})}),bt!=="failed"&&g.jsx("button",{onClick:()=>G(nt,ge.id,D,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:g.jsx(ou,{size:16})}),bt!=="changes_requested"&&bt!=="approved"&&g.jsx("button",{onClick:()=>G(nt,ge.id,D,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:g.jsx(dm,{size:16})})]})]},`${nt.id}-${D}`)})]},D)}),s.chores.filter(D=>D.kidId===ge?.id).length===0&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),Ne==="approvals"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),rn>0&&g.jsxs(wt,{size:"sm",variant:"success",onClick:jl,children:["Approve All (",rn,")"]})]}),rn===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),g.jsx("div",{className:"space-y-3",children:Sn.map(D=>{const Te=s.kids.find(gt=>gt.id===D.kidId),Tt=s.chores.find(gt=>gt.id===D.taskId)?.weight||1,bt=ne(D.kidId),it=D.type==="bonus"?D.reward:Tt*bt.valuePerPoint;return g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[g.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Te?.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:g.jsx(Fo,{size:12,className:"text-amber-500"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[D.title,D.type==="chore"&&Tt>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[Tt,"x"]}),D.isGroupTask&&g.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[g.jsx("span",{children:Te?.name}),g.jsx("span",{children:""}),g.jsx("span",{className:`font-bold ${D.dateString===va()?"text-green-600":"text-amber-600"}`,children:D.dateString?Nl(D.dateString):"Bonus Task"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:nn(it)}),g.jsx("button",{onClick:()=>K(D),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:g.jsx(rA,{size:20})}),g.jsx("button",{onClick:()=>ba(D),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:g.jsx(lA,{size:20})})]})]},D.id)})})]}),Ne==="kids"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),g.jsxs(wt,{onClick:()=>x(!0),size:"sm",children:[g.jsx(Zc,{size:16})," Add Kid"]})]}),C&&g.jsx(ml,{className:"p-4 animate-in slide-in-from-top-4",children:g.jsxs("form",{onSubmit:Zn,className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:N,onChange:D=>V(D.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),g.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:M,onChange:D=>j(D.target.value),required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:b,onChange:D=>Be(D.target.value)})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(wt,{type:"button",variant:"ghost",onClick:()=>x(!1),children:"Cancel"}),g.jsx(wt,{type:"submit",children:"Save"})]})]})}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(D=>{const Te=ne(D.id);return g.jsxs(ml,{className:"p-4 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:D.avatar}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-lg",children:D.name}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",nn(D.allowanceAmount||0)]}),g.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",nn(Te.valuePerPoint)," / point"]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-3xl font-bold text-green-600",children:nn(D.balance)}),g.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[g.jsxs(wt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>ee(D),children:[g.jsx($c,{size:12})," Edit Profile"]}),g.jsxs(wt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>H(D),children:[g.jsx(v_,{size:14})," Manage Funds"]})]}),g.jsxs(wt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>De(D),children:[g.jsx(MS,{size:14})," View Tasks"]})]},D.id)})})]}),Ne==="chores"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(ml,{className:"p-6",children:[g.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),g.jsxs("form",{onSubmit:as,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(D=>g.jsx("button",{type:"button",onClick:()=>Pr(D.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${ot.includes(D.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:D.name},D.id))}),ot.length===0&&g.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:bn,onChange:D=>Oi(D.target.value),required:!0})]}),g.jsxs("div",{className:"w-full sm:w-24",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),g.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[g.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:X,onChange:D=>le(D.target.value)}),g.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Ie,onChange:D=>mt(D.target.value)})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:ut,onChange:D=>ke(D.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),g.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((D,Te)=>g.jsx("button",{type:"button",onClick:()=>jr(Te),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${Ut.includes(Te)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:D},Te))})]}),g.jsx(wt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(D=>{const Te=s.kids.find(Tt=>Tt.id===D.kidId),nt=D.pausedUntil&&D.pausedUntil>va();return g.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${nt?"opacity-60 grayscale":""}`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-bold text-gray-800",children:D.title}),D.weight>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[D.weight,"x"]}),nt&&g.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[g.jsx(__,{size:10})," Paused"]})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[g.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Te?.name||"Unknown"}),g.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:D.days.length===7?"Everyday":`${D.days.length} days/wk`})]}),(D.startTime||D.doByTime)&&g.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[g.jsx(Fo,{size:10}),D.startTime?Ih(D.startTime):"Start"," ",D.startTime&&D.doByTime&&" - ",D.doByTime?`Due ${Ih(D.doByTime)}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>_e(D),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:g.jsx($c,{size:18})}),g.jsx("button",{onClick:()=>d(D.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:g.jsx(em,{size:18})})]})]},D.id)})]})]}),Ne==="bonuses"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(ml,{className:"p-6 bg-yellow-50 border-yellow-100",children:[g.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[g.jsx(mm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Ct,onChange:D=>xn(D.target.value)})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[g.jsx(gm,{size:16,className:"text-yellow-500 mr-2"}),g.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:Wt||1,onChange:D=>Et(D.target.value)})]}),g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[g.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),g.jsx("input",{className:"w-full outline-none",type:"number",value:Xt,onChange:D=>Qe(D.target.value)})]}),g.jsx(wt,{onClick:()=>{Ct&&(p(Ct,Number(Xt),Number(Wt||1)),xn(""),Et(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(D=>g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:g.jsx(mm,{size:16,className:"fill-yellow-500"})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-gray-700",children:D.title}),D.maxKids>1&&g.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[g.jsx(gm,{size:10})," Group Task (",D.workers?.length||0,"/",D.maxKids,")"]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:nn(D.reward)}),g.jsx("button",{onClick:()=>_(D.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:g.jsx(em,{size:18})})]})]},D.id))]})]})]})]})}function BI({user:s,data:e,logout:i,submitChore:r,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_}){const[v,S]=oe.useState("todo"),[w,O]=oe.useState(!1),[G,ne]=oe.useState(s.goalName||""),[ie,te]=oe.useState(s.savingsGoal||0),[pe,de]=oe.useState(!1),[ue,Le]=oe.useState(!1),[Ne,Se]=oe.useState(0),C=Ug(Ne),x=p(s.id,Ne),N=Math.min(x.earned/x.potential*100,100)||0,V=Math.min(x.pending/x.potential*100,100)||0,M=(b,Be)=>{const Pe=e.taskLog.find(H=>H.type==="chore"&&H.taskId===b&&H.kidId===s.id&&H.dateString===Be);return Pe?Pe.status:"todo"},j=Ne===0;return g.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[g.jsx(xs,{isOpen:pe,onClose:()=>de(!1),title:"Choose Your Avatar",children:g.jsx("div",{className:"grid grid-cols-4 gap-4",children:qm.map(b=>g.jsx("button",{onClick:()=>{d(s.id,{avatar:b}),de(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:b},b))})}),g.jsx(xs,{isOpen:ue,onClose:()=>Le(!1),title:"Your Money History",children:g.jsxs("div",{className:"space-y-3",children:[e.history.filter(b=>b.kidId===s.id).map(b=>g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-gray-700 text-sm",children:b.description}),g.jsx("div",{className:"text-xs text-gray-400",children:new Date(b.date).toLocaleDateString()})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:`font-bold ${b.amount>0?"text-green-600":"text-red-500"}`,children:[b.amount>0?"+":"",nn(b.amount)]}),g.jsx("div",{className:"text-[10px] text-gray-400",children:b.by})]})]},b.id)),e.history.filter(b=>b.kidId===s.id).length===0&&g.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),g.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),g.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:()=>de(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:g.jsx($c,{size:10,className:"text-indigo-600"})})]}),g.jsxs("div",{children:[g.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Nl(C[0])]})]})]}),g.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:g.jsx(Fm,{size:18})})]}),g.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("button",{onClick:()=>Se(b=>Math.max(b-1,-1)),className:`p-1 rounded ${Ne<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:Ne<=-1,children:g.jsx(e1,{size:16})}),g.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:j?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>j?null:Se(b=>b+1),className:`p-1 rounded ${j?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:g.jsx(oh,{size:16})})]}),g.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[g.jsxs("span",{children:["Earned: ",nn(x.earned)]}),g.jsxs("span",{children:["Weekly Cap: ",nn(x.potential)]})]}),g.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[g.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${N}%`}}),g.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${V}%`}})]}),V>0&&g.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",nn(x.pending)," waiting approval)"]})]}),g.jsx("div",{className:"flex flex-col items-center relative z-10",children:g.jsxs("button",{onClick:()=>Le(!0),className:"flex flex-col items-center group",children:[g.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",g.jsx(LS,{size:12})]}),g.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:nn(s.balance)})]})})]}),g.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[g.jsxs(ml,{className:"flex p-1",children:[g.jsxs("button",{onClick:()=>S("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(SS,{size:20})," Tasks"]}),g.jsxs("button",{onClick:()=>S("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(Wd,{size:20})," Goal"]}),g.jsxs("button",{onClick:()=>S("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(TS,{size:20})," Bonus"]})]}),v==="todo"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:C.map((b,Be)=>{let Pe=e.chores.filter(ee=>{const ge=ee.createdAt||"1970-01-01";return ee.kidId===s.id&&ee.days.includes(new Date(b).getDay())&&_(ee)&&ge<=b});if(Pe.length===0)return null;Pe.sort((ee,ge)=>ee.startTime&&!ge.startTime?-1:!ee.startTime&&ge.startTime?1:ee.startTime&&ge.startTime&&ee.startTime!==ge.startTime?ee.startTime.localeCompare(ge.startTime):ee.doByTime&&ge.doByTime&&ee.doByTime!==ge.doByTime?ee.doByTime.localeCompare(ge.doByTime):ee.title.localeCompare(ge.title));const H=b===va(),W=b>va();return g.jsxs("div",{className:`space-y-2 ${W?"opacity-50 grayscale":""}`,children:[g.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${H?"text-indigo-600":"text-gray-500"}`,children:[H?"Today":RT(b)," ",g.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Nl(b),")"]})]}),Pe.map(ee=>{const ge=M(ee.id,b),De=ge==="approved",I=ge==="pending",K=ge==="changes_requested",se=ge==="failed";return g.jsxs("div",{className:"relative",children:[g.jsx("button",{disabled:De||I||W||se,onClick:()=>r(ee,s.id,b),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden ${De?"bg-green-50 border-green-200":I?"bg-amber-50 border-amber-200":K?"bg-yellow-50 border-yellow-300 shadow-md":se?"bg-red-50 border-red-200":W?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${De?"bg-green-500 text-white":I?"bg-amber-400 text-white":K?"bg-yellow-400 text-yellow-900":se?"bg-red-400 text-white":W?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:De?g.jsx(y_,{size:14}):I?g.jsx(Fo,{size:14}):K?g.jsx(dm,{size:14}):se?g.jsx(ou,{size:14}):W?g.jsx(qS,{size:12}):g.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[g.jsx("span",{className:`font-bold block text-sm ${De?"text-gray-500 line-through":"text-gray-800"}`,children:ee.title}),ee.weight>1&&g.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[ee.weight,"x"]})]}),(ee.startTime||ee.doByTime)&&g.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[g.jsx(Fo,{size:10}),ee.startTime?Ih(ee.startTime):"Start"," ",ee.startTime&&ee.doByTime&&" - ",ee.doByTime?`Due ${Ih(ee.doByTime)}`:""]}),I&&g.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),K&&g.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),se&&g.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),K&&!W&&g.jsx("button",{onClick:()=>r(ee,s.id,b),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${ee.id}-${b}`)})]},b)})}),v==="savings"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:g.jsxs(ml,{className:"p-6 text-center space-y-4",children:[g.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),w?g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:G,onChange:b=>ne(b.target.value),placeholder:"Goal Name"}),g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),g.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:ie,onChange:b=>te(b.target.value)})]}),g.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[g.jsx(wt,{size:"sm",variant:"ghost",onClick:()=>O(!1),children:"Cancel"}),g.jsx(wt,{size:"sm",onClick:()=>{d(s.id,{goalName:G,savingsGoal:Number(ie)}),O(!1)},children:"Save"})]})]}):g.jsx(g.Fragment,{children:s.savingsGoal>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(Wd,{className:"text-indigo-500"}),g.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),g.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",nn(s.savingsGoal)]}),g.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:g.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),g.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),g.jsx(wt,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):g.jsxs("div",{className:"py-8 text-center space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:g.jsx(Wd,{size:32})}),g.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),g.jsx(wt,{onClick:()=>O(!0),children:"Set a Goal"})]})})]})}),v==="bonus"&&g.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[g.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:g.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(b=>b.kidId===s.id&&b.type==="bonus"&&b.status==="pending").map(b=>g.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:g.jsx(Fo,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:b.title}),g.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),g.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",nn(b.reward)]})]},b.id)),e.bonuses.map(b=>{const Be=b.workers||[],Pe=Be.includes(s.id),H=Be.length>=(b.maxKids||1);return e.taskLog.some(ee=>ee.taskId===b.id&&ee.kidId===s.id)?null:g.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex flex-col gap-3 text-left",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Pe?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:Pe?g.jsx(y_,{size:20}):g.jsx(mm,{className:"fill-yellow-500 text-yellow-500",size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:b.title}),g.jsxs("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide flex items-center gap-1",children:[b.maxKids>1?g.jsx(gm,{size:12}):null,Pe?"In Progress":"Bonus Task"]})]})]}),g.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",nn(b.reward)]})]}),b.maxKids>1&&g.jsxs("div",{className:"text-xs text-gray-500 px-1 flex gap-2 items-center",children:[g.jsx("div",{className:"flex -space-x-2",children:Be.map(ee=>{const ge=e.kids.find(De=>De.id===ee);return g.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[10px]",title:ge?.name,children:ge?.avatar},ee)})}),g.jsxs("span",{children:[Be.length,"/",b.maxKids," Kids working"]})]}),Pe?g.jsx("button",{onClick:()=>o(b,s.id),className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-md transition-all active:scale-95",children:"Mark Done"}):g.jsx("button",{disabled:H,onClick:()=>c(b.id,s.id),className:`w-full py-2 rounded-xl font-bold border-2 transition-all active:scale-95 ${H?"bg-gray-100 text-gray-400 border-transparent":"bg-white border-yellow-400 text-yellow-700 hover:bg-yellow-50"}`,children:H?"Team Full":"Start Working"})]},b.id)})]})]})]})}mS.createRoot(document.getElementById("root")).render(g.jsx(oe.StrictMode,{children:g.jsx(UI,{})}));
