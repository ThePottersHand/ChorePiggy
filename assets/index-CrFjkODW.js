(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var $d={exports:{}},Po={};var a_;function ox(){if(a_)return Po;a_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Po.Fragment=e,Po.jsx=i,Po.jsxs=i,Po}var l_;function ux(){return l_||(l_=1,$d.exports=ox()),$d.exports}var m=ux(),Jd={exports:{}},De={};var o_;function cx(){if(o_)return De;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function K(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function _e(I,Q,se){this.props=I,this.context=Q,this.refs=te,this.updater=se||W}_e.prototype.isReactComponent={},_e.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},_e.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function pe(){}pe.prototype=_e.prototype;function fe(I,Q,se){this.props=I,this.context=Q,this.refs=te,this.updater=se||W}var Pe=fe.prototype=new pe;Pe.constructor=fe,ee(Pe,_e.prototype),Pe.isPureReactComponent=!0;var Le=Array.isArray;function Te(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(I,Q,se){var ie=se.ref;return{$$typeof:s,type:I,key:Q,ref:ie!==void 0?ie:null,props:se}}function V(I,Q){return N(I.type,Q,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(se){return Q[se]})}var A=/\/+/g;function Qe(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):Q.toString(36)}function ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Te,Te):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function F(I,Q,se,ie,Ee){var he=typeof I;(he==="undefined"||he==="boolean")&&(I=null);var de=!1;if(I===null)de=!0;else switch(he){case"bigint":case"string":case"number":de=!0;break;case"object":switch(I.$$typeof){case s:case e:de=!0;break;case x:return de=I._init,F(de(I._payload),Q,se,ie,Ee)}}if(de)return Ee=Ee(I),de=ie===""?"."+Qe(I,0):ie,Le(Ee)?(se="",de!=null&&(se=de.replace(A,"$&/")+"/"),F(Ee,Q,se,"",function(Ln){return Ln})):Ee!=null&&(M(Ee)&&(Ee=V(Ee,se+(Ee.key==null||I&&I.key===Ee.key?"":(""+Ee.key).replace(A,"$&/")+"/")+de)),Q.push(Ee)),1;de=0;var mt=ie===""?".":ie+":";if(Le(I))for(var nt=0;nt<I.length;nt++)ie=I[nt],he=mt+Qe(ie,nt),de+=F(ie,Q,se,he,Ee);else if(nt=K(I),typeof nt=="function")for(I=nt.call(I),nt=0;!(ie=I.next()).done;)ie=ie.value,he=mt+Qe(ie,nt++),de+=F(ie,Q,se,he,Ee);else if(he==="object"){if(typeof I.then=="function")return F(ue(I),Q,se,ie,Ee);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function ne(I,Q,se){if(I==null)return I;var ie=[],Ee=0;return F(I,ie,"","",function(he){return Q.call(se,he,Ee++)}),ie}function re(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(se){(I._status===0||I._status===-1)&&(I._status=1,I._result=se)},function(se){(I._status===0||I._status===-1)&&(I._status=2,I._result=se)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var Ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},le={map:ne,forEach:function(I,Q,se){ne(I,function(){Q.apply(this,arguments)},se)},count:function(I){var Q=0;return ne(I,function(){Q++}),Q},toArray:function(I){return ne(I,function(Q){return Q})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=S,De.Children=le,De.Component=_e,De.Fragment=i,De.Profiler=o,De.PureComponent=fe,De.StrictMode=r,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,Q,se){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=ee({},I.props),Ee=I.key;if(Q!=null)for(he in Q.key!==void 0&&(Ee=""+Q.key),Q)!w.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(ie[he]=Q[he]);var he=arguments.length-2;if(he===1)ie.children=se;else if(1<he){for(var de=Array(he),mt=0;mt<he;mt++)de[mt]=arguments[mt+2];ie.children=de}return N(I.type,Ee,ie)},De.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},De.createElement=function(I,Q,se){var ie,Ee={},he=null;if(Q!=null)for(ie in Q.key!==void 0&&(he=""+Q.key),Q)w.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Ee[ie]=Q[ie]);var de=arguments.length-2;if(de===1)Ee.children=se;else if(1<de){for(var mt=Array(de),nt=0;nt<de;nt++)mt[nt]=arguments[nt+2];Ee.children=mt}if(I&&I.defaultProps)for(ie in de=I.defaultProps,de)Ee[ie]===void 0&&(Ee[ie]=de[ie]);return N(I,he,Ee)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:p,render:I}},De.isValidElement=M,De.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:re}},De.memo=function(I,Q){return{$$typeof:v,type:I,compare:Q===void 0?null:Q}},De.startTransition=function(I){var Q=C.T,se={};C.T=se;try{var ie=I(),Ee=C.S;Ee!==null&&Ee(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Te,Ae)}catch(he){Ae(he)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),C.T=Q}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(I){return C.H.use(I)},De.useActionState=function(I,Q,se){return C.H.useActionState(I,Q,se)},De.useCallback=function(I,Q){return C.H.useCallback(I,Q)},De.useContext=function(I){return C.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,Q){return C.H.useDeferredValue(I,Q)},De.useEffect=function(I,Q){return C.H.useEffect(I,Q)},De.useEffectEvent=function(I){return C.H.useEffectEvent(I)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(I,Q,se){return C.H.useImperativeHandle(I,Q,se)},De.useInsertionEffect=function(I,Q){return C.H.useInsertionEffect(I,Q)},De.useLayoutEffect=function(I,Q){return C.H.useLayoutEffect(I,Q)},De.useMemo=function(I,Q){return C.H.useMemo(I,Q)},De.useOptimistic=function(I,Q){return C.H.useOptimistic(I,Q)},De.useReducer=function(I,Q,se){return C.H.useReducer(I,Q,se)},De.useRef=function(I){return C.H.useRef(I)},De.useState=function(I){return C.H.useState(I)},De.useSyncExternalStore=function(I,Q,se){return C.H.useSyncExternalStore(I,Q,se)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.0",De}var u_;function Hm(){return u_||(u_=1,Jd.exports=cx()),Jd.exports}var ae=Hm(),Zd={exports:{}},Lo={},Wd={exports:{}},em={};var c_;function hx(){return c_||(c_=1,(function(s){function e(F,ne){var re=F.length;F.push(ne);e:for(;0<re;){var Ae=re-1>>>1,le=F[Ae];if(0<o(le,ne))F[Ae]=ne,F[re]=le,re=Ae;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],re=F.pop();if(re!==ne){F[0]=re;e:for(var Ae=0,le=F.length,I=le>>>1;Ae<I;){var Q=2*(Ae+1)-1,se=F[Q],ie=Q+1,Ee=F[ie];if(0>o(se,re))ie<le&&0>o(Ee,se)?(F[Ae]=Ee,F[ie]=re,Ae=ie):(F[Ae]=se,F[Q]=re,Ae=Q);else if(ie<le&&0>o(Ee,re))F[Ae]=Ee,F[ie]=re,Ae=ie;else break e}}return ne}function o(F,ne){var re=F.sortIndex-ne.sortIndex;return re!==0?re:F.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],x=1,S=null,O=3,K=!1,W=!1,ee=!1,te=!1,_e=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Pe(F){for(var ne=i(v);ne!==null;){if(ne.callback===null)r(v);else if(ne.startTime<=F)r(v),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(v)}}function Le(F){if(ee=!1,Pe(F),!W)if(i(_)!==null)W=!0,Te||(Te=!0,j());else{var ne=i(v);ne!==null&&ue(Le,ne.startTime-F)}}var Te=!1,C=-1,w=5,N=-1;function V(){return te?!0:!(s.unstable_now()-N<w)}function M(){if(te=!1,Te){var F=s.unstable_now();N=F;var ne=!0;try{e:{W=!1,ee&&(ee=!1,pe(C),C=-1),K=!0;var re=O;try{t:{for(Pe(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,O=S.priorityLevel;var le=Ae(S.expirationTime<=F);if(F=s.unstable_now(),typeof le=="function"){S.callback=le,Pe(F),ne=!0;break t}S===i(_)&&r(_),Pe(F)}else r(_);S=i(_)}if(S!==null)ne=!0;else{var I=i(v);I!==null&&ue(Le,I.startTime-F),ne=!1}}break e}finally{S=null,O=re,K=!1}ne=void 0}}finally{ne?j():Te=!1}}}var j;if(typeof fe=="function")j=function(){fe(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Qe=A.port2;A.port1.onmessage=M,j=function(){Qe.postMessage(null)}}else j=function(){_e(M,0)};function ue(F,ne){C=_e(function(){F(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var re=O;O=ne;try{return F()}finally{O=re}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=O;O=F;try{return ne()}finally{O=re}},s.unstable_scheduleCallback=function(F,ne,re){var Ae=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,F){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,F={id:x++,callback:ne,priorityLevel:F,startTime:re,expirationTime:le,sortIndex:-1},re>Ae?(F.sortIndex=re,e(v,F),i(_)===null&&F===i(v)&&(ee?(pe(C),C=-1):ee=!0,ue(Le,re-Ae))):(F.sortIndex=le,e(_,F),W||K||(W=!0,Te||(Te=!0,j()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ne=O;return function(){var re=O;O=ne;try{return F.apply(this,arguments)}finally{O=re}}}})(em)),em}var h_;function fx(){return h_||(h_=1,Wd.exports=hx()),Wd.exports}var tm={exports:{}},yn={};var f_;function dx(){if(f_)return yn;f_=1;var s=Hm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(_,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,x)},yn.flushSync=function(_){var v=d.T,x=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=x,r.d.f()}},yn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},yn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},yn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var x=v.as,S=p(x,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:K}):x==="script"&&r.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},yn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},yn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,S=p(x,v.crossOrigin);r.d.L(_,x,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},yn.preloadModule=function(_,v){if(typeof _=="string")if(v){var x=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},yn.requestFormReset=function(_){r.d.r(_)},yn.unstable_batchedUpdates=function(_,v){return _(v)},yn.useFormState=function(_,v,x){return d.H.useFormState(_,v,x)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var d_;function mx(){if(d_)return tm.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tm.exports=dx(),tm.exports}var m_;function gx(){if(m_)return Lo;m_=1;var s=fx(),e=Hm(),i=mx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case _e:return"Profiler";case te:return"StrictMode";case Le:return"Suspense";case Te:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case fe:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var ue=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ae=[],le=-1;function I(t){return{current:t}}function Q(t){0>le||(t.current=Ae[le],Ae[le]=null,le--)}function se(t,n){le++,Ae[le]=t.current,t.current=n}var ie=I(null),Ee=I(null),he=I(null),de=I(null);function mt(t,n){switch(se(he,n),se(Ee,t),se(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?R0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=R0(n),t=I0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ie),se(ie,t)}function nt(){Q(ie),Q(Ee),Q(he)}function Ln(t){t.memoizedState!==null&&se(de,t);var n=ie.current,a=I0(n,t.type);n!==a&&(se(Ee,t),se(ie,a))}function An(t){Ee.current===t&&(Q(ie),Q(Ee)),de.current===t&&(Q(de),Mo._currentValue=re)}var Jn,Ei;function bn(t){if(Jn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Jn=n&&n[1]||"",Ei=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jn+t+Ei}var Vi=!1;function Wt(t,n){if(!t||Vi)return"";Vi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var R=y.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Vi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function Zn(t,n){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return t.child!==n&&n!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Wt(t.type,!1);case 11:return Wt(t.type.render,!1);case 1:return Wt(t.type,!0);case 31:return bn("Activity");default:return""}}function Ti(t){try{var n="",a=null;do n+=Zn(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,gt=s.unstable_scheduleCallback,Nn=s.unstable_cancelCallback,bi=s.unstable_shouldYield,cs=s.unstable_requestPaint,Pt=s.unstable_now,Wn=s.unstable_getCurrentPriorityLevel,ji=s.unstable_ImmediatePriority,Pi=s.unstable_UserBlockingPriority,Un=s.unstable_NormalPriority,qs=s.unstable_LowPriority,hs=s.unstable_IdlePriority,Hs=s.log,Li=s.unstable_setDisableYieldValue,gn=null,Rt=null;function rn(t){if(typeof Hs=="function"&&Li(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(gn,t)}catch{}}var yt=Math.clz32?Math.clz32:ds,fs=Math.log,ei=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(fs(t)/ei|0)|0}var an=256,Cn=262144,B=4194304;function ce(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function we(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ce(l):(y&=T,y!==0?h=ce(y):a||(a=T&~t,a!==0&&(h=ce(a))))):(T=l&~f,T!==0?h=ce(T):y!==0?h=ce(y):a||(a=l&~t,a!==0&&(h=ce(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function je(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Tt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var t=B;return B<<=1,(B&62914560)===0&&(B=4194304),t}function _t(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Xt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lt(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-yt(a),$=1<<Y;T[Y]=0,R[Y]=-1;var q=z[Y];if(q!==null)for(z[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&pn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function pn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-yt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ti(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Nt(t,n){var a=n&-n;return a=(a&42)!==0?1:ni(a),(a&(t.suspendedLanes|n))!==0?0:a}function ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function D(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:W0(t.type))}function be(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Ue=Math.random().toString(36).slice(2),$e="__reactFiber$"+Ue,Ze="__reactProps$"+Ue,Ut="__reactContainer$"+Ue,xn="__reactEvents$"+Ue,tf="__reactListeners$"+Ue,Su="__reactHandles$"+Ue,wu="__reactResources$"+Ue,Ui="__reactMarker$"+Ue;function Aa(t){delete t[$e],delete t[Ze],delete t[xn],delete t[tf],delete t[Su]}function zi(t){var n=t[$e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ut]||a[$e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[$e])return a;t=P0(t)}return n}t=a,a=t.parentNode}return null}function si(t){if(t=t[$e]||t[Ut]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Bi(t){var n=t[wu];return n||(n=t[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Ui]=!0}var Ul=new Set,zl={};function qi(t,n){Hi(t,n),Hi(t+"Capture",n)}function Hi(t,n){for(zl[t]=n,t=0;t<n.length;t++)Ul.add(n[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Hl={};function Au(t){return Et.call(Hl,t)?!0:Et.call(ql,t)?!1:Bl.test(t)?Hl[t]=!0:(ql[t]=!0,!1)}function Na(t,n,a){if(Au(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Bt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Fs(t)?"checked":"value";t._valueTracker=Fl(t,n,""+t[n])}}function qr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function Rn(t){return t.replace(Hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gl(t,y,en(n)):a!=null?Gl(t,y,en(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Nu(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),lt(t)}function Gl(t,n,a){n==="number"&&Fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Cu(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Ks(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function In(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ru.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ql(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Kl(t,f,n[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xi(){}var Yl=null;function ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,Gi=null;function Fr(t){var n=si(t);if(n&&(t=n.stateNode)){var a=t[Ze]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ze]||null;if(!h)throw Error(r(90));Ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qr(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Gs(t,!!a.multiple,n,!1)}}}var Da=!1;function Xs(t,n,a){if(Da)return t(n,a);Da=!0;try{var l=t(n);return l}finally{if(Da=!1,(Ys!==null||Gi!==null)&&(xc(),Ys&&(n=Ys,t=Gi,Gi=Ys=null,Fr(n),t)))for(n=0;n<t.length;n++)Fr(t[n])}}function Si(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ze]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(ai)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Gr=!1}var Ki=null,Xl=null,Kr=null;function $l(){if(Kr)return Kr;var t,n=Xl,a=n.length,l,h="value"in Ki?Ki.value:Ki.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return Kr=h.slice(t,1<l?1-l:void 0)}function Qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function wi(){return!1}function ln(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ms:wi,this.isPropagationStopped=wi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=ln(gs),$s=S({},gs,{view:0,detail:0}),Jl=ln($s),Js,Oa,Yi,Ma=S({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(Js=t.screenX-Yi.screenX,Oa=t.screenY-Yi.screenY):Oa=Js=0,Yi=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Zl=ln(Ma),Yr=S({},Ma,{dataTransfer:0}),Du=ln(Yr),Ou=S({},$s,{relatedTarget:0}),Xr=ln(Ou),Wl=S({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=ln(Wl),ka=S({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=ln(ka),Vu=S({},gs,{data:0}),Xi=ln(Vu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lu[t])?!!n[t]:!1}function Zs(){return Uu}var Sn=S({},$s,{key:function(t){if(t.key){var n=ju[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(t){return t.type==="keypress"?Qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zu=ln(Sn),Bu=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=ln(Bu),u=S({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),g=ln(u),E=S({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ln(E),L=S({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=ln(L),oe=S({},gs,{newState:0,oldState:0}),Me=ln(oe),Ot=[9,13,27,32],it=ai&&"CompositionEvent"in window,wt=null;ai&&"documentMode"in document&&(wt=document.documentMode);var li=ai&&"TextEvent"in window&&!wt,$i=ai&&(!it||wt&&8<wt&&11>=wt),Ai=" ",Ni=!1;function $r(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function OT(t,n){switch(t){case"compositionend":return Va(n);case"keypress":return n.which!==32?null:(Ni=!0,Ai);case"textInput":return t=n.data,t===Ai&&Ni?null:t;default:return null}}function MT(t,n){if(ja)return t==="compositionend"||!it&&$r(t,n)?(t=$l(),Kr=Xl=Ki=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $i&&n.locale!=="ko"?null:n.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!kT[t.type]:n==="textarea"}function Bg(t,n,a,l){Ys?Gi?Gi.push(l):Gi=[l]:Ys=l,n=Ic(n,"onChange"),0<n.length&&(a=new Qi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var eo=null,to=null;function VT(t){x0(t,0)}function qu(t){var n=zn(t);if(qr(n))return t}function qg(t,n){if(t==="change")return n}var Hg=!1;if(ai){var nf;if(ai){var sf="oninput"in document;if(!sf){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),sf=typeof Fg.oninput=="function"}nf=sf}else nf=!1;Hg=nf&&(!document.documentMode||9<document.documentMode)}function Gg(){eo&&(eo.detachEvent("onpropertychange",Kg),to=eo=null)}function Kg(t){if(t.propertyName==="value"&&qu(to)){var n=[];Bg(n,to,t,ri(t)),Xs(VT,n)}}function jT(t,n,a){t==="focusin"?(Gg(),eo=n,to=a,eo.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function PT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(to)}function LT(t,n){if(t==="click")return qu(n)}function UT(t,n){if(t==="input"||t==="change")return qu(n)}function zT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:zT;function no(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(n,h)||!qn(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Fi(t.document)}return n}function rf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var BT=ai&&"documentMode"in document&&11>=document.documentMode,Pa=null,af=null,io=null,lf=!1;function Jg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Pa==null||Pa!==Fi(l)||(l=Pa,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),io&&no(io,l)||(io=l,l=Ic(af,"onSelect"),0<l.length&&(n=new Qi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pa)))}function Jr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var La={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},of={},Zg={};ai&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Zr(t){if(of[t])return of[t];if(!La[t])return t;var n=La[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zg)return of[t]=n[a];return t}var Wg=Zr("animationend"),ep=Zr("animationiteration"),tp=Zr("animationstart"),qT=Zr("transitionrun"),HT=Zr("transitionstart"),FT=Zr("transitioncancel"),np=Zr("transitionend"),ip=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Ci(t,n){ip.set(t,n),qi(n,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},oi=[],Ua=0,cf=0;function Fu(){for(var t=Ua,n=cf=Ua=0;n<t;){var a=oi[n];oi[n++]=null;var l=oi[n];oi[n++]=null;var h=oi[n];oi[n++]=null;var f=oi[n];if(oi[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&sp(a,h,f)}}function Gu(t,n,a,l){oi[Ua++]=t,oi[Ua++]=n,oi[Ua++]=a,oi[Ua++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,n,a,l){return Gu(t,n,a,l),Ku(t)}function Wr(t,n){return Gu(t,null,null,n),Ku(t)}function sp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-yt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ku(t){if(50<Ao)throw Ao=0,Ed=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function GT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,n,a,l){return new GT(t,n,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,n){var a=t.alternate;return a===null?(a=Hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")ff(t)&&(y=1);else if(typeof t=="string")y=$b(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Hn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ee:return ea(a.children,h,f,n);case te:y=8,h|=24;break;case _e:return t=Hn(12,a,n,h|2),t.elementType=_e,t.lanes=f,t;case Le:return t=Hn(13,a,n,h),t.elementType=Le,t.lanes=f,t;case Te:return t=Hn(19,a,n,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:y=10;break e;case pe:y=9;break e;case Pe:y=11;break e;case C:y=14;break e;case w:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Hn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,a,l){return t=Hn(7,t,l,n),t.lanes=a,t}function df(t,n,a){return t=Hn(6,t,null,n),t.lanes=a,t}function ap(t){var n=Hn(18,null,null,0);return n.stateNode=t,n}function mf(t,n,a){return n=Hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lp=new WeakMap;function ui(t,n){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ti(n)},lp.set(t,n),n)}return{value:t,source:n,stack:Ti(n)}}var Ba=[],qa=0,Yu=null,so=0,ci=[],hi=0,Ws=null,Ji=1,Zi="";function _s(t,n){Ba[qa++]=so,Ba[qa++]=Yu,Yu=t,so=n}function op(t,n,a){ci[hi++]=Ji,ci[hi++]=Zi,ci[hi++]=Ws,Ws=t;var l=Ji;t=Zi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var f=32-yt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ji=1<<32-yt(n)+h|a<<h|l,Zi=f+t}else Ji=1<<f|a<<h|l,Zi=t}function gf(t){t.return!==null&&(_s(t,1),op(t,1,0))}function pf(t){for(;t===Yu;)Yu=Ba[--qa],Ba[qa]=null,so=Ba[--qa],Ba[qa]=null;for(;t===Ws;)Ws=ci[--hi],ci[hi]=null,Zi=ci[--hi],ci[hi]=null,Ji=ci[--hi],ci[hi]=null}function up(t,n){ci[hi++]=Ji,ci[hi++]=Zi,ci[hi++]=Ws,Ji=n.id,Zi=n.overflow,Ws=t}var on=null,bt=null,Ye=!1,er=null,fi=!1,yf=Error(r(519));function tr(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(ui(n,t)),yf}function cp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[$e]=t,n[Ze]=l,a){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<Co.length;a++)Be(Co[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),Nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),Ks(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||N0(n.textContent,a)?(l.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),l.onScroll!=null&&Be("scroll",n),l.onScrollEnd!=null&&Be("scrollend",n),l.onClick!=null&&(n.onclick=xi),n=!0):n=!1,n||tr(t,!0)}function hp(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:on=on.return}}function Ha(t){if(t!==on)return!1;if(!Ye)return hp(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&bt&&tr(t),hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=j0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=j0(t)}else n===27?(n=bt,gr(t.type)?(t=zd,zd=null,bt=t):bt=n):bt=on?mi(t.stateNode.nextSibling):null;return!0}function ta(){bt=on=null,Ye=!1}function _f(){var t=er;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),er=null),t}function ro(t){er===null?er=[t]:er.push(t)}var vf=I(null),na=null,vs=null;function nr(t,n,a){se(vf,n._currentValue),n._currentValue=a}function Es(t){t._currentValue=vf.current,Q(vf)}function Ef(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Tf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Ef(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Ef(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Fa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;qn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===de.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Mo):t=[Mo])}h=h.return}t!==null&&Tf(n,t,a,l),n.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,vs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return fp(na,t)}function $u(t,n){return na===null&&ia(t),fp(t,n)}function fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vs===null){if(t===null)throw Error(r(308));vs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vs=vs.next=n;return a}var KT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},QT=s.unstable_scheduleCallback,YT=s.unstable_NormalPriority,qt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new KT,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&QT(YT,function(){t.controller.abort()})}var lo=null,xf=0,Ga=0,Ka=null;function XT(t,n){if(lo===null){var a=lo=[];xf=0,Ga=Ad(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,n.then(dp,dp),n}function dp(){if(--xf===0&&lo!==null){Ka!==null&&(Ka.status="fulfilled");var t=lo;lo=null,Ga=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $T(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mp=F.S;F.S=function(t,n){Jy=Pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XT(t,n),mp!==null&&mp(t,n)};var sa=I(null);function Sf(){var t=sa.current;return t!==null?t:pt.pooledCache}function Ju(t,n){n===null?se(sa,sa.current):se(sa,n.pool)}function gp(){var t=Sf();return t===null?null:{parent:qt._currentValue,pool:t}}var Qa=Error(r(460)),wf=Error(r(474)),Zu=Error(r(542)),Wu={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xi,xi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t;default:if(typeof n.status=="string")n.then(xi,xi);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t}throw aa=n,Qa}}function ra(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,Qa):a}}var aa=null;function _p(){if(aa===null)throw Error(r(459));var t=aa;return aa=null,t}function vp(t){if(t===Qa||t===Zu)throw Error(r(483))}var Ya=null,oo=0;function ec(t){var n=oo;return oo+=1,Ya===null&&(Ya=[]),yp(Ya,t,n)}function uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tc(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ep(t){function n(P,k){if(t){var U=P.deletions;U===null?(P.deletions=[k],P.flags|=16):U.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)n(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=ys(P,k),P.index=0,P.sibling=null,P}function f(P,k,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<k?(P.flags|=67108866,k):U):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,k,U,X){return k===null||k.tag!==6?(k=df(U,P.mode,X),k.return=P,k):(k=h(k,U),k.return=P,k)}function R(P,k,U,X){var xe=U.type;return xe===ee?Y(P,k,U.props.children,X,U.key):k!==null&&(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===w&&ra(xe)===k.type)?(k=h(k,U.props),uo(k,U),k.return=P,k):(k=Qu(U.type,U.key,U.props,null,P.mode,X),uo(k,U),k.return=P,k)}function z(P,k,U,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=mf(U,P.mode,X),k.return=P,k):(k=h(k,U.children||[]),k.return=P,k)}function Y(P,k,U,X,xe){return k===null||k.tag!==7?(k=ea(U,P.mode,X,xe),k.return=P,k):(k=h(k,U),k.return=P,k)}function $(P,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=df(""+k,P.mode,U),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return U=Qu(k.type,k.key,k.props,null,P.mode,U),uo(U,k),U.return=P,U;case W:return k=mf(k,P.mode,U),k.return=P,k;case w:return k=ra(k),$(P,k,U)}if(ue(k)||j(k))return k=ea(k,P.mode,U,null),k.return=P,k;if(typeof k.then=="function")return $(P,ec(k),U);if(k.$$typeof===fe)return $(P,$u(P,k),U);tc(P,k)}return null}function q(P,k,U,X){var xe=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return xe!==null?null:T(P,k,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===xe?R(P,k,U,X):null;case W:return U.key===xe?z(P,k,U,X):null;case w:return U=ra(U),q(P,k,U,X)}if(ue(U)||j(U))return xe!==null?null:Y(P,k,U,X,null);if(typeof U.then=="function")return q(P,k,ec(U),X);if(U.$$typeof===fe)return q(P,k,$u(P,U),X);tc(P,U)}return null}function G(P,k,U,X,xe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(U)||null,T(k,P,""+X,xe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return P=P.get(X.key===null?U:X.key)||null,R(k,P,X,xe);case W:return P=P.get(X.key===null?U:X.key)||null,z(k,P,X,xe);case w:return X=ra(X),G(P,k,U,X,xe)}if(ue(X)||j(X))return P=P.get(U)||null,Y(k,P,X,xe,null);if(typeof X.then=="function")return G(P,k,U,ec(X),xe);if(X.$$typeof===fe)return G(P,k,U,$u(k,X),xe);tc(k,X)}return null}function ye(P,k,U,X){for(var xe=null,We=null,ve=k,Ve=k=0,He=null;ve!==null&&Ve<U.length;Ve++){ve.index>Ve?(He=ve,ve=null):He=ve.sibling;var et=q(P,ve,U[Ve],X);if(et===null){ve===null&&(ve=He);break}t&&ve&&et.alternate===null&&n(P,ve),k=f(et,k,Ve),We===null?xe=et:We.sibling=et,We=et,ve=He}if(Ve===U.length)return a(P,ve),Ye&&_s(P,Ve),xe;if(ve===null){for(;Ve<U.length;Ve++)ve=$(P,U[Ve],X),ve!==null&&(k=f(ve,k,Ve),We===null?xe=ve:We.sibling=ve,We=ve);return Ye&&_s(P,Ve),xe}for(ve=l(ve);Ve<U.length;Ve++)He=G(ve,P,Ve,U[Ve],X),He!==null&&(t&&He.alternate!==null&&ve.delete(He.key===null?Ve:He.key),k=f(He,k,Ve),We===null?xe=He:We.sibling=He,We=He);return t&&ve.forEach(function(Er){return n(P,Er)}),Ye&&_s(P,Ve),xe}function Ne(P,k,U,X){if(U==null)throw Error(r(151));for(var xe=null,We=null,ve=k,Ve=k=0,He=null,et=U.next();ve!==null&&!et.done;Ve++,et=U.next()){ve.index>Ve?(He=ve,ve=null):He=ve.sibling;var Er=q(P,ve,et.value,X);if(Er===null){ve===null&&(ve=He);break}t&&ve&&Er.alternate===null&&n(P,ve),k=f(Er,k,Ve),We===null?xe=Er:We.sibling=Er,We=Er,ve=He}if(et.done)return a(P,ve),Ye&&_s(P,Ve),xe;if(ve===null){for(;!et.done;Ve++,et=U.next())et=$(P,et.value,X),et!==null&&(k=f(et,k,Ve),We===null?xe=et:We.sibling=et,We=et);return Ye&&_s(P,Ve),xe}for(ve=l(ve);!et.done;Ve++,et=U.next())et=G(ve,P,Ve,et.value,X),et!==null&&(t&&et.alternate!==null&&ve.delete(et.key===null?Ve:et.key),k=f(et,k,Ve),We===null?xe=et:We.sibling=et,We=et);return t&&ve.forEach(function(lx){return n(P,lx)}),Ye&&_s(P,Ve),xe}function dt(P,k,U,X){if(typeof U=="object"&&U!==null&&U.type===ee&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var xe=U.key;k!==null;){if(k.key===xe){if(xe=U.type,xe===ee){if(k.tag===7){a(P,k.sibling),X=h(k,U.props.children),X.return=P,P=X;break e}}else if(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===w&&ra(xe)===k.type){a(P,k.sibling),X=h(k,U.props),uo(X,U),X.return=P,P=X;break e}a(P,k);break}else n(P,k);k=k.sibling}U.type===ee?(X=ea(U.props.children,P.mode,X,U.key),X.return=P,P=X):(X=Qu(U.type,U.key,U.props,null,P.mode,X),uo(X,U),X.return=P,P=X)}return y(P);case W:e:{for(xe=U.key;k!==null;){if(k.key===xe)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(P,k.sibling),X=h(k,U.children||[]),X.return=P,P=X;break e}else{a(P,k);break}else n(P,k);k=k.sibling}X=mf(U,P.mode,X),X.return=P,P=X}return y(P);case w:return U=ra(U),dt(P,k,U,X)}if(ue(U))return ye(P,k,U,X);if(j(U)){if(xe=j(U),typeof xe!="function")throw Error(r(150));return U=xe.call(U),Ne(P,k,U,X)}if(typeof U.then=="function")return dt(P,k,ec(U),X);if(U.$$typeof===fe)return dt(P,k,$u(P,U),X);tc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(P,k.sibling),X=h(k,U),X.return=P,P=X):(a(P,k),X=df(U,P.mode,X),X.return=P,P=X),y(P)):a(P,k)}return function(P,k,U,X){try{oo=0;var xe=dt(P,k,U,X);return Ya=null,xe}catch(ve){if(ve===Qa||ve===Zu)throw ve;var We=Hn(29,ve,null,P.mode);return We.lanes=X,We.return=P,We}finally{}}}var la=Ep(!0),Tp=Ep(!1),ir=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ku(t),sp(t,null,a),n}return Gu(t,l,n,a),Ku(t)}function co(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ti(t,a)}}function Cf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Rf=!1;function ho(){if(Rf){var t=Ka;if(t!==null)throw t}}function fo(t,n,a,l){Rf=!1;var h=t.updateQueue;ir=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==y&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;y=0,Y=z=R=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(qe&q)===q:(l&q)===q){q!==0&&q===Ga&&(Rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Ne=T;q=n;var dt=a;switch(Ne.tag){case 1:if(ye=Ne.payload,typeof ye=="function"){$=ye.call(dt,$,q);break e}$=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ne.payload,q=typeof ye=="function"?ye.call(dt,$,q):ye,q==null)break e;$=S({},$,q);break e;case 2:ir=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=G,R=$):Y=Y.next=G,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=$}}function bp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function xp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],n)}var Xa=I(null),nc=I(0);function Sp(t,n){t=Rs,se(nc,t),se(Xa,n),Rs=t|n.baseLanes}function If(){se(nc,Rs),se(Xa,Xa.current)}function Df(){Rs=nc.current,Q(Xa),Q(nc)}var Fn=I(null),di=null;function ar(t){var n=t.alternate;se(Mt,Mt.current&1),se(Fn,t),di===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(di=t)}function Of(t){se(Mt,Mt.current),se(Fn,t),di===null&&(di=t)}function wp(t){t.tag===22?(se(Mt,Mt.current),se(Fn,t),di===null&&(di=t)):lr()}function lr(){se(Mt,Mt.current),se(Fn,Fn.current)}function Gn(t){Q(Fn),di===t&&(di=null),Q(Mt)}var Mt=I(0);function ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||Ud(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ts=0,ke=null,ht=null,Ht=null,sc=!1,$a=!1,oa=!1,rc=0,mo=0,Ja=null,JT=0;function It(){throw Error(r(321))}function Mf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!qn(t[a],n[a]))return!1;return!0}function kf(t,n,a,l,h,f){return Ts=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?oy:Xf,oa=!1,f=a(l,h),oa=!1,$a&&(f=Np(n,a,l,h)),Ap(t),f}function Ap(t){F.H=yo;var n=ht!==null&&ht.next!==null;if(Ts=0,Ht=ht=ke=null,sc=!1,mo=0,Ja=null,n)throw Error(r(300));t===null||Ft||(t=t.dependencies,t!==null&&Xu(t)&&(Ft=!0))}function Np(t,n,a,l){ke=t;var h=0;do{if($a&&(Ja=null),mo=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,Ht=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=uy,f=n(a,l)}while($a);return f}function ZT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?go(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(ke.flags|=1024),n}function Vf(){var t=rc!==0;return rc=0,t}function jf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Pf(t){if(sc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}sc=!1}Ts=0,Ht=ht=ke=null,$a=!1,mo=rc=0,Ja=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ke.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(ht===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ht===null?ke.memoizedState:Ht.next;if(n!==null)Ht=n,ht=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?ke.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var n=mo;return mo+=1,Ja===null&&(Ja=[]),t=yp(Ja,t,n),n=ke,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?oy:Xf),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===fe)return un(t)}throw Error(r(438,String(t)))}function Lf(t){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ac(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function bs(t,n){return typeof n=="function"?n(t):n}function oc(t){var n=kt();return Uf(n,ht,t)}function Uf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,R=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(qe&$)===$:(Ts&$)===$){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ga&&(Y=!0);else if((Ts&q)===q){z=z.next,q===Ga&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=$,y=f):R=R.next=$,ke.lanes|=q,cr|=q;$=z.action,oa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=q,y=f):R=R.next=q,ke.lanes|=$,cr|=$;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=T,!qn(f,t.memoizedState)&&(Ft=!0,Y&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var n=kt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);qn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Cp(t,n,a){var l=ke,h=kt(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!qn((ht||h).memoizedState,a);if(y&&(h.memoizedState=a,Ft=!0),h=h.queue,Hf(Dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Ip.bind(null,l,h,a,n),null),pt===null)throw Error(r(349));f||(Ts&127)!==0||Rp(l,n,a)}return a}function Rp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=ac(),ke.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,l){n.value=a,n.getSnapshot=l,Op(n)&&Mp(t)}function Dp(t,n,a){return a(function(){Op(n)&&Mp(t)})}function Op(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!qn(t,a)}catch{return!0}}function Mp(t){var n=Wr(t,2);n!==null&&Vn(n,t,2)}function Bf(t){var n=wn();if(typeof t=="function"){var a=t;if(t=a(),oa){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},n}function kp(t,n,a,l){return t.baseState=a,Uf(t,ht,typeof l=="function"?l:bs)}function WT(t,n,a,l,h){if(hc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var T=a(h,l),R=F.S;R!==null&&R(y,T),jp(t,n,T)}catch(z){qf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,l),jp(t,n,f)}catch(z){qf(t,n,z)}}function jp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,n,l)},function(l){return qf(t,n,l)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Lp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function qf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==l)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Up(t,n){return n}function zp(t,n){if(Ye){var a=pt.formState;if(a!==null){e:{var l=ke;if(Ye){if(bt){t:{for(var h=bt,f=fi;h.nodeType!==8;){if(!f){h=null;break t}if(h=mi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=mi(h.nextSibling),l=h.data==="F!";break e}}tr(l)}l=!1}l&&(n=a[0])}}return a=wn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:n},a.queue=l,a=ry.bind(null,ke,l),l.dispatch=a,l=Bf(!1),f=Yf.bind(null,ke,!1,l.queue),l=wn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=WT.bind(null,ke,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bp(t){var n=kt();return qp(n,ht,t)}function qp(t,n,a){if(n=Uf(t,n,Up)[0],t=oc(bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=go(n)}catch(y){throw y===Qa?Zu:y}else l=n;n=kt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Za(9,{destroy:void 0},eb.bind(null,h,a),null)),[l,f,t]}function eb(t,n){t.action=n}function Hp(t){var n=kt(),a=ht;if(a!==null)return qp(n,a,t);kt(),n=n.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Za(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=ac(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Fp(){return kt().memoizedState}function uc(t,n,a,l){var h=wn();ke.flags|=t,h.memoizedState=Za(1|n,{destroy:void 0},a,l===void 0?null:l)}function cc(t,n,a,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;ht!==null&&l!==null&&Mf(l,ht.memoizedState.deps)?h.memoizedState=Za(n,f,a,l):(ke.flags|=t,h.memoizedState=Za(1|n,f,a,l))}function Gp(t,n){uc(8390656,8,t,n)}function Hf(t,n){cc(2048,8,t,n)}function tb(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=ac(),ke.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Kp(t){var n=kt().memoizedState;return tb({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return cc(4,2,t,n)}function Yp(t,n){return cc(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,a){a=a!=null?a.concat([t]):null,cc(4,4,Xp.bind(null,n,t),a)}function Ff(){}function Jp(t,n){var a=kt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Mf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zp(t,n){var a=kt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Mf(n,l[1]))return l[0];if(l=t(),oa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l}function Gf(t,n,a){return a===void 0||(Ts&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Wy(),ke.lanes|=t,cr|=t,a)}function Wp(t,n,a,l){return qn(a,n)?a:Xa.current!==null?(t=Gf(t,a,l),qn(t,n)||(Ft=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(qe&261930)===0?(Ft=!0,t.memoizedState=a):(t=Wy(),ke.lanes|=t,cr|=t,n)}function ey(t,n,a,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var y=F.T,T={};F.T=T,Yf(t,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=$T(R,l);po(t,n,Y,Yn(t))}else po(t,n,l,Yn(t))}catch($){po(t,n,{then:function(){},status:"rejected",reason:$},Yn())}finally{ne.p=f,y!==null&&T.types!==null&&(y.types=T.types),F.T=y}}function nb(){}function Kf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,n,re,a===null?nb:function(){return ny(t),a(l)})}function ty(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ny(t){var n=ty(t);n.next===null&&(n=t.alternate.memoizedState),po(t,n.next.queue,{},Yn())}function Qf(){return un(Mo)}function iy(){return kt().memoizedState}function sy(){return kt().memoizedState}function ib(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Yn();t=sr(a);var l=rr(n,t,a);l!==null&&(Vn(l,n,a),co(l,n,a)),n={cache:bf()},t.payload=n;return}n=n.return}}function sb(t,n,a){var l=Yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?ay(n,a):(a=hf(t,n,a,l),a!==null&&(Vn(a,t,l),ly(a,n,l)))}function ry(t,n,a){var l=Yn();po(t,n,a,l)}function po(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))ay(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,qn(T,y))return Gu(t,n,h,0),pt===null&&Fu(),!1}catch{}finally{}if(a=hf(t,n,h,l),a!==null)return Vn(a,t,l),ly(a,n,l),!0}return!1}function Yf(t,n,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(n)throw Error(r(479))}else n=hf(t,a,l,2),n!==null&&Vn(n,t,2)}function hc(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function ay(t,n){$a=sc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ly(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ti(t,a)}}var yo={readContext:un,use:lc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};yo.useEffectEvent=It;var oy={readContext:un,use:lc,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uc(4194308,4,Xp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uc(4194308,4,t,n)},useInsertionEffect:function(t,n){uc(4,2,t,n)},useMemo:function(t,n){var a=wn();n=n===void 0?null:n;var l=t();if(oa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=wn();if(a!==void 0){var h=a(n);if(oa){rn(!0);try{a(n)}finally{rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=sb.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=Bf(t);var n=t.queue,a=ry.bind(null,ke,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,n){var a=wn();return Gf(a,t,n)},useTransition:function(){var t=Bf(!1);return t=ey.bind(null,ke,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ke,h=wn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pt===null)throw Error(r(349));(qe&127)!==0||Rp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gp(Dp.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},Ip.bind(null,l,f,a,n),null),a},useId:function(){var t=wn(),n=pt.identifierPrefix;if(Ye){var a=Zi,l=Ji;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=rc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=JT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Qf,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yf.bind(null,ke,!0,a),a.dispatch=n,[t,n]},useMemoCache:Lf,useCacheRefresh:function(){return wn().memoizedState=ib.bind(null,ke)},useEffectEvent:function(t){var n=wn(),a={impl:t};return n.memoizedState=a,function(){if((st&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:un,use:lc,useCallback:Jp,useContext:un,useEffect:Hf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Zp,useReducer:oc,useRef:Fp,useState:function(){return oc(bs)},useDebugValue:Ff,useDeferredValue:function(t,n){var a=kt();return Wp(a,ht.memoizedState,t,n)},useTransition:function(){var t=oc(bs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Qf,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=kt();return kp(a,ht,t,n)},useMemoCache:Lf,useCacheRefresh:sy};Xf.useEffectEvent=Kp;var uy={readContext:un,use:lc,useCallback:Jp,useContext:un,useEffect:Hf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Zp,useReducer:zf,useRef:Fp,useState:function(){return zf(bs)},useDebugValue:Ff,useDeferredValue:function(t,n){var a=kt();return ht===null?Gf(a,t,n):Wp(a,ht.memoizedState,t,n)},useTransition:function(){var t=zf(bs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Qf,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var a=kt();return ht!==null?kp(a,ht,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:sy};uy.useEffectEvent=Kp;function $f(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Yn(),h=sr(l);h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(Vn(n,t,l),co(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Yn(),h=sr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(Vn(n,t,l),co(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Yn(),l=sr(a);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,a),n!==null&&(Vn(n,t,a),co(n,t,a))}};function cy(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!no(a,l)||!no(h,f):!0}function hy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Jf.enqueueReplaceState(n,n.state,null)}function ua(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){Hu(t)}function dy(t){console.error(t)}function my(t){Hu(t)}function fc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,n,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,n)},a}function py(t){return t=sr(t),t.tag=3,t}function yy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){gy(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gy(n,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?Sc():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(r(435,a.tag))}return xd(t,l,h),Sc(),!1}if(Ye)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==yf&&(t=Error(r(422),{cause:l}),ro(ui(t,a)))):(l!==yf&&(n=Error(r(423),{cause:l}),ro(ui(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ui(l,a),h=Zf(t.stateNode,l,h),Cf(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(r(520),{cause:l});if(f=ui(f,a),wo===null?wo=[f]:wo.push(f),Dt!==4&&(Dt=2),n===null)return!0;l=ui(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(r(461)),Ft=!1;function cn(t,n,a,l){n.child=t===null?Tp(n,null,a,l):la(n,t.child,a,l)}function _y(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return ia(n),l=kf(t,n,a,y,f,h),T=Vf(),t!==null&&!Ft?(jf(t,n,h),xs(t,n,h)):(Ye&&T&&gf(n),n.flags|=1,cn(t,n,l,h),n.child)}function vy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ey(t,n,f,l,h)):(t=Qu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ld(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(y,l)&&t.ref===n.ref)return xs(t,n,h)}return n.flags|=1,t=ys(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ey(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(no(f,l)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=l=f,ld(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,xs(t,n,h)}return ed(t,n,a,l,h)}function Ty(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return by(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(n,f!==null?f.cachePool:null),f!==null?Sp(n,f):If(),wp(n);else return l=n.lanes=536870912,by(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ju(n,f.cachePool),Sp(n,f),lr(),n.memoizedState=null):(t!==null&&Ju(n,null),If(),lr());return cn(t,n,h,a),n.child}function _o(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,a,l,h){var f=Sf();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ju(n,null),If(),wp(n),t!==null&&Fa(t,n,l,!0),n.childLanes=h,null}function dc(t,n){return n=gc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xy(t,n,a){return la(n,t.child,null,a),t=dc(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function ab(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=dc(n,l),n.lanes=536870912,_o(null,t);if(Of(n),(t=bt)?(t=V0(t,fi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,on=n,bt=null)):t=null,t===null)throw tr(n);return n.lanes=536870912,null}return dc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Of(n),h)if(n.flags&256)n.flags&=-257,n=xy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ft||Fa(t,n,a,!1),h=(a&t.childLanes)!==0,Ft||h){if(l=pt,l!==null&&(y=Nt(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Wr(t,y),Vn(l,t,y),Wf;Sc(),n=xy(t,n,a)}else t=f.treeContext,bt=mi(y.nextSibling),on=n,Ye=!0,er=null,fi=!1,t!==null&&up(n,t),n=dc(n,l),n.flags|=4096;return n}return t=ys(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ed(t,n,a,l,h){return ia(n),a=kf(t,n,a,l,void 0,h),l=Vf(),t!==null&&!Ft?(jf(t,n,h),xs(t,n,h)):(Ye&&l&&gf(n),n.flags|=1,cn(t,n,a,h),n.child)}function Sy(t,n,a,l,h,f){return ia(n),n.updateQueue=null,a=Np(n,l,a,h),Ap(t),l=Vf(),t!==null&&!Ft?(jf(t,n,f),xs(t,n,f)):(Ye&&l&&gf(n),n.flags|=1,cn(t,n,a,f),n.child)}function wy(t,n,a,l,h){if(ia(n),n.stateNode===null){var f=za,y=a.contextType;typeof y=="object"&&y!==null&&(f=un(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Af(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?un(y):za,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&($f(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Jf.enqueueReplaceState(f,f.state,null),fo(n,l,f,h),ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ua(a,T);f.props=R;var z=f.context,Y=a.contextType;y=za,typeof Y=="object"&&Y!==null&&(y=un(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&hy(n,f,l,y),ir=!1;var q=n.memoizedState;f.state=q,fo(n,l,f,h),ho(),z=n.memoizedState,T||q!==z||ir?(typeof $=="function"&&($f(n,a,$,l),z=n.memoizedState),(R=ir||cy(n,a,R,l,q,z,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Nf(t,n),y=n.memoizedProps,Y=ua(a,y),f.props=Y,$=n.pendingProps,q=f.context,z=a.contextType,R=za,typeof z=="object"&&z!==null&&(R=un(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==R)&&hy(n,f,l,R),ir=!1,q=n.memoizedState,f.state=q,fo(n,l,f,h),ho();var G=n.memoizedState;y!==$||q!==G||ir||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof T=="function"&&($f(n,a,T,l),G=n.memoizedState),(Y=ir||cy(n,a,Y,l,q,G,R)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,h),n.child=la(n,null,a,h)):cn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=xs(t,n,h),t}function Ay(t,n,a,l){return ta(),n.flags|=256,cn(t,n,a,l),n.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:gp()}}function id(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Qn),t}function Ny(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?ar(n):lr(),(t=bt)?(t=V0(t,fi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ws!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,on=n,bt=null)):t=null,t===null)throw tr(n);return Ud(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(lr(),h=n.mode,T=gc({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=nd(a),l.childLanes=id(t,y,a),n.memoizedState=td,_o(null,l)):(ar(n),sd(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=rd(t,n,a)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),T=l.fallback,h=n.mode,l=gc({mode:"visible",children:l.children},h),T=ea(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,la(n,t.child,null,a),l=n.child,l.memoizedState=nd(a),l.childLanes=id(t,y,a),n.memoizedState=td,n=_o(null,l));else if(ar(n),Ud(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,ro({value:l,source:null,stack:null}),n=rd(t,n,a)}else if(Ft||Fa(t,n,a,!1),y=(a&t.childLanes)!==0,Ft||y){if(y=pt,y!==null&&(l=Nt(y,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Wr(t,l),Vn(y,t,l),Wf;Ld(T)||Sc(),n=rd(t,n,a)}else Ld(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,bt=mi(T.nextSibling),on=n,Ye=!0,er=null,fi=!1,t!==null&&up(n,t),n=sd(n,l.children),n.flags|=4096);return n}return h?(lr(),T=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=ys(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=ys(z,T):(T=ea(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,_o(null,l),l=n.child,T=t.child.memoizedState,T===null?T=nd(a):(h=T.cachePool,h!==null?(R=qt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=gp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=id(t,y,a),n.memoizedState=td,_o(t.child,l)):(ar(n),a=t.child,t=a.sibling,a=ys(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function sd(t,n){return n=gc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gc(t,n){return t=Hn(22,t,null,n),t.lanes=0,t}function rd(t,n,a){return la(n,t.child,null,a),t=sd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cy(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ef(t.return,n,a)}function ad(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ry(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Mt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,se(Mt,y),cn(t,n,l,a),l=Ye?so:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,a,n);else if(t.tag===19)Cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ad(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(n,!0,a,null,f,l);break;case"together":ad(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ys(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ys(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ld(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function lb(t,n,a){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),nr(n,qt,t.memoizedState.cache),ta();break;case 27:case 5:Ln(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ny(t,n,a):(ar(n),t=xs(t,n,a),t!==null?t.sibling:null);ar(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ry(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,Ty(t,n,a,n.pendingProps);case 24:nr(n,qt,t.memoizedState.cache)}return xs(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!ld(t,a)&&(n.flags&128)===0)return Ft=!1,lb(t,n,a);Ft=(t.flags&131072)!==0}else Ft=!1,Ye&&(n.flags&1048576)!==0&&op(n,so,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")ff(t)?(l=ua(t,l),n.tag=1,n=wy(null,n,t,l,a)):(n.tag=0,n=ed(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Pe){n.tag=11,n=_y(null,n,t,l,a);break e}else if(h===C){n.tag=14,n=vy(null,n,t,l,a);break e}}throw n=Qe(t)||t,Error(r(306,n,""))}}return n;case 0:return ed(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ua(l,n.pendingProps),wy(t,n,l,h,a);case 3:e:{if(mt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Nf(t,n),fo(n,l,null,a);var y=n.memoizedState;if(l=y.cache,nr(n,qt,l),l!==f.cache&&Tf(n,[qt],a,!0),ho(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ay(t,n,l,a);break e}else if(l!==h){h=ui(Error(r(424)),n),ro(h),n=Ay(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=mi(t.firstChild),on=n,Ye=!0,er=null,fi=!0,a=Tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===h){n=xs(t,n,a);break e}cn(t,n,l,a)}n=n.child}return n;case 26:return mc(t,n),t===null?(a=B0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,l=Dc(he.current).createElement(a),l[$e]=n,l[Ze]=t,hn(l,a,t),zt(l),n.stateNode=l):n.memoizedState=B0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ln(n),t===null&&Ye&&(l=n.stateNode=L0(n.type,n.pendingProps,he.current),on=n,fi=!0,h=bt,gr(n.type)?(zd=h,bt=mi(l.firstChild)):bt=h),cn(t,n,n.pendingProps.children,a),mc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=bt)&&(l=Pb(l,n.type,n.pendingProps,fi),l!==null?(n.stateNode=l,on=n,bt=mi(l.firstChild),fi=!1,h=!0):h=!1),h||tr(n)),Ln(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Vd(h,f)?l=null:y!==null&&Vd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=kf(t,n,ZT,null,null,a),Mo._currentValue=h),mc(t,n),cn(t,n,l,a),n.child;case 6:return t===null&&Ye&&((t=a=bt)&&(a=Lb(a,n.pendingProps,fi),a!==null?(n.stateNode=a,on=n,bt=null,t=!0):t=!1),t||tr(n)),null;case 13:return Ny(t,n,a);case 4:return mt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,a):cn(t,n,l,a),n.child;case 11:return _y(t,n,n.type,n.pendingProps,a);case 7:return cn(t,n,n.pendingProps,a),n.child;case 8:return cn(t,n,n.pendingProps.children,a),n.child;case 12:return cn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),cn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ia(n),h=un(h),l=l(h),n.flags|=1,cn(t,n,l,a),n.child;case 14:return vy(t,n,n.type,n.pendingProps,a);case 15:return Ey(t,n,n.type,n.pendingProps,a);case 19:return Ry(t,n,a);case 31:return ab(t,n,a);case 22:return Ty(t,n,a,n.pendingProps);case 24:return ia(n),l=un(qt),t===null?(h=Sf(),h===null&&(h=pt,f=bf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Af(n),nr(n,qt,h)):((t.lanes&a)!==0&&(Nf(t,n),fo(n,null,null,a),ho()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),nr(n,qt,l)):(l=f.cache,nr(n,qt,l),l!==h.cache&&Tf(n,[qt],a,!0))),cn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ss(t){t.flags|=4}function od(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i0())t.flags|=8192;else throw aa=Wu,wf}else t.flags&=-16777217}function Dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K0(n))if(i0())t.flags|=8192;else throw aa=Wu,wf}function pc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xe():536870912,t.lanes|=n,nl|=n)}function vo(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ob(t,n,a){var l=n.pendingProps;switch(pf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Es(qt),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(n)?Ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_f())),xt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ss(n),f!==null?(xt(n),Dy(n,f)):(xt(n),od(n,h,null,l,a))):f?f!==t.memoizedState?(Ss(n),xt(n),Dy(n,f)):(xt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ss(n),xt(n),od(n,h,t,l,a)),null;case 27:if(An(n),a=he.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return xt(n),null}t=ie.current,Ha(n)?cp(n):(t=L0(h,l,a),n.stateNode=t,Ss(n))}return xt(n),null;case 5:if(An(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return xt(n),null}if(f=ie.current,Ha(n))cp(n);else{var y=Dc(he.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[$e]=n,f[Ze]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(hn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ss(n)}}return xt(n),od(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ss(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=he.current,Ha(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[$e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N0(t.nodeValue,a)),t||tr(n,!0)}else t=Dc(t).createTextNode(l),t[$e]=n,n.stateNode=t}return xt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[$e]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),t=!1}else a=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[$e]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),h=!1}else h=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),pc(n,n.updateQueue),xt(n),null);case 4:return nt(),t===null&&Id(n.stateNode.containerInfo),xt(n),null;case 10:return Es(n.type),xt(n),null;case 19:if(Q(Mt),l=n.memoizedState,l===null)return xt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ic(t),f!==null){for(n.flags|=128,vo(l,!1),t=f.updateQueue,n.updateQueue=t,pc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rp(a,t),a=a.sibling;return se(Mt,Mt.current&1|2),Ye&&_s(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Pt()>Tc&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304)}else{if(!h)if(t=ic(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,pc(n,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return xt(n),null}else 2*Pt()-l.renderingStartTime>Tc&&a!==536870912&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Pt(),t.sibling=null,a=Mt.current,se(Mt,h?a&1|2:a&1),Ye&&_s(n,l.treeForkCount),t):(xt(n),null);case 22:case 23:return Gn(n),Df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&pc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Es(qt),xt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ub(t,n){switch(pf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Es(qt),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return An(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Mt),null;case 4:return nt(),null;case 10:return Es(n.type),null;case 22:case 23:return Gn(n),Df(),t!==null&&Q(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Es(qt),null;case 25:return null;default:return null}}function Oy(t,n){switch(pf(n),n.tag){case 3:Es(qt),nt();break;case 26:case 27:case 5:An(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:Q(Mt);break;case 10:Es(n.type);break;case 22:case 23:Gn(n),Df(),t!==null&&Q(sa);break;case 24:Es(qt)}}function Eo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(n,n.return,T)}}function or(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(Y){ut(h,R,Y)}}}l=l.next}while(l!==f)}}catch(Y){ut(n,n.return,Y)}}function My(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xp(n,a)}catch(l){ut(t,t.return,l)}}}function ky(t,n,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,n,l)}}function To(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,n,h)}}function Wi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,n,h)}else a.current=null}function Vy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function ud(t,n,a){try{var l=t.stateNode;Db(l,t.type,a,n),l[Ze]=n}catch(h){ut(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=xi));else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(hd(t,n,a),t=t.sibling;t!==null;)hd(t,n,a),t=t.sibling}function yc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,n,a),t=t.sibling;t!==null;)yc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,l,a),n[$e]=t,n[Ze]=a}catch(f){ut(t,t.return,f)}}var ws=!1,Gt=!1,fd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,tn=null;function cb(t,n){if(t=t.containerInfo,Md=Lc,t=$g(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,R=-1,z=0,Y=0,$=t,q=null;t:for(;;){for(var G;$!==a||h!==0&&$.nodeType!==3||(T=y+h),$!==f||l!==0&&$.nodeType!==3||(R=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break t;if(q===a&&++z===h&&(T=y),q===f&&++Y===l&&(R=y),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Lc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ye=ua(a.type,h);t=l.getSnapshotBeforeUpdate(ye,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){ut(a,a.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Uy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ns(t,a),l&4&&Eo(5,a);break;case 1:if(Ns(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ut(a,a.return,y)}else{var h=ua(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ut(a,a.return,y)}}l&64&&My(a),l&512&&To(a,a.return);break;case 3:if(Ns(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xp(t,n)}catch(y){ut(a,a.return,y)}}break;case 27:n===null&&l&4&&Py(a);case 26:case 5:Ns(t,a),n===null&&l&4&&Vy(a),l&512&&To(a,a.return);break;case 12:Ns(t,a);break;case 31:Ns(t,a),l&4&&qy(t,a);break;case 13:Ns(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vb.bind(null,a),Ub(t,a))));break;case 22:if(l=a.memoizedState!==null||ws,!l){n=n!==null&&n.memoizedState!==null||Gt,h=ws;var f=Gt;ws=l,(Gt=n)&&!f?Cs(t,a,(a.subtreeFlags&8772)!==0):Ns(t,a),ws=h,Gt=f}break;case 30:break;default:Ns(t,a)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Dn=!1;function As(t,n,a){for(a=a.child;a!==null;)By(t,n,a),a=a.sibling}function By(t,n,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(gn,a)}catch{}switch(a.tag){case 26:Gt||Wi(a,n),As(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||Wi(a,n);var l=At,h=Dn;gr(a.type)&&(At=a.stateNode,Dn=!1),As(t,n,a),Io(a.stateNode),At=l,Dn=h;break;case 5:Gt||Wi(a,n);case 6:if(l=At,h=Dn,At=null,As(t,n,a),At=l,Dn=h,At!==null)if(Dn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){ut(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){ut(a,n,f)}break;case 18:At!==null&&(Dn?(t=At,M0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):M0(At,a.stateNode));break;case 4:l=At,h=Dn,At=a.stateNode.containerInfo,Dn=!0,As(t,n,a),At=l,Dn=h;break;case 0:case 11:case 14:case 15:or(2,a,n),Gt||or(4,a,n),As(t,n,a);break;case 1:Gt||(Wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,n,l)),As(t,n,a);break;case 21:As(t,n,a);break;case 22:Gt=(l=Gt)||a.memoizedState!==null,As(t,n,a),Gt=l;break;default:As(t,n,a)}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(a){ut(n,n.return,a)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){ut(n,n.return,a)}}function hb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function _c(t,n){var a=hb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=Eb.bind(null,t,l);l.then(h,h)}})}function On(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){At=T.stateNode,Dn=!1;break e}break;case 5:At=T.stateNode,Dn=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(At===null)throw Error(r(160));By(f,y,h),At=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var Ri=null;function Fy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(n,t),Mn(t),l&4&&(or(3,t,t.return),Eo(3,t),or(5,t,t.return));break;case 1:On(n,t),Mn(t),l&512&&(Gt||a===null||Wi(a,a.return)),l&64&&ws&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ri;if(On(n,t),Mn(t),l&512&&(Gt||a===null||Wi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ui]||f[$e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,l,a),f[$e]=t,zt(f),l=f;break e;case"link":var y=F0("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),hn(f,l,a),h.head.appendChild(f);break;case"meta":if(y=F0("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),hn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[$e]=t,zt(f),l=f}t.stateNode=l}else G0(h,t.type,t.stateNode);else t.stateNode=H0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G0(h,t.type,t.stateNode):H0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(n,t),Mn(t),l&512&&(Gt||a===null||Wi(a,a.return)),a!==null&&l&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(n,t),Mn(t),l&512&&(Gt||a===null||Wi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(ye){ut(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(On(n,t),Mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){ut(t,t.return,ye)}}break;case 3:if(kc=null,h=Ri,Ri=Oc(n.containerInfo),On(n,t),Ri=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(ye){ut(t,t.return,ye)}fd&&(fd=!1,Gy(t));break;case 4:l=Ri,Ri=Oc(t.stateNode.containerInfo),On(n,t),Mn(t),Ri=l;break;case 12:On(n,t),Mn(t);break;case 31:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:On(n,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=Pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ws,Y=Gt;if(ws=z||h,Gt=Y||R,On(n,t),Gt=Y,ws=z,Mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ws||Gt||ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ye){ut(R,R.return,ye)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ye){ut(R,R.return,ye)}}}else if(n.tag===18){if(a===null){R=n;try{var G=R.stateNode;h?k0(G,!0):k0(R.stateNode,!1)}catch(ye){ut(R,R.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:On(n,t),Mn(t)}}function Mn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=cd(t);yc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(In(y,""),a.flags&=-33);var T=cd(t);yc(t,T,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=cd(t);hd(t,z,R);break;default:throw Error(r(161))}}catch(Y){ut(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ns(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),ca(n);break;case 1:Wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ky(n,n.return,a),ca(n);break;case 27:Io(n.stateNode);case 26:case 5:Wi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function Cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Cs(h,f,a),Eo(4,f);break;case 1:if(Cs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ut(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)bp(R[h],T)}catch(z){ut(l,l.return,z)}}a&&y&64&&My(f),To(f,f.return);break;case 27:Py(f);case 26:case 5:Cs(h,f,a),a&&l===null&&y&4&&Vy(f),To(f,f.return);break;case 12:Cs(h,f,a);break;case 31:Cs(h,f,a),a&&y&4&&qy(h,f);break;case 13:Cs(h,f,a),a&&y&4&&Hy(h,f);break;case 22:f.memoizedState===null&&Cs(h,f,a),To(f,f.return);break;case 30:break;default:Cs(h,f,a)}n=n.sibling}}function dd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ao(a))}function md(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t))}function Ii(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ky(t,n,a,l),n=n.sibling}function Ky(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(t,n,a,l),h&2048&&Eo(9,n);break;case 1:Ii(t,n,a,l);break;case 3:Ii(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t)));break;case 12:if(h&2048){Ii(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ut(n,n.return,R)}}else Ii(t,n,a,l);break;case 31:Ii(t,n,a,l);break;case 13:Ii(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ii(t,n,a,l):bo(t,n):f._visibility&2?Ii(t,n,a,l):(f._visibility|=2,Wa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&dd(y,n);break;case 24:Ii(t,n,a,l),h&2048&&md(n.alternate,n);break;default:Ii(t,n,a,l)}}function Wa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Wa(f,y,T,R,h),Eo(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Wa(f,y,T,R,h):bo(f,y):(Y._visibility|=2,Wa(f,y,T,R,h)),h&&z&2048&&dd(y.alternate,y);break;case 24:Wa(f,y,T,R,h),h&&z&2048&&md(y.alternate,y);break;default:Wa(f,y,T,R,h)}n=n.sibling}}function bo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:bo(a,l),h&2048&&dd(l.alternate,l);break;case 24:bo(a,l),h&2048&&md(l.alternate,l);break;default:bo(a,l)}n=n.sibling}}var xo=8192;function el(t,n,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:el(t,n,a),t.flags&xo&&t.memoizedState!==null&&Jb(a,Ri,t.memoizedState,t.memoizedProps);break;case 5:el(t,n,a);break;case 3:case 4:var l=Ri;Ri=Oc(t.stateNode.containerInfo),el(t,n,a),Ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xo,xo=16777216,el(t,n,a),xo=l):el(t,n,a));break;default:el(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function So(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&or(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vc(t)):So(t);break;default:So(t)}}function vc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vc(n));break;default:vc(n)}t=t.sibling}}function $y(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:or(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ao(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(zy(l),l===a){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var fb={getCacheForType:function(t){var n=un(qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return un(qt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,st=0,pt=null,ze=null,qe=0,ot=0,Kn=null,ur=!1,tl=!1,gd=!1,Rs=0,Dt=0,cr=0,ha=0,pd=0,Qn=0,nl=0,wo=null,kn=null,yd=!1,Ec=0,Jy=0,Tc=1/0,bc=null,hr=null,$t=0,fr=null,il=null,Is=0,_d=0,vd=null,Zy=null,Ao=0,Ed=null;function Yn(){return(st&2)!==0&&qe!==0?qe&-qe:F.T!==null?Ad():D()}function Wy(){if(Qn===0)if((qe&536870912)===0||Ye){var t=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),Qn=t}else Qn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Qn}function Vn(t,n,a){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(sl(t,0),dr(t,qe,Qn,!1)),Xt(t,a),((st&2)===0||t!==pt)&&(t===pt&&((st&2)===0&&(ha|=a),Dt===4&&dr(t,qe,Qn,!1)),es(t))}function e0(t,n,a){if((st&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||je(t,n),h=l?pb(t,n):bd(t,n,!0),f=l;do{if(h===0){tl&&!l&&dr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!mb(a)){h=bd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=wo;var R=T.current.memoizedState.isDehydrated;if(R&&(sl(T,y).flags|=256),y=bd(T,y,!1),y!==2){if(gd&&!R){T.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break e}f=kn,kn=h,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){sl(t,0),dr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:dr(l,n,Qn,!ur);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ec+300-Pt(),10<h)){if(dr(l,n,Qn,!ur),we(l,0,!0)!==0)break e;Is=n,l.timeoutHandle=D0(t0.bind(null,l,a,kn,bc,yd,n,Qn,ha,nl,ur,f,"Throttled",-0,0),h);break e}t0(l,a,kn,bc,yd,n,Qn,ha,nl,ur,f,null,-0,0)}}break}while(!0);es(t)}function t0(t,n,a,l,h,f,y,T,R,z,Y,$,q,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},Qy(n,f,$);var ye=(f&62914560)===f?Ec-Pt():(f&4194048)===f?Jy-Pt():0;if(ye=Zb($,ye),ye!==null){Is=f,t.cancelPendingCommit=ye(u0.bind(null,t,n,f,a,l,h,y,T,R,Y,$,null,q,G)),dr(t,f,y,!z);return}}u0(t,n,f,a,l,h,y,T,R)}function mb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(t,n,a,l){n&=~pd,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-yt(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&pn(t,a,n)}function xc(){return(st&6)===0?(No(0),!1):!0}function Td(){if(ze!==null){if(ot===0)var t=ze.return;else t=ze,vs=na=null,Pf(t),Ya=null,oo=0,t=ze;for(;t!==null;)Oy(t.alternate,t),t=t.return;ze=null}}function sl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Is=0,Td(),pt=t,ze=a=ys(t.current,null),qe=n,ot=0,Kn=null,ur=!1,tl=je(t,n),gd=!1,nl=Qn=pd=ha=cr=Dt=0,kn=wo=null,yd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-yt(l),f=1<<h;n|=t[h],l&=~f}return Rs=n,Fu(),a}function n0(t,n){ke=null,F.H=yo,n===Qa||n===Zu?(n=_p(),ot=3):n===wf?(n=_p(),ot=4):ot=n===Wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,ze===null&&(Dt=1,fc(t,ui(n,t.current)))}function i0(){var t=Fn.current;return t===null?!0:(qe&4194048)===qe?di===null:(qe&62914560)===qe||(qe&536870912)!==0?t===di:!1}function s0(){var t=F.H;return F.H=yo,t===null?yo:t}function r0(){var t=F.A;return F.A=fb,t}function Sc(){Dt=4,ur||(qe&4194048)!==qe&&Fn.current!==null||(tl=!0),(cr&134217727)===0&&(ha&134217727)===0||pt===null||dr(pt,qe,Qn,!1)}function bd(t,n,a){var l=st;st|=2;var h=s0(),f=r0();(pt!==t||qe!==n)&&(bc=null,sl(t,n)),n=!1;var y=Dt;e:do try{if(ot!==0&&ze!==null){var T=ze,R=Kn;switch(ot){case 8:Td(),y=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var z=ot;if(ot=0,Kn=null,rl(t,T,R,z),a&&tl){y=0;break e}break;default:z=ot,ot=0,Kn=null,rl(t,T,R,z)}}gb(),y=Dt;break}catch(Y){n0(t,Y)}while(!0);return n&&t.shellSuspendCounter++,vs=na=null,st=l,F.H=h,F.A=f,ze===null&&(pt=null,qe=0,Fu()),y}function gb(){for(;ze!==null;)a0(ze)}function pb(t,n){var a=st;st|=2;var l=s0(),h=r0();pt!==t||qe!==n?(bc=null,Tc=Pt()+500,sl(t,n)):tl=je(t,n);e:do try{if(ot!==0&&ze!==null){n=ze;var f=Kn;t:switch(ot){case 1:ot=0,Kn=null,rl(t,n,f,1);break;case 2:case 9:if(pp(f)){ot=0,Kn=null,l0(n);break}n=function(){ot!==2&&ot!==9||pt!==t||(ot=7),es(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:pp(f)?(ot=0,Kn=null,l0(n)):(ot=0,Kn=null,rl(t,n,f,7));break;case 5:var y=null;switch(ze.tag){case 26:y=ze.memoizedState;case 5:case 27:var T=ze;if(y?K0(y):T.stateNode.complete){ot=0,Kn=null;var R=T.sibling;if(R!==null)ze=R;else{var z=T.return;z!==null?(ze=z,wc(z)):ze=null}break t}}ot=0,Kn=null,rl(t,n,f,5);break;case 6:ot=0,Kn=null,rl(t,n,f,6);break;case 8:Td(),Dt=6;break e;default:throw Error(r(462))}}yb();break}catch(Y){n0(t,Y)}while(!0);return vs=na=null,F.H=l,F.A=h,st=a,ze!==null?0:(pt=null,qe=0,Fu(),Dt)}function yb(){for(;ze!==null&&!bi();)a0(ze)}function a0(t){var n=Iy(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,n===null?wc(t):ze=n}function l0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Sy(a,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=Sy(a,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Pf(n);default:Oy(a,n),n=ze=rp(n,Rs),n=Iy(a,n,Rs)}t.memoizedProps=t.pendingProps,n===null?wc(t):ze=n}function rl(t,n,a,l){vs=na=null,Pf(n),Ya=null,oo=0;var h=n.return;try{if(rb(t,h,n,a,qe)){Dt=1,fc(t,ui(a,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Dt=1,fc(t,ui(a,t.current)),ze=null;return}n.flags&32768?(Ye||l===1?t=!0:tl||(qe&536870912)!==0?t=!1:(ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o0(n,t)):wc(n)}function wc(t){var n=t;do{if((n.flags&32768)!==0){o0(n,ur);return}t=n.return;var a=ob(n.alternate,n,Rs);if(a!==null){ze=a;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Dt===0&&(Dt=5)}function o0(t,n){do{var a=ub(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);Dt=6,ze=null}function u0(t,n,a,l,h,f,y,T,R){t.cancelPendingCommit=null;do Ac();while($t!==0);if((st&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=cf,Lt(t,a,f,y,T,R),t===pt&&(ze=pt=null,qe=0),il=n,fr=t,Is=a,_d=f,vd=h,Zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tb(Un,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,y=st,st|=4;try{cb(t,n,a)}finally{st=y,ne.p=h,F.T=l}}$t=1,c0(),h0(),f0()}}function c0(){if($t===1){$t=0;var t=fr,n=il,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=st;st|=4;try{Fy(n,t);var f=kd,y=$g(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(R!==null&&rf(T)){var z=R.start,Y=R.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),ye=T.textContent.length,Ne=Math.min(R.start,ye),dt=R.end===void 0?Ne:Math.min(R.end,ye);!G.extend&&Ne>dt&&(y=dt,dt=Ne,Ne=y);var P=Yg(T,Ne),k=Yg(T,dt);if(P&&k&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=$.createRange();U.setStart(P.node,P.offset),G.removeAllRanges(),Ne>dt?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Lc=!!Md,kd=Md=null}finally{st=h,ne.p=l,F.T=a}}t.current=n,$t=2}}function h0(){if($t===2){$t=0;var t=fr,n=il,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ne.p;ne.p=2;var h=st;st|=4;try{Uy(t,n.alternate,n)}finally{st=h,ne.p=l,F.T=a}}$t=3}}function f0(){if($t===4||$t===3){$t=0,cs();var t=fr,n=il,a=Is,l=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,il=fr=null,d0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),ii(a),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{F.T=n,ne.p=h}}(Is&3)!==0&&Ac(),es(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?Ao++:(Ao=0,Ed=t):Ao=0,No(0)}}function d0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ao(n)))}function Ac(){return c0(),h0(),f0(),m0()}function m0(){if($t!==5)return!1;var t=fr,n=_d;_d=0;var a=ii(Is),l=F.T,h=ne.p;try{ne.p=32>a?32:a,F.T=null,a=vd,vd=null;var f=fr,y=Is;if($t=0,il=fr=null,Is=0,(st&6)!==0)throw Error(r(331));var T=st;if(st|=4,Xy(f.current),Ky(f,f.current,y,a),st=T,No(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(gn,f)}catch{}return!0}finally{ne.p=h,F.T=l,d0(t,n)}}function g0(t,n,a){n=ui(a,n),n=Zf(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(Xt(t,2),es(t))}function ut(t,n,a){if(t.tag===3)g0(t,t,a);else for(;n!==null;){if(n.tag===3){g0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=ui(a,t),a=py(2),l=rr(n,a,2),l!==null&&(yy(a,l,n,t),Xt(l,2),es(l));break}}n=n.return}}function xd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new db;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(gd=!0,h.add(a),t=_b.bind(null,t,n,a),n.then(t,t))}function _b(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(qe&a)===a&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>Pt()-Ec?(st&2)===0&&sl(t,0):pd|=a,nl===qe&&(nl=0)),es(t)}function p0(t,n){n===0&&(n=Xe()),t=Wr(t,n),t!==null&&(Xt(t,n),es(t))}function vb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function Eb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),p0(t,a)}function Tb(t,n){return gt(t,n)}var Nc=null,al=null,Sd=!1,Cc=!1,wd=!1,mr=0;function es(t){t!==al&&t.next===null&&(al===null?Nc=al=t:al=al.next=t),Cc=!0,Sd||(Sd=!0,xb())}function No(t,n){if(!wd&&Cc){wd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-yt(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,E0(l,f))}else f=qe,f=we(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||je(l,f)||(a=!0,E0(l,f));l=l.next}while(a);wd=!1}}function bb(){y0()}function y0(){Cc=Sd=!1;var t=0;mr!==0&&Mb()&&(t=mr);for(var n=Pt(),a=null,l=Nc;l!==null;){var h=l.next,f=_0(l,n);f===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(al=a)):(a=l,(t!==0||(f&3)!==0)&&(Cc=!0)),l=h}$t!==0&&$t!==5||No(t),mr!==0&&(mr=0)}function _0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-yt(f),T=1<<y,R=h[y];R===-1?((T&a)===0||(T&l)!==0)&&(h[y]=Tt(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=pt,a=qe,a=we(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||je(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Nn(l),ii(a)){case 2:case 8:a=Pi;break;case 32:a=Un;break;case 268435456:a=hs;break;default:a=Un}return l=v0.bind(null,t),a=gt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Nn(l),t.callbackPriority=2,t.callbackNode=null,2}function v0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=qe;return l=we(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e0(t,l,n),_0(t,Pt()),t.callbackNode!=null&&t.callbackNode===a?v0.bind(null,t):null)}function E0(t,n){if(Ac())return null;e0(t,n,!0)}function xb(){Vb(function(){(st&6)!==0?gt(ji,bb):y0()})}function Ad(){if(mr===0){var t=Ga;t===0&&(t=an,an<<=1,(an&261888)===0&&(an=256)),mr=t}return mr}function T0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function b0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=T0((h[Ze]||null).action),y=l.submitter;y&&(n=(n=y[Ze]||null)?T0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Qi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var R=y?b0(h,y):new FormData(h);Kf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=y?b0(h,y):new FormData(h),Kf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Nd=0;Nd<uf.length;Nd++){var Cd=uf[Nd],wb=Cd.toLowerCase(),Ab=Cd[0].toUpperCase()+Cd.slice(1);Ci(wb,"on"+Ab)}Ci(Wg,"onAnimationEnd"),Ci(ep,"onAnimationIteration"),Ci(tp,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(qT,"onTransitionRun"),Ci(HT,"onTransitionStart"),Ci(FT,"onTransitionCancel"),Ci(np,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function x0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){Hu(Y)}h.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(T=l[y],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){Hu(Y)}h.currentTarget=null,f=R}}}}function Be(t,n){var a=n[xn];a===void 0&&(a=n[xn]=new Set);var l=t+"__bubble";a.has(l)||(S0(n,t,2,!1),a.add(l))}function Rd(t,n,a){var l=0;n&&(l|=4),S0(a,t,l,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Rc]){t[Rc]=!0,Ul.forEach(function(a){a!=="selectionchange"&&(Nb.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Rd("selectionchange",!1,n))}}function S0(t,n,a,l){switch(W0(n)){case 2:var h=tx;break;case 8:h=nx;break;default:h=Gd}a=h.bind(null,n,a,t),h=void 0,!Gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Dd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=zi(T),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue e}T=T.parentNode}}l=l.return}Xs(function(){var z=f,Y=ri(a),$=[];e:{var q=ip.get(t);if(q!==void 0){var G=Qi,ye=t;switch(t){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":G=zu;break;case"focusin":ye="focus",G=Xr;break;case"focusout":ye="blur",G=Xr;break;case"beforeblur":case"afterblur":G=Xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Wg:case ep:case tp:G=Mu;break;case np:G=b;break;case"scroll":case"scrollend":G=Jl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ps;break;case"toggle":case"beforetoggle":G=Me}var Ne=(n&4)!==0,dt=!Ne&&(t==="scroll"||t==="scrollend"),P=Ne?q!==null?q+"Capture":null:q;Ne=[];for(var k=z,U;k!==null;){var X=k;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||P===null||(X=Si(k,P),X!=null&&Ne.push(Ro(k,X,U))),dt)break;k=k.return}0<Ne.length&&(q=new G(q,ye,null,a,Y),$.push({event:q,listeners:Ne}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Yl&&(ye=a.relatedTarget||a.fromElement)&&(zi(ye)||ye[Ut]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ye=a.relatedTarget||a.toElement,G=z,ye=ye?zi(ye):null,ye!==null&&(dt=c(ye),Ne=ye.tag,ye!==dt||Ne!==5&&Ne!==27&&Ne!==6)&&(ye=null)):(G=null,ye=z),G!==ye)){if(Ne=Zl,X="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=ps,X="onPointerLeave",P="onPointerEnter",k="pointer"),dt=G==null?q:zn(G),U=ye==null?q:zn(ye),q=new Ne(X,k+"leave",G,a,Y),q.target=dt,q.relatedTarget=U,X=null,zi(Y)===z&&(Ne=new Ne(P,k+"enter",ye,a,Y),Ne.target=U,Ne.relatedTarget=dt,X=Ne),dt=X,G&&ye)t:{for(Ne=Cb,P=G,k=ye,U=0,X=P;X;X=Ne(X))U++;X=0;for(var xe=k;xe;xe=Ne(xe))X++;for(;0<U-X;)P=Ne(P),U--;for(;0<X-U;)k=Ne(k),X--;for(;U--;){if(P===k||k!==null&&P===k.alternate){Ne=P;break t}P=Ne(P),k=Ne(k)}Ne=null}else Ne=null;G!==null&&w0($,q,G,Ne,!1),ye!==null&&dt!==null&&w0($,dt,ye,Ne,!0)}}e:{if(q=z?zn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var We=qg;else if(zg(q))if(Hg)We=UT;else{We=PT;var ve=jT}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ra(z.elementType)&&(We=qg):We=LT;if(We&&(We=We(t,z))){Bg($,We,a,Y);break e}ve&&ve(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Gl(q,"number",q.value)}switch(ve=z?zn(z):window,t){case"focusin":(zg(ve)||ve.contentEditable==="true")&&(Pa=ve,af=z,io=null);break;case"focusout":io=af=Pa=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Jg($,a,Y);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":Jg($,a,Y)}var Ve;if(it)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ja?$r(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&($i&&a.locale!=="ko"&&(ja||He!=="onCompositionStart"?He==="onCompositionEnd"&&ja&&(Ve=$l()):(Ki=Y,Xl="value"in Ki?Ki.value:Ki.textContent,ja=!0)),ve=Ic(z,He),0<ve.length&&(He=new Xi(He,t,null,a,Y),$.push({event:He,listeners:ve}),Ve?He.data=Ve:(Ve=Va(a),Ve!==null&&(He.data=Ve)))),(Ve=li?OT(t,a):MT(t,a))&&(He=Ic(z,"onBeforeInput"),0<He.length&&(ve=new Xi("onBeforeInput","beforeinput",null,a,Y),$.push({event:ve,listeners:He}),ve.data=Ve)),Sb($,t,z,a,Y)}x0($,n)})}function Ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ic(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Si(t,a),h!=null&&l.unshift(Ro(t,h,f)),h=Si(t,n),h!=null&&l.push(Ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w0(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Si(a,f),z!=null&&y.unshift(Ro(a,z,R))):h||(z=Si(a,f),z!=null&&y.push(Ro(a,z,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var Rb=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Ib,"")}function N0(t,n){return n=A0(n),A0(t)===n}function ft(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":Ql(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xi);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Na(t,a,l))}}function Od(t,n,a,l,h,f){switch(a){case"style":Ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function hn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,f,y,a,null)}}h&&ft(t,n,"srcSet",a.srcSet,a,null),l&&ft(t,n,"src",a.src,a,null);return;case"input":Be("invalid",t);var T=f=y=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":R=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:ft(t,n,l,Y,a,null)}}Nu(t,f,T,R,z,y,h,!1);return;case"select":Be("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:ft(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Gs(t,!!l,n,!1):a!=null&&Gs(t,!!l,a,!0);return;case"textarea":Be("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ft(t,n,y,T,a,null)}Ks(t,l,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,n,R,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Co.length;l++)Be(Co[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,z,l,a,null)}return;default:if(Ra(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Od(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ft(t,n,T,l,a,null))}function Db(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,R=null,z=null,Y=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(G)||ft(t,n,G,null,l,$)}}for(var q in l){var G=l[q];if($=a[q],l.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":y=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==$&&ft(t,n,q,G,l,$)}}Ca(t,y,T,R,z,Y,f,h);return;case"select":G=y=T=q=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":G=R;default:l.hasOwnProperty(f)||ft(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==R&&ft(t,n,h,f,l,R)}n=T,a=y,l=G,q!=null?Gs(t,!!a,q,!1):!!l!=!!a&&(n!=null?Gs(t,!!a,n,!0):Gs(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ft(t,n,y,h,l,f)}Cu(t,q,G);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:ft(t,n,ye,null,l,q)}for(R in l)if(q=l[R],G=a[R],l.hasOwnProperty(R)&&q!==G&&(q!=null||G!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ft(t,n,R,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)q=a[Ne],a.hasOwnProperty(Ne)&&q!=null&&!l.hasOwnProperty(Ne)&&ft(t,n,Ne,null,l,q);for(z in l)if(q=l[z],G=a[z],l.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ft(t,n,z,q,l,G)}return;default:if(Ra(n)){for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!==void 0&&!l.hasOwnProperty(dt)&&Od(t,n,dt,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||Od(t,n,Y,q,l,G);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&ft(t,n,P,null,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q==null&&G==null||ft(t,n,$,q,l,G)}function C0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&C0(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>T)break;var Y=R.transferSize,$=R.initiatorType;Y&&C0($)&&(R=R.responseEnd,y+=Y*(R<T?1:(T-z)/(R-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,kd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function R0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jd=null;function Mb(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(jb)}:D0;function jb(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function M0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),cl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Io(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Io(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Io(t.ownerDocument.body);a=h}while(a);cl(n)}function k0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pb(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function Lb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mi(t.nextSibling),t===null))return null;return t}function V0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=mi(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ub(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var zd=null;function j0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return mi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function P0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L0(t,n,a){switch(n=Dc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Aa(t)}var gi=new Map,U0=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=ne.d;ne.d={f:zb,r:Bb,D:qb,C:Hb,L:Fb,m:Gb,X:Qb,S:Kb,M:Yb};function zb(){var t=Ds.f(),n=xc();return t||n}function Bb(t){var n=si(t);n!==null&&n.tag===5&&n.type==="form"?ny(n):Ds.r(t)}var ll=typeof document>"u"?null:document;function z0(t,n,a){var l=ll;if(l&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U0.has(h)||(U0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),hn(n,"link",t),zt(n),l.head.appendChild(n)))}}function qb(t){Ds.D(t),z0("dns-prefetch",t,null)}function Hb(t,n){Ds.C(t,n),z0("preconnect",t,n)}function Fb(t,n,a){Ds.L(t,n,a);var l=ll;if(l&&t&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rn(a.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var f=h;switch(n){case"style":f=ol(t);break;case"script":f=ul(t)}gi.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),gi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Do(f))||n==="script"&&l.querySelector(Oo(f))||(n=l.createElement("link"),hn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Gb(t,n){Ds.m(t,n);var a=ll;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ul(t)}if(!gi.has(f)&&(t=S({rel:"modulepreload",href:t},n),gi.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(f)))return}l=a.createElement("link"),hn(l,"link",t),zt(l),a.head.appendChild(l)}}}function Kb(t,n,a){Ds.S(t,n,a);var l=ll;if(l&&t){var h=Bi(l).hoistableStyles,f=ol(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Do(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=gi.get(f))&&Bd(t,a);var R=y=l.createElement("link");zt(R),hn(R,"link",t),R._p=new Promise(function(z,Y){R.onload=z,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function Qb(t,n){Ds.X(t,n);var a=ll;if(a&&t){var l=Bi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=S({src:t,async:!0},n),(n=gi.get(h))&&qd(t,n),f=a.createElement("script"),zt(f),hn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Yb(t,n){Ds.M(t,n);var a=ll;if(a&&t){var l=Bi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=gi.get(h))&&qd(t,n),f=a.createElement("script"),zt(f),hn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B0(t,n,a,l){var h=(h=he.current)?Oc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ol(a.href),a=Bi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ol(a.href);var f=Bi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Do(t)))&&!f._p&&(y.instance=f,y.state.loading=5),gi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(t,a),f||Xb(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ul(a),a=Bi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ol(t){return'href="'+Rn(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function q0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Xb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),hn(n,"link",a),zt(n),t.head.appendChild(n))}function ul(t){return'[src="'+Rn(t)+'"]'}function Oo(t){return"script[async]"+t}function H0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(l)return n.instance=l,zt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),hn(l,"style",h),Mc(l,a.precedence,t),n.instance=l;case"stylesheet":h=ol(a.href);var f=t.querySelector(Do(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;l=q0(a),(h=gi.get(h))&&Bd(l,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var y=f;return y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),hn(f,"link",l),n.state.loading|=4,Mc(f,a.precedence,t),n.instance=f;case"script":return f=ul(a.src),(h=t.querySelector(Oo(f)))?(n.instance=h,zt(h),h):(l=a,(h=gi.get(f))&&(l=S({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),hn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mc(l,a.precedence,t));return n.instance}function Mc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var kc=null;function F0(t,n,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ui]||f[$e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function G0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $b(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Jb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ol(l.href),f=n.querySelector(Do(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,zt(f);return}f=n.ownerDocument||n,l=q0(l),(h=gi.get(h))&&Bd(l,h),f=f.createElement("link"),zt(f);var y=f;y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),hn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Hd=0;function Zb(t,n){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Hd===0&&(Hd=62500*Ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Hd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function Pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,n.forEach(Wb,t),jc=null,Vc.call(t))}function Wb(t,n){if(!(n.state.loading&4)){var a=jc.get(t);if(a)var l=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Mo={$$typeof:fe,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ex(t,n,a,l,h,f,y,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.hiddenUpdates=_t(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Q0(t,n,a,l,h,f,y,T,R,z,Y,$){return t=new ex(t,n,a,y,R,z,Y,$,T),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),t.current=f,f.stateNode=t,n=bf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Af(f),t}function Y0(t){return t?(t=za,t):za}function X0(t,n,a,l,h,f){h=Y0(h),l.context===null?l.context=h:l.pendingContext=h,l=sr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=rr(t,l,n),a!==null&&(Vn(a,t,n),co(a,t,n))}function $0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Fd(t,n){$0(t,n),(t=t.alternate)&&$0(t,n)}function J0(t){if(t.tag===13||t.tag===31){var n=Wr(t,67108864);n!==null&&Vn(n,t,67108864),Fd(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var n=Yn();n=ni(n);var a=Wr(t,n);a!==null&&Vn(a,t,n),Fd(t,n)}}var Lc=!0;function tx(t,n,a,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=2,Gd(t,n,a,l)}finally{ne.p=f,F.T=h}}function nx(t,n,a,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=8,Gd(t,n,a,l)}finally{ne.p=f,F.T=h}}function Gd(t,n,a,l){if(Lc){var h=Kd(l);if(h===null)Dd(t,n,l,Uc,a),e_(t,l);else if(sx(h,t,n,a,l))l.stopPropagation();else if(e_(t,l),n&4&&-1<ix.indexOf(t)){for(;h!==null;){var f=si(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ce(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var R=1<<31-yt(y);T.entanglements[1]|=R,y&=~R}es(f),(st&6)===0&&(Tc=Pt()+500,No(0))}}break;case 31:case 13:T=Wr(f,2),T!==null&&Vn(T,f,2),xc(),Fd(f,2)}if(f=Kd(l),f===null&&Dd(t,n,l,Uc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Dd(t,n,l,null,a)}}function Kd(t){return t=ri(t),Qd(t)}var Uc=null;function Qd(t){if(Uc=null,t=zi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uc=t,null}function W0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case ji:return 2;case Pi:return 8;case Un:case qs:return 32;case hs:return 268435456;default:return 32}default:return 32}}var Yd=!1,pr=null,yr=null,_r=null,ko=new Map,Vo=new Map,vr=[],ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ko.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function jo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=si(n),n!==null&&J0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function sx(t,n,a,l,h){switch(n){case"focusin":return pr=jo(pr,t,n,a,l,h),!0;case"dragenter":return yr=jo(yr,t,n,a,l,h),!0;case"mouseover":return _r=jo(_r,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ko.set(f,jo(ko.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,jo(Vo.get(f)||null,t,n,a,l,h)),!0}return!1}function t_(t){var n=zi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,be(t.priority,function(){Z0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,be(t.priority,function(){Z0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yl=l,a.target.dispatchEvent(l),Yl=null}else return n=si(a),n!==null&&J0(n),t.blockedOn=a,!1;n.shift()}return!0}function n_(t,n,a){zc(t)&&a.delete(n)}function rx(){Yd=!1,pr!==null&&zc(pr)&&(pr=null),yr!==null&&zc(yr)&&(yr=null),_r!==null&&zc(_r)&&(_r=null),ko.forEach(n_),Vo.forEach(n_)}function Bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Yd||(Yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rx)))}var qc=null;function i_(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var f=si(a);f!==null&&(t.splice(n,3),n-=3,Kf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cl(t){function n(R){return Bc(R,t)}pr!==null&&Bc(pr,t),yr!==null&&Bc(yr,t),_r!==null&&Bc(_r,t),ko.forEach(n),Vo.forEach(n);for(var a=0;a<vr.length;a++){var l=vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Ze]||null;if(typeof f=="function")y||i_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ze]||null)T=y.formAction;else if(Qd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}Hc.prototype.render=Xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Yn();X0(a,l,t,n,null,null)},Hc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;X0(t.current,2,null,t,null,null),xc(),n[Ut]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var n=D();t={blockedOn:null,target:t,priority:n};for(var a=0;a<vr.length&&n!==0&&n<vr[a].priority;a++);vr.splice(a,0,t),a===0&&t_(t)}};var r_=e.version;if(r_!=="19.2.0")throw Error(r(527,r_,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ax={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{gn=Fc.inject(ax),Rt=Fc}catch{}}return Lo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=fy,f=dy,y=my;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Q0(t,1,!1,null,null,a,l,null,h,f,y,s_),t[Ut]=n.current,Id(t),new Xd(n)},Lo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=fy,y=dy,T=my,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Q0(t,1,!0,n,a??null,l,h,R,f,y,T,s_),n.context=Y0(null),a=n.current,l=Yn(),l=ni(l),h=sr(l),h.callback=null,rr(a,h,l),a=l,n.current.lanes=a,Xt(n,a),es(n),t[Ut]=n.current,Id(t),new Hc(n)},Lo.version="19.2.0",Lo}var g_;function px(){if(g_)return Zd.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zd.exports=gx(),Zd.exports}var yx=px();const _x=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=vx(s);return e.charAt(0).toUpperCase()+e.slice(1)},t1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),Ex=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bx=ae.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>ae.createElement("svg",{ref:_,...Tx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:t1("lucide",o),...!c&&!Ex(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,x])=>ae.createElement(v,x)),...Array.isArray(c)?c:[c]]));const tt=(s,e)=>{const i=ae.forwardRef(({className:r,...o},c)=>ae.createElement(bx,{ref:c,iconNode:e,className:t1(`lucide-${_x(p_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=p_(s),i};const xx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Sx=tt("award",xx);const wx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ax=tt("calendar-days",wx);const Nx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cx=tt("check",Nx);const Rx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eu=tt("chevron-right",Rx);const Ix=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n1=tt("chevron-left",Ix);const Dx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y_=tt("circle-check-big",Dx);const Ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],__=tt("circle-pause",Ox);const Mx=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kx=tt("circle-play",Mx);const Vx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jx=tt("clipboard-list",Vx);const Px=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qo=tt("clock",Px);const Lx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ux=tt("copy",Lx);const zx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Bx=tt("history",zx);const qx=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Hx=tt("key-round",qx);const Fx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v_=tt("lock",Fx);const Gx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fm=tt("log-out",Gx);const Kx=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qx=tt("minus",Kx);const Yx=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Xx=tt("octagon-alert",Yx);const $x=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zc=tt("pen",$x);const Jx=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],i1=tt("piggy-bank",Jx);const Zx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wc=tt("plus",Zx);const Wx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pm=tt("rotate-ccw",Wx);const eS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s1=tt("settings",eS);const tS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r1=tt("shield-check",tS);const nS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=tt("star",nS);const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nm=tt("target",iS);const sS=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],rS=tt("thumbs-down",sS);const aS=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],lS=tt("thumbs-up",aS);const oS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],im=tt("trash-2",oS);const uS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cS=tt("user-plus",uS);const hS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tu=tt("users",hS);const fS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E_=tt("wallet",fS);const dS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oh=tt("x",dS),mS=()=>{};var T_={};const a1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,x=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|v>>6,K=v&63;_||(K=64,d||(O=64)),r.push(i[x],i[S],i[O],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(a1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):gS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||S==null)throw new pS;const O=c<<2|p>>4;if(r.push(O),v!==64){const K=p<<4&240|v>>2;if(r.push(K),S!==64){const W=v<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(s){const e=a1(s);return l1.encodeByteArray(e,!0)},ch=function(s){return yS(s).replace(/\./g,"")},o1=function(s){try{return l1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof T_>"u")return;const s=T_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},TS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&o1(s[1]);return e&&JSON.parse(e)},Mh=()=>{try{return mS()||vS()||ES()||TS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},u1=s=>Mh()?.emulatorHosts?.[s],bS=s=>{const e=u1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},c1=()=>Mh()?.config,h1=s=>Mh()?.[`_${s}`];class xS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(s){return(await fetch(s,{credentials:"include"})).ok}function SS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ch(JSON.stringify(i)),ch(JSON.stringify(d)),""].join(".")}const Yo={};function wS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?s.emulator.push(e):s.prod.push(e);return s}function AS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let b_=!1;function d1(s,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||Yo[s]===e||Yo[s]||b_)return;Yo[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=wS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{b_=!0,d()},O}function x(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=AS(r),K=i("text"),W=document.getElementById(K)||document.createElement("span"),ee=i("learnmore"),te=document.getElementById(ee)||document.createElement("a"),_e=i("preprendIcon"),pe=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const fe=O.element;p(fe),x(te,ee);const Pe=v();_(pe,_e),fe.append(pe,W,te,Pe),document.body.appendChild(fe)}c?(W.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function CS(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function VS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const jS="FirebaseError";class Us extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=jS,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?PS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Us(o,p,r)}}function PS(s,e){return s.replace(LS,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const LS=/\{\$([^}]+)}/g;function US(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(x_(c)&&x_(d)){if(!pa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function x_(s){return s!==null&&typeof s=="object"}function du(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function zo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function zS(s,e){const i=new BS(s,e);return i.subscribe.bind(i)}class BS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function sm(){}function Zt(s){return s&&s._delegate?s._delegate:s}class ya{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class HS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new xS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(s){return s===fa?void 0:s}function GS(s){return s.instantiationMode==="EAGER"}class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const QS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},YS=Fe.INFO,XS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},$S=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=XS[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const JS=(s,e)=>e.some(i=>s instanceof i);let S_,w_;function ZS(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,_m=new WeakMap,g1=new WeakMap,rm=new WeakMap,Km=new WeakMap;function ew(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Nr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&m1.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function tw(s){if(_m.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});_m.set(s,e)}let vm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return _m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||g1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nw(s){vm=s(vm)}function iw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(am(this),e,...i);return g1.set(r,e.sort?e.sort():[e]),Nr(r)}:WS().includes(s)?function(...e){return s.apply(am(this),e),Nr(m1.get(this))}:function(...e){return Nr(s.apply(am(this),e))}}function sw(s){return typeof s=="function"?iw(s):(s instanceof IDBTransaction&&tw(s),JS(s,ZS())?new Proxy(s,vm):s)}function Nr(s){if(s instanceof IDBRequest)return ew(s);if(rm.has(s))return rm.get(s);const e=sw(s);return e!==s&&(rm.set(s,e),Km.set(e,s)),e}const am=s=>Km.get(s);function rw(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Nr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Nr(d.result),_.oldVersion,_.newVersion,Nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const aw=["get","getKey","getAll","getAllKeys","count"],lw=["put","add","delete","clear"],lm=new Map;function A_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aw.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return lm.set(e,c),c}nw(s=>({...s,get:(e,i,r)=>A_(e,i)||s.get(e,i,r),has:(e,i)=>!!A_(e,i)||s.has(e,i)}));class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uw(s){return s.getComponent()?.type==="VERSION"}const Em="@firebase/app",N_="0.14.6";const Vs=new Gm("@firebase/app"),cw="@firebase/app-compat",hw="@firebase/analytics-compat",fw="@firebase/analytics",dw="@firebase/app-check-compat",mw="@firebase/app-check",gw="@firebase/auth",pw="@firebase/auth-compat",yw="@firebase/database",_w="@firebase/data-connect",vw="@firebase/database-compat",Ew="@firebase/functions",Tw="@firebase/functions-compat",bw="@firebase/installations",xw="@firebase/installations-compat",Sw="@firebase/messaging",ww="@firebase/messaging-compat",Aw="@firebase/performance",Nw="@firebase/performance-compat",Cw="@firebase/remote-config",Rw="@firebase/remote-config-compat",Iw="@firebase/storage",Dw="@firebase/storage-compat",Ow="@firebase/firestore",Mw="@firebase/ai",kw="@firebase/firestore-compat",Vw="firebase",jw="12.6.0";const Tm="[DEFAULT]",Pw={[Em]:"fire-core",[cw]:"fire-core-compat",[fw]:"fire-analytics",[hw]:"fire-analytics-compat",[mw]:"fire-app-check",[dw]:"fire-app-check-compat",[gw]:"fire-auth",[pw]:"fire-auth-compat",[yw]:"fire-rtdb",[_w]:"fire-data-connect",[vw]:"fire-rtdb-compat",[Ew]:"fire-fn",[Tw]:"fire-fn-compat",[bw]:"fire-iid",[xw]:"fire-iid-compat",[Sw]:"fire-fcm",[ww]:"fire-fcm-compat",[Aw]:"fire-perf",[Nw]:"fire-perf-compat",[Cw]:"fire-rc",[Rw]:"fire-rc-compat",[Iw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Ow]:"fire-fst",[kw]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[Vw]:"fire-js-all"};const hh=new Map,Lw=new Map,bm=new Map;function C_(s,e){try{s.container.addComponent(e)}catch(i){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Sl(s){const e=s.name;if(bm.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const i of hh.values())C_(i,s);for(const i of Lw.values())C_(i,s);return!0}function Qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function yi(s){return s==null?!1:s.settings!==void 0}const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new fu("app","Firebase",Uw);class zw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Ml=jw;function p1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Tm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=c1()),!i)throw Cr.create("no-options");const c=hh.get(o);if(c){if(pa(i,c.options)&&pa(r,c.config))return c;throw Cr.create("duplicate-app",{appName:o})}const d=new KS(o);for(const _ of bm.values())d.addComponent(_);const p=new zw(i,r,d);return hh.set(o,p),p}function y1(s=Tm){const e=hh.get(s);if(!e&&s===Tm&&c1())return p1();if(!e)throw Cr.create("no-app",{appName:s});return e}function Rr(s,e,i){let r=Pw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(d.join(" "));return}Sl(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bw="firebase-heartbeat-database",qw=1,nu="firebase-heartbeat-store";let om=null;function _1(){return om||(om=rw(Bw,qw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(s=>{throw Cr.create("idb-open",{originalErrorMessage:s.message})})),om}async function Hw(s){try{const i=(await _1()).transaction(nu),r=await i.objectStore(nu).get(v1(s));return await i.done,r}catch(e){if(e instanceof Us)Vs.warn(e.message);else{const i=Cr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(i.message)}}}async function R_(s,e){try{const r=(await _1()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,v1(s)),await r.done}catch(i){if(i instanceof Us)Vs.warn(i.message);else{const r=Cr.create("idb-set",{originalErrorMessage:i?.message});Vs.warn(r.message)}}}function v1(s){return`${s.name}!${s.options.appId}`}const Fw=1024,Gw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Yw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Gw){const o=Xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:i,unsentEntries:r}=Qw(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vs.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function Qw(s,e=Fw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?VS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Hw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(s){return ch(JSON.stringify({version:2,heartbeats:s})).length}function Xw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function $w(s){Sl(new ya("platform-logger",e=>new ow(e),"PRIVATE")),Sl(new ya("heartbeat",e=>new Kw(e),"PRIVATE")),Rr(Em,N_,s),Rr(Em,N_,"esm2020"),Rr("fire-js","")}$w("");var Jw="firebase",Zw="12.6.0";Rr(Jw,Zw,"app");function E1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=E1,T1=new fu("auth","Firebase",E1());const fh=new Gm("@firebase/auth");function eA(s,...e){fh.logLevel<=Fe.WARN&&fh.warn(`Auth (${Ml}): ${s}`,...e)}function eh(s,...e){fh.logLevel<=Fe.ERROR&&fh.error(`Auth (${Ml}): ${s}`,...e)}function Mi(s,...e){throw Ym(s,...e)}function ns(s,...e){return Ym(s,...e)}function b1(s,e,i){const r={...Ww(),[e]:i};return new fu("auth","Firebase",r).create(e,{appName:s.name})}function ks(s){return b1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return T1.create(s,...e)}function Ce(s,e,...i){if(!s)throw Ym(e,...i)}function Os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw eh(e),new Error(e)}function js(s,e){s||Os(e)}function xm(){return typeof self<"u"&&self.location?.href||""}function tA(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function nA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||IS()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mu{constructor(e,i){this.shortDelay=e,this.longDelay=i,js(i>e,"Short delay should be less than long delay!"),this.isMobile=NS()||DS()}get(){return nA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,e){js(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class x1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aA=new mu(3e4,6e4);function zs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Bs(s,e,i,r,o={}){return S1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=du({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return RS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(v.credentials="include"),x1.fetch()(await w1(s,s.config.apiHost,i,p),v)})}async function S1(s,e,i){s._canInitEmulator=!1;const r={...sA,...e};try{const o=new oA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Gc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Gc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Gc(s,"user-disabled",d);const x=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw b1(s,x,v);Mi(s,x)}}catch(o){if(o instanceof Us)throw o;Mi(s,"network-request-failed",{message:String(o)})}}async function gu(s,e,i,r,o={}){const c=await Bs(s,e,i,r,o);return"mfaPendingCredential"in c&&Mi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function w1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Xm(s.config,o):`${s.config.apiScheme}://${o}`;return rA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function lA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),aA.get())})}}function Gc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ns(s,e,r);return o.customData._tokenResponse=i,o}function M_(s){return s!==void 0&&s.enterprise!==void 0}class uA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return lA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cA(s,e){return Bs(s,"GET","/v2/recaptchaConfig",zs(s,e))}async function hA(s,e){return Bs(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return Bs(s,"POST","/v1/accounts:lookup",e)}function Xo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fA(s,e=!1){const i=Zt(s),r=await i.getIdToken(e),o=$m(r);Ce(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Xo(um(o.auth_time)),issuedAtTime:Xo(um(o.iat)),expirationTime:Xo(um(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function $m(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=o1(i);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function k_(s){const e=$m(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Us&&dA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function dA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class mA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(s){const e=s.auth,i=await s.getIdToken(),r=await iu(s,dh(e,{idToken:i}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?A1(o.providerUserInfo):[],d=pA(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,x)}async function gA(s){const e=Zt(s);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pA(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yA(s,e){const i=await S1(s,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await w1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(_.credentials="include"),x1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _A(s,e){return Bs(s,"POST","/v2/accounts:revokeToken",zs(s,e))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=k_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await yA(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new _l;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Os("not implemented")}}function Tr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new mA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fA(this,e)}reload(){return gA(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await iu(this,hA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:K,providerData:W,stsTokenManager:ee}=i;Ce(S&&ee,e,"internal-error");const te=_l.fromJSON(this.name,ee);Ce(typeof S=="string",e,"internal-error"),Tr(r,e.name),Tr(o,e.name),Ce(typeof O=="boolean",e,"internal-error"),Ce(typeof K=="boolean",e,"internal-error"),Tr(c,e.name),Tr(d,e.name),Tr(p,e.name),Tr(_,e.name),Tr(v,e.name),Tr(x,e.name);const _e=new Oi({uid:S,auth:e,email:o,emailVerified:O,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:v,lastLoginAt:x});return W&&Array.isArray(W)&&(_e.providerData=W.map(pe=>({...pe}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,i,r=!1){const o=new _l;o.updateFromServerResponse(i);const c=new Oi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?A1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new _l;p.updateFromIdToken(r);const _=new Oi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const V_=new Map;function Ms(s){js(s instanceof Function,"Expected a class definition");let e=V_.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V_.set(s,e),e)}class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}N1.type="NONE";const j_=N1;function th(s,e,i){return`firebase:${s}:${e}:${i}`}class vl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,c),this.fullPersistenceKey=th("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await dh(this.auth,{idToken:e}).catch(()=>{});return i?Oi._fromGetAccountInfoResponse(this.auth,i,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new vl(Ms(j_),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ms(j_);const d=th(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const x=await v._get(d);if(x){let S;if(typeof x=="string"){const O=await dh(e,{idToken:x}).catch(()=>{});if(!O)break;S=await Oi._fromGetAccountInfoResponse(e,O,x)}else S=Oi._fromJSON(e,x);v!==c&&(p=S),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new vl(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new vl(c,e,r))}}function P_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(k1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function C1(s=Tn()){return/firefox\//i.test(s)}function R1(s=Tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(s=Tn()){return/crios\//i.test(s)}function D1(s=Tn()){return/iemobile/i.test(s)}function O1(s=Tn()){return/android/i.test(s)}function M1(s=Tn()){return/blackberry/i.test(s)}function k1(s=Tn()){return/webos/i.test(s)}function Jm(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vA(s=Tn()){return Jm(s)&&!!window.navigator?.standalone}function EA(){return OS()&&document.documentMode===10}function V1(s=Tn()){return Jm(s)||O1(s)||k1(s)||M1(s)||/windows phone/i.test(s)||D1(s)}function j1(s,e=[]){let i;switch(s){case"Browser":i=P_(Tn());break;case"Worker":i=`${P_(Tn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ml}/${r}`}class TA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bA(s,e={}){return Bs(s,"GET","/v2/passwordPolicy",zs(s,e))}const xA=6;class SA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??xA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wA{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new TA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await dh(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(ks(this));const i=e?Zt(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bA(this),i=new SA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await _A(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ms(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lr(s){return Zt(s)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AA(s){kh=s}function P1(s){return kh.loadJS(s)}function NA(){return kh.recaptchaEnterpriseScript}function CA(){return kh.gapiScript}function RA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class IA{constructor(){this.enterprise=new DA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class DA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const OA="recaptcha-enterprise",L1="NO_RECAPTCHA";class MA{constructor(e){this.type=OA,this.auth=Lr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{cA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new uA(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;M_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(L1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&M_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=NA();_.length!==0&&(_+=p),P1(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function U_(s,e,i,r=!1,o=!1){const c=new MA(s);let d;if(o)d=L1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function gh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U_(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function kA(s,e){const i=Qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(pa(c,e??{}))return o;Mi(o,"already-initialized")}return i.initialize({options:e})}function VA(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function jA(s,e,i){const r=Lr(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=U1(e),{host:d,port:p}=PA(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},x=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(pa(v,r.config.emulator)&&pa(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ol(d)?(f1(`${c}//${d}${_}`),d1("Auth",!0)):LA()}function U1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PA(s){const e=U1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:z_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:z_(d)}}}function z_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function LA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Zm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,i){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function UA(s,e){return Bs(s,"POST","/v1/accounts:signUp",e)}async function zA(s,e){return gu(s,"POST","/v1/accounts:signInWithPassword",zs(s,e))}async function BA(s,e){return Bs(s,"POST","/v1/accounts:sendOobCode",zs(s,e))}async function qA(s,e){return BA(s,e)}async function HA(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",zs(s,e))}async function FA(s,e){return gu(s,"POST","/v1/accounts:signInWithEmailLink",zs(s,e))}class su extends Zm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new su(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new su(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(e,i,"signInWithPassword",zA);case"emailLink":return HA(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(e,r,"signUpPassword",UA);case"emailLink":return FA(e,{idToken:i,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function El(s,e){return gu(s,"POST","/v1/accounts:signInWithIdp",zs(s,e))}const GA="http://localhost";class _a extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new _a(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return El(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,El(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,El(e,i)}buildRequest(){const e={requestUri:GA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=du(i)}return e}}function KA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QA(s){const e=Uo(zo(s)).link,i=e?Uo(zo(e)).deep_link_id:null,r=Uo(zo(s)).deep_link_id;return(r?Uo(zo(r)).link:null)||r||i||e||s}class Wm{constructor(e){const i=Uo(zo(e)),r=i.apiKey??null,o=i.oobCode??null,c=KA(i.mode??null);Ce(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=QA(e);try{return new Wm(i)}catch{return null}}}let Vh=class z1{constructor(){this.providerId=z1.PROVIDER_ID}static credential(e,i){return su._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Wm.parseLink(i);return Ce(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}};Vh.PROVIDER_ID="password";Vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class B1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends B1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class br extends pu{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class xr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _a._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return xr.credential(i,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Sr extends pu{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class wr extends pu{constructor(){super("twitter.com")}static credential(e,i){return _a._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return wr.credential(i,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";async function YA(s,e){return gu(s,"POST","/v1/accounts:signUp",zs(s,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Oi._fromIdTokenResponse(e,r,o),d=B_(r);return new va({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new va({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function B_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ph extends Us{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new ph(e,i,r,o)}}function q1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(s,c,e,r):c})}async function XA(s,e,i=!1){const r=await iu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return va._forOperation(s,"link",r)}async function $A(s,e,i=!1){const{auth:r}=s;if(yi(r.app))return Promise.reject(ks(r));const o="reauthenticate";try{const c=await iu(s,q1(r,o,e,s),i);Ce(c.idToken,r,"internal-error");const d=$m(c.idToken);Ce(d,r,"internal-error");const{sub:p}=d;return Ce(s.uid===p,r,"user-mismatch"),va._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),c}}async function H1(s,e,i=!1){if(yi(s.app))return Promise.reject(ks(s));const r="signIn",o=await q1(s,r,e),c=await va._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function JA(s,e){return H1(Lr(s),e)}async function F1(s){const e=Lr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZA(s,e,i){const r=Lr(s);await gh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qA)}async function WA(s,e,i){if(yi(s.app))return Promise.reject(ks(s));const r=Lr(s),d=await gh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YA).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&F1(s),_}),p=await va._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function e2(s,e,i){return yi(s.app)?Promise.reject(ks(s)):JA(Zt(s),Vh.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F1(s),r})}function t2(s,e,i,r){return Zt(s).onIdTokenChanged(e,i,r)}function n2(s,e,i){return Zt(s).beforeAuthStateChanged(e,i)}function i2(s,e,i,r){return Zt(s).onAuthStateChanged(e,i,r)}function s2(s){return Zt(s).signOut()}const yh="__sak";class G1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class K1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);EA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const l2=K1;class Q1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Q1.type="SESSION";const Y1=Q1;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await o2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function eg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=eg("",20);o.port1.start();const x=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(x),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function is(){return window}function c2(s){is().location.href=s}function X1(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return X1()?self:null}const $1="firebaseLocalStorageDb",m2=1,_h="firebaseLocalStorage",J1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(s,e){return s.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function g2(){const s=indexedDB.deleteDatabase($1);return new yu(s).toPromise()}function wm(){const s=indexedDB.open($1,m2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(_h,{keyPath:J1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await g2(),e(await wm()))})})}async function q_(s,e,i){const r=Ph(s,!0).put({[J1]:e,value:i});return new yu(r).toPromise()}async function p2(s,e){const i=Ph(s,!1).get(e),r=await new yu(i).toPromise();return r===void 0?null:r.value}function H_(s,e){const i=Ph(s,!0).delete(e);return new yu(i).toPromise()}const y2=800,_2=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>_2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await q_(e,yh,"1"),await H_(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>p2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>H_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new yu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const v2=Z1;new mu(3e4,6e4);function E2(s,e){return e?Ms(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,i){return El(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function T2(s){return H1(s.auth,new tg(s),s.bypassAuthState)}function b2(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),$A(i,new tg(s),s.bypassAuthState)}async function x2(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),XA(i,new tg(s),s.bypassAuthState)}class W1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Mi(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S2=new mu(2e3,1e4);class pl extends W1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}pl.currentPopupAction=null;const w2="pendingRedirect",nh=new Map;class A2 extends W1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await N2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(s,e){const i=I2(e),r=R2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function C2(s,e){nh.set(s._key(),e)}function R2(s){return Ms(s._redirectPersistence)}function I2(s){return th(w2,s.config.apiKey,s.name)}async function D2(s,e,i=!1){if(yi(s.app))return Promise.reject(ks(s));const r=Lr(s),o=E2(r,e),d=await new A2(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const O2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!eE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ns(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function eE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function k2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(s);default:return!1}}async function V2(s,e={}){return Bs(s,"GET","/v1/projects",e)}const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await V2(s);for(const i of e)try{if(U2(i))return}catch{}Mi(s,"unauthorized-domain")}function U2(s){const e=xm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!P2.test(i))return!1;if(j2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const z2=new mu(3e4,6e4);function G_(){const s=is().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((e,i)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),i(ns(s,"network-request-failed"))},timeout:z2.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)r();else{const o=RA("iframefcb");return is()[o]=()=>{gapi.load?r():i(ns(s,"network-request-failed"))},P1(`${CA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw ih=null,e})}let ih=null;function q2(s){return ih=ih||B2(s),ih}const H2=new mu(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Xm(e,G2):`https://${s.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:s.name,v:Ml},o=Q2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${du(r).slice(1)}`}async function X2(s){const e=await q2(s),i=is().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=ns(s,"network-request-failed"),p=is().setTimeout(()=>{c(d)},H2.get());function _(){is().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,W2="_blank",eN="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(s,e,i,r=J2,o=Z2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$2,width:r.toString(),height:o.toString(),top:c,left:d},v=Tn().toLowerCase();i&&(p=I1(v)?W2:i),C1(v)&&(e=e||eN,_.scrollbars="yes");const x=Object.entries(_).reduce((O,[K,W])=>`${O}${K}=${W},`,"");if(vA(v)&&p!=="_self")return nN(e||"",p),new K_(null);const S=window.open(e||"",p,x);Ce(S,s,"popup-blocked");try{S.focus()}catch{}return new K_(S)}function nN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iN="__/auth/handler",sN="emulator/auth/handler",rN=encodeURIComponent("fac");async function Q_(s,e,i,r,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ml,eventId:o};if(e instanceof B1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",US(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,S]of Object.entries({}))d[x]=S}if(e instanceof pu){const x=e.getScopes().filter(S=>S!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const _=await s._getAppCheckToken(),v=_?`#${rN}=${encodeURIComponent(_)}`:"";return`${aN(s)}?${du(p).slice(1)}${v}`}function aN({config:s}){return s.emulator?Xm(s,sN):`https://${s.authDomain}/${iN}`}const cm="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(e,i,r,o){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Q_(e,i,r,xm(),o);return tN(e,c,eg())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Q_(e,i,r,xm(),o);return c2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(js(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await X2(e),r=new M2(e);return i.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cm,{type:cm},o=>{const c=o?.[0]?.[cm];c!==void 0&&i(!!c),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=L2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V1()||R1()||Jm()}}const oN=lN;var Y_="@firebase/auth",X_="1.11.1";class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(s){Sl(new ya("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(s)},v=new wA(r,o,c,_);return VA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new ya("auth-internal",e=>{const i=Lr(e.getProvider("auth").getImmediate());return(r=>new uN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Y_,X_,cN(s)),Rr(Y_,X_,"esm2020")}const fN=300,dN=h1("authIdTokenMaxAge")||fN;let $_=null;const mN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dN)return;const o=i?.token;$_!==o&&($_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(s=y1()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=kA(s,{popupRedirectResolver:oN,persistence:[v2,l2,Y1]}),r=h1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mN(c.toString());n2(i,d,()=>d(i.currentUser)),t2(i,p=>d(p))}}const o=u1("auth");return o&&jA(i,`http://${o}`),i}function pN(){return document.getElementsByTagName("head")?.[0]??document}AA({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ns("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",pN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,tE;(function(){var s;function e(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(V,M,j){for(var A=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)A[Qe-2]=arguments[Qe];return w.prototype[M].apply(V,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],M=C.g[2];let j=C.g[3],A;A=w+(j^N&(M^j))+V[0]+3614090360&4294967295,w=N+(A<<7&4294967295|A>>>25),A=j+(M^w&(N^M))+V[1]+3905402710&4294967295,j=w+(A<<12&4294967295|A>>>20),A=M+(N^j&(w^N))+V[2]+606105819&4294967295,M=j+(A<<17&4294967295|A>>>15),A=N+(w^M&(j^w))+V[3]+3250441966&4294967295,N=M+(A<<22&4294967295|A>>>10),A=w+(j^N&(M^j))+V[4]+4118548399&4294967295,w=N+(A<<7&4294967295|A>>>25),A=j+(M^w&(N^M))+V[5]+1200080426&4294967295,j=w+(A<<12&4294967295|A>>>20),A=M+(N^j&(w^N))+V[6]+2821735955&4294967295,M=j+(A<<17&4294967295|A>>>15),A=N+(w^M&(j^w))+V[7]+4249261313&4294967295,N=M+(A<<22&4294967295|A>>>10),A=w+(j^N&(M^j))+V[8]+1770035416&4294967295,w=N+(A<<7&4294967295|A>>>25),A=j+(M^w&(N^M))+V[9]+2336552879&4294967295,j=w+(A<<12&4294967295|A>>>20),A=M+(N^j&(w^N))+V[10]+4294925233&4294967295,M=j+(A<<17&4294967295|A>>>15),A=N+(w^M&(j^w))+V[11]+2304563134&4294967295,N=M+(A<<22&4294967295|A>>>10),A=w+(j^N&(M^j))+V[12]+1804603682&4294967295,w=N+(A<<7&4294967295|A>>>25),A=j+(M^w&(N^M))+V[13]+4254626195&4294967295,j=w+(A<<12&4294967295|A>>>20),A=M+(N^j&(w^N))+V[14]+2792965006&4294967295,M=j+(A<<17&4294967295|A>>>15),A=N+(w^M&(j^w))+V[15]+1236535329&4294967295,N=M+(A<<22&4294967295|A>>>10),A=w+(M^j&(N^M))+V[1]+4129170786&4294967295,w=N+(A<<5&4294967295|A>>>27),A=j+(N^M&(w^N))+V[6]+3225465664&4294967295,j=w+(A<<9&4294967295|A>>>23),A=M+(w^N&(j^w))+V[11]+643717713&4294967295,M=j+(A<<14&4294967295|A>>>18),A=N+(j^w&(M^j))+V[0]+3921069994&4294967295,N=M+(A<<20&4294967295|A>>>12),A=w+(M^j&(N^M))+V[5]+3593408605&4294967295,w=N+(A<<5&4294967295|A>>>27),A=j+(N^M&(w^N))+V[10]+38016083&4294967295,j=w+(A<<9&4294967295|A>>>23),A=M+(w^N&(j^w))+V[15]+3634488961&4294967295,M=j+(A<<14&4294967295|A>>>18),A=N+(j^w&(M^j))+V[4]+3889429448&4294967295,N=M+(A<<20&4294967295|A>>>12),A=w+(M^j&(N^M))+V[9]+568446438&4294967295,w=N+(A<<5&4294967295|A>>>27),A=j+(N^M&(w^N))+V[14]+3275163606&4294967295,j=w+(A<<9&4294967295|A>>>23),A=M+(w^N&(j^w))+V[3]+4107603335&4294967295,M=j+(A<<14&4294967295|A>>>18),A=N+(j^w&(M^j))+V[8]+1163531501&4294967295,N=M+(A<<20&4294967295|A>>>12),A=w+(M^j&(N^M))+V[13]+2850285829&4294967295,w=N+(A<<5&4294967295|A>>>27),A=j+(N^M&(w^N))+V[2]+4243563512&4294967295,j=w+(A<<9&4294967295|A>>>23),A=M+(w^N&(j^w))+V[7]+1735328473&4294967295,M=j+(A<<14&4294967295|A>>>18),A=N+(j^w&(M^j))+V[12]+2368359562&4294967295,N=M+(A<<20&4294967295|A>>>12),A=w+(N^M^j)+V[5]+4294588738&4294967295,w=N+(A<<4&4294967295|A>>>28),A=j+(w^N^M)+V[8]+2272392833&4294967295,j=w+(A<<11&4294967295|A>>>21),A=M+(j^w^N)+V[11]+1839030562&4294967295,M=j+(A<<16&4294967295|A>>>16),A=N+(M^j^w)+V[14]+4259657740&4294967295,N=M+(A<<23&4294967295|A>>>9),A=w+(N^M^j)+V[1]+2763975236&4294967295,w=N+(A<<4&4294967295|A>>>28),A=j+(w^N^M)+V[4]+1272893353&4294967295,j=w+(A<<11&4294967295|A>>>21),A=M+(j^w^N)+V[7]+4139469664&4294967295,M=j+(A<<16&4294967295|A>>>16),A=N+(M^j^w)+V[10]+3200236656&4294967295,N=M+(A<<23&4294967295|A>>>9),A=w+(N^M^j)+V[13]+681279174&4294967295,w=N+(A<<4&4294967295|A>>>28),A=j+(w^N^M)+V[0]+3936430074&4294967295,j=w+(A<<11&4294967295|A>>>21),A=M+(j^w^N)+V[3]+3572445317&4294967295,M=j+(A<<16&4294967295|A>>>16),A=N+(M^j^w)+V[6]+76029189&4294967295,N=M+(A<<23&4294967295|A>>>9),A=w+(N^M^j)+V[9]+3654602809&4294967295,w=N+(A<<4&4294967295|A>>>28),A=j+(w^N^M)+V[12]+3873151461&4294967295,j=w+(A<<11&4294967295|A>>>21),A=M+(j^w^N)+V[15]+530742520&4294967295,M=j+(A<<16&4294967295|A>>>16),A=N+(M^j^w)+V[2]+3299628645&4294967295,N=M+(A<<23&4294967295|A>>>9),A=w+(M^(N|~j))+V[0]+4096336452&4294967295,w=N+(A<<6&4294967295|A>>>26),A=j+(N^(w|~M))+V[7]+1126891415&4294967295,j=w+(A<<10&4294967295|A>>>22),A=M+(w^(j|~N))+V[14]+2878612391&4294967295,M=j+(A<<15&4294967295|A>>>17),A=N+(j^(M|~w))+V[5]+4237533241&4294967295,N=M+(A<<21&4294967295|A>>>11),A=w+(M^(N|~j))+V[12]+1700485571&4294967295,w=N+(A<<6&4294967295|A>>>26),A=j+(N^(w|~M))+V[3]+2399980690&4294967295,j=w+(A<<10&4294967295|A>>>22),A=M+(w^(j|~N))+V[10]+4293915773&4294967295,M=j+(A<<15&4294967295|A>>>17),A=N+(j^(M|~w))+V[1]+2240044497&4294967295,N=M+(A<<21&4294967295|A>>>11),A=w+(M^(N|~j))+V[8]+1873313359&4294967295,w=N+(A<<6&4294967295|A>>>26),A=j+(N^(w|~M))+V[15]+4264355552&4294967295,j=w+(A<<10&4294967295|A>>>22),A=M+(w^(j|~N))+V[6]+2734768916&4294967295,M=j+(A<<15&4294967295|A>>>17),A=N+(j^(M|~w))+V[13]+1309151649&4294967295,N=M+(A<<21&4294967295|A>>>11),A=w+(M^(N|~j))+V[4]+4149444226&4294967295,w=N+(A<<6&4294967295|A>>>26),A=j+(N^(w|~M))+V[11]+3174756917&4294967295,j=w+(A<<10&4294967295|A>>>22),A=M+(w^(j|~N))+V[2]+718787259&4294967295,M=j+(A<<15&4294967295|A>>>17),A=N+(j^(M|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,V=this.C;let M=this.h,j=0;for(;j<w;){if(M==0)for(;j<=N;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(V[M++]=C.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<w;)if(V[M++]=C[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)C[w++]=this.g[N]>>>V&255;return C};function c(C,w){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function d(C,w){this.h=w;const N=[];let V=!0;for(let M=C.length-1;M>=0;M--){const j=C[M]|0;V&&j==w||(N[M]=j,V=!1)}this.g=N}var p={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return te(v(-C));const w=[];let N=1;for(let V=0;C>=N;V++)w[V]=C/N|0,N*=4294967296;return new d(w,0)}function x(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return te(x(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(w,8));let V=S;for(let j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j);const A=parseInt(C.substring(j,j+M),w);M<8?(M=v(Math.pow(w,M)),V=V.j(M).add(v(A))):(V=V.j(N),V=V.add(v(A)))}return V}var S=_(0),O=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(ee(this))return-te(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(ee(this))return"-"+te(this).toString(C);const w=v(Math.pow(C,6));var N=this;let V="";for(;;){const M=Pe(N,w).g;N=_e(N,M.j(w));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=M,W(N))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=_e(this,C),ee(C)?-1:W(C)?0:1};function te(C){const w=C.g.length,N=[];for(let V=0;V<w;V++)N[V]=~C.g[V];return new d(N,~C.h).add(O)}s.abs=function(){return ee(this)?te(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let V=0;for(let M=0;M<=w;M++){let j=V+(this.i(M)&65535)+(C.i(M)&65535),A=(j>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=A>>>16,j&=65535,A&=65535,N[M]=A<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function _e(C,w){return C.add(te(w))}s.j=function(C){if(W(this)||W(C))return S;if(ee(this))return ee(C)?te(this).j(te(C)):te(te(this).j(C));if(ee(C))return te(this.j(te(C)));if(this.l(K)<0&&C.l(K)<0)return v(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const j=this.i(V)>>>16,A=this.i(V)&65535,Qe=C.i(M)>>>16,ue=C.i(M)&65535;N[2*V+2*M]+=A*ue,pe(N,2*V+2*M),N[2*V+2*M+1]+=j*ue,pe(N,2*V+2*M+1),N[2*V+2*M+1]+=A*Qe,pe(N,2*V+2*M+1),N[2*V+2*M+2]+=j*Qe,pe(N,2*V+2*M+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new d(N,0)};function pe(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function fe(C,w){this.g=C,this.h=w}function Pe(C,w){if(W(w))throw Error("division by zero");if(W(C))return new fe(S,S);if(ee(C))return w=Pe(te(C),w),new fe(te(w.g),te(w.h));if(ee(w))return w=Pe(C,te(w)),new fe(te(w.g),w.h);if(C.g.length>30){if(ee(C)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var N=O,V=w;V.l(C)<=0;)N=Le(N),V=Le(V);var M=Te(N,1),j=Te(V,1);for(V=Te(V,2),N=Te(N,2);!W(V);){var A=j.add(V);A.l(C)<=0&&(M=M.add(N),j=A),V=Te(V,1),N=Te(N,1)}return w=_e(C,M.j(w)),new fe(M,w)}for(M=S;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=v(N),A=j.j(w);ee(A)||A.l(C)>0;)N-=V,j=v(N),A=j.j(w);W(j)&&(j=O),M=M.add(j),C=_e(C,A)}return new fe(M,C)}s.B=function(C){return Pe(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&C.i(V);return new d(N,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|C.i(V);return new d(N,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^C.i(V);return new d(N,this.h^C.h)};function Le(C){const w=C.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(N,C.h)}function Te(C,w){const N=w>>5;w%=32;const V=C.g.length-N,M=[];for(let j=0;j<V;j++)M[j]=w>0?C.i(j+N)>>>w|C.i(j+N+1)<<32-w:C.i(j+N);return new d(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,Ir=d}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nE,Bo,iE,sh,Am,sE,rE,aE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)e:{var E=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in E))break e;E=E[L]}u=u[u.length-1],b=E[u],g=g(b),g!=b&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var E=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&E.push([b,g[b]]);return E}});var c=c||{},d=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,E){return u.call.apply(u.bind,arguments)}function v(u,g,E){return v=_,v.apply(null,arguments)}function x(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,g){function E(){}E.prototype=g.prototype,u.Z=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,L,H){for(var oe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)oe[Me-2]=arguments[Me];return g.prototype[L].apply(b,oe)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const g=u.length;if(g>0){const E=Array(g);for(let b=0;b<g;b++)E[b]=u[b];return E}return[]}function W(u,g){for(let b=1;b<arguments.length;b++){const L=arguments[b];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const H=L.length||0;u.length=E+H;for(let oe=0;oe<H;oe++)u[E+oe]=L[oe]}else u.push(L)}}class ee{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,E){const b=fe.get();b.set(g,E),this.h?this.h.next=b:this.g=b,this.h=b}}var fe=new ee(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,Te=!1,C=new pe,w=()=>{const u=Promise.resolve(void 0);Le=()=>{u.then(N)}};function N(){for(var u;u=_e();){try{u.h.call(u.g)}catch(E){te(E)}var g=fe;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Te=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,g){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}S(Qe,M),Qe.prototype.init=function(u,g){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,g,E,b,L){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,g,E){for(const b in u)g.call(E,u[b],b,u)}function le(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function I(u){const g={};for(const E in u)g[E]=u[E];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,g){let E,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(E in b)u[E]=b[E];for(let H=0;H<Q.length;H++)E=Q[H],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,g,E,b,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const oe=he(u,g,b,L);return oe>-1?(g=u[oe],E||(g.fa=!1)):(g=new ne(g,this.src,H,!!b,L),g.fa=E,u.push(g)),g};function Ee(u,g){const E=g.type;if(E in u.g){var b=u.g[E],L=Array.prototype.indexOf.call(b,g,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(re(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function he(u,g,E,b){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==g&&H.capture==!!E&&H.ha==b)return L}return-1}var de="closure_lm_"+(Math.random()*1e6|0),mt={};function nt(u,g,E,b,L){if(Array.isArray(g)){for(let H=0;H<g.length;H++)nt(u,g[H],E,b,L);return null}return E=Ti(E),u&&u[ue]?u.J(g,E,p(b)?!!b.capture:!1,L):Ln(u,g,E,!1,b,L)}function Ln(u,g,E,b,L,H){if(!g)throw Error("Invalid event type");const oe=p(L)?!!L.capture:!!L;let Me=Wt(u);if(Me||(u[de]=Me=new ie(u)),E=Me.add(g,E,b,oe,H),E.proxy)return E;if(b=An(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)j||(L=oe),L===void 0&&(L=!1),u.addEventListener(g.toString(),b,L);else if(u.attachEvent)u.attachEvent(bn(g.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function An(){function u(E){return g.call(u.src,u.listener,E)}const g=Vi;return u}function Jn(u,g,E,b,L){if(Array.isArray(g))for(var H=0;H<g.length;H++)Jn(u,g[H],E,b,L);else b=p(b)?!!b.capture:!!b,E=Ti(E),u&&u[ue]?(u=u.i,H=String(g).toString(),H in u.g&&(g=u.g[H],E=he(g,E,b,L),E>-1&&(re(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete u.g[H],u.h--)))):u&&(u=Wt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=he(g,E,b,L)),(E=u>-1?g[u]:null)&&Ei(E))}function Ei(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ue])Ee(g.i,u);else{var E=u.type,b=u.proxy;g.removeEventListener?g.removeEventListener(E,b,u.capture):g.detachEvent?g.detachEvent(bn(E),b):g.addListener&&g.removeListener&&g.removeListener(b),(E=Wt(g))?(Ee(E,u),E.h==0&&(E.src=null,g[de]=null)):re(u)}}}function bn(u){return u in mt?mt[u]:mt[u]="on"+u}function Vi(u,g){if(u.da)u=!0;else{g=new Qe(g,this);const E=u.listener,b=u.ha||u.src;u.fa&&Ei(u),u=E.call(b,g)}return u}function Wt(u){return u=u[de],u instanceof ie?u:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ti(u){return typeof u=="function"?u:(u[Zn]||(u[Zn]=function(g){return u.handleEvent(g)}),u[Zn])}function Et(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}S(Et,V),Et.prototype[ue]=!0,Et.prototype.removeEventListener=function(u,g,E,b){Jn(this,u,g,E,b)};function gt(u,g){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=g.type||g,typeof g=="string")g=new M(g,u);else if(g instanceof M)g.target=g.target||u;else{var L=g;g=new M(b,u),se(g,L)}L=!0;let H,oe;if(E)for(oe=E.length-1;oe>=0;oe--)H=g.g=E[oe],L=Nn(H,b,!0,g)&&L;if(H=g.g=u,L=Nn(H,b,!0,g)&&L,L=Nn(H,b,!1,g)&&L,E)for(oe=0;oe<E.length;oe++)H=g.g=E[oe],L=Nn(H,b,!1,g)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const E=u.g[g];for(let b=0;b<E.length;b++)re(E[b]);delete u.g[g],u.h--}}this.G=null},Et.prototype.J=function(u,g,E,b){return this.i.add(String(u),g,!1,E,b)},Et.prototype.K=function(u,g,E,b){return this.i.add(String(u),g,!0,E,b)};function Nn(u,g,E,b){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let H=0;H<g.length;++H){const oe=g[H];if(oe&&!oe.da&&oe.capture==E){const Me=oe.listener,Ot=oe.ha||oe.src;oe.fa&&Ee(u.i,oe),L=Me.call(Ot,b)!==!1&&L}}return L&&!b.defaultPrevented}function bi(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function cs(u){u.g=bi(()=>{u.g=null,u.i&&(u.i=!1,cs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Pt extends V{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(u){V.call(this),this.h=u,this.g={}}S(Wn,V);var ji=[];function Pi(u){Ae(u.g,function(g,E){this.g.hasOwnProperty(E)&&Ei(g)},u),u.g={}}Wn.prototype.N=function(){Wn.Z.N.call(this),Pi(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=d.JSON.stringify,qs=d.JSON.parse,hs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hs(){}function Li(){}var gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){M.call(this,"d")}S(Rt,M);function rn(){M.call(this,"c")}S(rn,M);var yt={},fs=null;function ei(){return fs=fs||new Et}yt.Ia="serverreachability";function ds(u){M.call(this,yt.Ia,u)}S(ds,M);function an(u){const g=ei();gt(g,new ds(g))}yt.STAT_EVENT="statevent";function Cn(u,g){M.call(this,yt.STAT_EVENT,u),this.stat=g}S(Cn,M);function B(u){const g=ei();gt(g,new Cn(g,u))}yt.Ja="timingevent";function ce(u,g){M.call(this,yt.Ja,u),this.size=g}S(ce,M);function we(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function je(){this.g=!0}je.prototype.ua=function(){this.g=!1};function Tt(u,g,E,b,L,H){u.info(function(){if(u.g)if(H){var oe="",Me=H.split("&");for(let it=0;it<Me.length;it++){var Ot=Me[it].split("=");if(Ot.length>1){const wt=Ot[0];Ot=Ot[1];const li=wt.split("_");oe=li.length>=2&&li[1]=="type"?oe+(wt+"="+Ot+"&"):oe+(wt+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+g+`
`+E+`
`+oe})}function Xe(u,g,E,b,L,H,oe){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+g+`
`+E+`
`+H+" "+oe})}function _t(u,g,E,b){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lt(u,E)+(b?" "+b:"")})}function Xt(u,g){u.info(function(){return"TIMEOUT: "+g})}je.prototype.info=function(){};function Lt(u,g){if(!u.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var E=H[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let oe=1;oe<b.length;oe++)b[oe]=""}}}}return Un(H)}catch{return g}}var pn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nt;function ni(){}S(ni,Hs),ni.prototype.g=function(){return new XMLHttpRequest},Nt=new ni;function ii(u){return encodeURIComponent(String(u))}function D(u){var g=1;u=u.split(":");const E=[];for(;g>0&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function be(u,g,E,b){this.j=u,this.i=g,this.l=E,this.S=b||1,this.V=new Wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var $e={},Ze={};function Ut(u,g,E){u.M=1,u.A=qr(Bt(g)),u.u=E,u.R=!0,xn(u,null)}function xn(u,g){u.F=Date.now(),Ui(u),u.B=Bt(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ra(E.i,"t",b),u.C=0,E=u.j.L,u.h=new Ue,u.g=Lu(u.j,E?g:null,!u.u),u.P>0&&(u.O=new Pt(v(u.Y,u,u.g),u.P)),g=u.V,E=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ji[0]=L.toString()),L=ji);for(let H=0;H<L.length;H++){const oe=nt(E,L[H],b||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),an(),Tt(u.i,u.v,u.B,u.l,u.S,u.u)}be.prototype.ba=function(u){u=u.target;const g=this.O;g&&wi(u)==3?g.j():this.Y(u)},be.prototype.Y=function(u){try{if(u==this.g)e:{const Me=wi(this.g),Ot=this.g.ya(),it=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Me!=4||Ot==7||(Ot==8||it<=0?an(3):an(2)),zi(this);var g=this.g.ca();this.X=g;var E=tf(this);if(this.o=g==200,Xe(this.i,this.v,this.B,this.l,this.S,Me,g),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(b)){var H=b;break t}}H=null}if(u=H)_t(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,u);else{this.o=!1,this.m=3,B(12),zn(this),si(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<E.length;)if(wt=wu(this,E),wt==Ze){Me==4&&(this.m=4,B(14),u=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==$e){this.m=4,B(15),_t(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else _t(this.i,this.l,wt,null),Bi(this,wt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,B(16),u=!1),this.o=this.o&&u,!u)_t(this.i,this.l,E,"[Invalid Chunked Response]"),zn(this),si(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Wl(oe),oe.P=!0,B(11))}}else _t(this.i,this.l,E,null),Bi(this,E);Me==4&&zn(this),this.o&&!this.K&&(Me==4?ku(this.j,this):(this.o=!1,Ui(this)))}else gs(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,B(12)):(this.m=0,B(13)),zn(this),si(this)}}}catch{}finally{}};function tf(u){if(!Su(u))return u.g.la();const g=ln(u.g);if(g==="")return"";let E="";const b=g.length,L=wi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return zn(u),si(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,E+=u.h.i.decode(g[H],{stream:!(L&&H==b-1)});return g.length=0,u.h.g+=E,u.C=0,u.h.g}function Su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wu(u,g){var E=u.C,b=g.indexOf(`
`,E);return b==-1?Ze:(E=Number(g.substring(E,b)),isNaN(E)?$e:(b+=1,b+E>g.length?Ze:(g=g.slice(b,b+E),u.C=b+E,g)))}be.prototype.cancel=function(){this.K=!0,zn(this)};function Ui(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=we(v(u.aa,u),g)}function zi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}be.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xt(this.i,this.B),this.M!=2&&(an(),B(17)),zn(this),this.m=2,si(this)):Aa(this,this.T-u)};function si(u){u.j.I==0||u.K||ku(u.j,u)}function zn(u){zi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Pi(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Bi(u,g){try{var E=u.j;if(E.I!=0&&(E.g==u||Hi(E.h,u))){if(!u.L&&Hi(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)ka(E),Js(E);else break e;Xr(E),B(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=we(v(E.Va,E),6e3));qi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Xi(E,11)}else if((u.L||E.g==u)&&ka(E),!A(g))for(L=E.Ba.g.parse(g),g=0;g<L.length;g++){let it=L[g];const wt=it[0];if(!(wt<=E.K))if(E.K=wt,it=it[1],E.I==2)if(it[0]=="c"){E.M=it[1],E.ba=it[2];const li=it[3];li!=null&&(E.ka=li,E.j.info("VER="+E.ka));const $i=it[4];$i!=null&&(E.za=$i,E.j.info("SVER="+E.za));const Ai=it[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(b=1.5*Ai,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Ni=u.g;if(Ni){const $r=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var H=b.h;H.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Bl(H,H.h),H.h=null))}if(b.G){const Va=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(b.wa=Va,lt(b.J,b.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var oe=u;if(b.na=Pu(b,b.L?b.ba:null,b.W),oe.L){ql(b.h,oe);var Me=oe,Ot=b.O;Ot&&(Me.H=Ot),Me.D&&(zi(Me),Ui(Me)),b.g=oe}else Ou(b);E.i.length>0&&Yi(E)}else it[0]!="stop"&&it[0]!="close"||Xi(E,7);else E.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Xi(E,7):Jl(E):it[0]!="noop"&&E.l&&E.l.qa(it),E.A=0)}}an(4)}catch{}}var zt=class{constructor(u,g){this.g=u,this.map=g}};function Ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qi(u){return u.h?1:u.g?u.g.size:0}function Hi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Bl(u,g){u.g?u.g.add(g):u.h=g}function ql(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.G);return g}return K(u.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(u,g){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let L,H=null;b>=0?(L=u[E].substring(0,b),H=u[E].substring(b+1)):L=u[E],g(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Bn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Fs(this,u.u),this.h=u.h,Fl(this,Iu(u.i)),this.m=u.m):u&&(g=String(u).match(Au))?(this.l=!1,en(this,g[1]||"",!0),this.o=Fi(g[2]||""),this.g=Fi(g[3]||"",!0),Fs(this,g[4]),this.h=Fi(g[5]||"",!0),Fl(this,g[6]||"",!0),this.m=Fi(g[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Bn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Hr(g,Ca,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Hr(g,Ca,!0),"@"),u.push(ii(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Hr(E,E.charAt(0)=="/"?Gl:Nu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Hr(E,Cu)),u.join("")},Bn.prototype.resolve=function(u){const g=Bt(this);let E=!!u.j;E?en(g,u.j):E=!!u.o,E?g.o=u.o:E=!!u.g,E?g.g=u.g:E=u.u!=null;var b=u.h;if(E)Fs(g,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=g.h.lastIndexOf("/");L!=-1&&(b=g.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let oe=0;oe<L.length;){const Me=L[oe++];Me=="."?b&&oe==L.length&&H.push(""):Me==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&oe==L.length&&H.push("")):(H.push(Me),b=!0)}b=H.join("/")}else b=L}return E?g.h=b:E=u.i.toString()!=="",E?Fl(g,Iu(u.i)):E=!!u.m,E&&(g.m=u.m),g};function Bt(u){return new Bn(u)}function en(u,g,E){u.j=E?Fi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Fs(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Fl(u,g,E){g instanceof Ks?(u.i=g,Ia(u.i,u.l)):(E||(g=Hr(g,Gs)),u.i=new Ks(g,u.l))}function lt(u,g,E){u.i.set(g,E)}function qr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Fi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,Rn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ca=/[#\/\?@]/g,Nu=/[#\?:]/g,Gl=/[#\?]/g,Gs=/[#\?@]/g,Cu=/#/g;function Ks(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Na(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}s=Ks.prototype,s.add=function(u,g){In(this),this.i=null,u=Qs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function Ru(u,g){In(u),g=Qs(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Kl(u,g){return In(u),g=Qs(u,g),u.g.has(g)}s.forEach=function(u,g){In(this),this.g.forEach(function(E,b){E.forEach(function(L){u.call(g,L,b,this)},this)},this)};function Ql(u,g){In(u);let E=[];if(typeof g=="string")Kl(u,g)&&(E=E.concat(u.g.get(Qs(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)E=E.concat(u[g]);return E}s.set=function(u,g){return In(this),this.i=null,u=Qs(this,u),Kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Ql(this,u),u.length>0?String(u[0]):g):g};function Ra(u,g,E){Ru(u,g),E.length>0&&(u.i=null,u.g.set(Qs(u,g),K(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var E=g[b];const L=ii(E);E=Ql(this,E);for(let H=0;H<E.length;H++){let oe=L;E[H]!==""&&(oe+="="+ii(E[H])),u.push(oe)}}return this.i=u.join("&")};function Iu(u){const g=new Ks;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Qs(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ia(u,g){g&&!u.j&&(In(u),u.i=null,u.g.forEach(function(E,b){const L=b.toLowerCase();b!=L&&(Ru(this,b),Ra(this,L,E))},u)),u.j=g}function xi(u,g){const E=new je;if(d.Image){const b=new Image;b.onload=x(ri,E,"TestLoadImage: loaded",!0,g,b),b.onerror=x(ri,E,"TestLoadImage: error",!1,g,b),b.onabort=x(ri,E,"TestLoadImage: abort",!1,g,b),b.ontimeout=x(ri,E,"TestLoadImage: timeout",!1,g,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else g(!1)}function Yl(u,g){const E=new je,b=new AbortController,L=setTimeout(()=>{b.abort(),ri(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?ri(E,"TestPingServer: ok",!0,g):ri(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),ri(E,"TestPingServer: error",!1,g)})}function ri(u,g,E,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(E)}catch{}}function Ys(){this.g=new hs}function Gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Gi,Hs),Gi.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(u,g){Et.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Fr,Et),s=Fr.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Xs(this):Si(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Xs(this))},s.Na=function(u){this.g&&(this.response=u,Xs(this))},s.ga=function(){this.g&&Xs(this)};function Xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Si(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function Si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ai(u){let g="";return Ae(u,function(E,b){g+=b,g+=":",g+=E,g+=`\r
`}),g}function Gr(u,g,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ai(E),typeof u=="string"?E!=null&&ii(E):lt(u,g,E))}function ct(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,Et);var Ki=/^https?$/i,Xl=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nt.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Kr(this,H);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)E.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())E.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Xl,g,void 0)>=0)||b||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of E)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Kr(this,H)}};function Kr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,$l(u),ms(u)}function $l(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,gt(this,"complete"),gt(this,"abort"),ms(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},s.Xa=function(){Qr(this)};function Qr(u){if(u.h&&typeof c<"u"){if(u.v&&wi(u)==4)setTimeout(u.Ca.bind(u),0);else if(gt(u,"readystatechange"),wi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var b;if(b=H===0){let oe=String(u.D).match(Au)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),b=!Ki.test(oe?oe.toLowerCase():"")}E=b}if(E)gt(u,"complete"),gt(u,"success");else{u.o=6;try{var L=wi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",$l(u)}}finally{ms(u)}}}}function ms(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,g||gt(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function wi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qs(g)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(u){const g={};u=(u.g&&wi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(A(u[b]))continue;var E=D(u[b]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=g[L]||[];g[L]=H,H.push(E)}le(g,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function $s(u){this.za=0,this.i=[],this.j=new je,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,u),this.Za=Qi("retryDelaySeedMs",1e4,u),this.Ta=Qi("forwardChannelMaxRetries",2,u),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(u&&u.concurrentRequestLimit),this.Ba=new Ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$s.prototype,s.ka=8,s.I=1,s.connect=function(u,g,E,b){B(0),this.W=u,this.H=g||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Pu(this,null,this.W),Yi(this)};function Jl(u){if(Oa(u),u.I==3){var g=u.V++,E=Bt(u.J);if(lt(E,"SID",u.M),lt(E,"RID",g),lt(E,"TYPE","terminate"),Yr(u,E),g=new be(u,u.j,g),g.M=2,g.A=qr(Bt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.A,E=!0),E||(g.g=Lu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ui(g)}ju(u)}function Js(u){u.g&&(Wl(u),u.g.cancel(),u.g=null)}function Oa(u){Js(u),u.v&&(d.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Yi(u){if(!zl(u.h)&&!u.m){u.m=!0;var g=u.Ea;Le||w(),Te||(Le(),Te=!0),C.add(g,u),u.D=0}}function Ma(u,g){return qi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=we(v(u.Ea,u,g),Vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new be(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Du(this,L,g),E=Bt(this.J),lt(E,"RID",u),lt(E,"CVER",22),this.G&&lt(E,"X-HTTP-Session-Id",this.G),Yr(this,E),H&&(this.R?g="headers="+ii(ai(H))+"&"+g:this.u&&Gr(E,this.u,H)),Bl(this.h,L),this.Ra&&lt(E,"TYPE","init"),this.S?(lt(E,"$req",g),lt(E,"SID","null"),L.U=!0,Ut(L,E,null)):Ut(L,E,g),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||zl(this.h)||Zl(this))};function Zl(u,g){var E;g?E=g.l:E=u.V++;const b=Bt(u.J);lt(b,"SID",u.M),lt(b,"RID",E),lt(b,"AID",u.K),Yr(u,b),u.u&&u.o&&Gr(b,u.u,u.o),E=new be(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Du(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bl(u.h,E),Ut(E,b,g)}function Yr(u,g){u.H&&Ae(u.H,function(E,b){lt(g,b,E)}),u.l&&Ae({},function(E,b){lt(g,b,E)})}function Du(u,g,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Me=-1;for(;;){const Ot=["count="+E];Me==-1?E>0?(Me=L[0].g,Ot.push("ofs="+Me)):Me=0:Ot.push("ofs="+Me);let it=!0;for(let wt=0;wt<E;wt++){var H=L[wt].g;const li=L[wt].map;if(H-=Me,H<0)Me=Math.max(0,L[wt].g-100),it=!1;else try{H="req"+H+"_"||"";try{var oe=li instanceof Map?li:Object.entries(li);for(const[$i,Ai]of oe){let Ni=Ai;p(Ai)&&(Ni=Un(Ai)),Ot.push(H+$i+"="+encodeURIComponent(Ni))}}catch($i){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),$i}}catch{b&&b(li)}}if(it){oe=Ot.join("&");break e}}oe=void 0}return u=u.i.splice(0,E),g.G=u,oe}function Ou(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Le||w(),Te||(Le(),Te=!0),C.add(g,u),u.A=0}}function Xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=we(v(u.Da,u),Vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=we(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,B(10),Js(this),Mu(this))};function Wl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mu(u){u.g=new be(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Bt(u.na);lt(g,"RID","rpc"),lt(g,"SID",u.M),lt(g,"AID",u.K),lt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(g,"TO",u.ia),lt(g,"TYPE","xmlhttp"),Yr(u,g),u.u&&u.o&&Gr(g,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=qr(Bt(g)),E.u=null,E.R=!0,xn(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Js(this),Xr(this),B(19))};function ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ku(u,g){var E=null;if(u.g==g){ka(u),Wl(u),u.g=null;var b=2}else if(Hi(u.h,g))E=g.G,ql(u.h,g),b=1;else return;if(u.I!=0){if(g.o)if(b==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var L=u.D;b=ei(),gt(b,new ce(b,E)),Yi(u)}else Ou(u);else if(L=g.m,L==3||L==0&&g.X>0||!(b==1&&Ma(u,g)||b==2&&Xr(u)))switch(E&&E.length>0&&(g=u.h,g.i=g.i.concat(E)),L){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Vu(u,g){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*g}function Xi(u,g){if(u.j.info("Error code "+g),g==2){var E=v(u.bb,u),b=u.Ua;const L=!b;b=new Bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),qr(b),L?xi(b.toString(),E):Yl(b.toString(),E)}else B(2);u.I=0,u.l&&u.l.pa(g),ju(u),Oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),B(2)):(this.j.info("Failed to ping google.com"),B(1))};function ju(u){if(u.I=0,u.ja=[],u.l){const g=Hl(u.h);(g.length!=0||u.i.length!=0)&&(W(u.ja,g),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Pu(u,g,E){var b=E instanceof Bn?Bt(E):new Bn(E);if(b.g!="")g&&(b.g=g+"."+b.g),Fs(b,b.u);else{var L=d.location;b=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const H=new Bn(null);b&&en(H,b),g&&(H.g=g),L&&Fs(H,L),E&&(H.h=E),b=H}return E=u.G,g=u.wa,E&&g&&lt(b,E,g),lt(b,"VER",u.ka),Yr(u,b),b}function Lu(u,g,E){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new ct(new Gi({ab:E})):new ct(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Zs(){}Zs.prototype.g=function(u,g){return new Sn(u,g)};function Sn(u,g){Et.call(this),this.g=new $s(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!A(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ps(this)}S(Sn,Et),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Jl(this.g)},Sn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Un(u),u=E);g.i.push(new zt(g.Ya++,u)),g.I==3&&Yi(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,Sn.Z.N.call(this)};function zu(u){Rt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}S(zu,Rt);function Bu(){rn.call(this),this.status=1}S(Bu,rn);function ps(u){this.g=u}S(ps,Uu),ps.prototype.ra=function(){gt(this.g,"a")},ps.prototype.qa=function(u){gt(this.g,new zu(u))},ps.prototype.pa=function(u){gt(this.g,new Bu)},ps.prototype.oa=function(){gt(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,aE=function(){return new Zs},rE=function(){return ei()},sE=yt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,sh=pn,ti.COMPLETE="complete",iE=ti,Li.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bo=Li,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,nE=ct}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",W_="4.9.2";let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let kl="12.3.0";const Ea=new Gm("@firebase/firestore");function fl(){return Ea.logLevel}function ge(s,...e){if(Ea.logLevel<=Fe.DEBUG){const i=e.map(ng);Ea.debug(`Firestore (${kl}): ${s}`,...i)}}function Ps(s,...e){if(Ea.logLevel<=Fe.ERROR){const i=e.map(ng);Ea.error(`Firestore (${kl}): ${s}`,...i)}}function wl(s,...e){if(Ea.logLevel<=Fe.WARN){const i=e.map(ng);Ea.warn(`Firestore (${kl}): ${s}`,...i)}}function ng(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,lE(s,r,i)}function lE(s,e,i){let r=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ps(r),new Error(r)}function at(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||lE(e,o,r)}function Oe(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class oE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ma,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new oE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class EN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const r=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=xN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function Nm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return hm(o)===hm(c)?Ge(o,c):hm(o)?1:-1}return Ge(s.length,e.length)}const SN=55296,wN=57343;function hm(s){const e=s.charCodeAt(0);return e>=SN&&e<=wN}function Al(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const tv="__name__";class ts{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=ts.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const r=ts.isNumericId(e),o=ts.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ts.extractNumericId(e).compare(ts.extractNumericId(i)):Nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}}class vt extends ts{construct(e,i,r){return new vt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ts{construct(e,i,r){return new dn(e,i,r)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new dn([tv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(vt.fromString(e))}static fromName(e){return new Se(vt.fromString(e).popFirst(5))}static empty(){return new Se(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new vt(e.slice()))}}function uE(s,e,i){if(!i)throw new me(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function NN(s,e,i,r){if(e===!0&&r===!0)throw new me(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nv(s){if(!Se.isDocumentKey(s))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iv(s){if(Se.isDocumentKey(s))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function ss(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lh(s);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function _u(s,e){if(!cE(s))throw new me(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new me(J.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,rv=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*rv);return new St(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<sv)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Yt("string",St._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new St(0,0))}static max(){return new Ie(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function CN(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new St(i+1,0):new St(i,r));return new Or(o,Se.empty(),e)}function RN(s){return new Or(s.readTime,s.key,ru)}class Or{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Or(Ie.min(),Se.empty(),ru)}static max(){return new Or(Ie.max(),Se.empty(),ru)}}function IN(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Se.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==DN)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((x=>{d[v]=x,++p,p===c&&r(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function MN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function jl(s){return s.name==="IndexedDbTransactionError"}class Uh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const sg=-1;function zh(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function kN(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const hE="";function VN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=av(e)),e=jN(s.get(i),e);return av(e)}function jN(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case hE:i+="";break;default:i+=c}}return i}function av(s){return s+hE+""}function lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ur(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function fE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new fn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new $n([])}unionWith(e){let i=new Jt(dn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=PN.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function kr(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const mE="server_timestamp",gE="__type__",pE="__previous_value__",yE="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[gE]?.stringValue===mE}function Bh(s){const e=s.mapValue.fields[pE];return rg(e)?Bh(e):e}function au(s){const e=Mr(s.mapValue.fields[yE].timestampValue);return new St(e.seconds,e.nanos)}class LN{constructor(e,i,r,o,c,d,p,_,v,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=x}}const Eh="(default)";class lu{constructor(e,i){this.projectId=e,this.database=i||Eh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}const _E="__type__",UN="__max__",Yc={mapValue:{}},vE="__vector__",Th="value";function Vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:BN(s)?9007199254740991:zN(s)?10:11:Re(28295,{value:s})}function us(s,e){if(s===e)return!0;const i=Vr(s);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return au(s).isEqual(au(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Mr(o.timestampValue),p=Mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return kr(o.bytesValue).isEqual(kr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),p=Vt(c.doubleValue);return d===p?vh(d)===vh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Al(s.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!us(d[_],p[_])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function ou(s,e){return(s.values||[]).find((i=>us(i,e)))!==void 0}function Nl(s,e){if(s===e)return 0;const i=Vr(s),r=Vr(e);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Vt(c.integerValue||c.doubleValue),_=Vt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return uv(s.timestampValue,e.timestampValue);case 4:return uv(au(s),au(e));case 5:return Nm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=kr(c),_=kr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const x=Ge(p[v],_[v]);if(x!==0)return x}return Ge(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ge(Vt(c.latitude),Vt(d.latitude));return p!==0?p:Ge(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return cv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Th]?.arrayValue,x=_[Th]?.arrayValue,S=Ge(v?.values?.length||0,x?.values?.length||0);return S!==0?S:cv(v,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Yc.mapValue&&d===Yc.mapValue)return 0;if(c===Yc.mapValue)return 1;if(d===Yc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},x=Object.keys(v);_.sort(),x.sort();for(let S=0;S<_.length&&S<x.length;++S){const O=Nm(_[S],x[S]);if(O!==0)return O;const K=Nl(p[_[S]],v[x[S]]);if(K!==0)return K}return Ge(_.length,x.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=Mr(s),r=Mr(e),o=Ge(i.seconds,r.seconds);return o!==0?o:Ge(i.nanos,r.nanos)}function cv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Nl(i[o],r[o]);if(c)return c}return Ge(i.length,r.length)}function Cl(s){return Cm(s)}function Cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Se.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Cm(i.fields[d])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function rh(s){switch(Vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+rh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ur(r.fields,((c,d)=>{o+=c.length+rh(d)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function hv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Rm(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function fv(s){return!!s&&"nullValue"in s}function dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function zN(s){return(s?.mapValue?.fields||{})[_E]?.stringValue===vE}function $o(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ur(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=$o(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$o(s.arrayValue.values[i]);return e}return{...s}}function BN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(i)}setAll(e){let i=dn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=$o(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ur(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Pn($o(this.value))}}function EE(s){const e=[];return Ur(s.fields,((i,r)=>{const o=new dn([i]);if(ah(r)){const c=EE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}class En{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new En(e,0,Ie.min(),Ie.min(),Ie.min(),Pn.empty(),0)}static newFoundDocument(e,i,r,o){return new En(e,1,i,Ie.min(),r,o,0)}static newNoDocument(e,i){return new En(e,2,i,Ie.min(),Ie.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new En(e,3,i,Ie.min(),Ie.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,i){this.position=e,this.inclusive=i}}function mv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Se.comparator(Se.fromName(d.referenceValue),i.key):r=Nl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!us(s.position[i],e.position[i]))return!1;return!0}class uu{constructor(e,i="asc"){this.field=e,this.dir=i}}function qN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class TE{}class Qt extends TE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new FN(e,i,r):i==="array-contains"?new QN(e,r):i==="in"?new YN(e,r):i==="not-in"?new XN(e,r):i==="array-contains-any"?new $N(e,r):new Qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new GN(e,r):new KN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Nl(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(Nl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends TE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ki(e,i)}matches(e){return bE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(s){return s.op==="and"}function xE(s){return HN(s)&&bE(s)}function HN(s){for(const e of s.filters)if(e instanceof ki)return!1;return!0}function Im(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Cl(s.value);if(xE(s))return s.filters.map((e=>Im(e))).join(",");{const e=s.filters.map((i=>Im(i))).join(",");return`${s.op}(${e})`}}function SE(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&us(r.value,o.value)})(s,e):s instanceof ki?(function(r,o){return o instanceof ki&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&SE(d,o.filters[p])),!0):!1})(s,e):void Re(19439)}function wE(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cl(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(s):"Filter"}class FN extends Qt{constructor(e,i,r){super(e,i,r),this.key=Se.fromName(r.referenceValue)}matches(e){const i=Se.comparator(e.key,this.key);return this.matchesComparison(i)}}class GN extends Qt{constructor(e,i){super(e,"in",i),this.keys=AE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class KN extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=AE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function AE(s,e){return(e.arrayValue?.values||[]).map((i=>Se.fromName(i.referenceValue)))}class QN extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ag(i)&&ou(i.arrayValue,this.value)}}class YN extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class XN extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class $N extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}class JN{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new JN(s,e,i,r,o,c,d)}function lg(s){const e=Oe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Im(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),zh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Cl(r))).join(",")),e.Te=i}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!SE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gv(s.startAt,e.startAt)&&gv(s.endAt,e.endAt)}function Dm(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Pl{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZN(s,e,i,r,o,c,d,p){return new Pl(s,e,i,r,o,c,d,p)}function ug(s){return new Pl(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function NE(s){return s.collectionGroup!==null}function Jo(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(dn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uu(c,r))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new uu(dn.keyField(),r))}return e.Ie}function rs(s){const e=Oe(s);return e.Ee||(e.Ee=WN(e,Jo(s))),e.Ee}function WN(s,e){if(s.limitType==="F")return pv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new uu(o.field,c)}));const i=s.endAt?new bh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new bh(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Om(s,e){const i=s.filters.concat([e]);return new Pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function xh(s,e,i){return new Pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function qh(s,e){return og(rs(s),rs(e))&&s.limitType===e.limitType}function CE(s){return`${lg(rs(s))}|lt:${s.limitType}`}function dl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>wE(o))).join(", ")}]`),zh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Cl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(rs(s))}; limitType=${s.limitType})`}function Hh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Se.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Jo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,Jo(r),o)||r.endAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,Jo(r),o))})(s,e)}function eC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RE(s){return(e,i)=>{let r=!1;for(const o of Jo(s)){const c=tC(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tC(s,e,i){const r=s.field.isKeyField()?Se.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Nl(_,v):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const nC=new Ct(Se.comparator);function Ls(){return nC}const IE=new Ct(Se.comparator);function qo(...s){let e=IE;for(const i of s)e=e.insert(i.key,i);return e}function DE(s){let e=IE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function da(){return Zo()}function OE(){return Zo()}function Zo(){return new Sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const iC=new Ct(Se.comparator),sC=new Jt(Se.comparator);function Ke(...s){let e=sC;for(const i of s)e=e.add(i);return e}const rC=new Jt(Ge);function aC(){return rC}function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function ME(s){return{integerValue:""+s}}function lC(s,e){return kN(e)?ME(e):cg(s,e)}class Fh{constructor(){this._=void 0}}function oC(s,e,i){return s instanceof Sh?(function(o,c){const d={fields:{[gE]:{stringValue:mE},[yE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rg(c)&&(c=Bh(c)),c&&(d.fields[pE]=c),{mapValue:d}})(i,e):s instanceof cu?VE(s,e):s instanceof hu?jE(s,e):(function(o,c){const d=kE(o,c),p=_v(d)+_v(o.Ae);return Rm(d)&&Rm(o.Ae)?ME(p):cg(o.serializer,p)})(s,e)}function uC(s,e,i){return s instanceof cu?VE(s,e):s instanceof hu?jE(s,e):i}function kE(s,e){return s instanceof wh?(function(r){return Rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Sh extends Fh{}class cu extends Fh{constructor(e){super(),this.elements=e}}function VE(s,e){const i=PE(e);for(const r of s.elements)i.some((o=>us(o,r)))||i.push(r);return{arrayValue:{values:i}}}class hu extends Fh{constructor(e){super(),this.elements=e}}function jE(s,e){let i=PE(e);for(const r of s.elements)i=i.filter((o=>!us(o,r)));return{arrayValue:{values:i}}}class wh extends Fh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function _v(s){return Vt(s.integerValue||s.doubleValue)}function PE(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cC(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof cu&&o instanceof cu||r instanceof hu&&o instanceof hu?Al(r.elements,o.elements,us):r instanceof wh&&o instanceof wh?us(r.Ae,o.Ae):r instanceof Sh&&o instanceof Sh})(s.transform,e.transform)}class hC{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Gh{}function LE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hg(s.key,vi.none()):new vu(s.key,s.data,vi.none());{const i=s.data,r=Pn.empty();let o=new Jt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new zr(s.key,r,new $n(o.toArray()),vi.none())}}function fC(s,e,i){s instanceof vu?(function(o,c,d){const p=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof zr?(function(o,c,d){if(!lh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(UE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Wo(s,e,i,r){return s instanceof vu?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const v=c.value.clone(),x=Tv(c.fieldTransforms,_,d);return v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof zr?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const v=Tv(c.fieldTransforms,_,d),x=d.data;return x.setAll(UE(c)),x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return lh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function dC(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=kE(r.transform,o||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,c))}return i||null}function vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((c,d)=>cC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vu extends Gh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends Gh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Ev(s,e,i){const r=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,uC(d,p,i[o]))}return r}function Tv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,oC(c,d,e))}return r}class hg extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mC extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gC{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fC(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Wo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Wo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=OE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=LE(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((i,r)=>vv(i,r)))&&Al(this.baseMutations,e.baseMutations,((i,r)=>vv(i,r)))}}class fg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new fg(e,i,r,o)}}class pC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Je;function _C(s){switch(s){case J.OK:return Re(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function zE(s){if(s===void 0)return Ps("GRPC error has no .code"),J.UNKNOWN;switch(s){case Kt.OK:return J.OK;case Kt.CANCELLED:return J.CANCELLED;case Kt.UNKNOWN:return J.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return J.INTERNAL;case Kt.UNAVAILABLE:return J.UNAVAILABLE;case Kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Kt.NOT_FOUND:return J.NOT_FOUND;case Kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Kt.ABORTED:return J.ABORTED;case Kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Kt.DATA_LOSS:return J.DATA_LOSS;default:return Re(39323,{code:s})}}(Je=Kt||(Kt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function vC(){return new TextEncoder}const EC=new Ir([4294967295,4294967295],0);function bv(s){const e=vC().encode(s),i=new tE;return i.update(e),new Uint8Array(i.digest())}function xv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ir([i,r],0),new Ir([o,c],0)]}class dg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ho(`Invalid padding: ${i}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ir.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ir.fromNumber(r)));return o.compare(EC)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=bv(e),[r,o]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dg(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=bv(e),[r,o]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Kh(Ie.min(),o,new Ct(Ge),Ls(),Ke())}}class Eu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eu(r,i,Ke(),Ke(),Ke())}}class oh{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class BE{constructor(e,i){this.targetId=e,this.Ce=i}}class qE{constructor(e,i,r=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=wv(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),r=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}})),new Eu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.Je=Xc(),this.He=Xc(),this.Ye=new Ct(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Dm(c))if(r===0){const d=new Se(c.path);this.et(i,d,En.newNoDocument(d,Ie.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=kr(r).toUint8Array()}catch(_){if(_ instanceof dE)return wl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new dg(d,o,c)}catch(_){return wl(_ instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Dm(p.target)){const _=new Se(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,En.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Kh(e,i,this.Ye,this.je,r);return this.je=Ls(),this.Je=Xc(),this.He=Xc(),this.Ye=new Ct(Ge),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Sv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ge("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Xc(){return new Ct(Se.comparator)}function wv(){return new Ct(Se.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class wC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mm(s,e){return s.useProto3Json||zh(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function AC(s,e){return Ah(s,e.toTimestamp())}function as(s){return at(!!s,49232),Ie.fromTimestamp((function(i){const r=Mr(i);return new St(r.seconds,r.nanos)})(s))}function mg(s,e){return km(s,e).canonicalString()}function km(s,e){const i=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function FE(s){const e=vt.fromString(s);return at(XE(e),10190,{key:e.toString()}),e}function Vm(s,e){return mg(s.databaseId,e.path)}function fm(s,e){const i=FE(e);if(i.get(1)!==s.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Se(KE(i))}function GE(s,e){return mg(s.databaseId,e)}function NC(s){const e=FE(s);return e.length===4?vt.emptyPath():KE(e)}function jm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KE(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Av(s,e,i){return{name:Vm(s,e),fields:i.value.mapValue.fields}}function CC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Re(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,x){return v.useProto3Json?(at(x===void 0||typeof x=="string",58123),mn.fromBase64String(x||"")):(at(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),mn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const x=v.code===void 0?J.UNKNOWN:zE(v.code);return new me(x,v.message||"")})(d);i=new qE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=fm(s,r.document.name),c=as(r.document.updateTime),d=r.document.createTime?as(r.document.createTime):Ie.min(),p=new Pn({mapValue:{fields:r.document.fields}}),_=En.newFoundDocument(o,c,d,p),v=r.targetIds||[],x=r.removedTargetIds||[];i=new oh(v,x,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=fm(s,r.document),c=r.readTime?as(r.readTime):Ie.min(),d=En.newNoDocument(o,c),p=r.removedTargetIds||[];i=new oh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=fm(s,r.document),c=r.removedTargetIds||[];i=new oh([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yC(o,c),p=r.targetId;i=new BE(p,d)}}return i}function RC(s,e){let i;if(e instanceof vu)i={update:Av(s,e.key,e.value)};else if(e instanceof hg)i={delete:Vm(s,e.key)};else if(e instanceof zr)i={update:Av(s,e.key,e.data),updateMask:LC(e.fieldMask)};else{if(!(e instanceof mC))return Re(16599,{Vt:e.type});i={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:AC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(s,e.precondition)),i}function IC(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?as(o.updateTime):as(c);return d.isEqual(Ie.min())&&(d=as(c)),new hC(d,o.transformResults||[])})(i,e)))):[]}function DC(s,e){return{documents:[GE(s,e.path)]}}function OC(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=GE(s,o);const c=(function(v){if(v.length!==0)return YE(ki.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((x=>(function(O){return{field:ml(O.field),direction:VC(O.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Mm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function MC(s){let e=NC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){at(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(S){const O=QE(S);return O instanceof ki&&xE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(W){return new uu(gl(W.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,zh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,K=S.values||[];return new bh(K,O)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const O=!S.before,K=S.values||[];return new bh(K,O)})(i.endAt)),ZN(e,o,d,c,p,"F",_,v)}function kC(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function QE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=gl(i.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gl(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(gl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>QE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function VC(s){return bC[s]}function jC(s){return xC[s]}function PC(s){return SC[s]}function ml(s){return{fieldPath:s.canonicalString()}}function gl(s){return dn.fromServerFormat(s.fieldPath)}function YE(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(i.field),op:jC(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((o=>YE(o)));return r.length===1?r[0]:{compositeFilter:{op:PC(i.op),filters:r}}})(s):Re(54877,{filter:s})}function LC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function XE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ar{constructor(e,i,r,o,c=Ie.min(),d=Ie.min(),p=mn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UC{constructor(e){this.yt=e}}function zC(s){const e=MC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xh(e,e.limit,"L"):e}class BC{constructor(){this.Cn=new qC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Or.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class qC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Jt(vt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jt(vt.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn($E,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}const Cv="LruGarbageCollector",HC=1048576;function Rv([s,e],[i,r]){const o=Ge(s,i);return o===0?Ge(e,r):o}class FC{constructor(e){this.Ir=e,this.buffer=new Jt(Rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){jl(i)?ge(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await Vl(i)}await this.Vr(3e5)}))}}class KC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Uh.ce);const r=new FC(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Nv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,_,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),fl()<=Fe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-x}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function QC(s,e){return new KC(s,e)}class YC{constructor(){this.changes=new Sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $C{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Wo(r.mutation,o,$n.empty(),St.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ke()){const o=da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=qo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ke())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=Ls();const d=Zo(),p=(function(){return Zo()})();return i.forEach(((_,v)=>{const x=r.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof zr)?c=c.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Wo(x.mutation,v,x.mutation.getFieldMask(),St.now())):d.set(v.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,x)=>d.set(v,x))),i.forEach(((v,x)=>p.set(v,new XC(x,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Zo();let o=new Ct(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let x=r.get(_)||$n.empty();x=p.applyToLocalView(v,x),r.set(_,x);const S=(o.get(p.batchId)||Ke()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,x=_.value,S=OE();x.forEach((O=>{if(!c.has(O)){const K=LE(i.get(O),r.get(O));K!==null&&S.set(O,K),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return Se.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):NE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(da());let p=ru,_=c;return d.next((v=>Z.forEach(v,((x,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(x)?Z.resolve():this.remoteDocumentCache.getEntry(e,x).next((O=>{_=_.insert(x,O)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ke()))).next((x=>({batchId:p,changes:DE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Se(i)).next((r=>{let o=qo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(_=>{const v=(function(S,O){return new Pl(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((x=>{x.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,En.newInvalidDocument(x)))}));let p=qo();return d.forEach(((_,v)=>{const x=c.get(_);x!==void 0&&Wo(x.mutation,v,$n.empty(),St.now()),Hh(i,v)&&(p=p.insert(_,v))})),p}))}}class JC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:as(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:as(o.readTime)}})(i)),Z.resolve()}}class ZC{constructor(){this.overlays=new Ct(Se.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=da();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=da(),c=i.length+1,d=new Se(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Ct(((v,x)=>v-x));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let x=c.get(v.largestBatchId);x===null&&(x=da(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=da(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pC(i,r));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class WC{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class gg{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new sn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Se(new vt([])),r=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Se(new vt([])),r=new sn(i,e),o=new sn(i,e+1);let c=Ke();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Se.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||Se.comparator(e.key,i.key)}}class eR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gC(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Jt(Ge);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Se.isDocumentKey(c)||(c=c.child(""));const d=new sn(new Se(c),0);let p=new Jt(Ge);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new sn(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tR{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():En.newInvalidDocument(i))}getEntries(e,i){let r=Ls();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Ls();const d=i.path,p=new Se(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:x}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||IN(RN(x),r)<=0||(o.has(x.key)||Hh(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Re(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nR(this)}getSize(e){return Z.resolve(this.size)}}class nR extends YC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class iR{constructor(e){this.persistence=e,this.si=new Sa((i=>lg(i)),og),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class JE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new WC,this.referenceDelegate=e(this),this.Pi=new iR(this),this.indexManager=new BC,this.remoteDocumentCache=(function(o){return new tR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new UC(i),this.Ii=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ge("MemoryPersistence","Starting transaction:",e);const o=new sR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class sR extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=Se.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Nh{constructor(e,i){this.persistence=e,this.pi=new Sa((r=>VN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QC(this,i)}static mi(e,i){return new Nh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rh(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new yg(e,i.fromCache,r,o)}}class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MS()?8:MN(Tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(fl()<=Fe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",dl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fl()<=Fe.DEBUG&&ge("QueryEngine","Query:",dl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(fl()<=Fe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",dl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(i))):Z.resolve())}ys(e,i){if(yv(i))return Z.resolve(null);let r=rs(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xh(i,null,"F"),r=rs(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,xh(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return yv(i)||o.isEqual(Ie.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(fl()<=Fe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),dl(i)),this.vs(e,d,i,CN(o,ru)).next((p=>p)))}))}Ds(e,i){let r=new Jt(RE(e));return i.forEach(((o,c)=>{Hh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return fl()<=Fe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",dl(i)),this.ps.getDocumentsMatchingQuery(e,i,Or.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _g="LocalStore",lR=3e8;class oR{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ct(Ge),this.xs=new Sa((c=>lg(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function uR(s,e,i,r){return new oR(s,e,i,r)}async function ZE(s,e){const i=Oe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ke();for(const v of o){d.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}for(const v of c){p.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function cR(s,e){const i=Oe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,x){const S=v.batch,O=S.keys();let K=Z.resolve();return O.forEach((W=>{K=K.next((()=>x.getEntry(_,W))).next((ee=>{const te=v.docVersions.get(W);at(te!==null,48541),ee.version.compareTo(te)<0&&(S.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),x.addEntry(ee)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ke();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function WE(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hR(s,e){const i=Oe(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((x,S)=>{const O=o.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,S))));let K=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?K=K.withResumeToken(mn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(x.resumeToken,r)),o=o.insert(S,K),(function(ee,te,_e){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=lR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(O,K,x)&&p.push(i.Pi.updateTargetData(c,K))}));let _=Ls(),v=Ke();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(fR(c,d,e.documentUpdates).next((x=>{_=x.ks,v=x.qs}))),!r.isEqual(Ie.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function fR(s,e,i){let r=Ke(),o=Ke();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ls();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Ie.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ge(_g,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function dR(s,e){const i=Oe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mR(s,e){const i=Oe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Ar(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Pm(s,e,i){const r=Oe(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jl(d))throw d;ge(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Iv(s,e,i){const r=Oe(s);let o=Ie.min(),c=Ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,x){const S=Oe(_),O=S.xs.get(x);return O!==void 0?Z.resolve(S.Ms.get(O)):S.Pi.getTargetData(v,x)})(r,d,rs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Ie.min(),i?c:Ke()))).next((p=>(gR(r,eC(e),p),{documents:p,Qs:c})))))}function gR(s,e,i){let r=s.Os.get(e)||Ie.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Dv{constructor(){this.activeTargetIds=aC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yR{Oo(e){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $c=null;function Lm(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}const dm="RestConnection",_R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Lm(),p=this.zo(e,i.toUriEncodedString());ge(dm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),x=Ol(v);return this.Jo(e,p,_,r,x).then((S=>(ge(dm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw wl(dm,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=_R[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class ER{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class TR extends vR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Lm();return new Promise(((p,_)=>{const v=new nE;v.setWithCredentials(!0),v.listenOnce(iE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case sh.NO_ERROR:const S=v.getResponseJson();ge(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case sh.TIMEOUT:ge(_n,`RPC '${e}' ${d} timed out`),_(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const O=v.getStatus();if(ge(_n,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const ee=(function(_e){const pe=_e.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pe)>=0?pe:J.UNKNOWN})(W.status);_(new me(ee,W.message))}else _(new me(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new me(J.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ge(_n,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ge(_n,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=Lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=aE(),p=rE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const x=c.join("");ge(_n,`Creating RPC '${e}' stream ${o}: ${x}`,_);const S=d.createWebChannel(x,_);this.I_(S);let O=!1,K=!1;const W=new ER({Yo:te=>{K?ge(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(O||(ge(_n,`Opening RPC '${e}' stream ${o} transport.`),S.open(),O=!0),ge(_n,`RPC '${e}' stream ${o} sending:`,te),S.send(te))},Zo:()=>S.close()}),ee=(te,_e,pe)=>{te.listen(_e,(fe=>{try{pe(fe)}catch(Pe){setTimeout((()=>{throw Pe}),0)}}))};return ee(S,Bo.EventType.OPEN,(()=>{K||(ge(_n,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),ee(S,Bo.EventType.CLOSE,(()=>{K||(K=!0,ge(_n,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),ee(S,Bo.EventType.ERROR,(te=>{K||(K=!0,wl(_n,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),W.a_(new me(J.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Bo.EventType.MESSAGE,(te=>{if(!K){const _e=te.data[0];at(!!_e,16349);const pe=_e,fe=pe?.error||pe[0]?.error;if(fe){ge(_n,`RPC '${e}' stream ${o} received error:`,fe);const Pe=fe.status;let Le=(function(w){const N=Kt[w];if(N!==void 0)return zE(N)})(Pe),Te=fe.message;Le===void 0&&(Le=J.INTERNAL,Te="Unknown error status: "+Pe+" with message "+fe.message),K=!0,W.a_(new me(Le,Te)),S.close()}else ge(_n,`RPC '${e}' stream ${o} received:`,_e),W.u_(_e)}})),ee(p,sE.STAT_EVENT,(te=>{te.stat===Am.PROXY?ge(_n,`RPC '${e}' stream ${o} detected buffering proxy`):te.stat===Am.NOPROXY&&ge(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function mm(){return typeof document<"u"?document:null}function Qh(s){return new wC(s,!0)}class eT{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kv="PersistentStream";class tT{constructor(e,i,r,o,c,d,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ps(i.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ge(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bR extends tT{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=CC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?as(d.readTime):Ie.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=jm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Dm(_)?{documents:DC(c,_)}:{query:OC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HE(c,d.resumeToken);const v=Mm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const v=Mm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=kC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=jm(this.serializer),i.removeTarget=e,this.q_(i)}}class xR extends tT{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IC(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>RC(this.serializer,r)))};this.q_(i)}}class SR{}class wR extends SR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,km(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(J.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,km(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(i),this.aa=!1):ge("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class NR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{wa(this)&&(ge(Ta,"Restarting streams for network reachability change."),await(async function(_){const v=Oe(_);v.Ea.add(4),await Tu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Yh(v)})(this))}))})),this.Ra=new AR(r,o)}}async function Yh(s){if(wa(s))for(const e of s.da)await e(!0)}async function Tu(s){for(const e of s.da)await e(!1)}function nT(s,e){const i=Oe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bg(i)?Tg(i):Ll(i).O_()&&Eg(i,e))}function vg(s,e){const i=Oe(s),r=Ll(i);i.Ia.delete(e),r.O_()&&iT(i,e),i.Ia.size===0&&(r.O_()?r.L_():wa(i)&&i.Ra.set("Unknown"))}function Eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ll(s).Y_(e)}function iT(s,e){s.Va.Ue(e),Ll(s).Z_(e)}function Tg(s){s.Va=new TC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ll(s).start(),s.Ra.ua()}function bg(s){return wa(s)&&!Ll(s).x_()&&s.Ia.size>0}function wa(s){return Oe(s).Ea.size===0}function sT(s){s.Va=void 0}async function CR(s){s.Ra.set("Online")}async function RR(s){s.Ia.forEach(((e,i)=>{Eg(s,e)}))}async function IR(s,e){sT(s),bg(s)?(s.Ra.ha(e),Tg(s)):s.Ra.set("Unknown")}async function DR(s,e,i){if(s.Ra.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ge(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(s,r)}else if(e instanceof oh?s.Va.Ze(e):e instanceof BE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ie.min()))try{const r=await WE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const x=c.Ia.get(v);x&&c.Ia.set(v,x.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const x=c.Ia.get(_);if(!x)return;c.Ia.set(_,x.withResumeToken(mn.EMPTY_BYTE_STRING,x.snapshotVersion)),iT(c,_);const S=new Ar(x.target,_,v,x.sequenceNumber);Eg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ge(Ta,"Failed to raise snapshot:",r),await Ch(s,r)}}async function Ch(s,e,i){if(!jl(e))throw e;s.Ea.add(1),await Tu(s),s.Ra.set("Offline"),i||(i=()=>WE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(Ta,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Yh(s)}))}function rT(s,e){return e().catch((i=>Ch(s,i,e)))}async function Xh(s){const e=Oe(s),i=jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;OR(e);)try{const o=await dR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,MR(e,o)}catch(o){await Ch(e,o)}aT(e)&&lT(e)}function OR(s){return wa(s)&&s.Ta.length<10}function MR(s,e){s.Ta.push(e);const i=jr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function aT(s){return wa(s)&&!jr(s).x_()&&s.Ta.length>0}function lT(s){jr(s).start()}async function kR(s){jr(s).ra()}async function VR(s){const e=jr(s);for(const i of s.Ta)e.ea(i.mutations)}async function jR(s,e,i){const r=s.Ta.shift(),o=fg.from(r,e,i);await rT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Xh(s)}async function PR(s,e){e&&jr(s).X_&&await(async function(r,o){if((function(d){return _C(d)&&d!==J.ABORTED})(o.code)){const c=r.Ta.shift();jr(r).B_(),await rT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Xh(r)}})(s,e),aT(s)&&lT(s)}async function Vv(s,e){const i=Oe(s);i.asyncQueue.verifyOperationInProgress(),ge(Ta,"RemoteStore received new credentials");const r=wa(i);i.Ea.add(3),await Tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Yh(i)}async function LR(s,e){const i=Oe(s);e?(i.Ea.delete(2),await Yh(i)):e||(i.Ea.add(2),await Tu(i),i.Ra.set("Unknown"))}function Ll(s){return s.ma||(s.ma=(function(i,r,o){const c=Oe(i);return c.sa(),new bR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:CR.bind(null,s),t_:RR.bind(null,s),r_:IR.bind(null,s),H_:DR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),bg(s)?Tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),sT(s))}))),s.ma}function jr(s){return s.fa||(s.fa=(function(i,r,o){const c=Oe(i);return c.sa(),new xR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,s),r_:PR.bind(null,s),ta:VR.bind(null,s),na:jR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(Ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class xg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new xg(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(s,e){if(Ps("AsyncQueue",`${e}: ${s}`),jl(s))return new me(J.UNAVAILABLE,`${e}: ${s}`);throw s}class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Se.comparator(i.key,r.key):(i,r)=>Se.comparator(i.key,r.key),this.keyedMap=qo(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class jv{constructor(){this.ga=new Ct(Se.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Il{constructor(e,i,r,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Il(e,i,Tl.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class UR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zR{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Oe(i),c=o.queries;o.queries=Pv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new me(J.ABORTED,"Firestore shutting down"))}}function Pv(){return new Sa((s=>CE(s)),qh)}async function BR(s,e){const i=Oe(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new UR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Sg(d,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&wg(i)}async function qR(s,e){const i=Oe(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HR(s,e){const i=Oe(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&wg(i)}function FR(s,e,i){const r=Oe(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function wg(s){s.Ca.forEach((e=>{e.next()}))}var Um,Lv;(Lv=Um||(Um={})).Ma="default",Lv.Cache="cache";class GR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class oT{constructor(e){this.key=e}}class uT{constructor(e){this.key=e}}class KR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=RE(e),this.tu=new Tl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new jv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,S)=>{const O=o.get(x),K=Hh(this.query,S)?S:null,W=!!O&&this.mutatedKeys.has(O.key),ee=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let te=!1;O&&K?O.data.isEqual(K.data)?W!==ee&&(r.track({type:3,doc:K}),te=!0):this.su(O,K)||(r.track({type:2,doc:K}),te=!0,(_&&this.eu(K,_)>0||v&&this.eu(K,v)<0)&&(p=!0)):!O&&K?(r.track({type:0,doc:K}),te=!0):O&&!K&&(r.track({type:1,doc:O}),te=!0,(_||v)&&(p=!0)),te&&(K?(d=d.add(K),c=ee?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,S)=>(function(K,W){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:te})}};return ee(K)-ee(W)})(x.type,S.type)||this.eu(x.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Il(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new uT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new oT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class QR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class YR{constructor(e){this.key=e,this.hu=!1}}class XR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa((p=>CE(p)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Se.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $R(s,e,i=!0){const r=gT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await cT(r,e,i,!0),o}async function JR(s,e){const i=gT(s);await cT(i,e,!0,!1)}async function cT(s,e,i,r){const o=await mR(s.localStore,rs(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await ZR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&nT(s.remoteStore,o),p}async function ZR(s,e,i,r,o){s.pu=(S,O,K)=>(async function(ee,te,_e,pe){let fe=te.view.ru(_e);fe.Cs&&(fe=await Iv(ee.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,fe))));const Pe=pe&&pe.targetChanges.get(te.targetId),Le=pe&&pe.targetMismatches.get(te.targetId)!=null,Te=te.view.applyChanges(fe,ee.isPrimaryClient,Pe,Le);return zv(ee,te.targetId,Te.au),Te.snapshot})(s,S,O,K);const c=await Iv(s.localStore,e,!0),d=new KR(e,c.Qs),p=d.ru(c.documents),_=Eu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);zv(s,i,v.au);const x=new QR(e,i,d);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function WR(s,e,i){const r=Oe(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!qh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&vg(r.remoteStore,o.targetId),zm(r,o.targetId)})).catch(Vl)):(zm(r,o.targetId),await Pm(r.localStore,o.targetId,!0))}async function eI(s,e){const i=Oe(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vg(i.remoteStore,r.targetId))}async function tI(s,e,i){const r=oI(s);try{const o=await(function(d,p){const _=Oe(d),v=St.now(),x=p.reduce(((K,W)=>K.add(W.key)),Ke());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=Ls(),ee=Ke();return _.Ns.getEntries(K,x).next((te=>{W=te,W.forEach(((_e,pe)=>{pe.isValidDocument()||(ee=ee.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,W))).next((te=>{S=te;const _e=[];for(const pe of p){const fe=dC(pe,S.get(pe.key).overlayedDocument);fe!=null&&_e.push(new zr(pe.key,fe,EE(fe.value.mapValue),vi.exists(!0)))}return _.mutationQueue.addMutationBatch(K,v,_e,p)})).next((te=>{O=te;const _e=te.applyToLocalDocumentSet(S,ee);return _.documentOverlayCache.saveOverlays(K,te.batchId,_e)}))})).then((()=>({batchId:O.batchId,changes:DE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ct(Ge)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await bu(r,o.changes),await Xh(r.remoteStore)}catch(o){const c=Sg(o,"Failed to persist write");i.reject(c)}}async function hT(s,e){const i=Oe(s);try{const r=await hR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await bu(i,r,e)}catch(r){await Vl(r)}}function Uv(s,e,i){const r=Oe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Oe(d);_.onlineState=p;let v=!1;_.queries.forEach(((x,S)=>{for(const O of S.Sa)O.va(p)&&(v=!0)})),v&&wg(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nI(s,e,i){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Ct(Se.comparator);d=d.insert(c,En.newNoDocument(c,Ie.min()));const p=Ke().add(c),_=new Kh(Ie.min(),new Map,new Ct(Ge),d,p);await hT(r,_),r.du=r.du.remove(c),r.Au.delete(e),Ng(r)}else await Pm(r.localStore,e,!1).then((()=>zm(r,e,i))).catch(Vl)}async function iI(s,e){const i=Oe(s),r=e.batch.batchId;try{const o=await cR(i.localStore,e);dT(i,r,null),fT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await bu(i,o)}catch(o){await Vl(o)}}async function sI(s,e,i){const r=Oe(s);try{const o=await(function(d,p){const _=Oe(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return _.mutationQueue.lookupMutationBatch(v,p).next((S=>(at(S!==null,37113),x=S.keys(),_.mutationQueue.removeMutationBatch(v,S)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>_.localDocuments.getDocuments(v,x)))}))})(r.localStore,e);dT(r,e,i),fT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await bu(r,o)}catch(o){await Vl(o)}}function fT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function dT(s,e,i){const r=Oe(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function zm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||mT(s,r)}))}function mT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ng(s))}function zv(s,e,i){for(const r of i)r instanceof oT?(s.Ru.addReference(r.key,e),rI(s,r)):r instanceof uT?(ge(Ag,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||mT(s,r.key)):Re(19791,{wu:r})}function rI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ge(Ag,"New document in limbo: "+i),s.Eu.add(r),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Se(vt.fromString(e)),r=s.fu.next();s.Au.set(r,new YR(i)),s.du=s.du.insert(i,r),nT(s.remoteStore,new Ar(rs(ug(i.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function bu(s,e,i){const r=Oe(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const x=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,x?"current":"not-current")}if(v){o.push(v);const x=yg.As(_.targetId,v);c.push(x)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const x=Oe(_);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(v,(O=>Z.forEach(O.Es,(K=>x.persistence.referenceDelegate.addReference(S,O.targetId,K))).next((()=>Z.forEach(O.ds,(K=>x.persistence.referenceDelegate.removeReference(S,O.targetId,K)))))))))}catch(S){if(!jl(S))throw S;ge(_g,"Failed to update sequence numbers: "+S)}for(const S of v){const O=S.targetId;if(!S.fromCache){const K=x.Ms.get(O),W=K.snapshotVersion,ee=K.withLastLimboFreeSnapshotVersion(W);x.Ms=x.Ms.insert(O,ee)}}})(r.localStore,c))}async function aI(s,e){const i=Oe(s);if(!i.currentUser.isEqual(e)){ge(Ag,"User change. New user:",e.toKey());const r=await ZE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new me(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(i,r.Ls)}}function lI(s,e){const i=Oe(s),r=i.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function gT(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nI.bind(null,e),e.Pu.H_=HR.bind(null,e.eventManager),e.Pu.yu=FR.bind(null,e.eventManager),e}function oI(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return uR(this.persistence,new aR,e.initialUser,this.serializer)}Cu(e){return new JE(pg.mi,this.serializer)}Du(e){return new pR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class uI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof Nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new JE((r=>Nh.mi(r,i)),this.serializer)}}class Bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await LR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zR})()}createDatastore(e){const i=Qh(e.databaseInfo.databaseId),r=(function(c){return new TR(c)})(e.databaseInfo);return(function(c,d,p,_){return new wR(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new NR(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Uv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new yR})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,x){const S=new XR(o,c,d,p,_,v);return x&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Oe(i);ge(Ta,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Pr="FirestoreClient";class hI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ge(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ge(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Sg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await ZE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fI(s);ge(Pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Vv(e.remoteStore,o))),s._onlineComponents=e}async function fI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Pr,"Using user provided OfflineComponentProvider");try{await gm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;wl("Error using user provided cache. Falling back to memory cache: "+i),await gm(s,new Rh)}}else ge(Pr,"Using default OfflineComponentProvider"),await gm(s,new uI(void 0));return s._offlineComponents}async function pT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Pr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(ge(Pr,"Using default OnlineComponentProvider"),await Bv(s,new Bm))),s._onlineComponents}function dI(s){return pT(s).then((e=>e.syncEngine))}async function qv(s){const e=await pT(s),i=e.eventManager;return i.onListen=$R.bind(null,e.syncEngine),i.onUnlisten=WR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,e.syncEngine),i}function yT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Hv=new Map;const _T="firestore.googleapis.com",Fv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HC)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yN;switch(r.type){case"firstParty":return new TN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Hv.get(i);r&&(ge("ComponentProvider","Removing Datastore"),Hv.delete(i),r.terminate())})(this),Promise.resolve()}}function mI(s,e,i,r={}){s=ss(s,$h);const o=Ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(f1(`https://${p}`),d1("Firestore",!0)),c.host!==_T&&c.host!==p&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!pa(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,x;if(typeof r.mockUserToken=="string")v=r.mockUserToken,x=vn.MOCK_USER;else{v=SS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new vn(S)}s._authCredentials=new _N(new oE(v,x))}}class Br{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Br(this.firestore,e,this._query)}}class jt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_u(i,jt._jsonSchema))return new jt(e,r||null,new Se(vt.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Yt("string",jt._jsonSchemaVersion),referencePath:Yt("string")};class Dr extends Br{constructor(e,i,r){super(e,i,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Se(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function Kv(s,e,...i){if(s=Zt(s),uE("collection","path",e),s instanceof $h){const r=vt.fromString(e,...i);return iv(r),new Dr(s,null,r)}{if(!(s instanceof jt||s instanceof Dr))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(vt.fromString(e,...i));return iv(r),new Dr(s.firestore,null,r)}}function Fo(s,e,...i){if(s=Zt(s),arguments.length===1&&(e=ig.newId()),uE("doc","path",e),s instanceof $h){const r=vt.fromString(e,...i);return nv(r),new jt(s,null,new Se(r))}{if(!(s instanceof jt||s instanceof Dr))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(vt.fromString(e,...i));return nv(r),new jt(s.firestore,s instanceof Dr?s.converter:null,new Se(r))}}const Qv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ge(Qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;ge(Qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=xg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function $v(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ba extends $h{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function gI(s,e){const i=typeof s=="object"?s:y1(),r=typeof s=="string"?s:Eh,o=Qm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=bS("firestore");c&&mI(o,...c)}return o}function vT(s){if(s._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pI(s),s._firestoreClient}function pI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new LN(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(mn.fromBase64String(e))}catch(i){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _i(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Yt("string",_i._jsonSchemaVersion),bytes:Yt("string")};class Jh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cg{constructor(e){this._methodName=e}}class ls{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(_u(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Yt("string",ls._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class os{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new os(e.vectorValues);throw new me(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Yt("string",os._jsonSchemaVersion),vectorValues:Yt("object")};const yI=/^__.*__$/;class _I{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new vu(e,this.data,i,this.fieldTransforms)}}class ET{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new zr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function TT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class Rg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TT(this.Ac)&&yI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Qh(e)}Cc(e,i,r,o=!1){return new Rg({Ac:e,methodName:i,Dc:r,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),i=Qh(s._databaseId);return new vI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function bT(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ig("Data must be an object, but it was:",d,r);const p=xT(r,d);let _,v;if(c.merge)_=new $n(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const O=qm(e,S,i);if(!d.contains(O))throw new me(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);wT(x,O)||x.push(O)}_=new $n(x),v=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,v=d.fieldTransforms;return new _I(new Pn(p),_,v)}class Wh extends Cg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function EI(s,e,i,r){const o=s.Cc(1,e,i);Ig("Data must be an object, but it was:",o,r);const c=[],d=Pn.empty();Ur(r,((_,v)=>{const x=Dg(e,_,i);v=Zt(v);const S=o.yc(x);if(v instanceof Wh)c.push(x);else{const O=xu(v,S);O!=null&&(c.push(x),d.set(x,O))}}));const p=new $n(c);return new ET(d,p,o.fieldTransforms)}function TI(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[qm(e,r,i)],_=[o];if(c.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(qm(e,c[O])),_.push(c[O+1]);const v=[],x=Pn.empty();for(let O=p.length-1;O>=0;--O)if(!wT(v,p[O])){const K=p[O];let W=_[O];W=Zt(W);const ee=d.yc(K);if(W instanceof Wh)v.push(K);else{const te=xu(W,ee);te!=null&&(v.push(K),x.set(K,te))}}const S=new $n(v);return new ET(x,S,d.fieldTransforms)}function bI(s,e,i,r=!1){return xu(i,s.Cc(r?4:3,e))}function xu(s,e){if(ST(s=Zt(s)))return Ig("Unsupported field value:",e,s),xT(s,e);if(s instanceof Cg)return(function(r,o){if(!TT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=xu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=St.fromDate(r);return{timestampValue:Ah(o.serializer,c)}}if(r instanceof St){const c=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:HE(o.serializer,r._byteString)};if(r instanceof jt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof os)return(function(d,p){return{mapValue:{fields:{[_E]:{stringValue:vE},[Th]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Lh(r)}`)})(s,e)}function xT(s,e){const i={};return fE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(s,((r,o)=>{const c=xu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function ST(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof St||s instanceof ls||s instanceof _i||s instanceof jt||s instanceof Cg||s instanceof os)}function Ig(s,e,i){if(!ST(i)||!cE(i)){const r=Lh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function qm(s,e,i){if((e=Zt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Dg(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const xI=new RegExp("[~\\*/\\[\\]]");function Dg(s,e,i){if(e.search(xI)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new me(J.INVALID_ARGUMENT,p+s+_)}function wT(s,e){return s.some((i=>i.isEqual(e)))}class AT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SI extends AT{data(){return super.data()}}function Og(s,e){return typeof e=="string"?Dg(s,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}function wI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class kg extends Mg{}function AI(s,e,...i){let r=[];e instanceof Mg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof jg)).length,p=c.filter((_=>_ instanceof Vg)).length;if(d>1||d>0&&p>0)throw new me(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Vg extends kg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Vg(e,i,r)}_apply(e){const i=this._parse(e);return NT(e._query,i),new Br(e.firestore,e.converter,Om(e._query,i))}_parse(e){const i=Zh(e.firestore);return(function(c,d,p,_,v,x,S){let O;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new me(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Zv(S,x);const W=[];for(const ee of S)W.push(Jv(_,c,ee));O={arrayValue:{values:W}}}else O=Jv(_,c,S)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Zv(S,x),O=bI(p,d,S,x==="in"||x==="not-in");return Qt.create(v,x,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Mg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ki.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)NT(d,_),d=Om(d,_)})(e._query,i),new Br(e.firestore,e.converter,Om(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends kg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new me(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(c,d)})(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Pl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function NI(s,e="asc"){const i=e,r=Og("orderBy",s);return Pg._create(r,i)}class Lg extends kg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Lg(e,i,r)}_apply(e){return new Br(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function CI(s){return Lg._create("limit",s,"F")}function Jv(s,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new me(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&i.indexOf("/")!==-1)throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(vt.fromString(i));if(!Se.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hv(s,new Se(r))}if(i instanceof jt)return hv(s,i._key);throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(i)}.`)}function Zv(s,e){if(!Array.isArray(s)||s.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new me(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class RI{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ur(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Th].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new os(i)}convertGeoPoint(e){return new ls(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const i=Mr(e);return new St(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=vt.fromString(e);at(XE(r),9688,{name:e});const o=new lu(r.get(1),r.get(3)),c=new Se(r.popFirst(5));return o.isEqual(i)||Ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function CT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Go{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends AT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:Yt("string",ga._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class uh extends ga{data(e={}){return super.data(e)}}class bl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Go(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new uh(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Go(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Go(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:II(p.type),doc:_,oldIndex:v,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}bl._jsonSchemaVersion="firestore/querySnapshot/1.0",bl._jsonSchema={type:Yt("string",bl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class RT extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function pi(s,e,i){s=ss(s,jt);const r=ss(s.firestore,ba),o=CT(s.converter,e,i);return ef(r,[bT(Zh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,vi.none())])}function Di(s,e,i,...r){s=ss(s,jt);const o=ss(s.firestore,ba),c=Zh(o);let d;return d=typeof(e=Zt(e))=="string"||e instanceof Jh?TI(c,"updateDoc",s._key,e,i,r):EI(c,"updateDoc",s._key,e),ef(o,[d.toMutation(s._key,vi.exists(!0))])}function Jc(s){return ef(ss(s.firestore,ba),[new hg(s._key,vi.none())])}function DI(s,e){const i=ss(s.firestore,ba),r=Fo(s),o=CT(s.converter,e);return ef(i,[bT(Zh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,vi.exists(!1))]).then((()=>r))}function Wv(s,...e){s=Zt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$v(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($v(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof jt)d=ss(s.firestore,ba),p=ug(s._key.path),c={next:_=>{e[r]&&e[r](OI(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=ss(s,Br);d=ss(_.firestore,ba),p=_._query;const v=new RT(d);c={next:x=>{e[r]&&e[r](new bl(d,v,_,x))},error:e[r+1],complete:e[r+2]},wI(s._query)}return(function(v,x,S,O){const K=new cI(O),W=new GR(x,K,S);return v.asyncQueue.enqueueAndForget((async()=>BR(await qv(v),W))),()=>{K.Nu(),v.asyncQueue.enqueueAndForget((async()=>qR(await qv(v),W)))}})(vT(d),p,o,c)}function ef(s,e){return(function(r,o){const c=new ma;return r.asyncQueue.enqueueAndForget((async()=>tI(await dI(r),o,c))),c.promise})(vT(s),e)}function OI(s,e,i){const r=i.docs.get(e._key),o=new RT(s);return new ga(s,o,e._key,r,new Go(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){kl=o})(Ml),Sl(new ya("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ba(new vN(r.getProvider("auth-internal")),new bN(d,r.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(v.options.projectId,x)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Rr(Z_,W_,e),Rr(Z_,W_,"esm2020")})();const MI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883"},IT=p1(MI),xl=gN(IT),hl=gI(IT),e1=()=>Math.random().toString(36).substr(2,9),xa=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},kI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},Ug=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=kI(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(xa(c))}return r},nn=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Dl=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},DT=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Dh=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},Ko=["","","","","","","","","","","","","","","","","","","",""],rt=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return m.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${r}`,...c,children:s})},yl=({children:s,className:e=""})=>m.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),Xn=({isOpen:s,onClose:e,title:i,children:r})=>s?m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[m.jsx("h3",{className:"font-bold text-gray-800",children:i}),e&&m.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:m.jsx(Oh,{size:20})})]}),m.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,VI=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o,mode:c="verify"})=>{const[d,p]=ae.useState(""),[_,v]=ae.useState(""),[x,S]=ae.useState(c==="setup"?"create":"verify"),[O,K]=ae.useState(!1),[W,ee]=ae.useState(c==="setup"?"Create a 4-digit PIN":r||"Enter PIN"),te=pe=>{if(d.length<4){const fe=d+pe;p(fe),fe.length===4&&(x==="verify"?fe===i?s(fe):_e():x==="create"?(v(fe),p(""),S("confirm"),ee("Confirm your PIN")):x==="confirm"&&(fe===_?s(fe):(_e("PINs didn't match. Try again."),S("create"),ee("Create a 4-digit PIN"),v(""))))}},_e=(pe="Incorrect PIN")=>{K(!0);const fe=W;ee(pe),setTimeout(()=>{p(""),K(!1),ee(x==="verify"?r||"Enter PIN":x==="create"?"Create a 4-digit PIN":fe)},1e3)};return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[m.jsx("h3",{className:`text-xl font-bold text-center mb-6 ${O?"text-red-500":"text-gray-800"}`,children:W}),m.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(pe=>m.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${d.length>pe?O?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},pe))}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(pe=>m.jsx("button",{onClick:()=>te(pe),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:pe},pe)),m.jsx("div",{}),m.jsx("button",{onClick:()=>te(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),m.jsx("button",{onClick:()=>p(pe=>pe.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:m.jsx(Oh,{size:24})})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(rt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),c==="verify"&&m.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[m.jsx(Hx,{size:12})," Forgot PIN?"]})]})]})})},jI=({onComplete:s})=>{const[e,i]=ae.useState("parent"),[r,o]=ae.useState(""),[c,d]=ae.useState(""),[p,_]=ae.useState([]),[v,x]=ae.useState(""),[S,O]=ae.useState(""),K=()=>{v&&S.length===4&&(_([...p,{name:v,pin:S,allowance:10}]),x(""),O(""))},W=()=>{s({parentName:r,parentPin:c,kids:p})};return m.jsx(Xn,{isOpen:!0,onClose:null,title:e==="parent"?"Welcome! Let's get setup.":"Add your Kids",children:m.jsx("div",{className:"space-y-4",children:e==="parent"?m.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[m.jsx("p",{className:"text-gray-600 text-sm",children:"First, create the main parent profile."}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Mom",value:r,onChange:ee=>o(ee.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Create PIN"}),m.jsx("input",{className:"w-full border p-2 rounded",placeholder:"1234",maxLength:"4",value:c,onChange:ee=>d(ee.target.value)})]}),m.jsx(rt,{className:"w-full",onClick:()=>{r&&c.length===4?i("kids"):alert("Name and 4-digit PIN required.")},children:"Next: Add Kids"})]}):m.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[m.jsx("div",{className:"space-y-2",children:p.map((ee,te)=>m.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 p-2 rounded text-sm text-indigo-800 font-bold",children:[m.jsx("span",{children:ee.name}),m.jsxs("span",{children:["PIN: ",ee.pin]})]},te))}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{className:"border p-2 rounded",placeholder:"Kid Name",value:v,onChange:ee=>x(ee.target.value)}),m.jsx("input",{className:"border p-2 rounded",placeholder:"Kid PIN",maxLength:"4",value:S,onChange:ee=>O(ee.target.value)})]}),m.jsxs(rt,{variant:"outline",className:"w-full border-dashed",onClick:K,children:[m.jsx(Wc,{size:16})," Add Another Kid"]}),m.jsx("div",{className:"pt-4 flex gap-2",children:m.jsx(rt,{className:"w-full bg-green-600 hover:bg-green-700",onClick:W,children:"Finish Setup"})})]})})})},PI=({kids:s,onComplete:e})=>{const[i,r]=ae.useState("select-mode"),o=c=>{c==="KID_SOLO"?r("select-kid"):e({mode:c,targetId:null})};return m.jsx(Xn,{isOpen:!0,onClose:null,title:"Setup This Device",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-600 text-sm text-center",children:"Who will be using this specific device?"}),i==="select-mode"&&m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("button",{onClick:()=>o("FAMILY"),className:"p-4 border-2 rounded-xl hover:bg-indigo-50 hover:border-indigo-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-indigo-100 p-3 rounded-full text-indigo-600 group-hover:bg-indigo-200",children:m.jsx(tu,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Whole Family"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Parents & Kids. Requires PINs to switch."})]})]}),m.jsxs("button",{onClick:()=>o("KIDS_SHARED"),className:"p-4 border-2 rounded-xl hover:bg-purple-50 hover:border-purple-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full text-purple-600 group-hover:bg-purple-200",children:m.jsx(tu,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Just the Kids"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Shared device for multiple kids (No Parents)."})]})]}),m.jsxs("button",{onClick:()=>o("KID_SOLO"),className:"p-4 border-2 rounded-xl hover:bg-green-50 hover:border-green-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-600 group-hover:bg-green-200",children:m.jsx(User,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Specific Kid"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Personal device. Auto-logins."})]})]})]}),i==="select-kid"&&m.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-right-4",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Select the Kid:"}),s.map(c=>m.jsxs("button",{onClick:()=>e({mode:"KID_SOLO",targetId:c.id}),className:"w-full p-3 bg-white border rounded-xl flex items-center gap-3 hover:bg-gray-50 shadow-sm",children:[m.jsx("span",{className:"text-2xl",children:c.avatar}),m.jsx("span",{className:"font-bold text-gray-700",children:c.name}),m.jsx(eu,{className:"ml-auto text-gray-300"})]},c.id)),s.length===0&&m.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:"No kids found in family account."}),m.jsx(rt,{variant:"ghost",onClick:()=>r("select-mode"),className:"w-full mt-2",children:"Back"})]})]})})},LI=()=>{const[s,e]=ae.useState(!0),[i,r]=ae.useState(""),[o,c]=ae.useState(""),[d,p]=ae.useState(""),[_,v]=ae.useState(""),x=async O=>{O.preventDefault(),p(""),v("");try{s?await e2(xl,i,o):await WA(xl,i,o)}catch(K){p(K.message)}},S=async()=>{if(!i){p("Please enter your email address first.");return}try{await ZA(xl,i),v("Password reset email sent! Check your inbox."),p("")}catch(O){p(O.message)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[m.jsx(i1,{size:40})," ChorePiggy"]}),m.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),m.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:O=>r(O.target.value),placeholder:"family@example.com"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&m.jsx("button",{type:"button",onClick:S,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),m.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:O=>c(O.target.value),placeholder:""})]}),d&&m.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),_&&m.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:_}),m.jsx(rt,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>{e(!s),p(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function UI(){const[s,e]=ae.useState(null),[i,r]=ae.useState(!0),[o,c]=ae.useState([]),[d,p]=ae.useState([]),[_,v]=ae.useState([]),[x,S]=ae.useState([]),[O,K]=ae.useState([]),[W,ee]=ae.useState([]),[te,_e]=ae.useState("login"),[pe,fe]=ae.useState(null),[Pe,Le]=ae.useState(!1),[Te,C]=ae.useState(null),[w,N]=ae.useState(!1),[V,M]=ae.useState(!1),[j,A]=ae.useState(!1),[Qe,ue]=ae.useState(""),[F,ne]=ae.useState(!1),[re,Ae]=ae.useState(""),[le,I]=ae.useState(null),[Q,se]=ae.useState([]),[ie,Ee]=ae.useState(()=>{const B=localStorage.getItem("chorePiggy_deviceConfig");return B?JSON.parse(B):null});ae.useEffect(()=>i2(xl,ce=>{if(e(ce),ce){const we=JSON.parse(localStorage.getItem("chorePiggy_knownFamilies")||"[]"),je=[...new Set([ce.uid,...we])];se(je),I(je[0])}r(!1)}),[]),ae.useEffect(()=>{if(!i&&s&&d.length>0&&te==="login"&&!pe){if(ie?.mode==="KID_SOLO"&&ie?.targetId){const ce=d.find(we=>we.id===ie.targetId);if(ce){fe(ce),_e("kid");return}}const B=localStorage.getItem("chorePiggy_activeUser");if(B&&ie?.mode==="FAMILY"){const ce=d.find(we=>we.id===B);ce&&(fe(ce),_e("kid"))}}},[i,s,d,te,pe,ie]),ae.useEffect(()=>{if(!s||!le)return;const B=Xe=>Kv(hl,"families",le,Xe),ce={users:B("users"),kids:B("kids"),chores:B("chores"),task_log:B("task_log"),bonuses:B("bonuses")},we=Object.entries(ce).map(([Xe,_t])=>Wv(_t,Xt=>{const Lt=Xt.docs.map(pn=>({id:pn.id,...pn.data()}));Xe==="users"&&c(Lt),Xe==="kids"&&p(Lt),Xe==="chores"&&v(Lt),Xe==="task_log"&&S(Lt),Xe==="bonuses"&&K(Lt)},Xt=>console.log(`Error fetching ${Xe}:`,Xt))),je=AI(B("history"),NI("date","desc"),CI(100)),Tt=Wv(je,Xe=>{ee(Xe.docs.map(_t=>({id:_t.id,..._t.data()})))});return()=>{we.forEach(Xe=>Xe()),Tt()}},[s,le]);const he={users:o,kids:d,chores:_,taskLog:x,bonuses:O,history:W},de=(B,ce)=>Fo(hl,"families",le,B,ce||e1()),mt=B=>Kv(hl,"families",le,B),nt=B=>{C(B),B.pin?(N(!1),Le(!0)):(N(!0),Le(!0))},Ln=B=>{if(w){const ce=Te.role==="kid"?"kids":"users";Di(de(ce,Te.id),{pin:B}),N(!1)}fe(Te),_e(Te.role==="parent"?"parent":"kid"),Le(!1),C(null),Te.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",Te.id)},An=()=>{fe(null),_e("login"),localStorage.removeItem("chorePiggy_activeUser")},Jn=()=>{s2(xl),fe(null),_e("login"),localStorage.removeItem("chorePiggy_activeUser"),localStorage.removeItem("chorePiggy_deviceConfig"),Ee(null)},Ei=()=>{Le(!1),A(!0)},bn=async()=>{if(Qe)try{const B=EmailAuthProvider.credential(s.email,Qe);await signInWithCredential(xl,B),await Di(de("users",Te.id),{pin:"1234"}),alert("Success! Your PIN has been reset to: 1234"),ue(""),A(!1)}catch{alert("Incorrect password.")}},Vi=async B=>{try{const ce={id:"parent1",name:B.parentName,role:"parent",pin:B.parentPin};await pi(Fo(hl,"families",s.uid,"users",ce.id),ce);for(const we of B.kids)await pi(Fo(hl,"families",s.uid,"kids",e1()),{name:we.name,pin:we.pin,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Ko[Math.floor(Math.random()*Ko.length)],allowanceAmount:10});M(!1)}catch(ce){alert(`Error creating database: ${ce.message}. Check Firestore Rules!`)}},Wt=async()=>{if(!re)return;const B=[...new Set([...Q,re])];se(B),localStorage.setItem("chorePiggy_knownFamilies",JSON.stringify(B));try{await pi(Fo(hl,"families",re,"users",s.uid),{name:"Guardian",role:"parent",pin:"1234"}),I(re),ne(!1),alert("Family Joined! Default PIN is 1234. Ask admin to rename you.")}catch{alert("Could not join. Check the ID or ask the owner to invite you.")}},Zn=B=>{Ee(B),localStorage.setItem("chorePiggy_deviceConfig",JSON.stringify(B))},Ti=()=>{const B=o.find(ce=>ce.role==="parent");B&&(C({...B,isGateUnlock:!0}),Le(!0))},Et=()=>{confirm("Parent Access Granted. Reset device mode to Family?")&&(Zn({mode:"FAMILY",targetId:null}),An()),Le(!1),C(null)},gt=B=>{Te.isGateUnlock?o.find(we=>we.role==="parent"&&we.pin===B)?Et():alert("Incorrect Parent PIN"):Ln(B)},Nn=async(B,ce,we,je,Tt)=>{await DI(mt("history"),{kidId:B,amount:ce,type:we,description:je,date:new Date().toISOString(),by:Tt||"Unknown"})},bi=async(B,ce,we,je,Tt)=>{const Xe=d.find(_t=>_t.id===B);Xe&&(await Di(de("kids",B),{balance:Xe.balance+ce}),await Nn(B,ce,we,je,Tt))},cs=async(B,ce)=>{await pi(de("users"),{name:B,pin:ce,role:"parent"})},Pt=async B=>{await Jc(de("users",B))},Wn=async(B,ce)=>{await Di(de("users",B),{pin:ce})},ji=async(B,ce)=>{await Di(de("users",B),{name:ce})},Pi=async(B,ce,we)=>{const je=x.find(Tt=>Tt.type==="chore"&&Tt.taskId===B.id&&Tt.kidId===ce&&Tt.dateString===we);je?await Di(de("task_log",je.id),{status:"pending",timestamp:new Date().toISOString()}):await pi(de("task_log"),{type:"chore",taskId:B.id,title:B.title,kidId:ce,dateString:we,status:"pending",timestamp:new Date().toISOString()})},Un=async(B,ce,we,je,Tt)=>{const Xe=x.find(Lt=>Lt.type==="chore"&&Lt.taskId===B.id&&Lt.kidId===ce&&Lt.dateString===we);let _t=Xe?de("task_log",Xe.id):de("task_log");const Xt={type:"chore",taskId:B.id,title:B.title,kidId:ce,dateString:we,timestamp:new Date().toISOString()};if(je==="approve"){const Lt=Cn(ce),ti=(B.weight||1)*Lt.valuePerPoint;await pi(_t,{...Xt,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!Xe||Xe.status!=="approved")&&await bi(ce,ti,"chore",`${B.title} (${Dl(we)})`,Tt)}else je==="fail"?await pi(_t,{...Xt,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):je==="retry"&&await pi(_t,{...Xt,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},qs=async(B,ce)=>{await pi(de("task_log"),{type:"bonus",taskId:B.id,title:B.title,reward:B.reward,kidId:ce,status:"pending",timestamp:new Date().toISOString(),isGroupTask:B.maxKids>1}),(!B.maxKids||B.maxKids<=1)&&await Jc(de("bonuses",B.id))},hs=async(B,ce)=>{const we=de("bonuses",B),Tt=O.find(Xe=>Xe.id===B).workers||[];Tt.includes(ce)||await Di(we,{workers:[...Tt,ce]})},Hs=async(B,ce,we=1)=>{pi(de("bonuses"),{title:B,reward:ce,status:"available",maxKids:we,workers:[]})},Li=async(B,ce,we)=>{await Di(de("task_log",B.id),{status:"approved",approvedAt:new Date().toISOString()});const je=ce,Tt=B.dateString?`(${Dl(B.dateString)})`:"(Bonus)";await bi(B.kidId,je,B.type,`${B.title} ${Tt}`,we)},gn=async(B,ce)=>{const we=ce==="retry"?"changes_requested":"failed";await Di(de("task_log",B.id),{status:we,rejectedAt:new Date().toISOString()})},Rt=async(B,ce,we)=>{await pi(de("kids"),{name:B,pin:ce,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Ko[Math.floor(Math.random()*Ko.length)],allowanceAmount:Number(we)})},rn=async(B,ce)=>Di(de("kids",B),ce),yt=async B=>{pi(de("chores"),{...B,createdAt:xa()})},fs=async(B,ce)=>Di(de("chores",B),ce),ei=async B=>Jc(de("chores",B)),ds=async B=>Jc(de("bonuses",B)),an=B=>{if(!B.pausedUntil)return!0;const ce=xa();return B.pausedUntil<=ce},Cn=(B,ce=0)=>{const we=d.find(Nt=>Nt.id===B);if(!we)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const je=we.allowanceAmount||0,Tt=_.filter(Nt=>Nt.kidId===B&&an(Nt));let Xe=0;Tt.forEach(Nt=>{const ni=Nt.weight||1;Xe+=ni*Nt.days.length});const _t=Xe>0?je/Xe:0,Xt=Ug(ce),Lt=x.filter(Nt=>Nt.kidId===B&&Nt.type==="chore"&&Xt.includes(Nt.dateString));let pn=0,ti=0;return Lt.forEach(Nt=>{const D=(_.find(be=>be.id===Nt.taskId)?.weight||1)*_t;Nt.status==="approved"&&(pn+=D),Nt.status==="pending"&&(ti+=D)}),{potential:je,earned:pn,pending:ti,totalWeight:Xe,valuePerPoint:_t}};return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?m.jsxs(m.Fragment,{children:[Pe&&m.jsx(VI,{targetPin:Te?.pin,onSuccess:gt,onCancel:()=>{Le(!1),C(null),N(!1)},title:w?"Create PIN":Te.isGateUnlock?"Enter Parent PIN":`Enter ${Te?.name}'s PIN`,onForgot:Ei,mode:w?"setup":"verify"}),V&&m.jsx(jI,{onComplete:Vi}),s&&!ie&&o.length>0&&m.jsx(PI,{kids:d,onComplete:Zn}),j&&m.jsx(Xn,{isOpen:!0,onClose:()=>A(!1),title:"Reset PIN",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"To reset this PIN, please enter your Family Account Password:"}),m.jsx("input",{type:"password",className:"w-full border p-2 rounded",value:Qe,onChange:B=>ue(B.target.value),placeholder:"Password"}),m.jsx(rt,{onClick:bn,className:"w-full",children:"Verify & Reset PIN to 1234"})]})}),F&&m.jsx(Xn,{isOpen:!0,onClose:()=>ne(!1),title:"Join Existing Family",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Enter the Family ID from the other parent."}),m.jsx("input",{className:"w-full border p-2 rounded text-center font-mono",value:re,onChange:B=>Ae(B.target.value),placeholder:"Paste ID here"}),m.jsx(rt,{className:"w-full",onClick:Wt,children:"Join Family"})]})}),m.jsx(InstallPrompt,{}),te==="login"&&m.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 flex gap-3",children:[Q.length>1&&m.jsx("select",{className:"text-xs font-bold bg-white border rounded p-1 text-gray-500",value:le,onChange:B=>I(B.target.value),children:Q.map(B=>m.jsx("option",{value:B,children:B===s.uid?"My Family":"Shared Family"},B))}),ie?.mode!=="KIDS_SHARED"&&ie?.mode!=="KID_SOLO"&&m.jsxs("button",{onClick:()=>{o.length>0&&Ti()},className:"flex items-center gap-2 text-gray-400 hover:text-blue-500 text-xs font-bold",children:[m.jsx(s1,{size:14})," Device"]}),m.jsxs("button",{onClick:Jn,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-xs font-bold",children:[m.jsx(Fm,{size:14})," Sign Out"]})]}),m.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[m.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[m.jsx(i1,{size:40})," ChorePiggy"]}),m.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"})]}),m.jsx("div",{className:"max-w-md w-full grid gap-4",children:o.length===0&&d.length===0?m.jsxs("div",{className:"text-center py-10",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:"Welcome! No family data found."}),m.jsx(rt,{onClick:()=>M(!0),className:"w-full py-3",children:"Initialize Family"}),m.jsx("button",{onClick:()=>ne(!0),className:"mt-4 text-sm text-blue-500 hover:underline",children:"Or Join Existing Family"})]}):m.jsxs(m.Fragment,{children:[(ie?.mode==="FAMILY"||ie?.mode==="PARENT_SOLO")&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(B=>m.jsxs("button",{onClick:()=>nt(B),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:m.jsx(r1,{size:24})}),m.jsx("span",{className:"font-bold text-lg text-gray-700",children:B.name})]}),m.jsx(eu,{className:"text-gray-300 group-hover:text-blue-500"})]},B.id))]}),(ie?.mode==="FAMILY"||ie?.mode==="KIDS_SHARED"||ie?.mode==="KID_SOLO")&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(B=>m.jsxs("button",{onClick:()=>nt(B),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:B.avatar}),m.jsxs("div",{className:"text-left",children:[m.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:B.name}),m.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),m.jsx(eu,{className:"text-gray-300 group-hover:text-purple-500"})]},B.id))]})]})})]}),te==="parent"&&m.jsx(zI,{data:he,user:pe,logout:An,addKid:Rt,addChore:yt,updateChore:fs,deleteChore:ei,addBonus:Hs,deleteBonus:ds,updateBalance:bi,updateKid:rn,approveTask:Li,rejectTask:gn,parentOverrideTask:Un,calculateWeeklyStats:Cn,updateParentPin:Wn,addParent:cs,deleteParent:Pt,updateParentName:ji,deviceConfig:ie,updateDeviceConfig:Zn,currentFamilyId:le}),te==="kid"&&m.jsx(BI,{user:d.find(B=>B.id===pe.id)||pe,data:he,logout:An,submitChore:Pi,submitBonus:qs,joinBonus:hs,updateKid:rn,calculateWeeklyStats:Cn,isChoreActive:an,deviceConfig:ie,handleParentGate:Ti})]}):m.jsx(LI,{})}function zI({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:x,approveTask:S,rejectTask:O,parentOverrideTask:K,calculateWeeklyStats:W,updateParentPin:ee,addParent:te,deleteParent:_e,updateParentName:pe,deviceConfig:fe,updateDeviceConfig:Pe,currentFamilyId:Le}){const[Te,C]=ae.useState("approvals"),[w,N]=ae.useState(!1),[V,M]=ae.useState(""),[j,A]=ae.useState(""),[Qe,ue]=ae.useState("10"),[F,ne]=ae.useState(null),[re,Ae]=ae.useState(null),[le,I]=ae.useState(null),[Q,se]=ae.useState(null),[ie,Ee]=ae.useState(!1),[he,de]=ae.useState(null),[mt,nt]=ae.useState(null),[Ln,An]=ae.useState(0),[Jn,Ei]=ae.useState(""),[bn,Vi]=ae.useState(""),[Wt,Zn]=ae.useState("add"),[Ti,Et]=ae.useState(0),[gt,Nn]=ae.useState([]),[bi,cs]=ae.useState(""),[Pt,Wn]=ae.useState("1"),[ji,Pi]=ae.useState(""),[Un,qs]=ae.useState(""),[hs,Hs]=ae.useState([0,1,2,3,4]),[Li,gn]=ae.useState(""),[Rt,rn]=ae.useState("2"),[yt,fs]=ae.useState("1"),[ei,ds]=ae.useState(""),[an,Cn]=ae.useState(""),[B,ce]=ae.useState("");ae.useEffect(()=>{s.kids.length>0&&!gt.length&&Nn([])},[s.kids]);const we=s.taskLog.filter(D=>D.status==="pending");we.sort((D,be)=>new Date(be.timestamp)-new Date(D.timestamp));const je=we.length,Tt=()=>{if(!Jn||!F)return;const D=Number(Jn),be=Wt==="add"?D:-D,Ue=Wt==="add"?"manual_add":"manual_subtract",$e=Wt==="add"?"Manual Deposit":"Cash Out / Purchase";v(F.id,be,Ue,bn||$e,e.name),ne(null),Ei(""),Vi("")},Xe=async()=>{if(confirm(`Approve all ${je} tasks?`))for(const D of we)if(D.type==="chore"){const be=W(D.kidId),Ze=(s.chores.find(Ut=>Ut.id===D.taskId)?.weight||1)*be.valuePerPoint;await S(D,Ze,e.name)}else await S(D,0,e.name)},_t=D=>{D.isGroupTask?(An(Math.floor(D.reward/2)),nt(D)):S(D,D.reward,e.name)},Xt=D=>{D.preventDefault(),V&&j&&(r(V,j,Qe),N(!1),M(""),A(""))},Lt=D=>{D.preventDefault(),bi&&gt.length>0&&(gt.forEach(be=>{o({kidId:be,title:bi,days:hs,weight:Number(Pt),startTime:ji,doByTime:Un})}),cs(""),Wn("1"),Pi(""),qs(""),Nn([]))},pn=()=>{he&&(c(he.id,{title:he.title,days:he.days,weight:Number(he.weight),startTime:he.startTime,doByTime:he.doByTime,pausedUntil:he.pausedUntil||null}),de(null))},ti=()=>{an&&B.length===4&&(te(an,B),Cn(""),ce(""))},Nt=D=>Hs(be=>be.includes(D)?be.filter(Ue=>Ue!==D):[...be,D].sort()),ni=D=>{Nn(be=>be.includes(D)?be.filter(Ue=>Ue!==D):[...be,D])},ii=()=>{navigator.clipboard.writeText(Le),alert("Family ID copied to clipboard!")};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[m.jsx(r1,{})," ",e.name,"'s Dashboard"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Ee(!0),className:"text-gray-500 hover:text-blue-600",children:m.jsx(s1,{size:20})}),m.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:m.jsx(Fm,{size:20})})]})]})}),m.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[m.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(D=>m.jsxs("button",{onClick:()=>C(D),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${Te===D?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[D,D==="approvals"&&je>0&&m.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:je})]},D))}),m.jsx(Xn,{isOpen:ie,onClose:()=>Ee(!1),title:"Family Settings",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[m.jsx("h4",{className:"font-bold text-indigo-800 text-sm uppercase",children:"This Device Mode"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>Pe({mode:"FAMILY",targetId:null}),className:`p-2 text-xs rounded border ${fe?.mode==="FAMILY"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Family (Default)"}),m.jsx("button",{onClick:()=>Pe({mode:"KIDS_SHARED",targetId:null}),className:`p-2 text-xs rounded border ${fe?.mode==="KIDS_SHARED"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Kids Only"}),s.kids.map(D=>m.jsxs("button",{onClick:()=>Pe({mode:"KID_SOLO",targetId:D.id}),className:`p-2 text-xs rounded border ${fe?.mode==="KID_SOLO"&&fe?.targetId===D.id?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:[D.name," Only"]},D.id))]}),m.jsxs("p",{className:"text-[10px] text-indigo-400",children:["Current: ",fe?.mode," ",fe?.targetId?`(${s.kids.find(D=>D.id===fe.targetId)?.name})`:""]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:ei,onChange:D=>ds(D.target.value)}),m.jsx(rt,{size:"sm",onClick:()=>{ei.length===4&&ee(e.id,ei),ds(""),alert("PIN updated")},children:"Update"})]})]}),m.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[m.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),m.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 p-2 rounded text-xs text-gray-600 flex justify-between items-center",children:[m.jsxs("span",{children:["Invite Code (Family ID): ",m.jsx("strong",{children:Le})]}),m.jsx("button",{onClick:ii,children:m.jsx(Ux,{size:14})})]}),m.jsx("div",{className:"space-y-2",children:s.users.filter(D=>D.role==="parent").map(D=>m.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-bold text-gray-700",children:[D.name," ",D.id===e.id&&"(You)"]}),m.jsx("button",{onClick:()=>{const be=prompt("Enter new name:",D.name);be&&pe(D.id,be)},className:"text-gray-400 hover:text-blue-500",children:m.jsx(Zc,{size:14})})]}),D.id!==e.id&&m.jsx("button",{onClick:()=>_e(D.id),className:"text-red-400 hover:text-red-600",children:m.jsx(im,{size:16})})]},D.id))}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:an,onChange:D=>Cn(D.target.value)}),m.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:B,onChange:D=>ce(D.target.value)})]}),m.jsxs(rt,{onClick:ti,className:"w-full",variant:"outline",children:[m.jsx(cS,{size:16})," Add Guardian"]})]})]})}),m.jsx(Xn,{isOpen:!!mt,onClose:()=>nt(null),title:"Split Group Reward",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[m.jsx("h4",{className:"font-bold text-gray-800",children:mt?.title}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",nn(mt?.reward)]})]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",m.jsx("strong",{children:s.kids.find(D=>D.id===mt?.kidId)?.name})," get?"]}),m.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[m.jsx("button",{onClick:()=>An(D=>Math.max(0,D-1)),className:"p-3 bg-gray-100 rounded-full",children:m.jsx(Qx,{size:20})}),m.jsx("span",{className:"text-4xl font-bold text-green-600",children:nn(Ln)}),m.jsx("button",{onClick:()=>An(D=>D+1),className:"p-3 bg-gray-100 rounded-full",children:m.jsx(Wc,{size:20})})]}),m.jsxs(rt,{className:"w-full bg-green-600",onClick:()=>{S(mt,Ln,e.name),nt(null)},children:["Approve ",nn(Ln)]})]})}),Te==="history"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&m.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),m.jsx("div",{className:"space-y-2",children:s.history.map(D=>{const be=s.kids.find(Ue=>Ue.id===D.kidId);return m.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[be&&m.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:be.name}),m.jsx("span",{children:D.description})]}),m.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[m.jsx("span",{children:new Date(D.date).toLocaleString()}),m.jsx("span",{children:""}),m.jsxs("span",{className:"font-medium text-blue-500",children:["by ",D.by||"System"]})]})]}),D.amount!==0&&m.jsxs("span",{className:`font-bold ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]})]},D.id)})})]}),m.jsx(Xn,{isOpen:!!re,onClose:()=>Ae(null),title:"Edit Profile",children:re&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:re.name,onChange:D=>Ae({...re,name:D.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),m.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:re.pin,onChange:D=>Ae({...re,pin:D.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),m.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:re.allowanceAmount,onChange:D=>Ae({...re,allowanceAmount:D.target.value})})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsx(rt,{variant:"ghost",onClick:()=>Ae(null),className:"flex-1",children:"Cancel"}),m.jsx(rt,{onClick:()=>{x(re.id,{name:re.name,pin:re.pin,allowanceAmount:Number(re.allowanceAmount)}),Ae(null)},className:"flex-1",children:"Save Changes"})]})]})}),m.jsx(Xn,{isOpen:!!he,onClose:()=>de(null),title:"Edit Chore",children:he&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:he.title,onChange:D=>de({...he,title:D.target.value})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:he.startTime||"",onChange:D=>de({...he,startTime:D.target.value})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:he.doByTime||"",onChange:D=>de({...he,doByTime:D.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),m.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[m.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:he.weight||1,onChange:D=>de({...he,weight:D.target.value})}),m.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[he.weight||1,"x"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),m.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((D,be)=>m.jsx("button",{onClick:()=>{const Ue=he.days.includes(be)?he.days.filter($e=>$e!==be):[...he.days,be].sort();de({...he,days:Ue})},className:`w-8 h-8 rounded-full text-xs font-bold ${he.days.includes(be)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:D},be))})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),m.jsxs("div",{className:"flex gap-2 mt-1",children:[m.jsxs("button",{onClick:()=>de({...he,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${he.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[m.jsx(kx,{size:16,className:"inline mr-1"})," Active"]}),m.jsxs("button",{onClick:()=>de({...he,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${he.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[m.jsx(__,{size:16,className:"inline mr-1"})," Paused"]})]}),he.pausedUntil&&m.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",m.jsx("input",{type:"date",value:he.pausedUntil==="2099-12-31"?"":he.pausedUntil,onChange:D=>de({...he,pausedUntil:D.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsx(rt,{variant:"ghost",onClick:()=>de(null),className:"flex-1",children:"Cancel"}),m.jsx(rt,{onClick:pn,className:"flex-1",children:"Save Changes"})]})]})}),m.jsx(Xn,{isOpen:!!Q,onClose:()=>se(null),title:"Review Task",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",m.jsx("strong",{children:Q?.title}),"?"]}),m.jsxs("button",{onClick:()=>{O(Q,"retry"),se(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:m.jsx(pm,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),m.jsxs("button",{onClick:()=>{O(Q,"fail"),se(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:m.jsx(Xx,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),m.jsx(Xn,{isOpen:!!F,onClose:()=>ne(null),title:`Bank Manager: ${F?.name}`,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[m.jsxs("button",{onClick:()=>Zn("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Wt==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[m.jsx(Wc,{size:16})," Deposit"]}),m.jsxs("button",{onClick:()=>Zn("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Wt==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[m.jsx(E_,{size:16})," Cash Out"]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),m.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:Jn,onChange:D=>Ei(D.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),m.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:Wt==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:bn,onChange:D=>Vi(D.target.value)})]}),m.jsxs(rt,{onClick:Tt,className:`w-full ${Wt==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",Wt==="add"?"Deposit":"Withdrawal"]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[m.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),m.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(D=>D.kidId===F?.id).slice(0,5).map(D=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:D.description}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:`font-bold block ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]}),m.jsx("span",{className:"text-[10px] text-gray-400",children:D.by})]})]},D.id))})]})]})}),m.jsx(Xn,{isOpen:!!le,onClose:()=>I(null),title:`Tasks: ${le?.name}`,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[m.jsx("button",{onClick:()=>Et(D=>D-1),className:"p-2 hover:bg-gray-200 rounded",children:m.jsx(n1,{size:16})}),m.jsx("span",{className:"font-bold text-sm text-gray-700",children:Ti===0?"This Week":"Last Week"}),m.jsx("button",{onClick:()=>Et(D=>D+1),className:"p-2 hover:bg-gray-200 rounded",children:m.jsx(eu,{size:16})})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Ug(Ti).map(D=>{const be=s.chores.filter(Ue=>Ue.kidId===le?.id&&Ue.days.includes(new Date(D).getDay()));return be.length===0?null:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[DT(D)," (",Dl(D),")"]}),be.map(Ue=>{const $e=s.taskLog.find(xn=>xn.type==="chore"&&xn.taskId===Ue.id&&xn.kidId===le.id&&xn.dateString===D),Ze=$e?$e.status:"todo";let Ut="bg-gray-100 border-gray-200";return Ze==="approved"&&(Ut="bg-green-50 border-green-200"),Ze==="pending"&&(Ut="bg-amber-50 border-amber-200"),Ze==="failed"&&(Ut="bg-red-50 border-red-200"),Ze==="changes_requested"&&(Ut="bg-yellow-50 border-yellow-200"),m.jsxs("div",{className:`p-3 rounded-lg border ${Ut} flex justify-between items-center`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[Ue.title," ",m.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[Ue.weight||1,"x"]})]}),m.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:Ze.replace("_"," ")})]}),m.jsxs("div",{className:"flex gap-1",children:[Ze!=="approved"&&m.jsx("button",{onClick:()=>K(Ue,le.id,D,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:m.jsx(Cx,{size:16})}),Ze!=="failed"&&m.jsx("button",{onClick:()=>K(Ue,le.id,D,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:m.jsx(Oh,{size:16})}),Ze!=="changes_requested"&&Ze!=="approved"&&m.jsx("button",{onClick:()=>K(Ue,le.id,D,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:m.jsx(pm,{size:16})})]})]},`${Ue.id}-${D}`)})]},D)}),s.chores.filter(D=>D.kidId===le?.id).length===0&&m.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),Te==="approvals"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),je>0&&m.jsxs(rt,{size:"sm",variant:"success",onClick:Xe,children:["Approve All (",je,")"]})]}),je===0&&m.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),m.jsx("div",{className:"space-y-3",children:we.map(D=>{const be=s.kids.find(xn=>xn.id===D.kidId),$e=s.chores.find(xn=>xn.id===D.taskId)?.weight||1,Ze=W(D.kidId),Ut=D.type==="bonus"?D.reward:$e*Ze.valuePerPoint;return m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[be?.avatar,m.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:m.jsx(Qo,{size:12,className:"text-amber-500"})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[D.title,D.type==="chore"&&$e>1&&m.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[$e,"x"]}),D.isGroupTask&&m.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),m.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[m.jsx("span",{children:be?.name}),m.jsx("span",{children:""}),m.jsx("span",{className:`font-bold ${D.dateString===xa()?"text-green-600":"text-amber-600"}`,children:D.dateString?Dl(D.dateString):"Bonus Task"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[m.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:nn(Ut)}),m.jsx("button",{onClick:()=>se(D),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:m.jsx(rS,{size:20})}),m.jsx("button",{onClick:()=>_t(D),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:m.jsx(lS,{size:20})})]})]},D.id)})})]}),Te==="kids"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),m.jsxs(rt,{onClick:()=>N(!0),size:"sm",children:[m.jsx(Wc,{size:16})," Add Kid"]})]}),w&&m.jsx(yl,{className:"p-4 animate-in slide-in-from-top-4",children:m.jsxs("form",{onSubmit:Xt,className:"space-y-4",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:V,onChange:D=>M(D.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),m.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:j,onChange:D=>A(D.target.value),required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),m.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:Qe,onChange:D=>ue(D.target.value)})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(rt,{type:"button",variant:"ghost",onClick:()=>N(!1),children:"Cancel"}),m.jsx(rt,{type:"submit",children:"Save"})]})]})}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(D=>{const be=W(D.id);return m.jsxs(yl,{className:"p-4 flex flex-col gap-4",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:D.avatar}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-lg",children:D.name}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",nn(D.allowanceAmount||0)]}),m.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",nn(be.valuePerPoint)," / point"]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-3xl font-bold text-green-600",children:nn(D.balance)}),m.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[m.jsxs(rt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>Ae(D),children:[m.jsx(Zc,{size:12})," Edit Profile"]}),m.jsxs(rt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>ne(D),children:[m.jsx(E_,{size:14})," Manage Funds"]})]}),m.jsxs(rt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>I(D),children:[m.jsx(jx,{size:14})," View Tasks"]})]},D.id)})})]}),Te==="chores"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs(yl,{className:"p-6",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),m.jsxs("form",{onSubmit:Lt,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(D=>m.jsx("button",{type:"button",onClick:()=>ni(D.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${gt.includes(D.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:D.name},D.id))}),gt.length===0&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),m.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:bi,onChange:D=>cs(D.target.value),required:!0})]}),m.jsxs("div",{className:"w-full sm:w-24",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),m.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[m.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:Pt,onChange:D=>Wn(D.target.value)}),m.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:ji,onChange:D=>Pi(D.target.value)})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Un,onChange:D=>qs(D.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),m.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((D,be)=>m.jsx("button",{type:"button",onClick:()=>Nt(be),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${hs.includes(be)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:D},be))})]}),m.jsx(rt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(D=>{const be=s.kids.find($e=>$e.id===D.kidId),Ue=D.pausedUntil&&D.pausedUntil>xa();return m.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${Ue?"opacity-60 grayscale":""}`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-gray-800",children:D.title}),D.weight>1&&m.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[D.weight,"x"]}),Ue&&m.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[m.jsx(__,{size:10})," Paused"]})]}),m.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[m.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:be?.name||"Unknown"}),m.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:D.days.length===7?"Everyday":`${D.days.length} days/wk`})]}),(D.startTime||D.doByTime)&&m.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[m.jsx(Qo,{size:10}),D.startTime?Dh(D.startTime):"Start"," ",D.startTime&&D.doByTime&&" - ",D.doByTime?`Due ${Dh(D.doByTime)}`:""]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>de(D),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:m.jsx(Zc,{size:18})}),m.jsx("button",{onClick:()=>d(D.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:m.jsx(im,{size:18})})]})]},D.id)})]})]}),Te==="bonuses"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs(yl,{className:"p-6 bg-yellow-50 border-yellow-100",children:[m.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[m.jsx(ym,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Li,onChange:D=>gn(D.target.value)})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[m.jsx(tu,{size:16,className:"text-yellow-500 mr-2"}),m.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:yt||1,onChange:D=>fs(D.target.value)})]}),m.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[m.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),m.jsx("input",{className:"w-full outline-none",type:"number",value:Rt,onChange:D=>rn(D.target.value)})]}),m.jsx(rt,{onClick:()=>{Li&&(p(Li,Number(Rt),Number(yt||1)),gn(""),fs(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(D=>m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:m.jsx(ym,{size:16,className:"fill-yellow-500"})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-gray-700",children:D.title}),D.maxKids>1&&m.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[m.jsx(tu,{size:10})," Group Task (",D.workers?.length||0,"/",D.maxKids,")"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:nn(D.reward)}),m.jsx("button",{onClick:()=>_(D.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:m.jsx(im,{size:18})})]})]},D.id))]})]})]})]})}function BI({user:s,data:e,logout:i,submitChore:r,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_,deviceConfig:v,handleParentGate:x}){const[S,O]=ae.useState("todo"),[K,W]=ae.useState(!1),[ee,te]=ae.useState(s.goalName||""),[_e,pe]=ae.useState(s.savingsGoal||0),[fe,Pe]=ae.useState(!1),[Le,Te]=ae.useState(!1),[C,w]=ae.useState(0),N=Ug(C),V=p(s.id,C),M=Math.min(V.earned/V.potential*100,100)||0,j=Math.min(V.pending/V.potential*100,100)||0,A=(ue,F)=>{const ne=e.taskLog.find(re=>re.type==="chore"&&re.taskId===ue&&re.kidId===s.id&&re.dateString===F);return ne?ne.status:"todo"},Qe=C===0;return m.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[m.jsx(Xn,{isOpen:fe,onClose:()=>Pe(!1),title:"Choose Your Avatar",children:m.jsx("div",{className:"grid grid-cols-4 gap-4",children:Ko.map(ue=>m.jsx("button",{onClick:()=>{d(s.id,{avatar:ue}),Pe(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:ue},ue))})}),m.jsx(Xn,{isOpen:Le,onClose:()=>Te(!1),title:"Your Money History",children:m.jsxs("div",{className:"space-y-3",children:[e.history.filter(ue=>ue.kidId===s.id).map(ue=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-gray-700 text-sm",children:ue.description}),m.jsx("div",{className:"text-xs text-gray-400",children:new Date(ue.date).toLocaleDateString()})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:`font-bold ${ue.amount>0?"text-green-600":"text-red-500"}`,children:[ue.amount>0?"+":"",nn(ue.amount)]}),m.jsx("div",{className:"text-[10px] text-gray-400",children:ue.by})]})]},ue.id)),e.history.filter(ue=>ue.kidId===s.id).length===0&&m.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),m.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),m.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>Pe(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,m.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:m.jsx(Zc,{size:10,className:"text-indigo-600"})})]}),m.jsxs("div",{children:[m.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),m.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Dl(N[0])]})]})]}),v?.mode==="KID_SOLO"?m.jsx("button",{onClick:x,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:m.jsx(v_,{size:18})}):m.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:m.jsx(Fm,{size:18})})]}),m.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("button",{onClick:()=>w(ue=>Math.max(ue-1,-1)),className:`p-1 rounded ${C<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:C<=-1,children:m.jsx(n1,{size:16})}),m.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:Qe?"This Week":"Last Week"}),m.jsx("button",{onClick:()=>Qe?null:w(ue=>ue+1),className:`p-1 rounded ${Qe?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:m.jsx(eu,{size:16})})]}),m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[m.jsxs("span",{children:["Earned: ",nn(V.earned)]}),m.jsxs("span",{children:["Weekly Cap: ",nn(V.potential)]})]}),m.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[m.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${M}%`}}),m.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${j}%`}})]}),j>0&&m.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",nn(V.pending)," waiting approval)"]})]}),m.jsx("div",{className:"flex flex-col items-center relative z-10",children:m.jsxs("button",{onClick:()=>Te(!0),className:"flex flex-col items-center group",children:[m.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",m.jsx(Bx,{size:12})]}),m.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:nn(s.balance)})]})})]}),m.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[m.jsxs(yl,{className:"flex p-1",children:[m.jsxs("button",{onClick:()=>O("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${S==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(Ax,{size:20})," Tasks"]}),m.jsxs("button",{onClick:()=>O("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${S==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(nm,{size:20})," Goal"]}),m.jsxs("button",{onClick:()=>O("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${S==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(Sx,{size:20})," Bonus"]})]}),S==="todo"&&m.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:N.map((ue,F)=>{let ne=e.chores.filter(le=>{const I=le.createdAt||"1970-01-01";return le.kidId===s.id&&le.days.includes(new Date(ue).getDay())&&_(le)&&I<=ue});if(ne.length===0)return null;ne.sort((le,I)=>le.startTime&&!I.startTime?-1:!le.startTime&&I.startTime?1:le.startTime&&I.startTime&&le.startTime!==I.startTime?le.startTime.localeCompare(I.startTime):le.doByTime&&I.doByTime&&le.doByTime!==I.doByTime?le.doByTime.localeCompare(I.doByTime):le.title.localeCompare(I.title));const re=ue===xa(),Ae=ue>xa();return m.jsxs("div",{className:`space-y-2 ${Ae?"opacity-50 grayscale":""}`,children:[m.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${re?"text-indigo-600":"text-gray-500"}`,children:[re?"Today":DT(ue)," ",m.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Dl(ue),")"]})]}),ne.map(le=>{const I=A(le.id,ue),Q=I==="approved",se=I==="pending",ie=I==="changes_requested",Ee=I==="failed";return m.jsxs("div",{className:"relative",children:[m.jsx("button",{disabled:Q||se||Ae||Ee,onClick:()=>r(le,s.id,ue),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden ${Q?"bg-green-50 border-green-200":se?"bg-amber-50 border-amber-200":ie?"bg-yellow-50 border-yellow-300 shadow-md":Ee?"bg-red-50 border-red-200":Ae?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:m.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${Q?"bg-green-500 text-white":se?"bg-amber-400 text-white":ie?"bg-yellow-400 text-yellow-900":Ee?"bg-red-400 text-white":Ae?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:Q?m.jsx(y_,{size:14}):se?m.jsx(Qo,{size:14}):ie?m.jsx(pm,{size:14}):Ee?m.jsx(Oh,{size:14}):Ae?m.jsx(v_,{size:12}):m.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[m.jsx("span",{className:`font-bold block text-sm ${Q?"text-gray-500 line-through":"text-gray-800"}`,children:le.title}),le.weight>1&&m.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[le.weight,"x"]})]}),(le.startTime||le.doByTime)&&m.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[m.jsx(Qo,{size:10}),le.startTime?Dh(le.startTime):"Start"," ",le.startTime&&le.doByTime&&" - ",le.doByTime?`Due ${Dh(le.doByTime)}`:""]}),se&&m.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),ie&&m.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),Ee&&m.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),ie&&!Ae&&m.jsx("button",{onClick:()=>r(le,s.id,ue),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${le.id}-${ue}`)})]},ue)})}),S==="savings"&&m.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:m.jsxs(yl,{className:"p-6 text-center space-y-4",children:[m.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),K?m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:ee,onChange:ue=>te(ue.target.value),placeholder:"Goal Name"}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),m.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:_e,onChange:ue=>pe(ue.target.value)})]}),m.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[m.jsx(rt,{size:"sm",variant:"ghost",onClick:()=>W(!1),children:"Cancel"}),m.jsx(rt,{size:"sm",onClick:()=>{d(s.id,{goalName:ee,savingsGoal:Number(_e)}),W(!1)},children:"Save"})]})]}):m.jsx(m.Fragment,{children:s.savingsGoal>0?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(nm,{className:"text-indigo-500"}),m.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),m.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",nn(s.savingsGoal)]}),m.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:m.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),m.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),m.jsx(rt,{variant:"outline",size:"sm",onClick:()=>W(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):m.jsxs("div",{className:"py-8 text-center space-y-4",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:m.jsx(nm,{size:32})}),m.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),m.jsx(rt,{onClick:()=>W(!0),children:"Set a Goal"})]})})]})}),S==="bonus"&&m.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[m.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&m.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:m.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(ue=>ue.kidId===s.id&&ue.type==="bonus"&&ue.status==="pending").map(ue=>m.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:m.jsx(Qo,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block",children:ue.title}),m.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),m.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",nn(ue.reward)]})]},ue.id)),e.bonuses.map(ue=>{const F=ue.workers||[],ne=F.includes(s.id),re=F.length>=(ue.maxKids||1);return e.taskLog.some(le=>le.taskId===ue.id&&le.kidId===s.id)?null:m.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex flex-col gap-3 text-left",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ne?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:ne?m.jsx(y_,{size:20}):m.jsx(ym,{className:"fill-yellow-500 text-yellow-500",size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block",children:ue.title}),m.jsxs("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide flex items-center gap-1",children:[ue.maxKids>1?m.jsx(tu,{size:12}):null,ne?"In Progress":"Bonus Task"]})]})]}),m.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",nn(ue.reward)]})]}),ue.maxKids>1&&m.jsxs("div",{className:"text-xs text-gray-500 px-1 flex gap-2 items-center",children:[m.jsx("div",{className:"flex -space-x-2",children:F.map(le=>{const I=e.kids.find(Q=>Q.id===le);return m.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[10px]",title:I?.name,children:I?.avatar},le)})}),m.jsxs("span",{children:[F.length,"/",ue.maxKids," Kids working"]})]}),ne?m.jsx("button",{onClick:()=>o(ue,s.id),className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-md transition-all active:scale-95",children:"Mark Done"}):m.jsx("button",{disabled:re,onClick:()=>c(ue.id,s.id),className:`w-full py-2 rounded-xl font-bold border-2 transition-all active:scale-95 ${re?"bg-gray-100 text-gray-400 border-transparent":"bg-white border-yellow-400 text-yellow-700 hover:bg-yellow-50"}`,children:re?"Team Full":"Start Working"})]},ue.id)})]})]})]})}yx.createRoot(document.getElementById("root")).render(m.jsx(ae.StrictMode,{children:m.jsx(UI,{})}));
