(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ud={exports:{}},Mo={};var X_;function Hb(){if(X_)return Mo;X_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=e,Mo.jsx=i,Mo.jsxs=i,Mo}var $_;function Gb(){return $_||($_=1,Ud.exports=Hb()),Ud.exports}var T=Gb(),Pd={exports:{}},Ce={};var Z_;function Fb(){if(Z_)return Ce;Z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ee={};function he(O,q,ne){this.props=O,this.context=q,this.refs=ee,this.updater=ne||W}he.prototype.isReactComponent={},he.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},he.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ge(){}ge.prototype=he.prototype;function fe(O,q,ne){this.props=O,this.context=q,this.refs=ee,this.updater=ne||W}var Me=fe.prototype=new ge;Me.constructor=fe,se(Me,he.prototype),Me.isPureReactComponent=!0;var Pe=Array.isArray;function Ie(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,q,ne){var re=ne.ref;return{$$typeof:s,type:O,key:q,ref:re!==void 0?re:null,props:ne}}function k(O,q){return R(O.type,q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function N(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return q[ne]})}var x=/\/+/g;function xe(O,q){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):q.toString(36)}function Le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ie,Ie):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,q,ne,re,_e){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case s:case e:ke=!0;break;case A:return ke=O._init,G(ke(O._payload),q,ne,re,_e)}}if(ke)return _e=_e(O),ke=re===""?"."+xe(O,0):re,Pe(_e)?(ne="",ke!=null&&(ne=ke.replace(x,"$&/")+"/"),G(_e,q,ne,"",function(ye){return ye})):_e!=null&&(D(_e)&&(_e=k(_e,ne+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(x,"$&/")+"/")+ke)),q.push(_e)),1;ke=0;var Ze=re===""?".":re+":";if(Pe(O))for(var J=0;J<O.length;J++)re=O[J],Ae=Ze+xe(re,J),ke+=G(re,q,ne,Ae,_e);else if(J=Q(O),typeof J=="function")for(O=J.call(O),J=0;!(re=O.next()).done;)re=re.value,Ae=Ze+xe(re,J++),ke+=G(re,q,ne,Ae,_e);else if(Ae==="object"){if(typeof O.then=="function")return G(Le(O),q,ne,re,_e);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(O,q,ne){if(O==null)return O;var re=[],_e=0;return G(O,re,"","",function(Ae){return q.call(ne,Ae,_e++)}),re}function oe(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:te,forEach:function(O,q,ne){te(O,function(){q.apply(this,arguments)},ne)},count:function(O){var q=0;return te(O,function(){q++}),q},toArray:function(O){return te(O,function(q){return q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=S,Ce.Children=je,Ce.Component=he,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=fe,Ce.StrictMode=a,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,q,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=se({},O.props),_e=O.key;if(q!=null)for(Ae in q.key!==void 0&&(_e=""+q.key),q)!w.call(q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&q.ref===void 0||(re[Ae]=q[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=ne;else if(1<Ae){for(var ke=Array(Ae),Ze=0;Ze<Ae;Ze++)ke[Ze]=arguments[Ze+2];re.children=ke}return R(O.type,_e,re)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,q,ne){var re,_e={},Ae=null;if(q!=null)for(re in q.key!==void 0&&(Ae=""+q.key),q)w.call(q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(_e[re]=q[re]);var ke=arguments.length-2;if(ke===1)_e.children=ne;else if(1<ke){for(var Ze=Array(ke),J=0;J<ke;J++)Ze[J]=arguments[J+2];_e.children=Ze}if(O&&O.defaultProps)for(re in ke=O.defaultProps,ke)_e[re]===void 0&&(_e[re]=ke[re]);return R(O,Ae,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:p,render:O}},Ce.isValidElement=D,Ce.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:oe}},Ce.memo=function(O,q){return{$$typeof:_,type:O,compare:q===void 0?null:q}},Ce.startTransition=function(O){var q=C.T,ne={};C.T=ne;try{var re=O(),_e=C.S;_e!==null&&_e(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ie,be)}catch(Ae){be(Ae)}finally{q!==null&&ne.types!==null&&(q.types=ne.types),C.T=q}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(O){return C.H.use(O)},Ce.useActionState=function(O,q,ne){return C.H.useActionState(O,q,ne)},Ce.useCallback=function(O,q){return C.H.useCallback(O,q)},Ce.useContext=function(O){return C.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,q){return C.H.useDeferredValue(O,q)},Ce.useEffect=function(O,q){return C.H.useEffect(O,q)},Ce.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(O,q,ne){return C.H.useImperativeHandle(O,q,ne)},Ce.useInsertionEffect=function(O,q){return C.H.useInsertionEffect(O,q)},Ce.useLayoutEffect=function(O,q){return C.H.useLayoutEffect(O,q)},Ce.useMemo=function(O,q){return C.H.useMemo(O,q)},Ce.useOptimistic=function(O,q){return C.H.useOptimistic(O,q)},Ce.useReducer=function(O,q,ne){return C.H.useReducer(O,q,ne)},Ce.useRef=function(O){return C.H.useRef(O)},Ce.useState=function(O){return C.H.useState(O)},Ce.useSyncExternalStore=function(O,q,ne){return C.H.useSyncExternalStore(O,q,ne)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var J_;function Vm(){return J_||(J_=1,Pd.exports=Fb()),Pd.exports}var pe=Vm(),Ld={exports:{}},Vo={},zd={exports:{}},Bd={};var W_;function Qb(){return W_||(W_=1,(function(s){function e(G,te){var oe=G.length;G.push(te);e:for(;0<oe;){var be=oe-1>>>1,je=G[be];if(0<o(je,te))G[be]=te,G[oe]=je,oe=be;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],oe=G.pop();if(oe!==te){G[0]=oe;e:for(var be=0,je=G.length,O=je>>>1;be<O;){var q=2*(be+1)-1,ne=G[q],re=q+1,_e=G[re];if(0>o(ne,oe))re<je&&0>o(_e,ne)?(G[be]=_e,G[re]=oe,be=re):(G[be]=ne,G[q]=oe,be=q);else if(re<je&&0>o(_e,oe))G[be]=_e,G[re]=oe,be=re;else break e}}return te}function o(G,te){var oe=G.sortIndex-te.sortIndex;return oe!==0?oe:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,Q=!1,W=!1,se=!1,ee=!1,he=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Me(G){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=G)a(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function Pe(G){if(se=!1,Me(G),!W)if(i(y)!==null)W=!0,Ie||(Ie=!0,N());else{var te=i(_);te!==null&&Le(Pe,te.startTime-G)}}var Ie=!1,C=-1,w=5,R=-1;function k(){return ee?!0:!(s.unstable_now()-R<w)}function D(){if(ee=!1,Ie){var G=s.unstable_now();R=G;var te=!0;try{e:{W=!1,se&&(se=!1,ge(C),C=-1),Q=!0;var oe=V;try{t:{for(Me(G),S=i(y);S!==null&&!(S.expirationTime>G&&k());){var be=S.callback;if(typeof be=="function"){S.callback=null,V=S.priorityLevel;var je=be(S.expirationTime<=G);if(G=s.unstable_now(),typeof je=="function"){S.callback=je,Me(G),te=!0;break t}S===i(y)&&a(y),Me(G)}else a(y);S=i(y)}if(S!==null)te=!0;else{var O=i(_);O!==null&&Le(Pe,O.startTime-G),te=!1}}break e}finally{S=null,V=oe,Q=!1}te=void 0}}finally{te?N():Ie=!1}}}var N;if(typeof fe=="function")N=function(){fe(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,xe=x.port2;x.port1.onmessage=D,N=function(){xe.postMessage(null)}}else N=function(){he(D,0)};function Le(G,te){C=he(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var oe=V;V=te;try{return G()}finally{V=oe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=V;V=G;try{return te()}finally{V=oe}},s.unstable_scheduleCallback=function(G,te,oe){var be=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,G){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=oe+je,G={id:A++,callback:te,priorityLevel:G,startTime:oe,expirationTime:je,sortIndex:-1},oe>be?(G.sortIndex=oe,e(_,G),i(y)===null&&G===i(_)&&(se?(ge(C),C=-1):se=!0,Le(Pe,oe-be))):(G.sortIndex=je,e(y,G),W||Q||(W=!0,Ie||(Ie=!0,N()))),G},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(G){var te=V;return function(){var oe=V;V=te;try{return G.apply(this,arguments)}finally{V=oe}}}})(Bd)),Bd}var e0;function Kb(){return e0||(e0=1,zd.exports=Qb()),zd.exports}var qd={exports:{}},dn={};var t0;function Yb(){if(t0)return dn;t0=1;var s=Vm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,A)},dn.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},dn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},dn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},dn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},dn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},dn.requestFormReset=function(y){a.d.r(y)},dn.unstable_batchedUpdates=function(y,_){return y(_)},dn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var n0;function Xb(){if(n0)return qd.exports;n0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=Yb(),qd.exports}var i0;function $b(){if(i0)return Vo;i0=1;var s=Kb(),e=Vm(),i=Xb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case he:return"Profiler";case ee:return"StrictMode";case Pe:return"Suspense";case Ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case fe:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var Le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},be=[],je=-1;function O(t){return{current:t}}function q(t){0>je||(t.current=be[je],be[je]=null,je--)}function ne(t,n){je++,be[je]=t.current,t.current=n}var re=O(null),_e=O(null),Ae=O(null),ke=O(null);function Ze(t,n){switch(ne(Ae,n),ne(_e,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?__(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=__(n),t=v_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(re),ne(re,t)}function J(){q(re),q(_e),q(Ae)}function ye(t){t.memoizedState!==null&&ne(ke,t);var n=re.current,r=v_(n,t.type);n!==r&&(ne(_e,t),ne(re,r))}function ze(t){_e.current===t&&(q(re),q(_e)),ke.current===t&&(q(ke),No._currentValue=oe)}var tt,$e;function Je(t){if(tt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);tt=n&&n[1]||"",$e=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+t+$e}var Yt=!1;function Xt(t,n){if(!t||Yt)return"";Yt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){B=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Yt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Je(r):""}function St(t,n){switch(t.tag){case 26:case 27:case 5:return Je(t.type);case 16:return Je("Lazy");case 13:return t.child!==n&&n!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Xt(t.type,!1);case 11:return Xt(t.type.render,!1);case 1:return Xt(t.type,!0);case 31:return Je("Activity");default:return""}}function Hn(t){try{var n="",r=null;do n+=St(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,Ue=s.unstable_scheduleCallback,En=s.unstable_cancelCallback,Cr=s.unstable_shouldYield,Xi=s.unstable_requestPaint,Dt=s.unstable_now,Ti=s.unstable_getCurrentPriorityLevel,$i=s.unstable_ImmediatePriority,ws=s.unstable_UserBlockingPriority,Gn=s.unstable_NormalPriority,ga=s.unstable_LowPriority,Zi=s.unstable_IdlePriority,ai=s.log,pa=s.unstable_setDisableYieldValue,On=null,$t=null;function bn(t){if(typeof ai=="function"&&pa(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(On,t)}catch{}}var wt=Math.clz32?Math.clz32:_a,ya=Math.log,xs=Math.LN2;function _a(t){return t>>>=0,t===0?32:31-(ya(t)/xs|0)|0}var U=256,Se=262144,we=4194304;function vt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tt(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=vt(l):(g&=E,g!==0?h=vt(g):r||(r=E&~t,r!==0&&(h=vt(r))))):(E=l&~f,E!==0?h=vt(E):g!==0?h=vt(g):r||(r=l&~t,r!==0&&(h=vt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Rt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=we;return we<<=1,(we&62914560)===0&&(we=4194304),t}function Ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=g&~r;0<r;){var K=31-wt(r),X=1<<K;E[K]=0,I[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}r&=~X}l!==0&&Ir(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ir(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-wt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-wt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Vl(t,n){var r=n&-n;return r=(r&42)!==0?1:Dr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function li(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var oi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+oi,Wt="__reactProps$"+oi,bi="__reactContainer$"+oi,va="__reactEvents$"+oi,qh="__reactListeners$"+oi,du="__reactHandles$"+oi,mu="__reactResources$"+oi,Ai="__reactMarker$"+oi;function Ta(t){delete t[Pt],delete t[Wt],delete t[va],delete t[qh],delete t[du]}function Si(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bi]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=x_(t);t!==null;){if(r=t[Pt])return r;t=x_(t)}return n}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[Pt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ai]=!0}var kl=new Set,jl={};function xi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(jl[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Ll={};function gu(t){return dt.call(Ll,t)?!0:dt.call(Pl,t)?!1:Ul.test(t)?Ll[t]=!0:(Pl[t]=!0,!1)}function Ea(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Vn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function zt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=Rs(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function Or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Rs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function An(t){return t.replace(Mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bl(t,g,en(n)):r!=null?Bl(t,g,en(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function pu(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}r=r!=null?""+en(r):"",n=n!=null?""+en(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),rt(t)}function Bl(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+en(r):""}function Ns(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Le(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=en(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),rt(t)}function Sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&ql(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ql(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Gl=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Ni=null;function Vr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var r=t[Wt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Wt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Or(l)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var wa=!1;function Os(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ds!==null||Ni!==null)&&(fc(),Ds&&(n=Ds,t=Ni,Ni=Ds=null,Vr(n),t)))for(n=0;n<t.length;n++)Vr(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Wt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Yn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){kr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{kr=!1}var Ii=null,Fl=null,jr=null;function Ql(){if(jr)return jr;var t,n=Fl,r=n.length,l,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return jr=h.slice(t,1<l?1-l:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function hi(){return!1}function sn(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=sn(es),Ms=S({},es,{view:0,detail:0}),Kl=sn(Ms),Vs,xa,Oi,Ra=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Vs=t.screenX-Oi.screenX,xa=t.screenY-Oi.screenY):xa=Vs=0,Oi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Yl=sn(Ra),Pr=S({},Ra,{dataTransfer:0}),Tu=sn(Pr),Eu=S({},Ms,{relatedTarget:0}),Lr=sn(Eu),Xl=S({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=sn(Xl),Ca=S({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=sn(Ca),Su=S({},es,{data:0}),Mi=sn(Su),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function ks(){return Cu}var _n=S({},Ms,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=sn(_n),Iu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=sn(Iu),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=sn(u),v=S({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=sn(v),P=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(P),ie=S({},es,{newState:0,oldState:0}),De=sn(ie),Ot=[9,13,27,32],nt=Yn&&"CompositionEvent"in window,Et=null;Yn&&"documentMode"in document&&(Et=document.documentMode);var Xn=Yn&&"TextEvent"in window&&!Et,Vi=Yn&&(!nt||Et&&8<Et&&11>=Et),fi=" ",di=!1;function zr(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function dE(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function mE(t,n){if(Ia)return t==="compositionend"||!nt&&zr(t,n)?(t=Ql(),jr=Fl=Ii=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!gE[t.type]:n==="textarea"}function Ig(t,n,r,l){Ds?Ni?Ni.push(l):Ni=[l]:Ds=l,n=vc(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var $l=null,Zl=null;function pE(t){f_(t,0)}function Du(t){var n=Mn(t);if(Or(n))return t}function Dg(t,n){if(t==="change")return n}var Og=!1;if(Yn){var Hh;if(Yn){var Gh="oninput"in document;if(!Gh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Gh=typeof Mg.oninput=="function"}Hh=Gh}else Hh=!1;Og=Hh&&(!document.documentMode||9<document.documentMode)}function Vg(){$l&&($l.detachEvent("onpropertychange",kg),Zl=$l=null)}function kg(t){if(t.propertyName==="value"&&Du(Zl)){var n=[];Ig(n,Zl,t,Kn(t)),Os(pE,n)}}function yE(t,n,r){t==="focusin"?(Vg(),$l=n,Zl=r,$l.attachEvent("onpropertychange",kg)):t==="focusout"&&Vg()}function _E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Zl)}function vE(t,n){if(t==="click")return Du(n)}function TE(t,n){if(t==="input"||t==="change")return Du(n)}function EE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:EE;function Jl(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!dt.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,n){var r=jg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jg(r)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Yn&&"documentMode"in document&&11>=document.documentMode,Da=null,Qh=null,Wl=null,Kh=!1;function zg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||Da==null||Da!==Ci(l)||(l=Da,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wl&&Jl(Wl,l)||(Wl=l,l=vc(Qh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Br(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Yh={},Bg={};Yn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function qr(t){if(Yh[t])return Yh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bg)return Yh[t]=n[r];return t}var qg=qr("animationend"),Hg=qr("animationiteration"),Gg=qr("animationstart"),AE=qr("transitionrun"),SE=qr("transitionstart"),wE=qr("transitioncancel"),Fg=qr("transitionend"),Qg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function mi(t,n){Qg.set(t,n),xi(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ma=0,$h=0;function Mu(){for(var t=Ma,n=$h=Ma=0;n<t;){var r=$n[n];$n[n++]=null;var l=$n[n];$n[n++]=null;var h=$n[n];$n[n++]=null;var f=$n[n];if($n[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Kg(r,h,f)}}function Vu(t,n,r,l){$n[Ma++]=t,$n[Ma++]=n,$n[Ma++]=r,$n[Ma++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Vu(t,n,r,l),ku(t)}function Hr(t,n){return Vu(t,null,null,n),ku(t)}function Kg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-wt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<bo)throw bo=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function xE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,n,r,l){return new xE(t,n,r,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=jn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Jh(t)&&(g=1);else if(typeof t=="string")g=Db(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=jn(31,r,n,h),t.elementType=R,t.lanes=f,t;case se:return Gr(r.children,h,f,n);case ee:g=8,h|=24;break;case he:return t=jn(12,r,n,h|2),t.elementType=he,t.lanes=f,t;case Pe:return t=jn(13,r,n,h),t.elementType=Pe,t.lanes=f,t;case Ie:return t=jn(19,r,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:g=10;break e;case ge:g=9;break e;case Me:g=11;break e;case C:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=jn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=jn(7,t,l,n),t.lanes=r,t}function Wh(t,n,r){return t=jn(6,t,null,n),t.lanes=r,t}function Xg(t){var n=jn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,r){return n=jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $g=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var r=$g.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Hn(n)},$g.set(t,n),n)}return{value:t,source:n,stack:Hn(n)}}var ka=[],ja=0,Uu=null,eo=0,Jn=[],Wn=0,js=null,ki=1,ji="";function is(t,n){ka[ja++]=eo,ka[ja++]=Uu,Uu=t,eo=n}function Zg(t,n,r){Jn[Wn++]=ki,Jn[Wn++]=ji,Jn[Wn++]=js,js=t;var l=ki;t=ji;var h=32-wt(l)-1;l&=~(1<<h),r+=1;var f=32-wt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,ki=1<<32-wt(n)+h|r<<h|l,ji=f+t}else ki=1<<f|r<<h|l,ji=t}function tf(t){t.return!==null&&(is(t,1),Zg(t,1,0))}function nf(t){for(;t===Uu;)Uu=ka[--ja],ka[ja]=null,eo=ka[--ja],ka[ja]=null;for(;t===js;)js=Jn[--Wn],Jn[Wn]=null,ji=Jn[--Wn],Jn[Wn]=null,ki=Jn[--Wn],Jn[Wn]=null}function Jg(t,n){Jn[Wn++]=ki,Jn[Wn++]=ji,Jn[Wn++]=js,ki=n.id,ji=n.overflow,js=t}var rn=null,pt=null,Ye=!1,Us=null,ei=!1,sf=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(Zn(n,t)),sf}function Wg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[Wt]=l,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(r=0;r<So.length;r++)qe(So[r],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),Ns(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||p_(n.textContent,r)?(l.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),l.onScroll!=null&&qe("scroll",n),l.onScrollEnd!=null&&qe("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Ps(t,!0)}function ep(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:rn=rn.return}}function Ua(t){if(t!==rn)return!1;if(!Ye)return ep(t),Ye=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&pt&&Ps(t),ep(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=w_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=w_(t)}else n===27?(n=pt,Js(t.type)?(t=Rd,Rd=null,pt=t):pt=n):pt=rn?ni(t.stateNode.nextSibling):null;return!0}function Fr(){pt=rn=null,Ye=!1}function rf(){var t=Us;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Us=null),t}function to(t){Us===null?Us=[t]:Us.push(t)}var af=O(null),Qr=null,ss=null;function Ls(t,n,r){ne(af,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=af.current,q(af)}function lf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function of(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),lf(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),lf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;kn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&of(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Qr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return tp(Qr,t)}function Lu(t,n){return Qr===null&&Kr(t),tp(t,n)}function tp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},CE=s.unstable_scheduleCallback,NE=s.unstable_NormalPriority,Bt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new RE,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&CE(NE,function(){t.controller.abort()})}var io=null,cf=0,La=0,za=null;function IE(t,n){if(io===null){var r=io=[];cf=0,La=dd(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cf++,n.then(np,np),n}function np(){if(--cf===0&&io!==null){za!==null&&(za.status="fulfilled");var t=io;io=null,La=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function DE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ip=G.S;G.S=function(t,n){zy=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(t,n),ip!==null&&ip(t,n)};var Yr=O(null);function hf(){var t=Yr.current;return t!==null?t:mt.pooledCache}function zu(t,n){n===null?ne(Yr,Yr.current):ne(Yr,n.pool)}function sp(){var t=hf();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),ff=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function rp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ap(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,op(t),t}throw $r=n,Ba}}function Xr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($r=r,Ba):r}}var $r=null;function lp(){if($r===null)throw Error(a(459));var t=$r;return $r=null,t}function op(t){if(t===Ba||t===Bu)throw Error(a(483))}var qa=null,so=0;function Hu(t){var n=so;return so+=1,qa===null&&(qa=[]),ap(qa,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){function n(j,M){if(t){var L=j.deletions;L===null?(j.deletions=[M],j.flags|=16):L.push(M)}}function r(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=ns(j,M),j.index=0,j.sibling=null,j}function f(j,M,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<M?(j.flags|=67108866,M):L):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,L,Y){return M===null||M.tag!==6?(M=Wh(L,j.mode,Y),M.return=j,M):(M=h(M,L),M.return=j,M)}function I(j,M,L,Y){var de=L.type;return de===se?K(j,M,L.props.children,Y,L.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Xr(de)===M.type)?(M=h(M,L.props),ro(M,L),M.return=j,M):(M=ju(L.type,L.key,L.props,null,j.mode,Y),ro(M,L),M.return=j,M)}function z(j,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=ef(L,j.mode,Y),M.return=j,M):(M=h(M,L.children||[]),M.return=j,M)}function K(j,M,L,Y,de){return M===null||M.tag!==7?(M=Gr(L,j.mode,Y,de),M.return=j,M):(M=h(M,L),M.return=j,M)}function X(j,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wh(""+M,j.mode,L),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return L=ju(M.type,M.key,M.props,null,j.mode,L),ro(L,M),L.return=j,L;case W:return M=ef(M,j.mode,L),M.return=j,M;case w:return M=Xr(M),X(j,M,L)}if(Le(M)||N(M))return M=Gr(M,j.mode,L,null),M.return=j,M;if(typeof M.then=="function")return X(j,Hu(M),L);if(M.$$typeof===fe)return X(j,Lu(j,M),L);Gu(j,M)}return null}function B(j,M,L,Y){var de=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return de!==null?null:E(j,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===de?I(j,M,L,Y):null;case W:return L.key===de?z(j,M,L,Y):null;case w:return L=Xr(L),B(j,M,L,Y)}if(Le(L)||N(L))return de!==null?null:K(j,M,L,Y,null);if(typeof L.then=="function")return B(j,M,Hu(L),Y);if(L.$$typeof===fe)return B(j,M,Lu(j,L),Y);Gu(j,L)}return null}function F(j,M,L,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(L)||null,E(M,j,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return j=j.get(Y.key===null?L:Y.key)||null,I(M,j,Y,de);case W:return j=j.get(Y.key===null?L:Y.key)||null,z(M,j,Y,de);case w:return Y=Xr(Y),F(j,M,L,Y,de)}if(Le(Y)||N(Y))return j=j.get(L)||null,K(M,j,Y,de,null);if(typeof Y.then=="function")return F(j,M,L,Hu(Y),de);if(Y.$$typeof===fe)return F(j,M,L,Lu(M,Y),de);Gu(M,Y)}return null}function ue(j,M,L,Y){for(var de=null,We=null,ce=M,Ve=M=0,Ge=null;ce!==null&&Ve<L.length;Ve++){ce.index>Ve?(Ge=ce,ce=null):Ge=ce.sibling;var et=B(j,ce,L[Ve],Y);if(et===null){ce===null&&(ce=Ge);break}t&&ce&&et.alternate===null&&n(j,ce),M=f(et,M,Ve),We===null?de=et:We.sibling=et,We=et,ce=Ge}if(Ve===L.length)return r(j,ce),Ye&&is(j,Ve),de;if(ce===null){for(;Ve<L.length;Ve++)ce=X(j,L[Ve],Y),ce!==null&&(M=f(ce,M,Ve),We===null?de=ce:We.sibling=ce,We=ce);return Ye&&is(j,Ve),de}for(ce=l(ce);Ve<L.length;Ve++)Ge=F(ce,j,Ve,L[Ve],Y),Ge!==null&&(t&&Ge.alternate!==null&&ce.delete(Ge.key===null?Ve:Ge.key),M=f(Ge,M,Ve),We===null?de=Ge:We.sibling=Ge,We=Ge);return t&&ce.forEach(function(ir){return n(j,ir)}),Ye&&is(j,Ve),de}function ve(j,M,L,Y){if(L==null)throw Error(a(151));for(var de=null,We=null,ce=M,Ve=M=0,Ge=null,et=L.next();ce!==null&&!et.done;Ve++,et=L.next()){ce.index>Ve?(Ge=ce,ce=null):Ge=ce.sibling;var ir=B(j,ce,et.value,Y);if(ir===null){ce===null&&(ce=Ge);break}t&&ce&&ir.alternate===null&&n(j,ce),M=f(ir,M,Ve),We===null?de=ir:We.sibling=ir,We=ir,ce=Ge}if(et.done)return r(j,ce),Ye&&is(j,Ve),de;if(ce===null){for(;!et.done;Ve++,et=L.next())et=X(j,et.value,Y),et!==null&&(M=f(et,M,Ve),We===null?de=et:We.sibling=et,We=et);return Ye&&is(j,Ve),de}for(ce=l(ce);!et.done;Ve++,et=L.next())et=F(ce,j,Ve,et.value,Y),et!==null&&(t&&et.alternate!==null&&ce.delete(et.key===null?Ve:et.key),M=f(et,M,Ve),We===null?de=et:We.sibling=et,We=et);return t&&ce.forEach(function(qb){return n(j,qb)}),Ye&&is(j,Ve),de}function ft(j,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===se&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:e:{for(var de=L.key;M!==null;){if(M.key===de){if(de=L.type,de===se){if(M.tag===7){r(j,M.sibling),Y=h(M,L.props.children),Y.return=j,j=Y;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Xr(de)===M.type){r(j,M.sibling),Y=h(M,L.props),ro(Y,L),Y.return=j,j=Y;break e}r(j,M);break}else n(j,M);M=M.sibling}L.type===se?(Y=Gr(L.props.children,j.mode,Y,L.key),Y.return=j,j=Y):(Y=ju(L.type,L.key,L.props,null,j.mode,Y),ro(Y,L),Y.return=j,j=Y)}return g(j);case W:e:{for(de=L.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){r(j,M.sibling),Y=h(M,L.children||[]),Y.return=j,j=Y;break e}else{r(j,M);break}else n(j,M);M=M.sibling}Y=ef(L,j.mode,Y),Y.return=j,j=Y}return g(j);case w:return L=Xr(L),ft(j,M,L,Y)}if(Le(L))return ue(j,M,L,Y);if(N(L)){if(de=N(L),typeof de!="function")throw Error(a(150));return L=de.call(L),ve(j,M,L,Y)}if(typeof L.then=="function")return ft(j,M,Hu(L),Y);if(L.$$typeof===fe)return ft(j,M,Lu(j,L),Y);Gu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(r(j,M.sibling),Y=h(M,L),Y.return=j,j=Y):(r(j,M),Y=Wh(L,j.mode,Y),Y.return=j,j=Y),g(j)):r(j,M)}return function(j,M,L,Y){try{so=0;var de=ft(j,M,L,Y);return qa=null,de}catch(ce){if(ce===Ba||ce===Bu)throw ce;var We=jn(29,ce,null,j.mode);return We.lanes=Y,We.return=j,We}finally{}}}var Zr=up(!0),cp=up(!1),zs=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Kg(t,null,r),n}return Vu(t,l,n,r),ku(t)}function ao(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}function gf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var pf=!1;function lo(){if(pf){var t=za;if(t!==null)throw t}}function oo(t,n,r,l){pf=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,K=z=I=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(He&B)===B:(l&B)===B){B!==0&&B===La&&(pf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ve=E;B=n;var ft=r;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){X=ue.call(ft,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,B=typeof ue=="function"?ue.call(ft,X,B):ue,B==null)break e;X=S({},X,B);break e;case 2:zs=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=F,I=X):K=K.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ks|=g,t.lanes=g,t.memoizedState=X}}function hp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hp(r[t],n)}var Ha=O(null),Fu=O(0);function dp(t,n){t=ms,ne(Fu,t),ne(Ha,n),ms=t|n.baseLanes}function yf(){ne(Fu,ms),ne(Ha,Ha.current)}function _f(){ms=Fu.current,q(Ha),q(Fu)}var Un=O(null),ti=null;function Hs(t){var n=t.alternate;ne(Mt,Mt.current&1),ne(Un,t),ti===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ti=t)}function vf(t){ne(Mt,Mt.current),ne(Un,t),ti===null&&(ti=t)}function mp(t){t.tag===22?(ne(Mt,Mt.current),ne(Un,t),ti===null&&(ti=t)):Gs()}function Gs(){ne(Mt,Mt.current),ne(Un,Un.current)}function Pn(t){q(Un),ti===t&&(ti=null),q(Mt)}var Mt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||xd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Oe=null,ct=null,qt=null,Ku=!1,Ga=!1,Jr=!1,Yu=0,uo=0,Fa=null,OE=0;function Ct(){throw Error(a(321))}function Tf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!kn(t[r],n[r]))return!1;return!0}function Ef(t,n,r,l,h,f){return as=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Zp:jf,Jr=!1,f=r(l,h),Jr=!1,Ga&&(f=pp(n,r,l,h)),gp(t),f}function gp(t){G.H=fo;var n=ct!==null&&ct.next!==null;if(as=0,qt=ct=Oe=null,Ku=!1,uo=0,Fa=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Pu(t)&&(Ht=!0))}function pp(t,n,r,l){Oe=t;var h=0;do{if(Ga&&(Fa=null),uo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,qt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Jp,f=n(r,l)}while(Ga);return f}function ME(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?co(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Oe.flags|=1024),n}function bf(){var t=Yu!==0;return Yu=0,t}function Af(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Sf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}as=0,qt=ct=Oe=null,Ga=!1,uo=Yu=0,Fa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=t:qt=qt.next=t,qt}function Vt(){if(ct===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=qt===null?Oe.memoizedState:qt.next;if(n!==null)qt=n,ct=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},qt===null?Oe.memoizedState=qt=t:qt=qt.next=t}return qt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var n=uo;return uo+=1,Fa===null&&(Fa=[]),t=ap(Fa,t,n),n=Oe,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Zp:jf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===fe)return an(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=k;return n.index++,r}function ls(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Vt();return xf(n,ct,t)}function xf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(He&X)===X:(as&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===La&&(K=!0);else if((as&B)===B){z=z.next,B===La&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,Oe.lanes|=B,Ks|=B;X=z.action,Jr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,Oe.lanes|=X,Ks|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!kn(f,t.memoizedState)&&(Ht=!0,K&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Vt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);kn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function yp(t,n,r){var l=Oe,h=Vt(),f=Ye;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!kn((ct||h).memoizedState,r);if(g&&(h.memoizedState=r,Ht=!0),h=h.queue,If(Tp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},vp.bind(null,l,h,r,n),null),mt===null)throw Error(a(349));f||(as&127)!==0||_p(l,n,r)}return r}function _p(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Xu(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vp(t,n,r,l){n.value=r,n.getSnapshot=l,Ep(n)&&bp(t)}function Tp(t,n,r){return r(function(){Ep(n)&&bp(t)})}function Ep(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!kn(t,r)}catch{return!0}}function bp(t){var n=Hr(t,2);n!==null&&Nn(n,t,2)}function Cf(t){var n=vn();if(typeof t=="function"){var r=t;if(t=r(),Jr){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function Ap(t,n,r,l){return t.baseState=r,xf(t,ct,typeof l=="function"?l:ls)}function VE(t,n,r,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,l),I=G.S;I!==null&&I(g,E),wp(t,n,E)}catch(z){Nf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),wp(t,n,f)}catch(z){Nf(t,n,z)}}function wp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){xp(t,n,l)},function(l){return Nf(t,n,l)}):xp(t,n,r)}function xp(t,n,r){n.status="fulfilled",n.value=r,Rp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sp(t,r)))}function Nf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Rp(n),n=n.next;while(n!==l)}t.action=null}function Rp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cp(t,n){return n}function Np(t,n){if(Ye){var r=mt.formState;if(r!==null){e:{var l=Oe;if(Ye){if(pt){t:{for(var h=pt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ni(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(n=r[0])}}return r=vn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},r.queue=l,r=Yp.bind(null,Oe,l),l.dispatch=r,l=Cf(!1),f=kf.bind(null,Oe,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=VE.bind(null,Oe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ip(t){var n=Vt();return Dp(n,ct,t)}function Dp(t,n,r){if(n=xf(t,n,Cp)[0],t=Zu(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=co(n)}catch(g){throw g===Ba?Bu:g}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,Qa(9,{destroy:void 0},kE.bind(null,h,r),null)),[l,f,t]}function kE(t,n){t.action=n}function Op(t){var n=Vt(),r=ct;if(r!==null)return Dp(n,r,t);Vt(),n=n.memoizedState,r=Vt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Xu(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Mp(){return Vt().memoizedState}function Ju(t,n,r,l){var h=vn();Oe.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Wu(t,n,r,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&Tf(l,ct.memoizedState.deps)?h.memoizedState=Qa(n,f,r,l):(Oe.flags|=t,h.memoizedState=Qa(1|n,f,r,l))}function Vp(t,n){Ju(8390656,8,t,n)}function If(t,n){Wu(2048,8,t,n)}function jE(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Xu(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function kp(t){var n=Vt().memoizedState;return jE({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function jp(t,n){return Wu(4,2,t,n)}function Up(t,n){return Wu(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lp(t,n,r){r=r!=null?r.concat([t]):null,Wu(4,4,Pp.bind(null,n,t),r)}function Df(){}function zp(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Tf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bp(t,n){var r=Vt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Tf(n,l[1]))return l[0];if(l=t(),Jr){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l}function Of(t,n,r){return r===void 0||(as&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=qy(),Oe.lanes|=t,Ks|=t,r)}function qp(t,n,r,l){return kn(r,n)?r:Ha.current!==null?(t=Of(t,r,l),kn(t,n)||(Ht=!0),t):(as&42)===0||(as&1073741824)!==0&&(He&261930)===0?(Ht=!0,t.memoizedState=r):(t=qy(),Oe.lanes|=t,Ks|=t,n)}function Hp(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,kf(t,!1,n,r);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=DE(I,l);ho(t,n,K,Bn(t))}else ho(t,n,l,Bn(t))}catch(X){ho(t,n,{then:function(){},status:"rejected",reason:X},Bn())}finally{te.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function UE(){}function Mf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Gp(t).queue;Hp(t,h,n,oe,r===null?UE:function(){return Fp(t),r(l)})}function Gp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fp(t){var n=Gp(t);n.next===null&&(n=t.alternate.memoizedState),ho(t,n.next.queue,{},Bn())}function Vf(){return an(No)}function Qp(){return Vt().memoizedState}function Kp(){return Vt().memoizedState}function PE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Bn();t=Bs(r);var l=qs(n,t,r);l!==null&&(Nn(l,n,r),ao(l,n,r)),n={cache:uf()},t.payload=n;return}n=n.return}}function LE(t,n,r){var l=Bn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Xp(n,r):(r=Zh(t,n,r,l),r!==null&&(Nn(r,t,l),$p(r,n,l)))}function Yp(t,n,r){var l=Bn();ho(t,n,r,l)}function ho(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Xp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,kn(E,g))return Vu(t,n,h,0),mt===null&&Mu(),!1}catch{}finally{}if(r=Zh(t,n,h,l),r!==null)return Nn(r,t,l),$p(r,n,l),!0}return!1}function kf(t,n,r,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&Nn(n,t,2)}function ec(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Xp(t,n){Ga=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function $p(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ml(t,r)}}var fo={readContext:an,use:$u,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};fo.useEffectEvent=Ct;var Zp={readContext:an,use:$u,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Vp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,Pp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=vn();n=n===void 0?null:n;var l=t();if(Jr){bn(!0);try{t()}finally{bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=vn();if(r!==void 0){var h=r(n);if(Jr){bn(!0);try{r(n)}finally{bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=LE.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,r=Yp.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=vn();return Of(r,t,n)},useTransition:function(){var t=Cf(!1);return t=Hp.bind(null,Oe,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=vn();if(Ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),mt===null)throw Error(a(349));(He&127)!==0||_p(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Vp(Tp.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},vp.bind(null,l,f,r,n),null),r},useId:function(){var t=vn(),n=mt.identifierPrefix;if(Ye){var r=ji,l=ki;r=(l&~(1<<32-wt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Yu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=OE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return vn().memoizedState=PE.bind(null,Oe)},useEffectEvent:function(t){var n=vn(),r={impl:t};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},jf={readContext:an,use:$u,useCallback:zp,useContext:an,useEffect:If,useImperativeHandle:Lp,useInsertionEffect:jp,useLayoutEffect:Up,useMemo:Bp,useReducer:Zu,useRef:Mp,useState:function(){return Zu(ls)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Vt();return qp(r,ct.memoizedState,t,n)},useTransition:function(){var t=Zu(ls)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Vf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var r=Vt();return Ap(r,ct,t,n)},useMemoCache:wf,useCacheRefresh:Kp};jf.useEffectEvent=kp;var Jp={readContext:an,use:$u,useCallback:zp,useContext:an,useEffect:If,useImperativeHandle:Lp,useInsertionEffect:jp,useLayoutEffect:Up,useMemo:Bp,useReducer:Rf,useRef:Mp,useState:function(){return Rf(ls)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Vt();return ct===null?Of(r,t,n):qp(r,ct.memoizedState,t,n)},useTransition:function(){var t=Rf(ls)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Vf,useFormState:Op,useActionState:Op,useOptimistic:function(t,n){var r=Vt();return ct!==null?Ap(r,ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Kp};Jp.useEffectEvent=kp;function Uf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Bs(l);h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,l),n!==null&&(Nn(n,t,l),ao(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Bn(),h=Bs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,l),n!==null&&(Nn(n,t,l),ao(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Bn(),l=Bs(r);l.tag=2,n!=null&&(l.callback=n),n=qs(t,l,r),n!==null&&(Nn(n,t,r),ao(n,t,r))}};function Wp(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Jl(r,l)||!Jl(h,f):!0}function ey(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ty(t){Ou(t)}function ny(t){console.error(t)}function iy(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,r){return r=Bs(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function ry(t){return t=Bs(t),t.tag=3,t}function ay(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){sy(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){sy(n,r,l),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function zE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Pa(n,r,h,!0),r=Un.current,r!==null){switch(r.tag){case 31:case 13:return ti===null?dc():r.alternate===null&&Nt===0&&(Nt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return r.flags|=65536,l===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cd(t,l,h)),!1}throw Error(a(435,r.tag))}return cd(t,l,h),dc(),!1}if(Ye)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),to(Zn(t,r)))):(l!==sf&&(n=Error(a(423),{cause:l}),to(Zn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,r),h=Lf(t.stateNode,l,h),gf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(a(520),{cause:l});if(f=Zn(f,r),Eo===null?Eo=[f]:Eo.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=Zn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lf(r.stateNode,l,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ry(h),ay(h,t,r,l),gf(r,h),!1}r=r.return}while(r!==null);return!1}var zf=Error(a(461)),Ht=!1;function ln(t,n,r,l){n.child=t===null?cp(n,null,r,l):Zr(n,t.child,r,l)}function ly(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Kr(n),l=Ef(t,n,r,g,f,h),E=bf(),t!==null&&!Ht?(Af(t,n,h),os(t,n,h)):(Ye&&E&&tf(n),n.flags|=1,ln(t,n,l,h),n.child)}function oy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,uy(t,n,f,l,h)):(t=ju(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Jl,r(g,l)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ns(f,l),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Jl(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Yf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,os(t,n,h)}return Bf(t,n,r,l,h)}function cy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return hy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?dp(n,f):yf(),mp(n);else return l=n.lanes=536870912,hy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(zu(n,f.cachePool),dp(n,f),Gs(),n.memoizedState=null):(t!==null&&zu(n,null),yf(),Gs());return ln(t,n,h,r),n.child}function mo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,r,l,h){var f=hf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&zu(n,null),yf(),mp(n),t!==null&&Pa(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,r){return Zr(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function BE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,mo(null,t);if(vf(n),(t=pt)?(t=S_(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Xg(t),r.return=n,n.child=r,rn=n,pt=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||Pa(t,n,r,!1),h=(r&t.childLanes)!==0,Ht||h){if(l=mt,l!==null&&(g=Vl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Hr(t,g),Nn(l,t,g),zf;dc(),n=fy(t,n,r)}else t=f.treeContext,pt=ni(g.nextSibling),rn=n,Ye=!0,Us=null,ei=!1,t!==null&&Jg(n,t),n=nc(n,l),n.flags|=4096;return n}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Bf(t,n,r,l,h){return Kr(n),r=Ef(t,n,r,l,void 0,h),l=bf(),t!==null&&!Ht?(Af(t,n,h),os(t,n,h)):(Ye&&l&&tf(n),n.flags|=1,ln(t,n,r,h),n.child)}function dy(t,n,r,l,h,f){return Kr(n),n.updateQueue=null,r=pp(n,l,r,h),gp(t),l=bf(),t!==null&&!Ht?(Af(t,n,f),os(t,n,f)):(Ye&&l&&tf(n),n.flags|=1,ln(t,n,r,f),n.child)}function my(t,n,r,l,h){if(Kr(n),n.stateNode===null){var f=Va,g=r.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?an(g):Va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),oo(n,l,f,h),lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Wr(r,E);f.props=I;var z=f.context,K=r.contextType;g=Va,typeof K=="object"&&K!==null&&(g=an(K));var X=r.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ey(n,f,l,g),zs=!1;var B=n.memoizedState;f.state=B,oo(n,l,f,h),lo(),z=n.memoizedState,E||B!==z||zs?(typeof X=="function"&&(Uf(n,r,X,l),z=n.memoizedState),(I=zs||Wp(n,r,I,l,B,z,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,K=Wr(r,g),f.props=K,X=n.pendingProps,B=f.context,z=r.contextType,I=Va,typeof z=="object"&&z!==null&&(I=an(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==I)&&ey(n,f,l,I),zs=!1,B=n.memoizedState,f.state=B,oo(n,l,f,h),lo();var F=n.memoizedState;g!==X||B!==F||zs||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Uf(n,r,E,l),F=n.memoizedState),(K=zs||Wp(n,r,K,l,B,F,I)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=I,l=K):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=os(t,n,h),t}function gy(t,n,r,l){return Fr(),n.flags|=256,ln(t,n,r,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:sp()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=zn),t}function py(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Hs(n):Gs(),(t=pt)?(t=S_(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Xg(t),r.return=n,n.child=r,rn=n,pt=null)):t=null,t===null)throw Ps(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Gs(),h=n.mode,E=sc({mode:"hidden",children:E},h),l=Gr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hf(r),l.childLanes=Gf(t,g,r),n.memoizedState=qf,mo(null,l)):(Hs(n),Ff(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Qf(t,n,r)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),E=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),E=Gr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Zr(n,t.child,null,r),l=n.child,l.memoizedState=Hf(r),l.childLanes=Gf(t,g,r),n.memoizedState=qf,n=mo(null,l));else if(Hs(n),xd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=Qf(t,n,r)}else if(Ht||Pa(t,n,r,!1),g=(r&t.childLanes)!==0,Ht||g){if(g=mt,g!==null&&(l=Vl(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Hr(t,l),Nn(g,t,l),zf;wd(E)||dc(),n=Qf(t,n,r)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=ni(E.nextSibling),rn=n,Ye=!0,Us=null,ei=!1,t!==null&&Jg(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?(Gs(),E=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=ns(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=ns(z,E):(E=Gr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,mo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hf(r):(h=E.cachePool,h!==null?(I=Bt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=sp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Gf(t,g,r),n.memoizedState=qf,mo(t.child,l)):(Hs(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=jn(22,t,null,n),t.lanes=0,t}function Qf(t,n,r){return Zr(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,r)}function Kf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function _y(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Mt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(Mt,g),ln(t,n,l,r),l=Ye?eo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,r,n);else if(t.tag===19)yy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Kf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Kf(n,!0,r,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function os(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Pa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function qE(t,n,r){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),Ls(n,Bt,t.memoizedState.cache),Fr();break;case 27:case 5:ye(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?py(t,n,r):(Hs(n),t=os(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Pa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return _y(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,cy(t,n,r,n.pendingProps);case 24:Ls(n,Bt,t.memoizedState.cache)}return os(t,n,r)}function vy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Yf(t,r)&&(n.flags&128)===0)return Ht=!1,qE(t,n,r);Ht=(t.flags&131072)!==0}else Ht=!1,Ye&&(n.flags&1048576)!==0&&Zg(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Xr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(l=Wr(t,l),n.tag=1,n=my(null,n,t,l,r)):(n.tag=0,n=Bf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Me){n.tag=11,n=ly(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=oy(null,n,t,l,r);break e}}throw n=xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Wr(l,n.pendingProps),my(t,n,l,h,r);case 3:e:{if(Ze(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),oo(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Ls(n,Bt,l),l!==f.cache&&of(n,[Bt],r,!0),lo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(t,n,l,r);break e}else if(l!==h){h=Zn(Error(a(424)),n),to(h),n=gy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ni(t.firstChild),rn=n,Ye=!0,Us=null,ei=!0,r=cp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Fr(),l===h){n=os(t,n,r);break e}ln(t,n,l,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=I_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ye||(r=n.type,t=n.pendingProps,l=Tc(Ae.current).createElement(r),l[Pt]=n,l[Wt]=t,on(l,r,t),Lt(l),n.stateNode=l):n.memoizedState=I_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ye(n),t===null&&Ye&&(l=n.stateNode=R_(n.type,n.pendingProps,Ae.current),rn=n,ei=!0,h=pt,Js(n.type)?(Rd=h,pt=ni(l.firstChild)):pt=h),ln(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=pt)&&(l=_b(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,rn=n,pt=ni(l.firstChild),ei=!1,h=!0):h=!1),h||Ps(n)),ye(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,bd(h,f)?l=null:g!==null&&bd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,ME,null,null,r),No._currentValue=h),ic(t,n),ln(t,n,l,r),n.child;case 6:return t===null&&Ye&&((t=r=pt)&&(r=vb(r,n.pendingProps,ei),r!==null?(n.stateNode=r,rn=n,pt=null,t=!0):t=!1),t||Ps(n)),null;case 13:return py(t,n,r);case 4:return Ze(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zr(n,null,l,r):ln(t,n,l,r),n.child;case 11:return ly(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ls(n,n.type,l.value),ln(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Kr(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,r),n.child;case 14:return oy(t,n,n.type,n.pendingProps,r);case 15:return uy(t,n,n.type,n.pendingProps,r);case 19:return _y(t,n,r);case 31:return BE(t,n,r);case 22:return cy(t,n,r,n.pendingProps);case 24:return Kr(n),l=an(Bt),t===null?(h=hf(),h===null&&(h=mt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},df(n),Ls(n,Bt,h)):((t.lanes&r)!==0&&(mf(t,n),oo(n,null,null,r),lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Bt,l)):(l=f.cache,Ls(n,Bt,l),l!==h.cache&&of(n,[Bt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Xf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw $r=qu,ff}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k_(n))if(Qy())t.flags|=8192;else throw $r=qu,ff}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,$a|=n)}function go(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function HE(t,n,r){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),rs(Bt),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(yt(n),Ty(n,f)):(yt(n),Xf(n,h,null,l,r))):f?f!==t.memoizedState?(us(n),yt(n),Ty(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&us(n),yt(n),Xf(n,h,t,l,r)),null;case 27:if(ze(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=re.current,Ua(n)?Wg(n):(t=R_(h,l,r),n.stateNode=t,us(n))}return yt(n),null;case 5:if(ze(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=re.current,Ua(n))Wg(n);else{var g=Tc(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Pt]=n,f[Wt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(n)}}return yt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&us(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,r)),t||Ps(n,!0)}else t=Tc(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),yt(n),null);case 4:return J(),t===null&&yd(n.stateNode.containerInfo),yt(n),null;case 10:return rs(n.type),yt(n),null;case 19:if(q(Mt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)go(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,go(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yg(r,t),r=r.sibling;return ne(Mt,Mt.current&1|2),Ye&&is(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Dt()>cc&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),go(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return yt(n),null}else 2*Dt()-l.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Dt(),t.sibling=null,r=Mt.current,ne(Mt,h?r&1|2:r&1),Ye&&is(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return Pn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&q(Yr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(Bt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function GE(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(Bt),J(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ze(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(Mt),null;case 4:return J(),null;case 10:return rs(n.type),null;case 22:case 23:return Pn(n),_f(),t!==null&&q(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(Bt),null;case 25:return null;default:return null}}function Ey(t,n){switch(nf(n),n.tag){case 3:rs(Bt),J();break;case 26:case 27:case 5:ze(n);break;case 4:J();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:q(Mt);break;case 10:rs(n.type);break;case 22:case 23:Pn(n),_f(),t!==null&&q(Yr);break;case 24:rs(Bt)}}function po(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){lt(n,n.return,E)}}function Fs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(K){lt(h,I,K)}}}l=l.next}while(l!==f)}}catch(K){lt(n,n.return,K)}}function by(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fp(n,r)}catch(l){lt(t,t.return,l)}}}function Ay(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){lt(t,n,l)}}function yo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){lt(t,n,h)}}function Ui(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function $f(t,n,r){try{var l=t.stateNode;fb(l,t.type,r,n),l[Wt]=n}catch(h){lt(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,r),t=t.sibling;t!==null;)Jf(t,n,r),t=t.sibling}function ac(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function xy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,r),n[Pt]=t,n[Wt]=r}catch(f){lt(t,t.return,f)}}var cs=!1,Gt=!1,Wf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,tn=null;function FE(t,n){if(t=t.containerInfo,Td=Rc,t=Lg(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,I=-1,z=0,K=0,X=t,B=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||l!==0&&X.nodeType!==3||(I=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===t)break t;if(B===r&&++z===h&&(E=g),B===f&&++K===l&&(I=g),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ed={focusedElem:t,selectionRange:r},Rc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=Wr(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){lt(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Cy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),l&4&&po(5,r);break;case 1:if(fs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){lt(r,r.return,g)}else{var h=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){lt(r,r.return,g)}}l&64&&by(r),l&512&&yo(r,r.return);break;case 3:if(fs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{fp(t,n)}catch(g){lt(r,r.return,g)}}break;case 27:n===null&&l&4&&xy(r);case 26:case 5:fs(t,r),n===null&&l&4&&Sy(r),l&512&&yo(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),l&4&&Dy(t,r);break;case 13:fs(t,r),l&4&&Oy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=eb.bind(null,r),Tb(t,r))));break;case 22:if(l=r.memoizedState!==null||cs,!l){n=n!==null&&n.memoizedState!==null||Gt,h=cs;var f=Gt;cs=l,(Gt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,Gt=f}break;case 30:break;default:fs(t,r)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,wn=!1;function hs(t,n,r){for(r=r.child;r!==null;)Iy(t,n,r),r=r.sibling}function Iy(t,n,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(On,r)}catch{}switch(r.tag){case 26:Gt||Ui(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gt||Ui(r,n);var l=bt,h=wn;Js(r.type)&&(bt=r.stateNode,wn=!1),hs(t,n,r),xo(r.stateNode),bt=l,wn=h;break;case 5:Gt||Ui(r,n);case 6:if(l=bt,h=wn,bt=null,hs(t,n,r),bt=l,wn=h,bt!==null)if(wn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{bt.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:bt!==null&&(wn?(t=bt,b_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):b_(bt,r.stateNode));break;case 4:l=bt,h=wn,bt=r.stateNode.containerInfo,wn=!0,hs(t,n,r),bt=l,wn=h;break;case 0:case 11:case 14:case 15:Fs(2,r,n),Gt||Fs(4,r,n),hs(t,n,r);break;case 1:Gt||(Ui(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ay(r,n,l)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:Gt=(l=Gt)||r.memoizedState!==null,hs(t,n,r),Gt=l;break;default:hs(t,n,r)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){lt(n,n.return,r)}}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){lt(n,n.return,r)}}function QE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ry),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=QE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=tb.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){bt=E.stateNode,wn=!1;break e}break;case 5:bt=E.stateNode,wn=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(bt===null)throw Error(a(160));Iy(f,g,h),bt=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,t),n=n.sibling}var gi=null;function My(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Rn(t),l&4&&(Fs(3,t,t.return),po(3,t),Fs(5,t,t.return));break;case 1:xn(n,t),Rn(t),l&512&&(Gt||r===null||Ui(r,r.return)),l&64&&cs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=gi;if(xn(n,t),Rn(t),l&512&&(Gt||r===null||Ui(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,r),f[Pt]=t,Lt(f),l=f;break e;case"link":var g=M_("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;case"meta":if(g=M_("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),on(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,Lt(f),l=f}t.stateNode=l}else V_(h,t.type,t.stateNode);else t.stateNode=O_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?V_(h,t.type,t.stateNode):O_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),Rn(t),l&512&&(Gt||r===null||Ui(r,r.return)),r!==null&&l&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),Rn(t),l&512&&(Gt||r===null||Ui(r,r.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(ue){lt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(xn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){lt(t,t.return,ue)}}break;case 3:if(Ac=null,h=gi,gi=Ec(n.containerInfo),xn(n,t),gi=h,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(ue){lt(t,t.return,ue)}Wf&&(Wf=!1,Vy(t));break;case 4:l=gi,gi=Ec(t.stateNode.containerInfo),xn(n,t),Rn(t),gi=l;break;case 12:xn(n,t),Rn(t);break;case 31:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:xn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=Dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=cs,K=Gt;if(cs=z||h,Gt=K||I,xn(n,t),Gt=K,cs=z,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||cs||Gt||ea(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){lt(I,I.return,ue)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){lt(I,I.return,ue)}}}else if(n.tag===18){if(r===null){I=n;try{var F=I.stateNode;h?A_(F,!0):A_(I.stateNode,!1)}catch(ue){lt(I,I.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,lc(t,r))));break;case 19:xn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:xn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(wy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);ac(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Sn(g,""),r.flags&=-33);var E=Zf(t);ac(t,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Zf(t);Jf(t,z,I);break;default:throw Error(a(161))}}catch(K){lt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),ea(n);break;case 1:Ui(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ay(n,n.return,r),ea(n);break;case 27:xo(n.stateNode);case 26:case 5:Ui(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),po(4,f);break;case 1:if(ds(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)hp(I[h],E)}catch(z){lt(l,l.return,z)}}r&&g&64&&by(f),yo(f,f.return);break;case 27:xy(f);case 26:case 5:ds(h,f,r),r&&l===null&&g&4&&Sy(f),yo(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&g&4&&Dy(h,f);break;case 13:ds(h,f,r),r&&g&4&&Oy(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),yo(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&no(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,r,l),n=n.sibling}function ky(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&po(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){lt(n,n.return,I)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,l):_o(t,n):f._visibility&2?pi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:pi(t,n,r,l),h&2048&&td(n.alternate,n);break;default:pi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,E,I,h),po(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?Ka(f,g,E,I,h):_o(f,g):(K._visibility|=2,Ka(f,g,E,I,h)),h&&z&2048&&ed(g.alternate,g);break;case 24:Ka(f,g,E,I,h),h&&z&2048&&td(g.alternate,g);break;default:Ka(f,g,E,I,h)}n=n.sibling}}function _o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:_o(r,l),h&2048&&ed(l.alternate,l);break;case 24:_o(r,l),h&2048&&td(l.alternate,l);break;default:_o(r,l)}n=n.sibling}}var vo=8192;function Ya(t,n,r){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)jy(t,n,r),t=t.sibling}function jy(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&vo&&t.memoizedState!==null&&Ob(r,gi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=gi;gi=Ec(t.stateNode.containerInfo),Ya(t,n,r),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vo,vo=16777216,Ya(t,n,r),vo=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function To(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,Ly(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):To(t);break;default:To(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tn=l,Ly(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),oc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function Ly(t,n){for(;tn!==null;){var r=tn;switch(r.tag){case 0:case 11:case 15:Fs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tn=l;else e:for(r=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(Ny(l),l===r){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var KE={getCacheForType:function(t){var n=an(Bt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return an(Bt).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,Be=null,He=0,at=0,Ln=null,Qs=!1,Xa=!1,nd=!1,ms=0,Nt=0,Ks=0,ta=0,id=0,zn=0,$a=0,Eo=null,Cn=null,sd=!1,uc=0,zy=0,cc=1/0,hc=null,Ys=null,Zt=0,Xs=null,Za=null,gs=0,rd=0,ad=null,By=null,bo=0,ld=null;function Bn(){return(it&2)!==0&&He!==0?He&-He:G.T!==null?dd():fu()}function qy(){if(zn===0)if((He&536870912)===0||Ye){var t=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),zn=t}else zn=536870912;return t=Un.current,t!==null&&(t.flags|=32),zn}function Nn(t,n,r){(t===mt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),$s(t,He,zn,!1)),Nr(t,r),((it&2)===0||t!==mt)&&(t===mt&&((it&2)===0&&(ta|=r),Nt===4&&$s(t,He,zn,!1)),Pi(t))}function Hy(t,n,r){if((it&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Rt(t,n),h=l?ZE(t,n):ud(t,n,!0),f=l;do{if(h===0){Xa&&!l&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!XE(r)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=Eo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ja(E,g).flags|=256),g=ud(E,g,!1),g!==2){if(nd&&!I){E.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),$s(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(l,n,zn,!Qs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-Dt(),10<h)){if($s(l,n,zn,!Qs),Tt(l,0,!0)!==0)break e;gs=n,l.timeoutHandle=T_(Gy.bind(null,l,r,Cn,hc,sd,n,zn,ta,$a,Qs,f,"Throttled",-0,0),h);break e}Gy(l,r,Cn,hc,sd,n,zn,ta,$a,Qs,f,null,-0,0)}}break}while(!0);Pi(t)}function Gy(t,n,r,l,h,f,g,E,I,z,K,X,B,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},jy(n,f,X);var ue=(f&62914560)===f?uc-Dt():(f&4194048)===f?zy-Dt():0;if(ue=Mb(X,ue),ue!==null){gs=f,t.cancelPendingCommit=ue(Jy.bind(null,t,n,f,r,l,h,g,E,I,K,X,null,B,F)),$s(t,f,g,!z);return}}Jy(t,n,f,r,l,h,g,E,I)}function XE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,l){n&=~id,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&Ir(t,r,n)}function fc(){return(it&6)===0?(Ao(0),!1):!0}function od(){if(Be!==null){if(at===0)var t=Be.return;else t=Be,ss=Qr=null,Sf(t),qa=null,so=0,t=Be;for(;t!==null;)Ey(t.alternate,t),t=t.return;Be=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,gb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gs=0,od(),mt=t,Be=r=ns(t.current,null),He=n,at=0,Ln=null,Qs=!1,Xa=Rt(t,n),nd=!1,$a=zn=id=ta=Ks=Nt=0,Cn=Eo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-wt(l),f=1<<h;n|=t[h],l&=~f}return ms=n,Mu(),r}function Fy(t,n){Oe=null,G.H=fo,n===Ba||n===Bu?(n=lp(),at=3):n===ff?(n=lp(),at=4):at=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Be===null&&(Nt=1,tc(t,Zn(n,t.current)))}function Qy(){var t=Un.current;return t===null?!0:(He&4194048)===He?ti===null:(He&62914560)===He||(He&536870912)!==0?t===ti:!1}function Ky(){var t=G.H;return G.H=fo,t===null?fo:t}function Yy(){var t=G.A;return G.A=KE,t}function dc(){Nt=4,Qs||(He&4194048)!==He&&Un.current!==null||(Xa=!0),(Ks&134217727)===0&&(ta&134217727)===0||mt===null||$s(mt,He,zn,!1)}function ud(t,n,r){var l=it;it|=2;var h=Ky(),f=Yy();(mt!==t||He!==n)&&(hc=null,Ja(t,n)),n=!1;var g=Nt;e:do try{if(at!==0&&Be!==null){var E=Be,I=Ln;switch(at){case 8:od(),g=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var z=at;if(at=0,Ln=null,Wa(t,E,I,z),r&&Xa){g=0;break e}break;default:z=at,at=0,Ln=null,Wa(t,E,I,z)}}$E(),g=Nt;break}catch(K){Fy(t,K)}while(!0);return n&&t.shellSuspendCounter++,ss=Qr=null,it=l,G.H=h,G.A=f,Be===null&&(mt=null,He=0,Mu()),g}function $E(){for(;Be!==null;)Xy(Be)}function ZE(t,n){var r=it;it|=2;var l=Ky(),h=Yy();mt!==t||He!==n?(hc=null,cc=Dt()+500,Ja(t,n)):Xa=Rt(t,n);e:do try{if(at!==0&&Be!==null){n=Be;var f=Ln;t:switch(at){case 1:at=0,Ln=null,Wa(t,n,f,1);break;case 2:case 9:if(rp(f)){at=0,Ln=null,$y(n);break}n=function(){at!==2&&at!==9||mt!==t||(at=7),Pi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:rp(f)?(at=0,Ln=null,$y(n)):(at=0,Ln=null,Wa(t,n,f,7));break;case 5:var g=null;switch(Be.tag){case 26:g=Be.memoizedState;case 5:case 27:var E=Be;if(g?k_(g):E.stateNode.complete){at=0,Ln=null;var I=E.sibling;if(I!==null)Be=I;else{var z=E.return;z!==null?(Be=z,mc(z)):Be=null}break t}}at=0,Ln=null,Wa(t,n,f,5);break;case 6:at=0,Ln=null,Wa(t,n,f,6);break;case 8:od(),Nt=6;break e;default:throw Error(a(462))}}JE();break}catch(K){Fy(t,K)}while(!0);return ss=Qr=null,G.H=l,G.A=h,it=r,Be!==null?0:(mt=null,He=0,Mu(),Nt)}function JE(){for(;Be!==null&&!Cr();)Xy(Be)}function Xy(t){var n=vy(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?mc(t):Be=n}function $y(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=dy(r,n,n.pendingProps,n.type,void 0,He);break;case 11:n=dy(r,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:Sf(n);default:Ey(r,n),n=Be=Yg(n,ms),n=vy(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?mc(t):Be=n}function Wa(t,n,r,l){ss=Qr=null,Sf(n),qa=null,so=0;var h=n.return;try{if(zE(t,h,n,r,He)){Nt=1,tc(t,Zn(r,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;Nt=1,tc(t,Zn(r,t.current)),Be=null;return}n.flags&32768?(Ye||l===1?t=!0:Xa||(He&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Zy(n,Qs);return}t=n.return;var r=HE(n.alternate,n,ms);if(r!==null){Be=r;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Nt===0&&(Nt=5)}function Zy(t,n){do{var r=GE(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Nt=6,Be=null}function Jy(t,n,r,l,h,f,g,E,I){t.cancelPendingCommit=null;do gc();while(Zt!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,r,f,g,E,I),t===mt&&(Be=mt=null,He=0),Za=n,Xs=t,gs=r,rd=f,ad=h,By=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nb(Gn,function(){return i_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,g=it,it|=4;try{FE(t,n,r)}finally{it=g,te.p=h,G.T=l}}Zt=1,Wy(),e_(),t_()}}function Wy(){if(Zt===1){Zt=0;var t=Xs,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=it;it|=4;try{My(n,t);var f=Ed,g=Lg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(I!==null&&Fh(E)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),ue=E.textContent.length,ve=Math.min(I.start,ue),ft=I.end===void 0?ve:Math.min(I.end,ue);!F.extend&&ve>ft&&(g=ft,ft=ve,ve=g);var j=Ug(E,ve),M=Ug(E,ft);if(j&&M&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=X.createRange();L.setStart(j.node,j.offset),F.removeAllRanges(),ve>ft?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Rc=!!Td,Ed=Td=null}finally{it=h,te.p=l,G.T=r}}t.current=n,Zt=2}}function e_(){if(Zt===2){Zt=0;var t=Xs,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=it;it|=4;try{Cy(t,n.alternate,n)}finally{it=h,te.p=l,G.T=r}}Zt=3}}function t_(){if(Zt===4||Zt===3){Zt=0,Xi();var t=Xs,n=Za,r=gs,l=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Zt=5:(Zt=0,Za=Xs=null,n_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Ji(r),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,te.p=h}}(gs&3)!==0&&gc(),Pi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?bo++:(bo=0,ld=t):bo=0,Ao(0)}}function n_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,no(n)))}function gc(){return Wy(),e_(),t_(),i_()}function i_(){if(Zt!==5)return!1;var t=Xs,n=rd;rd=0;var r=Ji(gs),l=G.T,h=te.p;try{te.p=32>r?32:r,G.T=null,r=ad,ad=null;var f=Xs,g=gs;if(Zt=0,Za=Xs=null,gs=0,(it&6)!==0)throw Error(a(331));var E=it;if(it|=4,Py(f.current),ky(f,f.current,g,r),it=E,Ao(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{te.p=h,G.T=l,n_(t,n)}}function s_(t,n,r){n=Zn(r,n),n=Lf(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(Nr(t,2),Pi(t))}function lt(t,n,r){if(t.tag===3)s_(t,t,r);else for(;n!==null;){if(n.tag===3){s_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Zn(r,t),r=ry(2),l=qs(n,r,2),l!==null&&(ay(r,l,n,t),Nr(l,2),Pi(l));break}}n=n.return}}function cd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nd=!0,h.add(r),t=WE.bind(null,t,n,r),n.then(t,t))}function WE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mt===t&&(He&r)===r&&(Nt===4||Nt===3&&(He&62914560)===He&&300>Dt()-uc?(it&2)===0&&Ja(t,0):id|=r,$a===He&&($a=0)),Pi(t)}function r_(t,n){n===0&&(n=hu()),t=Hr(t,n),t!==null&&(Nr(t,n),Pi(t))}function eb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),r_(t,r)}function tb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),r_(t,r)}function nb(t,n){return Ue(t,n)}var pc=null,el=null,hd=!1,yc=!1,fd=!1,Zs=0;function Pi(t){t!==el&&t.next===null&&(el===null?pc=el=t:el=el.next=t),yc=!0,hd||(hd=!0,sb())}function Ao(t,n){if(!fd&&yc){fd=!0;do for(var r=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,u_(l,f))}else f=He,f=Tt(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rt(l,f)||(r=!0,u_(l,f));l=l.next}while(r);fd=!1}}function ib(){a_()}function a_(){yc=hd=!1;var t=0;Zs!==0&&mb()&&(t=Zs);for(var n=Dt(),r=null,l=pc;l!==null;){var h=l.next,f=l_(l,n);f===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Zt!==0&&Zt!==5||Ao(t),Zs!==0&&(Zs=0)}function l_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-wt(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Fn(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,r=He,r=Tt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&En(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&En(l),Ji(r)){case 2:case 8:r=ws;break;case 32:r=Gn;break;case 268435456:r=Zi;break;default:r=Gn}return l=o_.bind(null,t),r=Ue(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&En(l),t.callbackPriority=2,t.callbackNode=null,2}function o_(t,n){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=He;return l=Tt(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hy(t,l,n),l_(t,Dt()),t.callbackNode!=null&&t.callbackNode===r?o_.bind(null,t):null)}function u_(t,n){if(gc())return null;Hy(t,n,!0)}function sb(){pb(function(){(it&6)!==0?Ue($i,ib):a_()})}function dd(){if(Zs===0){var t=La;t===0&&(t=U,U<<=1,(U&261888)===0&&(U=256)),Zs=t}return Zs}function c_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function h_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function rb(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=c_((h[Wt]||null).action),g=l.submitter;g&&(n=(n=g[Wt]||null)?c_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var I=g?h_(h,g):new FormData(h);Mf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?h_(h,g):new FormData(h),Mf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],ab=gd.toLowerCase(),lb=gd[0].toUpperCase()+gd.slice(1);mi(ab,"on"+lb)}mi(qg,"onAnimationEnd"),mi(Hg,"onAnimationIteration"),mi(Gg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(AE,"onTransitionRun"),mi(SE,"onTransitionStart"),mi(wE,"onTransitionCancel"),mi(Fg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function f_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){Ou(K)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){Ou(K)}h.currentTarget=null,f=I}}}}function qe(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(d_(n,t,2,!1),r.add(l))}function pd(t,n,r){var l=0;n&&(l|=4),d_(r,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,kl.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,pd("selectionchange",!1,n))}}function d_(t,n,r,l){switch(q_(n)){case 2:var h=jb;break;case 8:h=Ub;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!kr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _d(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Os(function(){var z=f,K=Kn(r),X=[];e:{var B=Qg.get(t);if(B!==void 0){var F=Di,ue=t;switch(t){case"keypress":if(Ur(r)===0)break e;case"keydown":case"keyup":F=Nu;break;case"focusin":ue="focus",F=Lr;break;case"focusout":ue="blur",F=Lr;break;case"beforeblur":case"afterblur":F=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case qg:case Hg:case Gg:F=bu;break;case Fg:F=b;break;case"scroll":case"scrollend":F=Kl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ts;break;case"toggle":case"beforetoggle":F=De}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),j=ve?B!==null?B+"Capture":null:B;ve=[];for(var M=z,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||j===null||(Y=ci(M,j),Y!=null&&ve.push(wo(M,Y,L))),ft)break;M=M.return}0<ve.length&&(B=new F(B,ue,null,r,K),X.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&r!==Gl&&(ue=r.relatedTarget||r.fromElement)&&(Si(ue)||ue[bi]))break e;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ue=r.relatedTarget||r.toElement,F=z,ue=ue?Si(ue):null,ue!==null&&(ft=c(ue),ve=ue.tag,ue!==ft||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(F=null,ue=z),F!==ue)){if(ve=Yl,Y="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ts,Y="onPointerLeave",j="onPointerEnter",M="pointer"),ft=F==null?B:Mn(F),L=ue==null?B:Mn(ue),B=new ve(Y,M+"leave",F,r,K),B.target=ft,B.relatedTarget=L,Y=null,Si(K)===z&&(ve=new ve(j,M+"enter",ue,r,K),ve.target=L,ve.relatedTarget=ft,Y=ve),ft=Y,F&&ue)t:{for(ve=ub,j=F,M=ue,L=0,Y=j;Y;Y=ve(Y))L++;Y=0;for(var de=M;de;de=ve(de))Y++;for(;0<L-Y;)j=ve(j),L--;for(;0<Y-L;)M=ve(M),Y--;for(;L--;){if(j===M||M!==null&&j===M.alternate){ve=j;break t}j=ve(j),M=ve(M)}ve=null}else ve=null;F!==null&&m_(X,B,F,ve,!1),ue!==null&&ft!==null&&m_(X,ft,ue,ve,!0)}}e:{if(B=z?Mn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var We=Dg;else if(Ng(B))if(Og)We=TE;else{We=_E;var ce=yE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Aa(z.elementType)&&(We=Dg):We=vE;if(We&&(We=We(t,z))){Ig(X,We,r,K);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Bl(B,"number",B.value)}switch(ce=z?Mn(z):window,t){case"focusin":(Ng(ce)||ce.contentEditable==="true")&&(Da=ce,Qh=z,Wl=null);break;case"focusout":Wl=Qh=Da=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,zg(X,r,K);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":zg(X,r,K)}var Ve;if(nt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ia?zr(t,r)&&(Ge="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(Vi&&r.locale!=="ko"&&(Ia||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ia&&(Ve=Ql()):(Ii=K,Fl="value"in Ii?Ii.value:Ii.textContent,Ia=!0)),ce=vc(z,Ge),0<ce.length&&(Ge=new Mi(Ge,t,null,r,K),X.push({event:Ge,listeners:ce}),Ve?Ge.data=Ve:(Ve=Na(r),Ve!==null&&(Ge.data=Ve)))),(Ve=Xn?dE(t,r):mE(t,r))&&(Ge=vc(z,"onBeforeInput"),0<Ge.length&&(ce=new Mi("onBeforeInput","beforeinput",null,r,K),X.push({event:ce,listeners:Ge}),ce.data=Ve)),rb(X,t,z,r,K)}f_(X,n)})}function wo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,r),h!=null&&l.unshift(wo(t,h,f)),h=ci(t,n),h!=null&&l.push(wo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ub(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m_(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=ci(r,f),z!=null&&g.unshift(wo(r,z,I))):h||(z=ci(r,f),z!=null&&g.push(wo(r,z,I)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(hb,"")}function p_(t,n){return n=g_(n),g_(t)===n}function ht(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,r,l);break;case"style":Hl(t,l,f);break;case"data":if(n!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,Ea(t,r,l))}}function vd(t,n,r,l,h,f){switch(r){case"style":Hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Wt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ea(t,r,l)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,g,r,null)}}h&&ht(t,n,"srcSet",r.srcSet,r,null),l&&ht(t,n,"src",r.src,r,null);return;case"input":qe("invalid",t);var E=f=g=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":g=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ht(t,n,l,K,r,null)}}pu(t,f,E,I,z,g,h,!1);return;case"select":qe("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ht(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Cs(t,!!l,n,!1):r!=null&&Cs(t,!!l,r,!0);return;case"textarea":qe("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,g,E,r,null)}Ns(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,n,I,l,r,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<So.length;l++)qe(So[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,z,l,r,null)}return;default:if(Aa(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&vd(t,n,K,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ht(t,n,E,l,r,null))}function fb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,K=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(F)||ht(t,n,F,null,l,X)}}for(var B in l){var F=l[B];if(X=r[B],l.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&ht(t,n,B,F,l,X)}}ba(t,g,E,I,z,K,f,h);return;case"select":F=g=E=B=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ht(t,n,h,f,l,I)}n=E,r=g,l=F,B!=null?Cs(t,!!r,B,!1):!!l!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,g,h,l,f)}yu(t,B,F);return;case"option":for(var ue in r)if(B=r[ue],r.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ht(t,n,ue,null,l,B)}for(I in l)if(B=l[I],F=r[I],l.hasOwnProperty(I)&&B!==F&&(B!=null||F!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ht(t,n,I,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)B=r[ve],r.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&ht(t,n,ve,null,l,B);for(z in l)if(B=l[z],F=r[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ht(t,n,z,B,l,F)}return;default:if(Aa(n)){for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!==void 0&&!l.hasOwnProperty(ft)&&vd(t,n,ft,void 0,l,B);for(K in l)B=l[K],F=r[K],!l.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||vd(t,n,K,B,l,F);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&ht(t,n,j,null,l,B);for(X in l)B=l[X],F=r[X],!l.hasOwnProperty(X)||B===F||B==null&&F==null||ht(t,n,X,B,l,F)}function y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&y_(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>E)break;var K=I.transferSize,X=I.initiatorType;K&&y_(X)&&(I=I.responseEnd,g+=K*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,Ed=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function mb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(yb)}:T_;function yb(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function b_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")xo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,xo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&xo(t.ownerDocument.body);r=h}while(r);sl(n)}function A_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sd(r),Ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function _b(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function vb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ni(t.nextSibling),t===null))return null;return t}function S_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function w_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ni(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function x_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function R_(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var ii=new Map,C_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=te.d;te.d={f:Eb,r:bb,D:Ab,C:Sb,L:wb,m:xb,X:Cb,S:Rb,M:Nb};function Eb(){var t=ps.f(),n=fc();return t||n}function bb(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?Fp(n):ps.r(t)}var tl=typeof document>"u"?null:document;function N_(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),C_.has(h)||(C_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),Lt(n),l.head.appendChild(n)))}}function Ab(t){ps.D(t),N_("dns-prefetch",t,null)}function Sb(t,n){ps.C(t,n),N_("preconnect",t,n)}function wb(t,n,r){ps.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+An(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+An(r.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ii.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ii.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ro(f))||n==="script"&&l.querySelector(Co(f))||(n=l.createElement("link"),on(n,"link",t),Lt(n),l.head.appendChild(n)))}}function xb(t,n){ps.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ii.has(f)&&(t=S({rel:"modulepreload",href:t},n),ii.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Co(f)))return}l=r.createElement("link"),on(l,"link",t),Lt(l),r.head.appendChild(l)}}}function Rb(t,n,r){ps.S(t,n,r);var l=tl;if(l&&t){var h=wi(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ro(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ii.get(f))&&Cd(t,r);var I=g=l.createElement("link");Lt(I),on(I,"link",t),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Cb(t,n){ps.X(t,n);var r=tl;if(r&&t){var l=wi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Co(h)),f||(t=S({src:t,async:!0},n),(n=ii.get(h))&&Nd(t,n),f=r.createElement("script"),Lt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Nb(t,n){ps.M(t,n);var r=tl;if(r&&t){var l=wi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Co(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ii.get(h))&&Nd(t,n),f=r.createElement("script"),Lt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function I_(t,n,r,l){var h=(h=Ae.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=wi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ro(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ii.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ii.set(t,r),f||Ib(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=wi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+An(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",r),Lt(n),t.head.appendChild(n))}function il(t){return'[src="'+An(t)+'"]'}function Co(t){return"script[async]"+t}function O_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(r.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),on(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(Ro(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=D_(r),(h=ii.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),on(f,"link",l),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(Co(f)))?(n.instance=h,Lt(h),h):(l=r,(h=ii.get(f))&&(l=S({},r),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function M_(t,n,r){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(r,l)}else h=Ac,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ai]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function V_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Db(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ob(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(Ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,l=D_(l),(h=ii.get(h))&&Cd(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),on(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function Mb(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Vb,t),wc=null,Sc.call(t))}function Vb(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var No={$$typeof:fe,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function kb(t,n,r,l,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function j_(t,n,r,l,h,f,g,E,I,z,K,X){return t=new kb(t,n,r,g,I,z,K,X,E),n=1,f===!0&&(n|=24),f=jn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},df(f),t}function U_(t){return t?(t=Va,t):Va}function P_(t,n,r,l,h,f){h=U_(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=qs(t,l,n),r!==null&&(Nn(r,t,n),ao(r,t,n))}function L_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Dd(t,n){L_(t,n),(t=t.alternate)&&L_(t,n)}function z_(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&Nn(n,t,67108864),Dd(t,67108864)}}function B_(t){if(t.tag===13||t.tag===31){var n=Bn();n=Dr(n);var r=Hr(t,n);r!==null&&Nn(r,t,n),Dd(t,n)}}var Rc=!0;function jb(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Od(t,n,r,l)}finally{te.p=f,G.T=h}}function Ub(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Od(t,n,r,l)}finally{te.p=f,G.T=h}}function Od(t,n,r,l){if(Rc){var h=Md(l);if(h===null)_d(t,n,l,Cc,r),H_(t,l);else if(Lb(h,t,n,r,l))l.stopPropagation();else if(H_(t,l),n&4&&-1<Pb.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=vt(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-wt(g);E.entanglements[1]|=I,g&=~I}Pi(f),(it&6)===0&&(cc=Dt()+500,Ao(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&Nn(E,f,2),fc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,r)}}function Md(t){return t=Kn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case $i:return 2;case ws:return 8;case Gn:case ga:return 32;case Zi:return 268435456;default:return 32}default:return 32}}var kd=!1,Ws=null,er=null,tr=null,Io=new Map,Do=new Map,nr=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Oo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&z_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Lb(t,n,r,l,h){switch(n){case"focusin":return Ws=Oo(Ws,t,n,r,l,h),!0;case"dragenter":return er=Oo(er,t,n,r,l,h),!0;case"mouseover":return tr=Oo(tr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Io.set(f,Oo(Io.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Oo(Do.get(f)||null,t,n,r,l,h)),!0}return!1}function G_(t){var n=Si(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,li(t.priority,function(){B_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,li(t.priority,function(){B_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Gl=l,r.target.dispatchEvent(l),Gl=null}else return n=Qn(r),n!==null&&z_(n),t.blockedOn=r,!1;n.shift()}return!0}function F_(t,n,r){Nc(t)&&r.delete(n)}function zb(){kd=!1,Ws!==null&&Nc(Ws)&&(Ws=null),er!==null&&Nc(er)&&(er=null),tr!==null&&Nc(tr)&&(tr=null),Io.forEach(F_),Do.forEach(F_)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zb)))}var Dc=null;function Q_(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var f=Qn(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(I){return Ic(I,t)}Ws!==null&&Ic(Ws,t),er!==null&&Ic(er,t),tr!==null&&Ic(tr,t),Io.forEach(n),Do.forEach(n);for(var r=0;r<nr.length;r++){var l=nr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)G_(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Wt]||null;if(typeof f=="function")g||Q_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Wt]||null)E=g.formAction;else if(Vd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Q_(r)}}}function K_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Bn();P_(r,l,t,n,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P_(t.current,2,null,t,null,null),fc(),n[bi]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&G_(t)}};var Y_=e.version;if(Y_!=="19.2.0")throw Error(a(527,Y_,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{On=Mc.inject(Bb),$t=Mc}catch{}}return Vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ty,f=ny,g=iy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=j_(t,1,!1,null,null,r,l,null,h,f,g,K_),t[bi]=n.current,yd(t),new jd(n)},Vo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ty,g=ny,E=iy,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=j_(t,1,!0,n,r??null,l,h,I,f,g,E,K_),n.context=U_(null),r=n.current,l=Bn(),l=Dr(l),h=Bs(l),h.callback=null,qs(r,h,l),r=l,n.current.lanes=r,Nr(n,r),Pi(n),t[bi]=n.current,yd(t),new Oc(n)},Vo.version="19.2.0",Vo}var s0;function Zb(){if(s0)return Ld.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=$b(),Ld.exports}var Jb=Zb();const Wb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),r0=s=>{const e=eA(s);return e.charAt(0).toUpperCase()+e.slice(1)},zv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),tA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iA=pe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>pe.createElement("svg",{ref:y,...nA,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:zv("lucide",o),...!c&&!tA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>pe.createElement(_,A)),...Array.isArray(c)?c:[c]]));const ot=(s,e)=>{const i=pe.forwardRef(({className:a,...o},c)=>pe.createElement(iA,{ref:c,iconNode:e,className:zv(`lucide-${Wb(r0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=r0(s),i};const sA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rA=ot("award",sA);const aA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],lA=ot("calendar-days",aA);const oA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uA=ot("check",oA);const cA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zc=ot("chevron-right",cA);const hA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bv=ot("chevron-left",hA);const fA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dA=ot("circle-check-big",fA);const mA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],a0=ot("circle-pause",mA);const gA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pA=ot("circle-play",gA);const yA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_A=ot("clipboard-list",yA);const vA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sm=ot("clock",vA);const TA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],EA=ot("history",TA);const bA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],AA=ot("key-round",bA);const SA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wA=ot("lock",SA);const xA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qv=ot("log-out",xA);const RA=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],CA=ot("octagon-alert",RA);const NA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rm=ot("pen",NA);const IA=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],DA=ot("piggy-bank",IA);const OA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],l0=ot("plus",OA);const MA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],am=ot("rotate-ccw",MA);const VA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kA=ot("settings",VA);const jA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hv=ot("shield-check",jA);const UA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lm=ot("star",UA);const PA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hd=ot("target",PA);const LA=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],zA=ot("thumbs-down",LA);const BA=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],qA=ot("thumbs-up",BA);const HA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gd=ot("trash-2",HA);const GA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FA=ot("user-plus",GA);const QA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],o0=ot("wallet",QA);const KA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_h=ot("x",KA),YA=()=>{};var u0={};const Gv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},XA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(V=64)),a.push(i[A],i[S],i[V],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Gv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||S==null)throw new $A;const V=c<<2|p>>4;if(a.push(V),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(s){const e=Gv(s);return Fv.encodeByteArray(e,!0)},Jc=function(s){return ZA(s).replace(/\./g,"")},Qv=function(s){try{return Fv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WA=()=>JA().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof u0>"u")return;const s=u0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Qv(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return YA()||WA()||eS()||tS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kv=s=>vh()?.emulatorHosts?.[s],nS=s=>{const e=Kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Yv=()=>vh()?.config,Xv=s=>vh()?.[`_${s}`];class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $v(s){return(await fetch(s,{credentials:"include"})).ok}function sS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Lo={};function rS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?s.emulator.push(e):s.prod.push(e);return s}function aS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let c0=!1;function Zv(s,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Lo[s]===e||Lo[s]||c0)return;Lo[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=rS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{c0=!0,d()},V}function A(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=aS(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),se=i("learnmore"),ee=document.getElementById(se)||document.createElement("a"),he=i("preprendIcon"),ge=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const fe=V.element;p(fe),A(ee,se);const Me=_();y(ge,he),fe.append(ge,W,ee,Me),document.body.appendChild(fe)}c?(W.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function oS(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fS(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const pS="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?yS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,p,a)}}function yS(s,e){return s.replace(_S,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const _S=/\{\$([^}]+)}/g;function vS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(h0(c)&&h0(d)){if(!la(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function h0(s){return s!==null&&typeof s=="object"}function tu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function TS(s,e){const i=new ES(s,e);return i.subscribe.bind(i)}class ES{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function hn(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class AS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new iS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(s){return s===ia?void 0:s}function wS(s){return s.instantiationMode==="EAGER"}class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new AS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const RS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},CS=Fe.INFO,NS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},IS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=NS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const DS=(s,e)=>e.some(i=>s instanceof i);let f0,d0;function OS(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,om=new WeakMap,Wv=new WeakMap,Qd=new WeakMap,jm=new WeakMap;function VS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(fr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Jv.set(i,s)}).catch(()=>{}),jm.set(e,s),e}function kS(s){if(om.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jS(s){um=s(um)}function US(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Kd(this),e,...i);return Wv.set(a,e.sort?e.sort():[e]),fr(a)}:MS().includes(s)?function(...e){return s.apply(Kd(this),e),fr(Jv.get(this))}:function(...e){return fr(s.apply(Kd(this),e))}}function PS(s){return typeof s=="function"?US(s):(s instanceof IDBTransaction&&kS(s),DS(s,OS())?new Proxy(s,um):s)}function fr(s){if(s instanceof IDBRequest)return VS(s);if(Qd.has(s))return Qd.get(s);const e=PS(s);return e!==s&&(Qd.set(s,e),jm.set(e,s)),e}const Kd=s=>jm.get(s);function LS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=fr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const zS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Yd=new Map;function m0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=BS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||zS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Yd.set(e,c),c}jS(s=>({...s,get:(e,i,a)=>m0(e,i)||s.get(e,i,a),has:(e,i)=>!!m0(e,i)||s.has(e,i)}));class qS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",g0="0.14.6";const vs=new km("@firebase/app"),GS="@firebase/app-compat",FS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",$S="@firebase/auth-compat",ZS="@firebase/database",JS="@firebase/data-connect",WS="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",iw="@firebase/installations-compat",sw="@firebase/messaging",rw="@firebase/messaging-compat",aw="@firebase/performance",lw="@firebase/performance-compat",ow="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",fw="@firebase/firestore",dw="@firebase/ai",mw="@firebase/firestore-compat",gw="firebase",pw="12.6.0";const hm="[DEFAULT]",yw={[cm]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[FS]:"fire-analytics-compat",[YS]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[$S]:"fire-auth-compat",[ZS]:"fire-rtdb",[JS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[iw]:"fire-iid-compat",[sw]:"fire-fcm",[rw]:"fire-fcm-compat",[aw]:"fire-perf",[lw]:"fire-perf-compat",[ow]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[fw]:"fire-fst",[mw]:"fire-fst-compat",[dw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};const Wc=new Map,_w=new Map,fm=new Map;function p0(s,e){try{s.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function pl(s){const e=s.name;if(fm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const i of Wc.values())p0(i,s);for(const i of _w.values())p0(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function yi(s){return s==null?!1:s.settings!==void 0}const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new eu("app","Firebase",vw);class Tw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const xl=pw;function e1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:hm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=Yv()),!i)throw dr.create("no-options");const c=Wc.get(o);if(c){if(la(i,c.options)&&la(a,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const d=new xS(o);for(const y of fm.values())d.addComponent(y);const p=new Tw(i,a,d);return Wc.set(o,p),p}function t1(s=hm){const e=Wc.get(s);if(!e&&s===hm&&Yv())return e1();if(!e)throw dr.create("no-app",{appName:s});return e}function mr(s,e,i){let a=yw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}pl(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Ew="firebase-heartbeat-database",bw=1,Fo="firebase-heartbeat-store";let Xd=null;function n1(){return Xd||(Xd=LS(Ew,bw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function Aw(s){try{const i=(await n1()).transaction(Fo),a=await i.objectStore(Fo).get(i1(s));return await i.done,a}catch(e){if(e instanceof Ss)vs.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function y0(s,e){try{const a=(await n1()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(e,i1(s)),await a.done}catch(i){if(i instanceof Ss)vs.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(a.message)}}}function i1(s){return`${s.name}!${s.options.appId}`}const Sw=1024,ww=30;class xw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ww){const o=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_0(),{heartbeatsToSend:i,unsentEntries:a}=Rw(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function _0(){return new Date().toISOString().substring(0,10)}function Rw(s,e=Sw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),v0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Aw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function v0(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function Nw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function Iw(s){pl(new oa("platform-logger",e=>new qS(e),"PRIVATE")),pl(new oa("heartbeat",e=>new xw(e),"PRIVATE")),mr(cm,g0,s),mr(cm,g0,"esm2020"),mr("fire-js","")}Iw("");var Dw="firebase",Ow="12.6.0";mr(Dw,Ow,"app");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mw=s1,r1=new eu("auth","Firebase",s1());const eh=new km("@firebase/auth");function Vw(s,...e){eh.logLevel<=Fe.WARN&&eh.warn(`Auth (${xl}): ${s}`,...e)}function Bc(s,...e){eh.logLevel<=Fe.ERROR&&eh.error(`Auth (${xl}): ${s}`,...e)}function Ts(s,...e){throw Pm(s,...e)}function Bi(s,...e){return Pm(s,...e)}function a1(s,e,i){const a={...Mw(),[e]:i};return new eu("auth","Firebase",a).create(e,{appName:s.name})}function gr(s){return a1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return r1.create(s,...e)}function Ee(s,e,...i){if(!s)throw Pm(e,...i)}function ys(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function Es(s,e){s||ys(e)}function dm(){return typeof self<"u"&&self.location?.href||""}function kw(){return T0()==="http:"||T0()==="https:"}function T0(){return typeof self<"u"&&self.location?.protocol||null}function jw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kw()||cS()||"connection"in navigator)?navigator.onLine:!0}function Uw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=lS()||hS()}get(){return jw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){Es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class l1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zw=new nu(3e4,6e4);function Th(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rl(s,e,i,a,o={}){return o1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=tu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return uS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wl(s.emulatorConfig.host)&&(_.credentials="include"),l1.fetch()(await c1(s,s.config.apiHost,i,p),_)})}async function o1(s,e,i){s._canInitEmulator=!1;const a={...Pw,...e};try{const o=new Bw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw a1(s,A,_);Ts(s,A)}}catch(o){if(o instanceof Ss)throw o;Ts(s,"network-request-failed",{message:String(o)})}}async function u1(s,e,i,a,o={}){const c=await Rl(s,e,i,a,o);return"mfaPendingCredential"in c&&Ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function c1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return Lw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),zw.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(s,e,a);return o.customData._tokenResponse=i,o}async function qw(s,e){return Rl(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return Rl(s,"POST","/v1/accounts:lookup",e)}function zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hw(s,e=!1){const i=hn(s),a=await i.getIdToken(e),o=zm(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:zo($d(o.auth_time)),issuedAtTime:zo($d(o.iat)),expirationTime:zo($d(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function zm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function E0(s){const e=zm(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ss&&Gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Fw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const e=s.auth,i=await s.getIdToken(),a=await Qo(s,th(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?h1(o.providerUserInfo):[],d=Kw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=p?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Qw(s){const e=hn(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function h1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Yw(s,e){const i=await o1(s,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await c1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&wl(s.emulatorConfig.host)&&(y.credentials="include"),l1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Xw(s,e){return Rl(s,"POST","/v2/accounts:revokeToken",Th(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=E0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Yw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ys("not implemented")}}function sr(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Fw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Hw(this,e)}reload(){return Qw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Qo(this,qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:W,stsTokenManager:se}=i;Ee(S&&se,e,"internal-error");const ee=hl.fromJSON(this.name,se);Ee(typeof S=="string",e,"internal-error"),sr(a,e.name),sr(o,e.name),Ee(typeof V=="boolean",e,"internal-error"),Ee(typeof Q=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(p,e.name),sr(y,e.name),sr(_,e.name),sr(A,e.name);const he=new _i({uid:S,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(he.providerData=W.map(ge=>({...ge}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?h1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new hl;p.updateFromIdToken(a);const y=new _i({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const b0=new Map;function _s(s){Es(s instanceof Function,"Expected a class definition");let e=b0.get(s);return e?(Es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,b0.set(s,e),e)}class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}f1.type="NONE";const A0=f1;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(_s(A0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||_s(A0);const d=qc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await th(e,{idToken:A}).catch(()=>{});if(!V)break;S=await _i._fromGetAccountInfoResponse(e,V,A)}else S=_i._fromJSON(e,A);_!==c&&(p=S),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new fl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}function S0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_1(e))return"Blackberry";if(v1(e))return"Webos";if(m1(e))return"Safari";if((e.includes("chrome/")||g1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function d1(s=yn()){return/firefox\//i.test(s)}function m1(s=yn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g1(s=yn()){return/crios\//i.test(s)}function p1(s=yn()){return/iemobile/i.test(s)}function y1(s=yn()){return/android/i.test(s)}function _1(s=yn()){return/blackberry/i.test(s)}function v1(s=yn()){return/webos/i.test(s)}function Bm(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $w(s=yn()){return Bm(s)&&!!window.navigator?.standalone}function Zw(){return fS()&&document.documentMode===10}function T1(s=yn()){return Bm(s)||y1(s)||v1(s)||_1(s)||/windows phone/i.test(s)||p1(s)}function E1(s,e=[]){let i;switch(s){case"Browser":i=S0(yn());break;case"Worker":i=`${S0(yn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xl}/${a}`}class Jw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Ww(s,e={}){return Rl(s,"GET","/v2/passwordPolicy",Th(s,e))}const e2=6;class t2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??e2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class n2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new Jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(gr(this));const i=e?hn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ww(this),i=new t2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Xw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_s(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Vw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eh(s){return hn(s)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i2(s){qm=s}function s2(s){return qm.loadJS(s)}function r2(){return qm.gapiScript}function a2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function l2(s,e){const i=Um(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(la(c,e??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:e})}function o2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function u2(s,e,i){const a=Eh(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=b1(e),{host:d,port:p}=c2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(la(_,a.config.emulator)&&la(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,wl(d)?($v(`${c}//${d}${y}`),Zv("Auth",!0)):h2()}function b1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function c2(s){const e=b1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:x0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:x0(d)}}}function x0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function h2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class A1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function dl(s,e){return u1(s,"POST","/v1/accounts:signInWithIdp",Th(s,e))}const f2="http://localhost";class ua extends A1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ua(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tu(i)}return e}}class S1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends S1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends iu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ua._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ur extends iu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends iu{constructor(){super("twitter.com")}static credential(e,i){return ua._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function d2(s,e){return u1(s,"POST","/v1/accounts:signUp",Th(s,e))}class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await _i._fromIdTokenResponse(e,a,o),d=R0(a);return new _r({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=R0(a);return new _r({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function R0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function m2(s){if(yi(s.app))return Promise.reject(gr(s));const e=Eh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new _r({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await d2(e,{returnSecureToken:!0}),a=await _r._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ih extends Ss{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ih(e,i,a,o)}}function w1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,a):c})}async function g2(s,e,i=!1){const a=await Qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return _r._forOperation(s,"link",a)}async function p2(s,e,i=!1){const{auth:a}=s;if(yi(a.app))return Promise.reject(gr(a));const o="reauthenticate";try{const c=await Qo(s,w1(a,o,e,s),i);Ee(c.idToken,a,"internal-error");const d=zm(c.idToken);Ee(d,a,"internal-error");const{sub:p}=d;return Ee(s.uid===p,a,"user-mismatch"),_r._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function y2(s,e,i=!1){if(yi(s.app))return Promise.reject(gr(s));const a="signIn",o=await w1(s,a,e),c=await _r._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function _2(s,e,i,a){return hn(s).onIdTokenChanged(e,i,a)}function v2(s,e,i){return hn(s).beforeAuthStateChanged(e,i)}function T2(s,e,i,a){return hn(s).onAuthStateChanged(e,i,a)}const sh="__sak";class x1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,b2=10;class R1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Zw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,b2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const A2=R1;class C1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}C1.type="SESSION";const N1=C1;function S2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await S2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Hm("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function x2(s){qi().location.href=s}function I1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function R2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){return navigator?.serviceWorker?.controller||null}function N2(){return I1()?self:null}const D1="firebaseLocalStorageDb",I2=1,rh="firebaseLocalStorage",O1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function D2(){const s=indexedDB.deleteDatabase(D1);return new su(s).toPromise()}function gm(){const s=indexedDB.open(D1,I2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:O1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await D2(),e(await gm()))})})}async function C0(s,e,i){const a=Ah(s,!0).put({[O1]:e,value:i});return new su(a).toPromise()}async function O2(s,e){const i=Ah(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function N0(s,e){const i=Ah(s,!0).delete(e);return new su(i).toPromise()}const M2=800,V2=3;class M1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>V2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(N2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await C0(e,sh,"1"),await N0(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>O2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>N0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ah(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M1.type="LOCAL";const k2=M1;new nu(3e4,6e4);function j2(s,e){return e?_s(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends A1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function U2(s){return y2(s.auth,new Gm(s),s.bypassAuthState)}function P2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),p2(i,new Gm(s),s.bypassAuthState)}async function L2(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),g2(i,new Gm(s),s.bypassAuthState)}class V1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:Ts(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z2=new nu(2e3,1e4);class ul extends V1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z2.get())};e()}}ul.currentPopupAction=null;const B2="pendingRedirect",Hc=new Map;class q2 extends V1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const a=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(s,e){const i=Q2(e),a=F2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function G2(s,e){Hc.set(s._key(),e)}function F2(s){return _s(s._redirectPersistence)}function Q2(s){return qc(B2,s.config.apiKey,s.name)}async function K2(s,e,i=!1){if(yi(s.app))return Promise.reject(gr(s));const a=Eh(s),o=j2(a,e),d=await new q2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Y2=600*1e3;class X2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!k1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function k1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(s);default:return!1}}async function Z2(s,e={}){return Rl(s,"GET","/v1/projects",e)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W2=/^https?/;async function ex(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Z2(s);for(const i of e)try{if(tx(i))return}catch{}Ts(s,"unauthorized-domain")}function tx(s){const e=dm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!W2.test(i))return!1;if(J2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const nx=new nu(3e4,6e4);function D0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ix(s){return new Promise((e,i)=>{function a(){D0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D0(),i(Bi(s,"network-request-failed"))},timeout:nx.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=a2("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},s2(`${r2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function sx(s){return Gc=Gc||ix(s),Gc}const rx=new nu(5e3,15e3),ax="__/auth/iframe",lx="emulator/auth/iframe",ox={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,lx):`https://${s.config.authDomain}/${ax}`,a={apiKey:e.apiKey,appName:s.name,v:xl},o=ux.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${tu(a).slice(1)}`}async function hx(s){const e=await sx(s),i=qi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:cx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ox,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},rx.get());function y(){qi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,mx=600,gx="_blank",px="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(s,e,i,a=dx,o=mx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...fx,width:a.toString(),height:o.toString(),top:c,left:d},_=yn().toLowerCase();i&&(p=g1(_)?gx:i),d1(_)&&(e=e||px,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[Q,W])=>`${V}${Q}=${W},`,"");if($w(_)&&p!=="_self")return _x(e||"",p),new O0(null);const S=window.open(e||"",p,A);Ee(S,s,"popup-blocked");try{S.focus()}catch{}return new O0(S)}function _x(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vx="__/auth/handler",Tx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function M0(s,e,i,a,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:xl,eventId:o};if(e instanceof S1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof iu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${Ex}=${encodeURIComponent(y)}`:"";return`${bx(s)}?${tu(p).slice(1)}${_}`}function bx({config:s}){return s.emulator?Lm(s,Tx):`https://${s.authDomain}/${vx}`}const Zd="webStorageSupport";class Ax{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=K2,this._overrideRedirectResult=G2}async _openPopup(e,i,a,o){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await M0(e,i,a,dm(),o);return yx(e,c,Hm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await M0(e,i,a,dm(),o);return x2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hx(e),a=new X2(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},o=>{const c=o?.[0]?.[Zd];c!==void 0&&i(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return T1()||m1()||Bm()}}const Sx=Ax;var V0="@firebase/auth",k0="1.11.1";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rx(s){pl(new oa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(s)},_=new n2(a,o,c,y);return o2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pl(new oa("auth-internal",e=>{const i=Eh(e.getProvider("auth").getImmediate());return(a=>new wx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(V0,k0,xx(s)),mr(V0,k0,"esm2020")}const Cx=300,Nx=Xv("authIdTokenMaxAge")||Cx;let j0=null;const Ix=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Nx)return;const o=i?.token;j0!==o&&(j0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Dx(s=t1()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=l2(s,{popupRedirectResolver:Sx,persistence:[k2,A2,N1]}),a=Xv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ix(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,p=>d(p))}}const o=Kv("auth");return o&&u2(i,`http://${o}`),i}function Ox(){return document.getElementsByTagName("head")?.[0]??document}i2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Ox().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rx("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,j1;(function(){var s;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,D,N){for(var x=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)x[xe-2]=arguments[xe];return w.prototype[D].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];let N=C.g[3],x;x=w+(N^R&(D^N))+k[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=N+(D^w&(R^D))+k[1]+3905402710&4294967295,N=w+(x<<12&4294967295|x>>>20),x=D+(R^N&(w^R))+k[2]+606105819&4294967295,D=N+(x<<17&4294967295|x>>>15),x=R+(w^D&(N^w))+k[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(N^R&(D^N))+k[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=N+(D^w&(R^D))+k[5]+1200080426&4294967295,N=w+(x<<12&4294967295|x>>>20),x=D+(R^N&(w^R))+k[6]+2821735955&4294967295,D=N+(x<<17&4294967295|x>>>15),x=R+(w^D&(N^w))+k[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(N^R&(D^N))+k[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=N+(D^w&(R^D))+k[9]+2336552879&4294967295,N=w+(x<<12&4294967295|x>>>20),x=D+(R^N&(w^R))+k[10]+4294925233&4294967295,D=N+(x<<17&4294967295|x>>>15),x=R+(w^D&(N^w))+k[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(N^R&(D^N))+k[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=N+(D^w&(R^D))+k[13]+4254626195&4294967295,N=w+(x<<12&4294967295|x>>>20),x=D+(R^N&(w^R))+k[14]+2792965006&4294967295,D=N+(x<<17&4294967295|x>>>15),x=R+(w^D&(N^w))+k[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(D^N&(R^D))+k[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=N+(R^D&(w^R))+k[6]+3225465664&4294967295,N=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(N^w))+k[11]+643717713&4294967295,D=N+(x<<14&4294967295|x>>>18),x=R+(N^w&(D^N))+k[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^N&(R^D))+k[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=N+(R^D&(w^R))+k[10]+38016083&4294967295,N=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(N^w))+k[15]+3634488961&4294967295,D=N+(x<<14&4294967295|x>>>18),x=R+(N^w&(D^N))+k[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^N&(R^D))+k[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=N+(R^D&(w^R))+k[14]+3275163606&4294967295,N=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(N^w))+k[3]+4107603335&4294967295,D=N+(x<<14&4294967295|x>>>18),x=R+(N^w&(D^N))+k[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^N&(R^D))+k[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=N+(R^D&(w^R))+k[2]+4243563512&4294967295,N=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(N^w))+k[7]+1735328473&4294967295,D=N+(x<<14&4294967295|x>>>18),x=R+(N^w&(D^N))+k[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(R^D^N)+k[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=N+(w^R^D)+k[8]+2272392833&4294967295,N=w+(x<<11&4294967295|x>>>21),x=D+(N^w^R)+k[11]+1839030562&4294967295,D=N+(x<<16&4294967295|x>>>16),x=R+(D^N^w)+k[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^N)+k[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=N+(w^R^D)+k[4]+1272893353&4294967295,N=w+(x<<11&4294967295|x>>>21),x=D+(N^w^R)+k[7]+4139469664&4294967295,D=N+(x<<16&4294967295|x>>>16),x=R+(D^N^w)+k[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^N)+k[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=N+(w^R^D)+k[0]+3936430074&4294967295,N=w+(x<<11&4294967295|x>>>21),x=D+(N^w^R)+k[3]+3572445317&4294967295,D=N+(x<<16&4294967295|x>>>16),x=R+(D^N^w)+k[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^N)+k[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=N+(w^R^D)+k[12]+3873151461&4294967295,N=w+(x<<11&4294967295|x>>>21),x=D+(N^w^R)+k[15]+530742520&4294967295,D=N+(x<<16&4294967295|x>>>16),x=R+(D^N^w)+k[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(D^(R|~N))+k[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=N+(R^(w|~D))+k[7]+1126891415&4294967295,N=w+(x<<10&4294967295|x>>>22),x=D+(w^(N|~R))+k[14]+2878612391&4294967295,D=N+(x<<15&4294967295|x>>>17),x=R+(N^(D|~w))+k[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~N))+k[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=N+(R^(w|~D))+k[3]+2399980690&4294967295,N=w+(x<<10&4294967295|x>>>22),x=D+(w^(N|~R))+k[10]+4293915773&4294967295,D=N+(x<<15&4294967295|x>>>17),x=R+(N^(D|~w))+k[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~N))+k[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=N+(R^(w|~D))+k[15]+4264355552&4294967295,N=w+(x<<10&4294967295|x>>>22),x=D+(w^(N|~R))+k[6]+2734768916&4294967295,D=N+(x<<15&4294967295|x>>>17),x=R+(N^(D|~w))+k[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~N))+k[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=N+(R^(w|~D))+k[11]+3174756917&4294967295,N=w+(x<<10&4294967295|x>>>22),x=D+(w^(N|~R))+k[2]+718787259&4294967295,D=N+(x<<15&4294967295|x>>>17),x=R+(N^(D|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+N&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,k=this.C;let D=this.h,N=0;for(;N<w;){if(D==0)for(;N<=R;)o(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<w;)if(k[D++]=C.charCodeAt(N++),D==this.blockSize){o(this,k),D=0;break}}else for(;N<w;)if(k[D++]=C[N++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[w++]=this.g[R]>>>k&255;return C};function c(C,w){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let k=!0;for(let D=C.length-1;D>=0;D--){const N=C[D]|0;k&&N==w||(R[D]=N,k=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const w=[];let R=1;for(let k=0;C>=R;k++)w[k]=C/R|0,R*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ee(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let k=S;for(let N=0;N<C.length;N+=8){var D=Math.min(8,C.length-N);const x=parseInt(C.substring(N,N+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(x))):(k=k.j(R),k=k.add(_(x)))}return k}var S=y(0),V=y(1),Q=y(16777216);s=d.prototype,s.m=function(){if(se(this))return-ee(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(se(this))return"-"+ee(this).toString(C);const w=_(Math.pow(C,6));var R=this;let k="";for(;;){const D=Me(R,w).g;R=he(R,D.j(w));let N=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,W(R))return N+k;for(;N.length<6;)N="0"+N;k=N+k}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function se(C){return C.h==-1}s.l=function(C){return C=he(this,C),se(C)?-1:W(C)?0:1};function ee(C){const w=C.g.length,R=[];for(let k=0;k<w;k++)R[k]=~C.g[k];return new d(R,~C.h).add(V)}s.abs=function(){return se(this)?ee(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let D=0;D<=w;D++){let N=k+(this.i(D)&65535)+(C.i(D)&65535),x=(N>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);k=x>>>16,N&=65535,x&=65535,R[D]=x<<16|N}return new d(R,R[R.length-1]&-2147483648?-1:0)};function he(C,w){return C.add(ee(w))}s.j=function(C){if(W(this)||W(C))return S;if(se(this))return se(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(se(C))return ee(this.j(ee(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<C.g.length;D++){const N=this.i(k)>>>16,x=this.i(k)&65535,xe=C.i(D)>>>16,Le=C.i(D)&65535;R[2*k+2*D]+=x*Le,ge(R,2*k+2*D),R[2*k+2*D+1]+=N*Le,ge(R,2*k+2*D+1),R[2*k+2*D+1]+=x*xe,ge(R,2*k+2*D+1),R[2*k+2*D+2]+=N*xe,ge(R,2*k+2*D+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function ge(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function fe(C,w){this.g=C,this.h=w}function Me(C,w){if(W(w))throw Error("division by zero");if(W(C))return new fe(S,S);if(se(C))return w=Me(ee(C),w),new fe(ee(w.g),ee(w.h));if(se(w))return w=Me(C,ee(w)),new fe(ee(w.g),w.h);if(C.g.length>30){if(se(C)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var R=V,k=w;k.l(C)<=0;)R=Pe(R),k=Pe(k);var D=Ie(R,1),N=Ie(k,1);for(k=Ie(k,2),R=Ie(R,2);!W(k);){var x=N.add(k);x.l(C)<=0&&(D=D.add(R),N=x),k=Ie(k,1),R=Ie(R,1)}return w=he(C,D.j(w)),new fe(D,w)}for(D=S;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),N=_(R),x=N.j(w);se(x)||x.l(C)>0;)R-=k,N=_(R),x=N.j(w);W(N)&&(N=V),D=D.add(N),C=he(C,x)}return new fe(D,C)}s.B=function(C){return Me(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&C.i(k);return new d(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|C.i(k);return new d(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^C.i(k);return new d(R,this.h^C.h)};function Pe(C){const w=C.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(R,C.h)}function Ie(C,w){const R=w>>5;w%=32;const k=C.g.length-R,D=[];for(let N=0;N<k;N++)D[N]=w>0?C.i(N+R)>>>w|C.i(N+R+1)<<32-w:C.i(N+R);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,j1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,pr=d}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U1,ko,P1,Fc,pm,L1,z1,B1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break e;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,H){for(var ie=Array(arguments.length-2),De=2;De<arguments.length;De++)ie[De-2]=arguments[De];return m.prototype[P].apply(b,ie)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let ie=0;ie<H;ie++)u[v+ie]=P[ie]}else u.push(P)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function he(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const b=fe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var fe=new se(()=>new Me,u=>u.reset());class Me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Ie=!1,C=new ge,w=()=>{const u=Promise.resolve(void 0);Pe=()=>{u.then(R)}};function R(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){ee(v)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ie=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function xe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(xe,D),xe.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++G,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function je(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let H=0;H<q.length;H++)v=q[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ae(u,m,b,P);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new te(m,this.src,H,!!b,P),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(b,P,1),H&&(oe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,b){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ze={};function J(u,m,v,b,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)J(u,m[H],v,b,P);return null}return v=Hn(v),u&&u[Le]?u.J(m,v,p(b)?!!b.capture:!1,P):ye(u,m,v,!1,b,P)}function ye(u,m,v,b,P,H){if(!m)throw Error("Invalid event type");const ie=p(P)?!!P.capture:!!P;let De=Xt(u);if(De||(u[ke]=De=new re(u)),v=De.add(m,v,b,ie,H),v.proxy)return v;if(b=ze(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)N||(P=ie),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(Je(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ze(){function u(v){return m.call(u.src,u.listener,v)}const m=Yt;return u}function tt(u,m,v,b,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)tt(u,m[H],v,b,P);else b=p(b)?!!b.capture:!!b,v=Hn(v),u&&u[Le]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ae(m,v,b,P),v>-1&&(oe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Xt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,b,P)),(v=u>-1?m[u]:null)&&$e(v))}function $e(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])_e(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Je(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Xt(m))?(_e(v,u),v.h==0&&(v.src=null,m[ke]=null)):oe(u)}}}function Je(u){return u in Ze?Ze[u]:Ze[u]="on"+u}function Yt(u,m){if(u.da)u=!0;else{m=new xe(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&$e(u),u=v.call(b,m)}return u}function Xt(u){return u=u[ke],u instanceof re?u:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hn(u){return typeof u=="function"?u:(u[St]||(u[St]=function(m){return u.handleEvent(m)}),u[St])}function dt(){k.call(this),this.i=new re(this),this.M=this,this.G=null}S(dt,k),dt.prototype[Le]=!0,dt.prototype.removeEventListener=function(u,m,v,b){tt(this,u,m,v,b)};function Ue(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),ne(m,P)}P=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=m.g=v[ie],P=En(H,b,!0,m)&&P;if(H=m.g=u,P=En(H,b,!0,m)&&P,P=En(H,b,!1,m)&&P,v)for(ie=0;ie<v.length;ie++)H=m.g=v[ie],P=En(H,b,!1,m)&&P}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)oe(v[b]);delete u.g[m],u.h--}}this.G=null},dt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},dt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function En(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==v){const De=ie.listener,Ot=ie.ha||ie.src;ie.fa&&_e(u.i,ie),P=De.call(Ot,b)!==!1&&P}}return P&&!b.defaultPrevented}function Cr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xi(u){u.g=Cr(()=>{u.g=null,u.i&&(u.i=!1,Xi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dt extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){k.call(this),this.h=u,this.g={}}S(Ti,k);var $i=[];function ws(u){be(u.g,function(m,v){this.g.hasOwnProperty(v)&&$e(m)},u),u.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),ws(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,ga=d.JSON.parse,Zi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ai(){}function pa(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){D.call(this,"d")}S($t,D);function bn(){D.call(this,"c")}S(bn,D);var wt={},ya=null;function xs(){return ya=ya||new dt}wt.Ia="serverreachability";function _a(u){D.call(this,wt.Ia,u)}S(_a,D);function U(u){const m=xs();Ue(m,new _a(m))}wt.STAT_EVENT="statevent";function Se(u,m){D.call(this,wt.STAT_EVENT,u),this.stat=m}S(Se,D);function we(u){const m=xs();Ue(m,new Se(m,u))}wt.Ja="timingevent";function vt(u,m){D.call(this,wt.Ja,u),this.size=m}S(vt,D);function Tt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Rt(){this.g=!0}Rt.prototype.ua=function(){this.g=!1};function Fn(u,m,v,b,P,H){u.info(function(){if(u.g)if(H){var ie="",De=H.split("&");for(let nt=0;nt<De.length;nt++){var Ot=De[nt].split("=");if(Ot.length>1){const Et=Ot[0];Ot=Ot[1];const Xn=Et.split("_");ie=Xn.length>=2&&Xn[1]=="type"?ie+(Et+"="+Ot+"&"):ie+(Et+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+ie})}function hu(u,m,v,b,P,H,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+ie})}function Ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(b?" "+b:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}Rt.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return Gn(H)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vl;function Dr(){}S(Dr,ai),Dr.prototype.g=function(){return new XMLHttpRequest},Vl=new Dr;function Ji(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Pt={},Wt={};function bi(u,m,v){u.M=1,u.A=Or(zt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ai(u),u.B=zt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new oi,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Dt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&($i[0]=P.toString()),P=$i);for(let H=0;H<P.length;H++){const ie=J(v,P[H],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),U(),Fn(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const De=hi(this.g),Ot=this.g.ya(),nt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||De!=4||Ot==7||(Ot==8||nt<=0?U(3):U(2)),Si(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,we(12),Mn(this),Qn(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=mu(this,v),Et==Wt){De==4&&(this.m=4,we(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Pt){this.m=4,we(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,Et,null),wi(this,Et);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Qn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xl(ie),ie.P=!0,we(11))}}else Ei(this.i,this.l,v,null),wi(this,v);De==4&&Mn(this),this.o&&!this.K&&(De==4?Au(this.j,this):(this.o=!1,Ai(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Mn(this),Qn(this)}}}catch{}finally{}};function qh(u){if(!du(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const b=m.length,P=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Qn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Wt:(v=Number(m.substring(v,b)),isNaN(v)?Pt:(b+=1,b+v>m.length?Wt:(m=m.slice(b,b+v),u.C=b+v,m)))}li.prototype.cancel=function(){this.K=!0,Mn(this)};function Ai(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Tt(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(U(),we(17)),Mn(this),this.m=2,Qn(this)):Ta(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Au(u.j,u)}function Mn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ws(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Vs(v);else break e;Lr(v),we(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Tt(_(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Ca(v),!x(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let nt=P[m];const Et=nt[0];if(!(Et<=v.K))if(v.K=Et,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const Xn=nt[3];Xn!=null&&(v.ka=Xn,v.j.info("VER="+v.ka));const Vi=nt[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const fi=nt[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const di=u.g;if(di){const zr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var H=b.h;H.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ul(H,H.h),H.h=null))}if(b.G){const Na=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(b.wa=Na,rt(b.J,b.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=xu(b,b.L?b.ba:null,b.W),ie.L){Pl(b.h,ie);var De=ie,Ot=b.O;Ot&&(De.H=Ot),De.D&&(Si(De),Ai(De)),b.g=ie}else Eu(b);v.i.length>0&&Oi(v)}else nt[0]!="stop"&&nt[0]!="close"||Mi(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Mi(v,7):Kl(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}U(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ul(u,m){u.g?u.g.add(m):u.h=m}function Pl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,H=null;b>=0?(P=u[v].substring(0,b),H=u[v].substring(b+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,zl(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,en(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Rs(this,m[4]),this.h=Ci(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,ba,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Bl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,yu)),u.join("")},Vn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?en(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Rs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ie=0;ie<P.length;){const De=P[ie++];De=="."?b&&ie==P.length&&H.push(""):De==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&ie==P.length&&H.push("")):(H.push(De),b=!0)}b=H.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?zl(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Vn(u)}function en(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,v){m instanceof Ns?(u.i=m,Sa(u.i,u.l)):(v||(m=Mr(m,Cs)),u.i=new Ns(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function Or(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,pu=/[#\?:]/g,Bl=/[#\?]/g,Cs=/[#\?@]/g,yu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ns.prototype,s.add=function(u,m){Sn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){Sn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ql(u,m){return Sn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){Sn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Hl(u,m){Sn(u);let v=[];if(typeof m=="string")ql(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Sn(this),this.i=null,u=Is(this,u),ql(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Hl(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Ji(v);v=Hl(this,v);for(let H=0;H<v.length;H++){let ie=P;v[H]!==""&&(ie+="="+Ji(v[H])),u.push(ie)}}return this.i=u.join("&")};function vu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(_u(this,b),Aa(this,P,v))},u)),u.j=m}function ui(u,m){const v=new Rt;if(d.Image){const b=new Image;b.onload=A(Kn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Kn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Kn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Kn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Gl(u,m){const v=new Rt,b=new AbortController,P=setTimeout(()=>{b.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(P),H.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function Ds(){this.g=new Zi}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,ai),Ni.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){dt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Vr,dt),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):ci(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},s.Na=function(u){this.g&&(this.response=u,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return be(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function kr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Yn(v),typeof u=="string"?v!=null&&Ji(v):rt(u,m,v))}function ut(u){dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,dt);var Ii=/^https?$/i,Fl=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vl.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){jr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){jr(this,H)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ql(u),Wi(u)}function Ql(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),hi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let ie=String(u.D).match(gu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Ii.test(ie?ie.toLowerCase():"")}v=b}if(v)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var P=hi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ql(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ue(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ga(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=fu(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}je(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){we(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=xu(this,null,this.W),Oi(this)};function Kl(u){if(xa(u),u.I==3){var m=u.V++,v=zt(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),Pr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Or(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}wu(u)}function Vs(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function xa(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!jl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pe||w(),Ie||(Pe(),Ie=!0),C.add(m,u),u.D=0}}function Ra(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Tt(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new li(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ne(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,P,m),v=zt(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Pr(this,v),H&&(this.R?m="headers="+Ji(Yn(H))+"&"+m:this.u&&kr(v,this.u,H)),Ul(this.h,P),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),P.U=!0,bi(P,v,null)):bi(P,v,m),this.I=2}}else this.I==3&&(u?Yl(this,u):this.i.length==0||jl(this.h)||Yl(this))};function Yl(u,m){var v;m?v=m.l:v=u.V++;const b=zt(u.J);rt(b,"SID",u.M),rt(b,"RID",v),rt(b,"AID",u.K),Pr(u,b),u.u&&u.o&&kr(b,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ul(u.h,v),bi(v,b,m)}function Pr(u,m){u.H&&be(u.H,function(v,b){rt(m,b,v)}),u.l&&be({},function(v,b){rt(m,b,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let De=-1;for(;;){const Ot=["count="+v];De==-1?v>0?(De=P[0].g,Ot.push("ofs="+De)):De=0:Ot.push("ofs="+De);let nt=!0;for(let Et=0;Et<v;Et++){var H=P[Et].g;const Xn=P[Et].map;if(H-=De,H<0)De=Math.max(0,P[Et].g-100),nt=!1;else try{H="req"+H+"_"||"";try{var ie=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Vi,fi]of ie){let di=fi;p(fi)&&(di=Gn(fi)),Ot.push(H+Vi+"="+encodeURIComponent(di))}}catch(Vi){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{b&&b(Xn)}}if(nt){ie=Ot.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pe||w(),Ie||(Pe(),Ie=!0),C.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Tt(_(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Tt(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Vs(this),bu(this))};function Xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&kr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(zt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),Lr(this),we(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Ca(u),Xl(u),u.g=null;var b=2}else if(Ri(u.h,m))v=m.G,Pl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=xs(),Ue(b,new vt(b,v)),Oi(u)}else Eu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),Or(b),P?ui(b.toString(),v):Gl(b.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),wu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Ll(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var b=v instanceof Vn?zt(v):new Vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Rs(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Vn(null);b&&en(H,b),m&&(H.g=m),P&&Rs(H,P),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&rt(b,v,m),rt(b,"VER",u.ka),Pr(u,b),b}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ni({ab:v})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){dt.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}S(_n,dt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Kl(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Gn(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Oi(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,_n.Z.N.call(this)};function Nu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,$t);function Iu(){bn.call(this),this.status=1}S(Iu,bn);function ts(u){this.g=u}S(ts,Cu),ts.prototype.ra=function(){Ue(this.g,"a")},ts.prototype.qa=function(u){Ue(this.g,new Nu(u))},ts.prototype.pa=function(u){Ue(this.g,new Iu)},ts.prototype.oa=function(){Ue(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,B1=function(){return new ks},z1=function(){return xs()},L1=wt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Fc=Ir,Ml.COMPLETE="complete",P1=Ml,pa.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",dt.prototype.listen=dt.prototype.J,ko=pa,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,U1=ut}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",L0="4.9.2";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Cl="12.3.0";const ca=new km("@firebase/firestore");function rl(){return ca.logLevel}function le(s,...e){if(ca.logLevel<=Fe.DEBUG){const i=e.map(Fm);ca.debug(`Firestore (${Cl}): ${s}`,...i)}}function bs(s,...e){if(ca.logLevel<=Fe.ERROR){const i=e.map(Fm);ca.error(`Firestore (${Cl}): ${s}`,...i)}}function yl(s,...e){if(ca.logLevel<=Fe.WARN){const i=e.map(Fm);ca.warn(`Firestore (${Cl}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,q1(s,a,i)}function q1(s,e,i){let a=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function st(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||q1(e,o,a)}function Ne(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class H1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kx{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ra,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ra)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new H1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class jx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ux{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new jx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Lx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Qe(s,e){return s<e?-1:s>e?1:0}function ym(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?Qe(o,c):Jd(o)?1:-1}return Qe(s.length,e.length)}const zx=55296,Bx=57343;function Jd(s){const e=s.charCodeAt(0);return e>=zx&&e<=Bx}function _l(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const B0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):ym(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class gt extends zi{construct(e,i,a){return new gt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new gt(i)}static emptyPath(){return new gt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zi{construct(e,i,a){return new cn(e,i,a)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new cn([B0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(gt.fromString(e))}static fromName(e){return new me(gt.fromString(e).popFirst(5))}static empty(){return new me(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new gt(e.slice()))}}function G1(s,e,i){if(!i)throw new ae($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Hx(s,e,i,a){if(e===!0&&a===!0)throw new ae($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function q0(s){if(!me.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function H0(s){if(me.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function F1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Hi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sh(s);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!F1(s))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ae($.INVALID_ARGUMENT,i);return!0}const G0=-62135596800,F0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*F0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<G0)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Kt("string",_t._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new _t(0,0))}static max(){return new Re(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ko=-1;function Gx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new vr(o,me.empty(),e)}function Fx(s){return new vr(s.readTime,s.key,Ko)}class vr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(Re.min(),me.empty(),Ko)}static max(){return new vr(Re.max(),me.empty(),Ko)}}function Qx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Kx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Xx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Il(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Km=-1;function xh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function $x(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Q1="";function Zx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Q0(e)),e=Jx(s.get(i),e);return Q0(e)}function Jx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Q1:i+="";break;default:i+=c}}return i}function Q0(s){return s+Q1+""}function K0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function K1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,i){this.comparator=e,this.root=i||un.EMPTY}insert(e,i){return new xt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new un(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new un(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new qn([])}unionWith(e){let i=new Jt(cn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y1("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=Wx.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}const X1="server_timestamp",$1="__type__",Z1="__previous_value__",J1="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[$1]?.stringValue===X1}function Rh(s){const e=s.mapValue.fields[Z1];return Ym(e)?Rh(e):e}function Yo(s){const e=Tr(s.mapValue.fields[J1].timestampValue);return new _t(e.seconds,e.nanos)}class eR{constructor(e,i,a,o,c,d,p,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const lh="(default)";class Xo{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}const W1="__type__",tR="__max__",Uc={mapValue:{}},eT="__vector__",oh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:iR(s)?9007199254740991:nR(s)?10:11:Te(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=br(s);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Tr(o.timestampValue),p=Tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Er(o.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=jt(o.doubleValue),p=jt(c.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _l(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(K0(d)!==K0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Yi(d[y],p[y])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function $o(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function vl(s,e){if(s===e)return 0;const i=br(s),a=br(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=jt(c.integerValue||c.doubleValue),y=jt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return X0(s.timestampValue,e.timestampValue);case 4:return X0(Yo(s),Yo(e));case 5:return ym(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Er(c),y=Er(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Qe(p[_],y[_]);if(A!==0)return A}return Qe(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Qe(jt(c.latitude),jt(d.latitude));return p!==0?p:Qe(jt(c.longitude),jt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[oh]?.arrayValue,A=y[oh]?.arrayValue,S=Qe(_?.values?.length||0,A?.values?.length||0);return S!==0?S:$0(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=ym(y[S],A[S]);if(V!==0)return V;const Q=vl(p[y[S]],_[A[S]]);if(Q!==0)return Q}return Qe(y.length,A.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function X0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=Tr(s),a=Tr(e),o=Qe(i.seconds,a.seconds);return o!==0?o:Qe(i.nanos,a.nanos)}function $0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=vl(i[o],a[o]);if(c)return c}return Qe(i.length,a.length)}function Tl(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=_m(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${_m(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Qc(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return wr(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function Z0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function J0(s){return!!s&&"nullValue"in s}function W0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function nR(s){return(s?.mapValue?.fields||{})[W1]?.stringValue===eT}function Bo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Bo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bo(s.arrayValue.values[i]);return e}return{...s}}function iR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(i)}setAll(e){let i=cn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Bo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){wr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Dn(Bo(this.value))}}function tT(s){const e=[];return wr(s.fields,((i,a)=>{const o=new cn([i]);if(Kc(a)){const c=tT(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class pn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,o){return new pn(e,1,i,Re.min(),a,o,0)}static newNoDocument(e,i){return new pn(e,2,i,Re.min(),Re.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,Re.min(),Re.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function ev(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=vl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function tv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class Zo{constructor(e,i="asc"){this.field=e,this.dir=i}}function sR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class nT{}class Qt extends nT{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new aR(e,i,a):i==="array-contains"?new uR(e,a):i==="in"?new cR(e,a):i==="not-in"?new hR(e,a):i==="array-contains-any"?new fR(e,a):new Qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lR(e,a):new oR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vl(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(vl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends nT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new vi(e,i)}matches(e){return iT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(s){return s.op==="and"}function sT(s){return rR(s)&&iT(s)}function rR(s){for(const e of s.filters)if(e instanceof vi)return!1;return!0}function Tm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(sT(s))return s.filters.map((e=>Tm(e))).join(",");{const e=s.filters.map((i=>Tm(i))).join(",");return`${s.op}(${e})`}}function rT(s,e){return s instanceof Qt?(function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(s,e):s instanceof vi?(function(a,o){return o instanceof vi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&rT(d,o.filters[p])),!0):!1})(s,e):void Te(19439)}function aT(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tl(i.value)}`})(s):s instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(aT).join(" ,")+"}"})(s):"Filter"}class aR extends Qt{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class lR extends Qt{constructor(e,i){super(e,"in",i),this.keys=lT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class oR extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=lT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function lT(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class uR extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&$o(i.arrayValue,this.value)}}class cR extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class hR extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class fR extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class dR{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function nv(s,e=null,i=[],a=[],o=null,c=null,d=null){return new dR(s,e,i,a,o,c,d)}function $m(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Tm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tl(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!rT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!tv(s.startAt,e.startAt)&&tv(s.endAt,e.endAt)}function Em(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Dl{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mR(s,e,i,a,o,c,d,p){return new Dl(s,e,i,a,o,c,d,p)}function Jm(s){return new Dl(s)}function iv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oT(s){return s.collectionGroup!==null}function qo(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(cn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zo(c,a))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new Zo(cn.keyField(),a))}return e.Ie}function Gi(s){const e=Ne(s);return e.Ee||(e.Ee=gR(e,qo(s))),e.Ee}function gR(s,e){if(s.limitType==="F")return nv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zo(o.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return nv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e){const i=s.filters.concat([e]);return new Dl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ch(s,e,i){return new Dl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return Zm(Gi(s),Gi(e))&&s.limitType===e.limitType}function uT(s){return`${$m(Gi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>aT(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Tl(o))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=ev(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,p,y){const _=ev(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,qo(a),o))})(s,e)}function pR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cT(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=yR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function yR(s,e,i){const a=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?vl(y,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}const _R=new xt(me.comparator);function As(){return _R}const hT=new xt(me.comparator);function jo(...s){let e=hT;for(const i of s)e=e.insert(i.key,i);return e}function fT(s){let e=hT;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function sa(){return Ho()}function dT(){return Ho()}function Ho(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const vR=new xt(me.comparator),TR=new Jt(me.comparator);function Ke(...s){let e=TR;for(const i of s)e=e.add(i);return e}const ER=new Jt(Qe);function bR(){return ER}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function mT(s){return{integerValue:""+s}}function AR(s,e){return $x(e)?mT(e):Wm(s,e)}class Ih{constructor(){this._=void 0}}function SR(s,e,i){return s instanceof hh?(function(o,c){const d={fields:{[$1]:{stringValue:X1},[J1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ym(c)&&(c=Rh(c)),c&&(d.fields[Z1]=c),{mapValue:d}})(i,e):s instanceof Jo?pT(s,e):s instanceof Wo?yT(s,e):(function(o,c){const d=gT(o,c),p=sv(d)+sv(o.Ae);return vm(d)&&vm(o.Ae)?mT(p):Wm(o.serializer,p)})(s,e)}function wR(s,e,i){return s instanceof Jo?pT(s,e):s instanceof Wo?yT(s,e):i}function gT(s,e){return s instanceof fh?(function(a){return vm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class hh extends Ih{}class Jo extends Ih{constructor(e){super(),this.elements=e}}function pT(s,e){const i=_T(e);for(const a of s.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Wo extends Ih{constructor(e){super(),this.elements=e}}function yT(s,e){let i=_T(e);for(const a of s.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class fh extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function sv(s){return jt(s.integerValue||s.doubleValue)}function _T(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function xR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Jo&&o instanceof Jo||a instanceof Wo&&o instanceof Wo?_l(a.elements,o.elements,Yi):a instanceof fh&&o instanceof fh?Yi(a.Ae,o.Ae):a instanceof hh&&o instanceof hh})(s.transform,e.transform)}class RR{constructor(e,i){this.version=e,this.transformResults=i}}class ri{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function vT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new eg(s.key,ri.none()):new au(s.key,s.data,ri.none());{const i=s.data,a=Dn.empty();let o=new Jt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new xr(s.key,a,new qn(o.toArray()),ri.none())}}function CR(s,e,i){s instanceof au?(function(o,c,d){const p=o.value.clone(),y=av(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(o,c,d){if(!Yc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=av(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(TT(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Go(s,e,i,a){return s instanceof au?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=c.value.clone(),A=lv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof xr?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=lv(c.fieldTransforms,y,d),A=d.data;return A.setAll(TT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function NR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=gT(a.transform,o||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,c))}return i||null}function rv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_l(a,o,((c,d)=>xR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Dh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends Dh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function av(s,e,i){const a=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,wR(d,p,i[o]))}return a}function lv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,SR(c,d,e))}return a}class eg extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&CR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=dT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=vT(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((i,a)=>rv(i,a)))&&_l(this.baseMutations,e.baseMutations,((i,a)=>rv(i,a)))}}class tg{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return vR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new tg(e,i,a,o)}}class OR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Xe;function VR(s){switch(s){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function ET(s){if(s===void 0)return bs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ft.OK:return $.OK;case Ft.CANCELLED:return $.CANCELLED;case Ft.UNKNOWN:return $.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return $.INTERNAL;case Ft.UNAVAILABLE:return $.UNAVAILABLE;case Ft.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ft.NOT_FOUND:return $.NOT_FOUND;case Ft.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ft.ABORTED:return $.ABORTED;case Ft.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ft.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:s})}}(Xe=Ft||(Ft={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function kR(){return new TextEncoder}const jR=new pr([4294967295,4294967295],0);function ov(s){const e=kR().encode(s),i=new j1;return i.update(e),new Uint8Array(i.digest())}function uv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([o,c],0)]}class ng{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(pr.fromNumber(a)));return o.compare(jR)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ov(e),[a,o]=uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ng(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=ov(e),[a,o]=uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(Re.min(),o,new xt(Qe),As(),Ke())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Ke(),Ke(),Ke())}}class Xc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class bT{constructor(e,i){this.targetId=e,this.Ce=i}}class AT{constructor(e,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class cv{constructor(){this.ve=0,this.Fe=hv(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=hv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Pc(),this.He=Pc(),this.Ye=new xt(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Em(c))if(a===0){const d=new me(c.path);this.et(i,d,pn.newNoDocument(d,Re.min()))}else st(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Er(a).toUint8Array()}catch(y){if(y instanceof Y1)return yl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ng(d,o,c)}catch(y){return yl(y instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const y=new me(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,pn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Oh(e,i,this.Ye,this.je,a);return this.je=As(),this.Je=Pc(),this.He=Pc(),this.Ye=new xt(Qe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new cv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new xt(me.comparator)}function hv(){return new xt(me.comparator)}const PR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class BR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Am(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function qR(s,e){return dh(s,e.toTimestamp())}function Fi(s){return st(!!s,49232),Re.fromTimestamp((function(i){const a=Tr(i);return new _t(a.seconds,a.nanos)})(s))}function ig(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function wT(s){const e=gt.fromString(s);return st(IT(e),10190,{key:e.toString()}),e}function wm(s,e){return ig(s.databaseId,e.path)}function Wd(s,e){const i=wT(e);if(i.get(1)!==s.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(RT(i))}function xT(s,e){return ig(s.databaseId,e)}function HR(s){const e=wT(s);return e.length===4?gt.emptyPath():RT(e)}function xm(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function RT(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function fv(s,e,i){return{name:wm(s,e),fields:i.value.mapValue.fields}}function GR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(st(A===void 0||typeof A=="string",58123),fn.fromBase64String(A||"")):(st(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),fn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:ET(_.code);return new ae(A,_.message||"")})(d);i=new AT(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Re.min(),p=new Dn({mapValue:{fields:a.document.fields}}),y=pn.newFoundDocument(o,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Xc(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(s,a.document),c=a.readTime?Fi(a.readTime):Re.min(),d=pn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new MR(o,c),p=a.targetId;i=new bT(p,d)}}return i}function FR(s,e){let i;if(e instanceof au)i={update:fv(s,e.key,e.value)};else if(e instanceof eg)i={delete:wm(s,e.key)};else if(e instanceof xr)i={update:fv(s,e.key,e.data),updateMask:eC(e.fieldMask)};else{if(!(e instanceof IR))return Te(16599,{Vt:e.type});i={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:qR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function QR(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(Re.min())&&(d=Fi(c)),new RR(d,o.transformResults||[])})(i,e)))):[]}function KR(s,e){return{documents:[xT(s,e.path)]}}function YR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=xT(s,o);const c=(function(_){if(_.length!==0)return NT(vi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ll(V.field),direction:ZR(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Am(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function XR(s){let e=HR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){st(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=CT(S);return V instanceof vi&&sT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(W){return new Zo(ol(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,xh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,Q=S.values||[];return new uh(Q,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,Q=S.values||[];return new uh(Q,V)})(i.endAt)),mR(e,o,d,c,p,"F",y,_)}function $R(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function CT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((a=>CT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function ZR(s){return PR[s]}function JR(s){return LR[s]}function WR(s){return zR[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return cn.fromServerFormat(s.fieldPath)}function NT(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(W0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(J0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(W0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(J0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:JR(i.op),value:i.value}}})(s):s instanceof vi?(function(i){const a=i.getFilters().map((o=>NT(o)));return a.length===1?a[0]:{compositeFilter:{op:WR(i.op),filters:a}}})(s):Te(54877,{filter:s})}function eC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function IT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,i,a,o,c=Re.min(),d=Re.min(),p=fn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tC{constructor(e){this.yt=e}}function nC(s){const e=XR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ch(e,e.limit,"L"):e}class iC{constructor(){this.Cn=new sC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class sC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(gt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(gt.comparator)).toArray()}}const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(DT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const mv="LruGarbageCollector",rC=1048576;function gv([s,e],[i,a]){const o=Qe(s,i);return o===0?Qe(e,a):o}class aC{constructor(e){this.Ir=e,this.buffer=new Jt(gv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Il(i)?le(mv,"Ignoring IndexedDB error during garbage collection: ",i):await Nl(i)}await this.Vr(3e5)}))}}class oC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(wh.ce);const a=new aC(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(dv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),rl()<=Fe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function uC(s,e){return new oC(s,e)}class cC{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class fC{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Go(a.mutation,o,qn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const o=sa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=jo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=As();const d=Ho(),p=(function(){return Ho()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof xr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Go(A.mutation,_,A.mutation.getFieldMask(),_t.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new hC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new xt(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||qn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(o.get(p.batchId)||Ke()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=dT();A.forEach((V=>{if(!c.has(V)){const Q=vT(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):oT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(sa());let p=Ko,y=c;return d.next((_=>Z.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ke()))).next((A=>({batchId:p,changes:fT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(y=>{const _=(function(S,V){return new Dl(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let p=jo();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Go(A.mutation,_,qn.empty(),_t.now()),Nh(i,_)&&(p=p.insert(y,_))})),p}))}}class dC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nC(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),Z.resolve()}}class mC{constructor(){this.overlays=new xt(me.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=sa(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new xt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=sa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=sa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new OR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class sg{constructor(){this.Qr=new Jt(nn.$r),this.Ur=new Jt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new me(new gt([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new me(new gt([])),a=new nn(i,e),o=new nn(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return me.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||me.comparator(e.key,i.key)}}class pC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(nn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new nn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Qe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new nn(new me(c),0);let p=new Jt(Qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yC{constructor(e){this.ri=e,this.docs=(function(){return new xt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let a=As();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=As();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Qx(Fx(A),a)<=0||(o.has(A.key)||Nh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new _C(this)}getSize(e){return Z.resolve(this.size)}}class _C extends cC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vC{constructor(e){this.persistence=e,this.si=new da((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new El(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class OT{constructor(e,i){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=e(this),this.Pi=new vC(this),this.indexManager=new iC,this.remoteDocumentCache=(function(o){return new yC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tC(i),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new pC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new TC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class TC extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=me.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new da((a=>Zx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=uC(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ag(e,i.fromCache,a,o)}}class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dS()?8:Xx(yn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(rl()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(rl()<=Fe.DEBUG&&le("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(rl()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):Z.resolve())}ys(e,i){if(iv(i))return Z.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ch(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,ch(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return iv(i)||o.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(rl()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.vs(e,d,i,Gx(o,Ko)).next((p=>p)))}))}Ds(e,i){let a=new Jt(cT(e));return i.forEach(((o,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return rl()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",al(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lg="LocalStore",AC=3e8;class SC{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new xt(Qe),this.xs=new da((c=>$m(c)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wC(s,e,i,a){return new SC(s,e,i,a)}async function MT(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ke();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function xC(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let Q=Z.resolve();return V.forEach((W=>{Q=Q.next((()=>A.getEntry(y,W))).next((se=>{const ee=_.docVersions.get(W);st(ee!==null,48541),se.version.compareTo(ee)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),A.addEntry(se)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ke();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function VT(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function RC(s,e){const i=Ne(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const V=o.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(fn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),o=o.insert(S,Q),(function(se,ee,he){return se.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=AC?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(V,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=As(),_=Ke();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(CC(c,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Re.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function CC(s,e,i){let a=Ke(),o=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=As();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(lg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function NC(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function IC(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Rm(s,e,i){const a=Ne(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;le(lg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function pv(s,e,i){const a=Ne(s);let o=Re.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Ne(y),V=S.xs.get(A);return V!==void 0?Z.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(a,d,Gi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Re.min(),i?c:Ke()))).next((p=>(DC(a,pR(e),p),{documents:p,Qs:c})))))}function DC(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class yv{constructor(){this.activeTargetIds=bR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OC{constructor(){this.Mo=new yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MC{Oo(e){}shutdown(){}}const _v="ConnectivityMonitor";class vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(_v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Cm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const em="RestConnection",VC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Cm(),p=this.zo(e,i.toUriEncodedString());le(em,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),A=wl(_);return this.Jo(e,p,y,a,A).then((S=>(le(em,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yl(em,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=VC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mn="WebChannelConnection";class UC extends kC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Cm();return new Promise(((p,y)=>{const _=new U1;_.setWithCredentials(!0),_.listenOnce(P1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const S=_.getResponseJson();le(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Fc.TIMEOUT:le(mn,`RPC '${e}' ${d} timed out`),y(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const V=_.getStatus();if(le(mn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const se=(function(he){const ge=he.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN})(W.status);y(new ae(se,W.message))}else y(new ae($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(mn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);le(mn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=B1(),p=z1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");le(mn,`Creating RPC '${e}' stream ${o}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let V=!1,Q=!1;const W=new jC({Yo:ee=>{Q?le(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(V||(le(mn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),V=!0),le(mn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),se=(ee,he,ge)=>{ee.listen(he,(fe=>{try{ge(fe)}catch(Me){setTimeout((()=>{throw Me}),0)}}))};return se(S,ko.EventType.OPEN,(()=>{Q||(le(mn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),se(S,ko.EventType.CLOSE,(()=>{Q||(Q=!0,le(mn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),se(S,ko.EventType.ERROR,(ee=>{Q||(Q=!0,yl(mn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ae($.UNAVAILABLE,"The operation could not be completed")))})),se(S,ko.EventType.MESSAGE,(ee=>{if(!Q){const he=ee.data[0];st(!!he,16349);const ge=he,fe=ge?.error||ge[0]?.error;if(fe){le(mn,`RPC '${e}' stream ${o} received error:`,fe);const Me=fe.status;let Pe=(function(w){const R=Ft[w];if(R!==void 0)return ET(R)})(Me),Ie=fe.message;Pe===void 0&&(Pe=$.INTERNAL,Ie="Unknown error status: "+Me+" with message "+fe.message),Q=!0,W.a_(new ae(Pe,Ie)),S.close()}else le(mn,`RPC '${e}' stream ${o} received:`,he),W.u_(he)}})),se(p,L1.STAT_EVENT,(ee=>{ee.stat===pm.PROXY?le(mn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===pm.NOPROXY&&le(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Mh(s){return new BR(s,!0)}class kT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tv="PersistentStream";class jT{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ae($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PC extends jT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=GR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Fi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Em(y)?{documents:KR(c,y)}:{query:YR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ST(c,d.resumeToken);const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=$R(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.q_(i)}}class LC extends jT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QR(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>FR(this.serializer,a)))};this.q_(i)}}class zC{}class BC extends zC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Sm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Sm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class HC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ma(this)&&(le(ha,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Ra=new qC(a,o)}}async function Vh(s){if(ma(s))for(const e of s.da)await e(!0)}async function ou(s){for(const e of s.da)await e(!1)}function UT(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?cg(i):Ol(i).O_()&&ug(i,e))}function og(s,e){const i=Ne(s),a=Ol(i);i.Ia.delete(e),a.O_()&&PT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ma(i)&&i.Ra.set("Unknown"))}function ug(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ol(s).Y_(e)}function PT(s,e){s.Va.Ue(e),Ol(s).Z_(e)}function cg(s){s.Va=new UR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ol(s).start(),s.Ra.ua()}function hg(s){return ma(s)&&!Ol(s).x_()&&s.Ia.size>0}function ma(s){return Ne(s).Ea.size===0}function LT(s){s.Va=void 0}async function GC(s){s.Ra.set("Online")}async function FC(s){s.Ia.forEach(((e,i)=>{ug(s,e)}))}async function QC(s,e){LT(s),hg(s)?(s.Ra.ha(e),cg(s)):s.Ra.set("Unknown")}async function KC(s,e,i){if(s.Ra.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){le(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gh(s,a)}else if(e instanceof Xc?s.Va.Ze(e):e instanceof bT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await VT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(fn.EMPTY_BYTE_STRING,A.snapshotVersion)),PT(c,y);const S=new hr(A.target,y,_,A.sequenceNumber);ug(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(ha,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,e,i){if(!Il(e))throw e;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),i||(i=()=>VT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function zT(s,e){return e().catch((i=>gh(s,i,e)))}async function kh(s){const e=Ne(s),i=Ar(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;YC(e);)try{const o=await NC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,XC(e,o)}catch(o){await gh(e,o)}BT(e)&&qT(e)}function YC(s){return ma(s)&&s.Ta.length<10}function XC(s,e){s.Ta.push(e);const i=Ar(s);i.O_()&&i.X_&&i.ea(e.mutations)}function BT(s){return ma(s)&&!Ar(s).x_()&&s.Ta.length>0}function qT(s){Ar(s).start()}async function $C(s){Ar(s).ra()}async function ZC(s){const e=Ar(s);for(const i of s.Ta)e.ea(i.mutations)}async function JC(s,e,i){const a=s.Ta.shift(),o=tg.from(a,e,i);await zT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await kh(s)}async function WC(s,e){e&&Ar(s).X_&&await(async function(a,o){if((function(d){return VR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Ar(a).B_(),await zT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kh(a)}})(s,e),BT(s)&&qT(s)}async function Ev(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),le(ha,"RemoteStore received new credentials");const a=ma(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function eN(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Ol(s){return s.ma||(s.ma=(function(i,a,o){const c=Ne(i);return c.sa(),new PC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:GC.bind(null,s),t_:FC.bind(null,s),r_:QC.bind(null,s),H_:KC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hg(s)?cg(s):s.Ra.set("Unknown")):(await s.ma.stop(),LT(s))}))),s.ma}function Ar(s){return s.fa||(s.fa=(function(i,a,o){const c=Ne(i);return c.sa(),new LC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,s),r_:WC.bind(null,s),ta:ZC.bind(null,s),na:JC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new fg(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Il(s))return new ae($.UNAVAILABLE,`${e}: ${s}`);throw s}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class bv{constructor(){this.ga=new xt(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new bl(e,i,ml.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class tN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nN{constructor(){this.queries=Av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ne(i),c=o.queries;o.queries=Av(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ae($.ABORTED,"Firestore shutting down"))}}function Av(){return new da((s=>uT(s)),Ch)}async function iN(s,e){const i=Ne(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new tN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=dg(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mg(i)}async function sN(s,e){const i=Ne(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rN(s,e){const i=Ne(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&mg(i)}function aN(s,e,i){const a=Ne(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function mg(s){s.Ca.forEach((e=>{e.next()}))}var Nm,Sv;(Sv=Nm||(Nm={})).Ma="default",Sv.Cache="cache";class lN{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class HT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class oN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=cT(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new bv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const V=o.get(A),Q=Nh(this.query,S)?S:null,W=!!V&&this.mutatedKeys.has(V.key),se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;V&&Q?V.data.isEqual(Q.data)?W!==se&&(a.track({type:3,doc:Q}),ee=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),ee=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),ee=!0):V&&!Q&&(a.track({type:1,doc:V}),ee=!0,(y||_)&&(p=!0)),ee&&(Q?(d=d.add(Q),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,W){const se=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return se(Q)-se(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new GT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new HT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class uN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class cN{constructor(e){this.key=e,this.hu=!1}}class hN{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>uT(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new xt(me.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(s,e,i=!0){const a=$T(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await FT(a,e,i,!0),o}async function dN(s,e){const i=$T(s);await FT(i,e,!0,!1)}async function FT(s,e,i,a){const o=await IC(s.localStore,Gi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await mN(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&UT(s.remoteStore,o),p}async function mN(s,e,i,a,o){s.pu=(S,V,Q)=>(async function(se,ee,he,ge){let fe=ee.view.ru(he);fe.Cs&&(fe=await pv(se.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,fe))));const Me=ge&&ge.targetChanges.get(ee.targetId),Pe=ge&&ge.targetMismatches.get(ee.targetId)!=null,Ie=ee.view.applyChanges(fe,se.isPrimaryClient,Me,Pe);return xv(se,ee.targetId,Ie.au),Ie.snapshot})(s,S,V,Q);const c=await pv(s.localStore,e,!0),d=new oN(e,c.Qs),p=d.ru(c.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);xv(s,i,_.au);const A=new uN(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function gN(s,e,i){const a=Ne(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&og(a.remoteStore,o.targetId),Im(a,o.targetId)})).catch(Nl)):(Im(a,o.targetId),await Rm(a.localStore,o.targetId,!0))}async function pN(s,e){const i=Ne(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),og(i.remoteStore,a.targetId))}async function yN(s,e,i){const a=SN(s);try{const o=await(function(d,p){const y=Ne(d),_=_t.now(),A=p.reduce(((Q,W)=>Q.add(W.key)),Ke());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=As(),se=Ke();return y.Ns.getEntries(Q,A).next((ee=>{W=ee,W.forEach(((he,ge)=>{ge.isValidDocument()||(se=se.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,W))).next((ee=>{S=ee;const he=[];for(const ge of p){const fe=NR(ge,S.get(ge.key).overlayedDocument);fe!=null&&he.push(new xr(ge.key,fe,tT(fe.value.mapValue),ri.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,he,p)})).next((ee=>{V=ee;const he=ee.applyToLocalDocumentSet(S,se);return y.documentOverlayCache.saveOverlays(Q,ee.batchId,he)}))})).then((()=>({batchId:V.batchId,changes:fT(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new xt(Qe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await uu(a,o.changes),await kh(a.remoteStore)}catch(o){const c=dg(o,"Failed to persist write");i.reject(c)}}async function QT(s,e){const i=Ne(s);try{const a=await RC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await Nl(a)}}function wv(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Ne(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&mg(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function _N(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new xt(me.comparator);d=d.insert(c,pn.newNoDocument(c,Re.min()));const p=Ke().add(c),y=new Oh(Re.min(),new Map,new xt(Qe),d,p);await QT(a,y),a.du=a.du.remove(c),a.Au.delete(e),pg(a)}else await Rm(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(Nl)}async function vN(s,e){const i=Ne(s),a=e.batch.batchId;try{const o=await xC(i.localStore,e);YT(i,a,null),KT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await Nl(o)}}async function TN(s,e,i){const a=Ne(s);try{const o=await(function(d,p){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(st(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);YT(a,e,i),KT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await Nl(o)}}function KT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function YT(s,e,i){const a=Ne(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||XT(s,a)}))}function XT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(og(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pg(s))}function xv(s,e,i){for(const a of i)a instanceof HT?(s.Ru.addReference(a.key,e),EN(s,a)):a instanceof GT?(le(gg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||XT(s,a.key)):Te(19791,{wu:a})}function EN(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(gg,"New document in limbo: "+i),s.Eu.add(a),pg(s))}function pg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(gt.fromString(e)),a=s.fu.next();s.Au.set(a,new cN(i)),s.du=s.du.insert(i,a),UT(s.remoteStore,new hr(Gi(Jm(i.path)),a,"TargetPurposeLimboResolution",wh.ce))}}async function uu(s,e,i){const a=Ne(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=ag.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=Ne(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(V=>Z.forEach(V.Es,(Q=>A.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>Z.forEach(V.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!Il(S))throw S;le(lg,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const Q=A.Ms.get(V),W=Q.snapshotVersion,se=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(V,se)}}})(a.localStore,c))}async function bN(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){le(gg,"User change. New user:",e.toKey());const a=await MT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ae($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function AN(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function $T(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_N.bind(null,e),e.Pu.H_=rN.bind(null,e.eventManager),e.Pu.yu=aN.bind(null,e.eventManager),e}function SN(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TN.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wC(this.persistence,new bC,e.initialUser,this.serializer)}Cu(e){return new OT(rg.mi,this.serializer)}Du(e){return new OC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class wN extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new OT((a=>mh.mi(a,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nN})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=(function(c){return new UC(c)})(e.databaseInfo);return(function(c,d,p,y){return new BC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new HC(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>wv(this.syncEngine,i,0)),(function(){return vv.v()?new vv:new MC})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,A){const S=new hN(o,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);le(ha,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class xN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Sr="FirestoreClient";class RN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),le(Sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await MT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Rv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CN(s);le(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Ev(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Ev(e.remoteStore,o))),s._onlineComponents=e}async function CN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Sr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yl("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new ph)}}else le(Sr,"Using default OfflineComponentProvider"),await nm(s,new wN(void 0));return s._offlineComponents}async function ZT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Sr,"Using user provided OnlineComponentProvider"),await Rv(s,s._uninitializedComponentsProvider._online)):(le(Sr,"Using default OnlineComponentProvider"),await Rv(s,new Dm))),s._onlineComponents}function NN(s){return ZT(s).then((e=>e.syncEngine))}async function Cv(s){const e=await ZT(s),i=e.eventManager;return i.onListen=fN.bind(null,e.syncEngine),i.onUnlisten=gN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),i}function JT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Nv=new Map;const WT="firestore.googleapis.com",Iv=!0;class Dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WT,this.ssl=Iv}else this.host=e.host,this.ssl=e.ssl??Iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rC)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Mx;switch(a.type){case"firstParty":return new Ux(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Nv.get(i);a&&(le("ComponentProvider","Removing Datastore"),Nv.delete(i),a.terminate())})(this),Promise.resolve()}}function IN(s,e,i,a={}){s=Hi(s,jh);const o=wl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&($v(`https://${p}`),Zv("Firestore",!0)),c.host!==WT&&c.host!==p&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!la(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=gn.MOCK_USER;else{_=sS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new gn(S)}s._authCredentials=new Vx(new H1(_,A))}}class Rr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Ut._jsonSchema))return new Ut(e,a||null,new me(gt.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Kt("string",Ut._jsonSchemaVersion),referencePath:Kt("string")};class yr extends Rr{constructor(e,i,a){super(e,i,Jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new me(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function im(s,e,...i){if(s=hn(s),G1("collection","path",e),s instanceof jh){const a=gt.fromString(e,...i);return H0(a),new yr(s,null,a)}{if(!(s instanceof Ut||s instanceof yr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(gt.fromString(e,...i));return H0(a),new yr(s.firestore,null,a)}}function It(s,e,...i){if(s=hn(s),arguments.length===1&&(e=Qm.newId()),G1("doc","path",e),s instanceof jh){const a=gt.fromString(e,...i);return q0(a),new Ut(s,null,new me(a))}{if(!(s instanceof Ut||s instanceof yr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(gt.fromString(e,...i));return q0(a),new Ut(s.firestore,s instanceof yr?s.converter:null,new me(a))}}const Ov="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&le(Ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;le(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",Vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=fg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function kv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class fa extends jh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function DN(s,e){const i=typeof s=="object"?s:t1(),a=typeof s=="string"?s:lh,o=Um(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=nS("firestore");c&&IN(o,...c)}return o}function eE(s){if(s._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ON(s),s._firestoreClient}function ON(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new eR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(fn.fromBase64String(e))}catch(i){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Kt("string",si._jsonSchemaVersion),bytes:Kt("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Kt("string",Qi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Kt("string",Ki._jsonSchemaVersion),vectorValues:Kt("object")};const MN=/^__.*__$/;class VN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class tE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function nE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class _g{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nE(this.Ac)&&MN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}Cc(e,i,a,o=!1){return new _g({Ac:e,methodName:i,Dc:a,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new kN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function iE(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);vg("Data must be an object, but it was:",d,a);const p=sE(a,d);let y,_;if(c.merge)y=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=Om(e,S,i);if(!d.contains(V))throw new ae($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);aE(A,V)||A.push(V)}y=new qn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new VN(new Dn(p),y,_)}class Lh extends yg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function jN(s,e,i,a){const o=s.Cc(1,e,i);vg("Data must be an object, but it was:",o,a);const c=[],d=Dn.empty();wr(a,((y,_)=>{const A=Tg(e,y,i);_=hn(_);const S=o.yc(A);if(_ instanceof Lh)c.push(A);else{const V=cu(_,S);V!=null&&(c.push(A),d.set(A,V))}}));const p=new qn(c);return new tE(d,p,o.fieldTransforms)}function UN(s,e,i,a,o,c){const d=s.Cc(1,e,i),p=[Om(e,a,i)],y=[o];if(c.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Om(e,c[V])),y.push(c[V+1]);const _=[],A=Dn.empty();for(let V=p.length-1;V>=0;--V)if(!aE(_,p[V])){const Q=p[V];let W=y[V];W=hn(W);const se=d.yc(Q);if(W instanceof Lh)_.push(Q);else{const ee=cu(W,se);ee!=null&&(_.push(Q),A.set(Q,ee))}}const S=new qn(_);return new tE(A,S,d.fieldTransforms)}function PN(s,e,i,a=!1){return cu(i,s.Cc(a?4:3,e))}function cu(s,e){if(rE(s=hn(s)))return vg("Unsupported field value:",e,s),sE(s,e);if(s instanceof yg)return(function(a,o){if(!nE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=cu(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return AR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:dh(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:ST(o.serializer,a._byteString)};if(a instanceof Ut){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ig(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,p){return{mapValue:{fields:{[W1]:{stringValue:eT},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Sh(a)}`)})(s,e)}function sE(s,e){const i={};return K1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function rE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Qi||s instanceof si||s instanceof Ut||s instanceof yg||s instanceof Ki)}function vg(s,e,i){if(!rE(i)||!F1(i)){const a=Sh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Om(s,e,i){if((e=hn(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Tg(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const LN=new RegExp("[~\\*/\\[\\]]");function Tg(s,e,i){if(e.search(LN)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ae($.INVALID_ARGUMENT,p+s+y)}function aE(s,e){return s.some((i=>i.isEqual(e)))}class lE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Eg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zN extends lE{data(){return super.data()}}function Eg(s,e){return typeof e=="string"?Tg(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function BN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class Ag extends bg{}function qN(s,e,...i){let a=[];e instanceof bg&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof wg)).length,p=c.filter((y=>y instanceof Sg)).length;if(d>1||d>0&&p>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Sg extends Ag{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Sg(e,i,a)}_apply(e){const i=this._parse(e);return oE(e._query,i),new Rr(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=Ph(e.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Uv(S,A);const W=[];for(const se of S)W.push(jv(y,c,se));V={arrayValue:{values:W}}}else V=jv(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Uv(S,A),V=PN(p,d,S,A==="in"||A==="not-in");return Qt.create(_,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends bg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wg(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:vi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const y of p)oE(d,y),d=bm(d,y)})(e._query,i),new Rr(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends Ag{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new xg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zo(c,d)})(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Dl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function HN(s,e="asc"){const i=e,a=Eg("orderBy",s);return xg._create(a,i)}class Rg extends Ag{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new Rg(e,i,a)}_apply(e){return new Rr(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function GN(s){return Rg._create("limit",s,"F")}function jv(s,e,i){if(typeof(i=hn(i))=="string"){if(i==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&i.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(gt.fromString(i));if(!me.isDocumentKey(a))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Z0(s,new me(a))}if(i instanceof Ut)return Z0(s,i._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(i)}.`)}function Uv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oE(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class FN{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return wr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((a=>jt(a.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Qi(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=Tr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=gt.fromString(e);st(IT(a),9688,{name:e});const o=new Xo(a.get(1),a.get(3)),c=new me(a.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function uE(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Po{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends lE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Eg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Kt("string",aa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class $c extends aa{data(e={}){return super.data(e)}}class gl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Po(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Po(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new $c(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new $c(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:QN(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Kt("string",gl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class cE extends FN{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function Li(s,e,i){s=Hi(s,Ut);const a=Hi(s.firestore,fa),o=uE(s.converter,e,i);return zh(a,[iE(Ph(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ri.none())])}function rr(s,e,i,...a){s=Hi(s,Ut);const o=Hi(s.firestore,fa),c=Ph(o);let d;return d=typeof(e=hn(e))=="string"||e instanceof Uh?UN(c,"updateDoc",s._key,e,i,a):jN(c,"updateDoc",s._key,e),zh(o,[d.toMutation(s._key,ri.exists(!0))])}function zc(s){return zh(Hi(s.firestore,fa),[new eg(s._key,ri.none())])}function KN(s,e){const i=Hi(s.firestore,fa),a=It(s),o=uE(s.converter,e);return zh(i,[iE(Ph(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ri.exists(!1))]).then((()=>a))}function Pv(s,...e){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Ut)d=Hi(s.firestore,fa),p=Jm(s._key.path),c={next:y=>{e[a]&&e[a](YN(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Hi(s,Rr);d=Hi(y.firestore,fa),p=y._query;const _=new cE(d);c={next:A=>{e[a]&&e[a](new gl(d,_,y,A))},error:e[a+1],complete:e[a+2]},BN(s._query)}return(function(_,A,S,V){const Q=new xN(V),W=new lN(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>iN(await Cv(_),W))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>sN(await Cv(_),W)))}})(eE(d),p,o,c)}function zh(s,e){return(function(a,o){const c=new ra;return a.asyncQueue.enqueueAndForget((async()=>yN(await NN(a),o,c))),c.promise})(eE(s),e)}function YN(s,e,i){const a=i.docs.get(e._key),o=new cE(s);return new aa(s,o,e._key,a,new Po(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Cl=o})(xl),pl(new oa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new fa(new kx(a.getProvider("auth-internal")),new Px(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),mr(P0,L0,e),mr(P0,L0,"esm2020")})();const XN={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883",measurementId:"G-7ZC94CFHVY"},hE=e1(XN),Lv=Dx(hE),At=DN(hE),na=()=>Math.random().toString(36).substr(2,9),Al=(s=new Date)=>{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]},$N=(s=new Date)=>{const e=new Date(s),i=e.getDay(),a=e.getDate()-i,o=new Date(e.setDate(a));return o.setHours(0,0,0,0),o},Cg=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=$N(e),a=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),a.push(Al(c))}return a},Tn=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Sl=s=>{const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},fE=s=>{const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Mm=["","","","","","","","","","","","","","","","","","","",""],kt=({children:s,onClick:e,variant:i="primary",className:a="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},y={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return T.jsx("button",{onClick:e,className:`${d} ${p[o]} ${y[i]} ${a}`,...c,children:s})},cl=({children:s,className:e=""})=>T.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),ar=({isOpen:s,onClose:e,title:i,children:a})=>s?T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[T.jsx("h3",{className:"font-bold text-gray-800",children:i}),T.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:T.jsx(_h,{size:20})})]}),T.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:a})]})}):null,ZN=({onSuccess:s,onCancel:e,targetPin:i,title:a,onForgot:o})=>{const[c,d]=pe.useState(""),[p,y]=pe.useState(!1),_=A=>{if(c.length<4){const S=c+A;d(S),S.length===4&&(S===i?s():(y(!0),setTimeout(()=>{d(""),y(!1)},500)))}};return T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[T.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:a||"Enter PIN"}),T.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(A=>T.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c.length>A?p?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},A))}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(A=>T.jsx("button",{onClick:()=>_(A),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:A},A)),T.jsx("div",{}),T.jsx("button",{onClick:()=>_(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),T.jsx("button",{onClick:()=>d(A=>A.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:T.jsx(_h,{size:24})})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx(kt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),T.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[T.jsx(AA,{size:12})," Forgot PIN?"]})]})]})})};function JN(){const[s,e]=pe.useState(null),[i,a]=pe.useState([]),[o,c]=pe.useState([]),[d,p]=pe.useState([]),[y,_]=pe.useState([]),[A,S]=pe.useState([]),[V,Q]=pe.useState([]),[W,se]=pe.useState("login"),[ee,he]=pe.useState(null),[ge,fe]=pe.useState(!1),[Me,Pe]=pe.useState(null);pe.useEffect(()=>(m2(Lv).catch(J=>console.error("Auth Error:",J)),T2(Lv,e)),[]),pe.useEffect(()=>{if(o.length>0&&W==="login"&&!ee){const J=localStorage.getItem("chorePiggy_activeUser");if(J){const ye=o.find(ze=>ze.id===J);ye&&(he(ye),se("kid"))}}},[o,W,ee]),pe.useEffect(()=>{if(!s)return;const ye=Object.entries({users:a,kids:c,chores:p,task_log:_,bonuses:S}).map(([$e,Je])=>Pv(im(At,$e),Yt=>{const Xt=Yt.docs.map(St=>({id:St.id,...St.data()}));if(Je(Xt),$e==="users"&&Xt.length===0){const St={id:"parent1",name:"Parent",role:"parent",pin:"1234"};Li(It(At,"users",St.id),St)}})),ze=qN(im(At,"history"),HN("date","desc"),GN(50)),tt=Pv(ze,$e=>{Q($e.docs.map(Je=>({id:Je.id,...Je.data()})))});return()=>{ye.forEach($e=>$e()),tt()}},[s]);const Ie={users:i,kids:o,chores:d,taskLog:y,bonuses:A,history:V},C=J=>{he(J),se(J.role==="parent"?"parent":"kid"),fe(!1),Pe(null),J.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",J.id)},w=()=>{he(null),se("login"),localStorage.removeItem("chorePiggy_activeUser")},R=async()=>{Me?.role==="parent"?prompt("Enter Master Recovery Code (hint: admin):")==="admin"?(await rr(It(At,"users",Me.id),{pin:"1234"}),alert(`${Me.name}'s PIN has been reset to: 1234`),fe(!1),Pe(null)):alert("Incorrect recovery code."):alert("Please ask a parent to reset your PIN in the Family Members tab.")},k=async(J,ye,ze,tt,$e)=>{await KN(im(At,"history"),{kidId:J,amount:ye,type:ze,description:tt,date:new Date().toISOString(),by:$e||"Unknown"})},D=async(J,ye,ze,tt,$e)=>{const Je=o.find(Yt=>Yt.id===J);Je&&(await rr(It(At,"kids",J),{balance:Je.balance+ye}),await k(J,ye,ze,tt,$e))},N=async(J,ye)=>{const ze=na();await Li(It(At,"users",ze),{name:J,pin:ye,role:"parent"})},x=async J=>{await zc(It(At,"users",J))},xe=async(J,ye)=>{await rr(It(At,"users",J),{pin:ye})},Le=async(J,ye,ze)=>{const tt=y.find($e=>$e.type==="chore"&&$e.taskId===J.id&&$e.kidId===ye&&$e.dateString===ze);if(tt)await rr(It(At,"task_log",tt.id),{status:"pending",timestamp:new Date().toISOString()});else{const $e=na();await Li(It(At,"task_log",$e),{type:"chore",taskId:J.id,title:J.title,kidId:ye,dateString:ze,status:"pending",timestamp:new Date().toISOString()})}},G=async(J,ye,ze,tt,$e)=>{const Je=y.find(St=>St.type==="chore"&&St.taskId===J.id&&St.kidId===ye&&St.dateString===ze);let Yt=Je?It(At,"task_log",Je.id):It(At,"task_log",na());const Xt={type:"chore",taskId:J.id,title:J.title,kidId:ye,dateString:ze,timestamp:new Date().toISOString()};if(tt==="approve"){const St=Ze(ye),dt=(J.weight||1)*St.valuePerPoint;await Li(Yt,{...Xt,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!Je||Je.status!=="approved")&&await D(ye,dt,"chore",`${J.title} (${Sl(ze)})`,$e)}else tt==="fail"?await Li(Yt,{...Xt,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):tt==="retry"&&await Li(Yt,{...Xt,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},te=async(J,ye)=>{const ze=na();await Li(It(At,"task_log",ze),{type:"bonus",taskId:J.id,title:J.title,reward:J.reward,kidId:ye,status:"pending",timestamp:new Date().toISOString()}),await zc(It(At,"bonuses",J.id))},oe=async(J,ye,ze)=>{await rr(It(At,"task_log",J.id),{status:"approved",approvedAt:new Date().toISOString()});const tt=J.type==="bonus"?J.reward:ye,$e=J.dateString?`(${Sl(J.dateString)})`:"(Bonus)";await D(J.kidId,tt,J.type,`${J.title} ${$e}`,ze)},be=async(J,ye)=>{const ze=ye==="retry"?"changes_requested":"failed";await rr(It(At,"task_log",J.id),{status:ze,rejectedAt:new Date().toISOString()})},je=async(J,ye,ze)=>{const tt=na();await Li(It(At,"kids",tt),{name:J,pin:ye,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Mm[Math.floor(Math.random()*Mm.length)],allowanceAmount:Number(ze)})},O=async(J,ye)=>rr(It(At,"kids",J),ye),q=async J=>{Li(It(At,"chores",na()),J)},ne=async(J,ye)=>rr(It(At,"chores",J),ye),re=async J=>zc(It(At,"chores",J)),_e=async(J,ye)=>Li(It(At,"bonuses",na()),{title:J,reward:ye,status:"available"}),Ae=async J=>zc(It(At,"bonuses",J)),ke=J=>{if(!J.pausedUntil)return!0;const ye=Al();return J.pausedUntil<=ye},Ze=(J,ye=0)=>{const ze=o.find(Ue=>Ue.id===J);if(!ze)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const tt=ze.allowanceAmount||0,$e=d.filter(Ue=>Ue.kidId===J&&ke(Ue));let Je=0;$e.forEach(Ue=>{const En=Ue.weight||1;Je+=En*Ue.days.length});const Yt=Je>0?tt/Je:0,Xt=Cg(ye),St=y.filter(Ue=>Ue.kidId===J&&Ue.type==="chore"&&Xt.includes(Ue.dateString));let Hn=0,dt=0;return St.forEach(Ue=>{const Xi=(d.find(Dt=>Dt.id===Ue.taskId)?.weight||1)*Yt;Ue.status==="approved"&&(Hn+=Xi),Ue.status==="pending"&&(dt+=Xi)}),{potential:tt,earned:Hn,pending:dt,totalWeight:Je,valuePerPoint:Yt}};if(!s)return T.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Loading secure database..."});if(ge)return T.jsx(ZN,{targetPin:Me?.pin,onSuccess:()=>C(Me),onCancel:()=>{fe(!1),Pe(null)},title:`Enter ${Me?.name}'s PIN`,onForgot:R});if(W==="login")return T.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[T.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[T.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[T.jsx(DA,{size:40})," ChorePiggy"]}),T.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"})]}),T.jsxs("div",{className:"max-w-md w-full grid gap-4",children:[T.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),i.map(J=>T.jsxs("button",{onClick:()=>{Pe(J),fe(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:T.jsx(Hv,{size:24})}),T.jsx("span",{className:"font-bold text-lg text-gray-700",children:J.name})]}),T.jsx(Zc,{className:"text-gray-300 group-hover:text-blue-500"})]},J.id)),T.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),o.map(J=>T.jsxs("button",{onClick:()=>{Pe(J),fe(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:J.avatar}),T.jsxs("div",{className:"text-left",children:[T.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:J.name}),T.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),T.jsx(Zc,{className:"text-gray-300 group-hover:text-purple-500"})]},J.id)),o.length===0&&T.jsx("div",{className:"text-center p-6 bg-white rounded-xl border border-dashed text-gray-400",children:"No kids yet. Login as parent to setup!"})]})]});if(W==="parent")return T.jsx(WN,{data:Ie,user:ee,logout:w,addKid:je,addChore:q,updateChore:ne,deleteChore:re,addBonus:_e,deleteBonus:Ae,updateBalance:D,updateKid:O,approveTask:oe,rejectTask:be,parentOverrideTask:G,calculateWeeklyStats:Ze,updateParentPin:xe,addParent:N,deleteParent:x});if(W==="kid"){const J=o.find(ye=>ye.id===ee.id)||ee;return T.jsx(eI,{user:J,data:Ie,logout:w,submitChore:Le,submitBonus:te,updateKid:O,calculateWeeklyStats:Ze,isChoreActive:ke})}}function WN({data:s,user:e,logout:i,addKid:a,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:y,updateBalance:_,updateKid:A,approveTask:S,rejectTask:V,parentOverrideTask:Q,calculateWeeklyStats:W,updateParentPin:se,addParent:ee,deleteParent:he}){const[ge,fe]=pe.useState("approvals"),[Me,Pe]=pe.useState(!1),[Ie,C]=pe.useState(""),[w,R]=pe.useState(""),[k,D]=pe.useState("10"),[N,x]=pe.useState(null),[xe,Le]=pe.useState(null),[G,te]=pe.useState(null),[oe,be]=pe.useState(null),[je,O]=pe.useState(!1),[q,ne]=pe.useState(null),[re,_e]=pe.useState(""),[Ae,ke]=pe.useState(""),[Ze,J]=pe.useState("add"),[ye,ze]=pe.useState(0),[tt,$e]=pe.useState([]),[Je,Yt]=pe.useState(""),[Xt,St]=pe.useState("1"),[Hn,dt]=pe.useState([0,1,2,3,4]),[Ue,En]=pe.useState(""),[Cr,Xi]=pe.useState("2"),[Dt,Ti]=pe.useState(""),[$i,ws]=pe.useState(""),[Gn,ga]=pe.useState(""),Zi=s.taskLog.filter(U=>U.status==="pending");Zi.sort((U,Se)=>new Date(Se.timestamp)-new Date(U.timestamp));const ai=Zi.length,pa=()=>{if(!re||!N)return;const U=Number(re),Se=Ze==="add"?U:-U,we=Ze==="add"?"manual_add":"manual_subtract",vt=Ze==="add"?"Manual Deposit":"Cash Out / Purchase";_(N.id,Se,we,Ae||vt,e.name),x(null),_e(""),ke("")},On=async()=>{if(confirm(`Approve all ${ai} tasks?`))for(const U of Zi)if(U.type==="chore"){const Se=W(U.kidId),Tt=(s.chores.find(Rt=>Rt.id===U.taskId)?.weight||1)*Se.valuePerPoint;await S(U,Tt,e.name)}else await S(U,0,e.name)},$t=U=>{U.preventDefault(),Ie&&w&&(a(Ie,w,k),Pe(!1),C(""),R(""))},bn=U=>{U.preventDefault(),Je&&tt.length>0&&(tt.forEach(Se=>{o({kidId:Se,title:Je,days:Hn,weight:Number(Xt)})}),Yt(""),St("1"),$e([]))},wt=()=>{q&&(c(q.id,{title:q.title,days:q.days,weight:Number(q.weight),pausedUntil:q.pausedUntil||null}),ne(null))},ya=()=>{$i&&Gn.length===4&&(ee($i,Gn),ws(""),ga(""))},xs=U=>dt(Se=>Se.includes(U)?Se.filter(we=>we!==U):[...Se,U].sort()),_a=U=>{$e(Se=>Se.includes(U)?Se.filter(we=>we!==U):[...Se,U])};return T.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[T.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:T.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[T.jsx(Hv,{})," ",e.name,"'s Dashboard"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>O(!0),className:"text-gray-500 hover:text-blue-600",children:T.jsx(kA,{size:20})}),T.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:T.jsx(qv,{size:20})})]})]})}),T.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[T.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(U=>T.jsxs("button",{onClick:()=>fe(U),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${ge===U?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[U,U==="approvals"&&ai>0&&T.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:ai})]},U))}),T.jsx(ar,{isOpen:je,onClose:()=>O(!1),title:"Family Settings",children:T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:Dt,onChange:U=>Ti(U.target.value)}),T.jsx(kt,{size:"sm",onClick:()=>{Dt.length===4&&se(e.id,Dt),Ti(""),alert("PIN updated")},children:"Update"})]})]}),T.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[T.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),T.jsx("div",{className:"space-y-2",children:s.users.filter(U=>U.role==="parent").map(U=>T.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[T.jsxs("span",{className:"font-bold text-gray-700",children:[U.name," ",U.id===e.id&&"(You)"]}),U.id!==e.id&&T.jsx("button",{onClick:()=>he(U.id),className:"text-red-400 hover:text-red-600",children:T.jsx(Gd,{size:16})})]},U.id))}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:$i,onChange:U=>ws(U.target.value)}),T.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:Gn,onChange:U=>ga(U.target.value)})]}),T.jsxs(kt,{onClick:ya,className:"w-full",variant:"outline",children:[T.jsx(FA,{size:16})," Add Guardian"]})]})]})}),ge==="history"&&T.jsxs("div",{className:"space-y-4",children:[T.jsx("div",{className:"flex justify-between items-center",children:T.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&T.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),T.jsx("div",{className:"space-y-2",children:s.history.map(U=>{const Se=s.kids.find(we=>we.id===U.kidId);return T.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Se&&T.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Se.name}),T.jsx("span",{children:U.description})]}),T.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[T.jsx("span",{children:new Date(U.date).toLocaleString()}),T.jsx("span",{children:""}),T.jsxs("span",{className:"font-medium text-blue-500",children:["by ",U.by||"System"]})]})]}),U.amount!==0&&T.jsxs("span",{className:`font-bold ${U.amount>0?"text-green-600":"text-red-600"}`,children:[U.amount>0?"+":"",Tn(U.amount)]})]},U.id)})})]}),T.jsx(ar,{isOpen:!!xe,onClose:()=>Le(null),title:"Edit Profile",children:xe&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),T.jsx("input",{className:"w-full border p-2 rounded",value:xe.name,onChange:U=>Le({...xe,name:U.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),T.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:xe.pin,onChange:U=>Le({...xe,pin:U.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),T.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:xe.allowanceAmount,onChange:U=>Le({...xe,allowanceAmount:U.target.value})})]}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[T.jsx(kt,{variant:"ghost",onClick:()=>Le(null),className:"flex-1",children:"Cancel"}),T.jsx(kt,{onClick:()=>{A(xe.id,{name:xe.name,pin:xe.pin,allowanceAmount:Number(xe.allowanceAmount)}),Le(null)},className:"flex-1",children:"Save Changes"})]})]})}),T.jsx(ar,{isOpen:!!q,onClose:()=>ne(null),title:"Edit Chore",children:q&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),T.jsx("input",{className:"w-full border p-2 rounded",value:q.title,onChange:U=>ne({...q,title:U.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),T.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[T.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:q.weight||1,onChange:U=>ne({...q,weight:U.target.value})}),T.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[q.weight||1,"x"]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),T.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((U,Se)=>T.jsx("button",{onClick:()=>{const we=q.days.includes(Se)?q.days.filter(vt=>vt!==Se):[...q.days,Se].sort();ne({...q,days:we})},className:`w-8 h-8 rounded-full text-xs font-bold ${q.days.includes(Se)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:U},Se))})]}),T.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[T.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),T.jsxs("div",{className:"flex gap-2 mt-1",children:[T.jsxs("button",{onClick:()=>ne({...q,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${q.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[T.jsx(pA,{size:16,className:"inline mr-1"})," Active"]}),T.jsxs("button",{onClick:()=>ne({...q,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${q.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[T.jsx(a0,{size:16,className:"inline mr-1"})," Paused"]})]}),q.pausedUntil&&T.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",T.jsx("input",{type:"date",value:q.pausedUntil==="2099-12-31"?"":q.pausedUntil,onChange:U=>ne({...q,pausedUntil:U.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[T.jsx(kt,{variant:"ghost",onClick:()=>ne(null),className:"flex-1",children:"Cancel"}),T.jsx(kt,{onClick:wt,className:"flex-1",children:"Save Changes"})]})]})}),T.jsx(ar,{isOpen:!!oe,onClose:()=>be(null),title:"Review Task",children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",T.jsx("strong",{children:oe?.title}),"?"]}),T.jsxs("button",{onClick:()=>{V(oe,"retry"),be(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:T.jsx(am,{size:20})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),T.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),T.jsxs("button",{onClick:()=>{V(oe,"fail"),be(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:T.jsx(CA,{size:20})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),T.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),T.jsx(ar,{isOpen:!!N,onClose:()=>x(null),title:`Bank Manager: ${N?.name}`,children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[T.jsxs("button",{onClick:()=>J("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Ze==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[T.jsx(l0,{size:16})," Deposit"]}),T.jsxs("button",{onClick:()=>J("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${Ze==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[T.jsx(o0,{size:16})," Cash Out"]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),T.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:re,onChange:U=>_e(U.target.value)})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),T.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:Ze==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:Ae,onChange:U=>ke(U.target.value)})]}),T.jsxs(kt,{onClick:pa,className:`w-full ${Ze==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",Ze==="add"?"Deposit":"Withdrawal"]}),T.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[T.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),T.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(U=>U.kidId===N?.id).slice(0,5).map(U=>T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:U.description}),T.jsxs("div",{className:"text-right",children:[T.jsxs("span",{className:`font-bold block ${U.amount>0?"text-green-600":"text-red-600"}`,children:[U.amount>0?"+":"",Tn(U.amount)]}),T.jsx("span",{className:"text-[10px] text-gray-400",children:U.by})]})]},U.id))})]})]})}),T.jsx(ar,{isOpen:!!G,onClose:()=>te(null),title:`Tasks: ${G?.name}`,children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[T.jsx("button",{onClick:()=>ze(U=>U-1),className:"p-2 hover:bg-gray-200 rounded",children:T.jsx(Bv,{size:16})}),T.jsx("span",{className:"font-bold text-sm text-gray-700",children:ye===0?"This Week":"Last Week"}),T.jsx("button",{onClick:()=>ze(U=>U+1),className:"p-2 hover:bg-gray-200 rounded",children:T.jsx(Zc,{size:16})})]}),T.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Cg(ye).map(U=>{const Se=s.chores.filter(we=>we.kidId===G?.id&&we.days.includes(new Date(U).getDay()));return Se.length===0?null:T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[fE(U)," (",Sl(U),")"]}),Se.map(we=>{const vt=s.taskLog.find(Fn=>Fn.type==="chore"&&Fn.taskId===we.id&&Fn.kidId===G.id&&Fn.dateString===U),Tt=vt?vt.status:"todo";let Rt="bg-gray-100 border-gray-200";return Tt==="approved"&&(Rt="bg-green-50 border-green-200"),Tt==="pending"&&(Rt="bg-amber-50 border-amber-200"),Tt==="failed"&&(Rt="bg-red-50 border-red-200"),Tt==="changes_requested"&&(Rt="bg-yellow-50 border-yellow-200"),T.jsxs("div",{className:`p-3 rounded-lg border ${Rt} flex justify-between items-center`,children:[T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[we.title," ",T.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[we.weight||1,"x"]})]}),T.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:Tt.replace("_"," ")})]}),T.jsxs("div",{className:"flex gap-1",children:[Tt!=="approved"&&T.jsx("button",{onClick:()=>Q(we,G.id,U,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:T.jsx(uA,{size:16})}),Tt!=="failed"&&T.jsx("button",{onClick:()=>Q(we,G.id,U,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:T.jsx(_h,{size:16})}),Tt!=="changes_requested"&&Tt!=="approved"&&T.jsx("button",{onClick:()=>Q(we,G.id,U,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:T.jsx(am,{size:16})})]})]},`${we.id}-${U}`)})]},U)}),s.chores.filter(U=>U.kidId===G?.id).length===0&&T.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),ge==="approvals"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),ai>0&&T.jsxs(kt,{size:"sm",variant:"success",onClick:On,children:["Approve All (",ai,")"]})]}),ai===0&&T.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),T.jsx("div",{className:"space-y-3",children:Zi.map(U=>{const Se=s.kids.find(Fn=>Fn.id===U.kidId),vt=s.chores.find(Fn=>Fn.id===U.taskId)?.weight||1,Tt=W(U.kidId),Rt=U.type==="bonus"?U.reward:vt*Tt.valuePerPoint;return T.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[T.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[T.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Se?.avatar,T.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:T.jsx(sm,{size:12,className:"text-amber-500"})})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[U.title,U.type==="chore"&&vt>1&&T.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[vt,"x"]})]}),T.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[T.jsx("span",{children:Se?.name}),T.jsx("span",{children:""}),T.jsx("span",{className:`font-bold ${U.dateString===Al()?"text-green-600":"text-amber-600"}`,children:U.dateString?Sl(U.dateString):"Bonus Task"})]})]})]}),T.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[T.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:Tn(Rt)}),T.jsx("button",{onClick:()=>be(U),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:T.jsx(zA,{size:20})}),T.jsx("button",{onClick:()=>S(U,Rt,e.name),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:T.jsx(qA,{size:20})})]})]},U.id)})})]}),ge==="kids"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),T.jsxs(kt,{onClick:()=>Pe(!0),size:"sm",children:[T.jsx(l0,{size:16})," Add Kid"]})]}),Me&&T.jsx(cl,{className:"p-4 animate-in slide-in-from-top-4",children:T.jsxs("form",{onSubmit:$t,className:"space-y-4",children:[T.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),T.jsx("input",{className:"w-full border p-2 rounded",value:Ie,onChange:U=>C(U.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),T.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:w,onChange:U=>R(U.target.value),required:!0})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),T.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:k,onChange:U=>D(U.target.value)})]}),T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(kt,{type:"button",variant:"ghost",onClick:()=>Pe(!1),children:"Cancel"}),T.jsx(kt,{type:"submit",children:"Save"})]})]})}),T.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(U=>{const Se=W(U.id);return T.jsxs(cl,{className:"p-4 flex flex-col gap-4",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:U.avatar}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-lg",children:U.name}),T.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",Tn(U.allowanceAmount||0)]}),T.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",Tn(Se.valuePerPoint)," / point"]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-3xl font-bold text-green-600",children:Tn(U.balance)}),T.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),T.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[T.jsxs(kt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>Le(U),children:[T.jsx(rm,{size:12})," Edit Profile"]}),T.jsxs(kt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>x(U),children:[T.jsx(o0,{size:14})," Manage Funds"]})]}),T.jsxs(kt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>te(U),children:[T.jsx(_A,{size:14})," View Tasks"]})]},U.id)})})]}),ge==="chores"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs(cl,{className:"p-6",children:[T.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),T.jsxs("form",{onSubmit:bn,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),T.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(U=>T.jsx("button",{type:"button",onClick:()=>_a(U.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${tt.includes(U.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:U.name},U.id))}),tt.length===0&&T.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),T.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:Je,onChange:U=>Yt(U.target.value),required:!0})]}),T.jsxs("div",{className:"w-24",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),T.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[T.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:Xt,onChange:U=>St(U.target.value)}),T.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),T.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((U,Se)=>T.jsx("button",{type:"button",onClick:()=>xs(Se),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${Hn.includes(Se)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:U},Se))})]}),T.jsx(kt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(U=>{const Se=s.kids.find(vt=>vt.id===U.kidId),we=U.pausedUntil&&U.pausedUntil>Al();return T.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${we?"opacity-60 grayscale":""}`,children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-bold text-gray-800",children:U.title}),U.weight>1&&T.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[U.weight,"x"]}),we&&T.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[T.jsx(a0,{size:10})," Paused"]})]}),T.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[T.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Se?.name||"Unknown"}),T.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:U.days.length===7?"Everyday":`${U.days.length} days/wk`})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>ne(U),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:T.jsx(rm,{size:18})}),T.jsx("button",{onClick:()=>d(U.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:T.jsx(Gd,{size:18})})]})]},U.id)})]})]}),ge==="bonuses"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs(cl,{className:"p-6 bg-yellow-50 border-yellow-100",children:[T.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[T.jsx(lm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[T.jsx("input",{className:"w-full sm:flex-1 border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Ue,onChange:U=>En(U.target.value)}),T.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[T.jsx("input",{className:"flex-1 sm:w-24 border border-yellow-200 p-2 rounded-lg",type:"number",value:Cr,onChange:U=>Xi(U.target.value)}),T.jsx(kt,{onClick:()=>{Ue&&(p(Ue,Number(Cr)),En(""))},className:"bg-yellow-500 hover:bg-yellow-600 text-white flex-1 sm:flex-none",children:"Post"})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(U=>T.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:T.jsx(lm,{size:16,className:"fill-yellow-500"})}),T.jsx("span",{className:"font-semibold text-gray-700",children:U.title})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:Tn(U.reward)}),T.jsx("button",{onClick:()=>y(U.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:T.jsx(Gd,{size:18})})]})]},U.id))]})]})]})]})}function eI({user:s,data:e,logout:i,submitChore:a,submitBonus:o,updateKid:c,calculateWeeklyStats:d,isChoreActive:p}){const[y,_]=pe.useState("todo"),[A,S]=pe.useState(!1),[V,Q]=pe.useState(s.goalName||""),[W,se]=pe.useState(s.savingsGoal||0),[ee,he]=pe.useState(!1),[ge,fe]=pe.useState(!1),[Me,Pe]=pe.useState(0),Ie=Cg(Me),C=d(s.id,Me),w=Math.min(C.earned/C.potential*100,100)||0,R=Math.min(C.pending/C.potential*100,100)||0,k=(N,x)=>{const xe=e.taskLog.find(Le=>Le.type==="chore"&&Le.taskId===N&&Le.kidId===s.id&&Le.dateString===x);return xe?xe.status:"todo"},D=Me===0;return T.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[T.jsx(ar,{isOpen:ee,onClose:()=>he(!1),title:"Choose Your Avatar",children:T.jsx("div",{className:"grid grid-cols-4 gap-4",children:Mm.map(N=>T.jsx("button",{onClick:()=>{c(s.id,{avatar:N}),he(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:N},N))})}),T.jsx(ar,{isOpen:ge,onClose:()=>fe(!1),title:"Your Money History",children:T.jsxs("div",{className:"space-y-3",children:[e.history.filter(N=>N.kidId===s.id).map(N=>T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-gray-700 text-sm",children:N.description}),T.jsx("div",{className:"text-xs text-gray-400",children:new Date(N.date).toLocaleDateString()})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("div",{className:`font-bold ${N.amount>0?"text-green-600":"text-red-500"}`,children:[N.amount>0?"+":"",Tn(N.amount)]}),T.jsx("div",{className:"text-[10px] text-gray-400",children:N.by})]})]},N.id)),e.history.filter(N=>N.kidId===s.id).length===0&&T.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),T.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),T.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("button",{onClick:()=>he(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,T.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:T.jsx(rm,{size:10,className:"text-indigo-600"})})]}),T.jsxs("div",{children:[T.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),T.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Sl(Ie[0])]})]})]}),T.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:T.jsx(qv,{size:18})})]}),T.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("button",{onClick:()=>Pe(N=>N-1),className:"p-1 hover:bg-white/10 rounded",children:T.jsx(Bv,{size:16})}),T.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:D?"This Week":"Last Week"}),T.jsx("button",{onClick:()=>D?null:Pe(N=>N+1),className:`p-1 rounded ${D?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:T.jsx(Zc,{size:16})})]}),T.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[T.jsxs("span",{children:["Earned: ",Tn(C.earned)]}),T.jsxs("span",{children:["Weekly Cap: ",Tn(C.potential)]})]}),T.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[T.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${w}%`}}),T.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${R}%`}})]}),R>0&&T.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",Tn(C.pending)," waiting approval)"]})]}),T.jsx("div",{className:"flex flex-col items-center relative z-10",children:T.jsxs("button",{onClick:()=>fe(!0),className:"flex flex-col items-center group",children:[T.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",T.jsx(EA,{size:12})]}),T.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:Tn(s.balance)})]})})]}),T.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[T.jsxs(cl,{className:"flex p-1",children:[T.jsxs("button",{onClick:()=>_("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${y==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[T.jsx(lA,{size:20})," Tasks"]}),T.jsxs("button",{onClick:()=>_("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${y==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[T.jsx(Hd,{size:20})," Goal"]}),T.jsxs("button",{onClick:()=>_("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${y==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[T.jsx(rA,{size:20})," Bonus"]})]}),y==="todo"&&T.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:Ie.map((N,x)=>{const xe=e.chores.filter(te=>te.kidId===s.id&&te.days.includes(new Date(N).getDay())&&p(te));if(xe.length===0)return null;const Le=N===Al(),G=N>Al();return T.jsxs("div",{className:`space-y-2 ${G?"opacity-50 grayscale":""}`,children:[T.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${Le?"text-indigo-600":"text-gray-500"}`,children:[Le?"Today":fE(N)," ",T.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Sl(N),")"]})]}),xe.map(te=>{const oe=k(te.id,N),be=oe==="approved",je=oe==="pending",O=oe==="changes_requested",q=oe==="failed";return T.jsxs("div",{className:"relative",children:[T.jsx("button",{disabled:be||je||G||q,onClick:()=>a(te,s.id,N),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden 
                            ${be?"bg-green-50 border-green-200":je?"bg-amber-50 border-amber-200":O?"bg-yellow-50 border-yellow-300 shadow-md":q?"bg-red-50 border-red-200":G?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:T.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[T.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors 
                                ${be?"bg-green-500 text-white":je?"bg-amber-400 text-white":O?"bg-yellow-400 text-yellow-900":q?"bg-red-400 text-white":G?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:be?T.jsx(dA,{size:14}):je?T.jsx(sm,{size:14}):O?T.jsx(am,{size:14}):q?T.jsx(_h,{size:14}):G?T.jsx(wA,{size:12}):T.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:`font-bold block text-sm ${be?"text-gray-500 line-through":"text-gray-800"}`,children:te.title}),te.weight>1&&T.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[te.weight,"x"]})]}),je&&T.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),O&&T.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),q&&T.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),O&&!G&&T.jsx("button",{onClick:()=>a(te,s.id,N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${te.id}-${N}`)})]},N)})}),y==="savings"&&T.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:T.jsxs(cl,{className:"p-6 text-center space-y-4",children:[T.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),A?T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:V,onChange:N=>Q(N.target.value),placeholder:"Goal Name"}),T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),T.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:W,onChange:N=>se(N.target.value)})]}),T.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[T.jsx(kt,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),T.jsx(kt,{size:"sm",onClick:()=>{c(s.id,{goalName:V,savingsGoal:Number(W)}),S(!1)},children:"Save"})]})]}):T.jsx(T.Fragment,{children:s.savingsGoal>0?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx(Hd,{className:"text-indigo-500"}),T.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),T.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",Tn(s.savingsGoal)]}),T.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:T.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),T.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),T.jsx(kt,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):T.jsxs("div",{className:"py-8 text-center space-y-4",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:T.jsx(Hd,{size:32})}),T.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),T.jsx(kt,{onClick:()=>S(!0),children:"Set a Goal"})]})})]})}),y==="bonus"&&T.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[T.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&T.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:T.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(N=>N.kidId===s.id&&N.type==="bonus"&&N.status==="pending").map(N=>T.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:T.jsx(sm,{size:20})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-800 block",children:N.title}),T.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),T.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",Tn(N.reward)]})]},N.id)),e.bonuses.map(N=>T.jsxs("button",{onClick:()=>o(N,s.id),className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex items-center justify-between hover:scale-[1.02] transition-transform text-left",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center",children:T.jsx(lm,{className:"fill-yellow-500 text-yellow-500",size:20})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-800 block",children:N.title}),T.jsx("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide",children:"Bonus Task"})]})]}),T.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",Tn(N.reward)]})]},N.id))]})]})]})}Jb.createRoot(document.getElementById("root")).render(T.jsx(pe.StrictMode,{children:T.jsx(JN,{})}));
