(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Kd={exports:{}},jo={};var r0;function iA(){if(r0)return jo;r0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return jo.Fragment=e,jo.jsx=i,jo.jsxs=i,jo}var a0;function sA(){return a0||(a0=1,Kd.exports=iA()),Kd.exports}var g=sA(),Qd={exports:{}},Ne={};var l0;function rA(){if(l0)return Ne;l0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function K(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ee={};function me(I,B,W){this.props=I,this.context=B,this.refs=ee,this.updater=W||te}me.prototype.isReactComponent={},me.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},me.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function de(){}de.prototype=me.prototype;function pe(I,B,W){this.props=I,this.context=B,this.refs=ee,this.updater=W||te}var Qe=pe.prototype=new de;Qe.constructor=pe,re(Qe,me.prototype),Qe.isPureReactComponent=!0;var Ve=Array.isArray;function Se(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(I,B,W){var ae=W.ref;return{$$typeof:s,type:I,key:B,ref:ae!==void 0?ae:null,props:W}}function k(I,B){return R(I.type,B,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return B[W]})}var S=/\/+/g;function De(I,B){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):B.toString(36)}function Be(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Se,Se):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,B,W,ae,ve){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var je=!1;if(I===null)je=!0;else switch(we){case"bigint":case"string":case"number":je=!0;break;case"object":switch(I.$$typeof){case s:case e:je=!0;break;case b:return je=I._init,H(je(I._payload),B,W,ae,ve)}}if(je)return ve=ve(I),je=ae===""?"."+De(I,0):ae,Ve(ve)?(W="",je!=null&&(W=je.replace(S,"$&/")+"/"),H(ve,B,W,"",function(Xn){return Xn})):ve!=null&&(D(ve)&&(ve=k(ve,W+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(S,"$&/")+"/")+je)),B.push(ve)),1;je=0;var mt=ae===""?".":ae+":";if(Ve(I))for(var it=0;it<I.length;it++)ae=I[it],we=mt+De(ae,it),je+=H(ae,B,W,we,ve);else if(it=K(I),typeof it=="function")for(I=it.call(I),it=0;!(ae=I.next()).done;)ae=ae.value,we=mt+De(ae,it++),je+=H(ae,B,W,we,ve);else if(we==="object"){if(typeof I.then=="function")return H(Be(I),B,W,ae,ve);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(I,B,W){if(I==null)return I;var ae=[],ve=0;return H(I,ae,"","",function(we){return B.call(W,we,ve++)}),ae}function ne(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var ge=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Pe={map:ie,forEach:function(I,B,W){ie(I,function(){B.apply(this,arguments)},W)},count:function(I){var B=0;return ie(I,function(){B++}),B},toArray:function(I){return ie(I,function(B){return B})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=w,Ne.Children=Pe,Ne.Component=me,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=pe,Ne.StrictMode=r,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,B,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=re({},I.props),ve=I.key;if(B!=null)for(we in B.key!==void 0&&(ve=""+B.key),B)!x.call(B,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&B.ref===void 0||(ae[we]=B[we]);var we=arguments.length-2;if(we===1)ae.children=W;else if(1<we){for(var je=Array(we),mt=0;mt<we;mt++)je[mt]=arguments[mt+2];ae.children=je}return R(I.type,ve,ae)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ne.createElement=function(I,B,W){var ae,ve={},we=null;if(B!=null)for(ae in B.key!==void 0&&(we=""+B.key),B)x.call(B,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=B[ae]);var je=arguments.length-2;if(je===1)ve.children=W;else if(1<je){for(var mt=Array(je),it=0;it<je;it++)mt[it]=arguments[it+2];ve.children=mt}if(I&&I.defaultProps)for(ae in je=I.defaultProps,je)ve[ae]===void 0&&(ve[ae]=je[ae]);return R(I,we,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:p,render:I}},Ne.isValidElement=D,Ne.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:ne}},Ne.memo=function(I,B){return{$$typeof:v,type:I,compare:B===void 0?null:B}},Ne.startTransition=function(I){var B=N.T,W={};N.T=W;try{var ae=I(),ve=N.S;ve!==null&&ve(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Se,ge)}catch(we){ge(we)}finally{B!==null&&W.types!==null&&(B.types=W.types),N.T=B}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(I){return N.H.use(I)},Ne.useActionState=function(I,B,W){return N.H.useActionState(I,B,W)},Ne.useCallback=function(I,B){return N.H.useCallback(I,B)},Ne.useContext=function(I){return N.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,B){return N.H.useDeferredValue(I,B)},Ne.useEffect=function(I,B){return N.H.useEffect(I,B)},Ne.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(I,B,W){return N.H.useImperativeHandle(I,B,W)},Ne.useInsertionEffect=function(I,B){return N.H.useInsertionEffect(I,B)},Ne.useLayoutEffect=function(I,B){return N.H.useLayoutEffect(I,B)},Ne.useMemo=function(I,B){return N.H.useMemo(I,B)},Ne.useOptimistic=function(I,B){return N.H.useOptimistic(I,B)},Ne.useReducer=function(I,B,W){return N.H.useReducer(I,B,W)},Ne.useRef=function(I){return N.H.useRef(I)},Ne.useState=function(I){return N.H.useState(I)},Ne.useSyncExternalStore=function(I,B,W){return N.H.useSyncExternalStore(I,B,W)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.0",Ne}var o0;function qm(){return o0||(o0=1,Qd.exports=rA()),Qd.exports}var oe=qm(),Yd={exports:{}},Po={},Xd={exports:{}},$d={};var u0;function aA(){return u0||(u0=1,(function(s){function e(H,ie){var ne=H.length;H.push(ie);e:for(;0<ne;){var ge=ne-1>>>1,Pe=H[ge];if(0<o(Pe,ie))H[ge]=ie,H[ne]=Pe,ne=ge;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ie=H[0],ne=H.pop();if(ne!==ie){H[0]=ne;e:for(var ge=0,Pe=H.length,I=Pe>>>1;ge<I;){var B=2*(ge+1)-1,W=H[B],ae=B+1,ve=H[ae];if(0>o(W,ne))ae<Pe&&0>o(ve,W)?(H[ge]=ve,H[ae]=ne,ge=ae):(H[ge]=W,H[B]=ne,ge=B);else if(ae<Pe&&0>o(ve,ne))H[ge]=ve,H[ae]=ne,ge=ae;else break e}}return ie}function o(H,ie){var ne=H.sortIndex-ie.sortIndex;return ne!==0?ne:H.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],b=1,w=null,O=3,K=!1,te=!1,re=!1,ee=!1,me=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Qe(H){for(var ie=i(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=H)r(v),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(v)}}function Ve(H){if(re=!1,Qe(H),!te)if(i(_)!==null)te=!0,Se||(Se=!0,j());else{var ie=i(v);ie!==null&&Be(Ve,ie.startTime-H)}}var Se=!1,N=-1,x=5,R=-1;function k(){return ee?!0:!(s.unstable_now()-R<x)}function D(){if(ee=!1,Se){var H=s.unstable_now();R=H;var ie=!0;try{e:{te=!1,re&&(re=!1,de(N),N=-1),K=!0;var ne=O;try{t:{for(Qe(H),w=i(_);w!==null&&!(w.expirationTime>H&&k());){var ge=w.callback;if(typeof ge=="function"){w.callback=null,O=w.priorityLevel;var Pe=ge(w.expirationTime<=H);if(H=s.unstable_now(),typeof Pe=="function"){w.callback=Pe,Qe(H),ie=!0;break t}w===i(_)&&r(_),Qe(H)}else r(_);w=i(_)}if(w!==null)ie=!0;else{var I=i(v);I!==null&&Be(Ve,I.startTime-H),ie=!1}}break e}finally{w=null,O=ne,K=!1}ie=void 0}}finally{ie?j():Se=!1}}}var j;if(typeof pe=="function")j=function(){pe(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,De=S.port2;S.port1.onmessage=D,j=function(){De.postMessage(null)}}else j=function(){me(D,0)};function Be(H,ie){N=me(function(){H(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var ie=3;break;default:ie=O}var ne=O;O=ie;try{return H()}finally{O=ne}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=O;O=H;try{return ie()}finally{O=ne}},s.unstable_scheduleCallback=function(H,ie,ne){var ge=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ne+Pe,H={id:b++,callback:ie,priorityLevel:H,startTime:ne,expirationTime:Pe,sortIndex:-1},ne>ge?(H.sortIndex=ne,e(v,H),i(_)===null&&H===i(v)&&(re?(de(N),N=-1):re=!0,Be(Ve,ne-ge))):(H.sortIndex=Pe,e(_,H),te||K||(te=!0,Se||(Se=!0,j()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var ie=O;return function(){var ne=O;O=ie;try{return H.apply(this,arguments)}finally{O=ne}}}})($d)),$d}var c0;function lA(){return c0||(c0=1,Xd.exports=aA()),Xd.exports}var Zd={exports:{}},gn={};var h0;function oA(){if(h0)return gn;h0=1;var s=qm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,b)},gn.flushSync=function(_){var v=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=b,r.d.f()}},gn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},gn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},gn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,w=p(b,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:K}):b==="script"&&r.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},gn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=p(b,v.crossOrigin);r.d.L(_,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gn.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},gn.requestFormReset=function(_){r.d.r(_)},gn.unstable_batchedUpdates=function(_,v){return _(v)},gn.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var f0;function uA(){if(f0)return Zd.exports;f0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zd.exports=oA(),Zd.exports}var d0;function cA(){if(d0)return Po;d0=1;var s=lA(),e=qm(),i=uA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case ee:return"StrictMode";case Ve:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case pe:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case Qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:De(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return De(t(n))}catch{}}return null}var Be=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ge=[],Pe=-1;function I(t){return{current:t}}function B(t){0>Pe||(t.current=ge[Pe],ge[Pe]=null,Pe--)}function W(t,n){Pe++,ge[Pe]=t.current,t.current=n}var ae=I(null),ve=I(null),we=I(null),je=I(null);function mt(t,n){switch(W(we,n),W(ve,t),W(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=N_(n),t=C_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ae),W(ae,t)}function it(){B(ae),B(ve),B(we)}function Xn(t){t.memoizedState!==null&&W(je,t);var n=ae.current,a=C_(n,t.type);n!==a&&(W(ve,t),W(ae,a))}function gi(t){ve.current===t&&(B(ae),B(ve)),je.current===t&&(B(je),Oo._currentValue=ne)}var sn,$n;function rn(t){if(sn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);sn=n&&n[1]||"",$n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+t+$n}var J=!1;function fe(t,n){if(!t||J)return"";J=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){q=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var C=y.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{J=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rn(a):""}function Ue(t,n){switch(t.tag){case 26:case 27:case 5:return rn(t.type);case 16:return rn("Lazy");case 13:return t.child!==n&&n!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return fe(t.type,!1);case 11:return fe(t.type.render,!1);case 1:return fe(t.type,!0);case 31:return rn("Activity");default:return""}}function lt(t){try{var n="",a=null;do n+=Ue(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ie=Object.prototype.hasOwnProperty,Ee=s.unstable_scheduleCallback,pt=s.unstable_cancelCallback,mn=s.unstable_shouldYield,wt=s.unstable_requestPaint,ot=s.unstable_now,En=s.unstable_getCurrentPriorityLevel,Tt=s.unstable_ImmediatePriority,Ni=s.unstable_UserBlockingPriority,Pn=s.unstable_NormalPriority,is=s.unstable_LowPriority,ss=s.unstable_IdlePriority,Ta=s.log,Vr=s.unstable_setDisableYieldValue,wn=null,Dt=null;function Tn(t){if(typeof Ta=="function"&&Vr(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(wn,t)}catch{}}var yt=Math.clz32?Math.clz32:jr,kr=Math.log,Ci=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(kr(t)/Ci|0)|0}var bn=256,xn=262144,Nt=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Zn(l):(y&=T,y!==0?h=Zn(y):a||(a=T&~t,a!==0&&(h=Zn(a))))):(T=l&~f,T!==0?h=Zn(T):y!==0?h=Zn(y):a||(a=l&~t,a!==0&&(h=Zn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Wn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function rs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pl(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-yt(a),X=1<<Q;T[Q]=0,C[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~X}l!==0&&V(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function V(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-yt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Re(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function We(t,n){var a=n&-n;return a=(a&42)!==0?1:Ot(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ot(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rn(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:J_(t.type))}function Ut(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var pi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+pi,Jt="__reactProps$"+pi,Ii="__reactContainer$"+pi,Aa="__reactEvents$"+pi,Zh="__reactListeners$"+pi,Tu="__reactHandles$"+pi,bu="__reactResources$"+pi,Di="__reactMarker$"+pi;function Sa(t){delete t[Lt],delete t[Jt],delete t[Aa],delete t[Zh],delete t[Tu]}function Oi(t){var n=t[Lt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ii]||a[Lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=j_(t);t!==null;){if(a=t[Lt])return a;t=j_(t)}return n}t=a,a=t.parentNode}return null}function ei(t){if(t=t[Lt]||t[Ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Mi(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Di]=!0}var Ul=new Set,Ll={};function Vi(t,n){ki(t,n),ki(t+"Capture",n)}function ki(t,n){for(Ll[t]=n,t=0;t<n.length;t++)Ul.add(n[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Au(t){return Ie.call(ql,t)?!0:Ie.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function wa(t,n,a){if(Au(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Bt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=js(t)?"checked":"value";t._valueTracker=Hl(t,n,""+t[n])}}function Pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function Nn(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xa(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gl(t,y,Wt(n)):a!=null?Gl(t,y,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function Su(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}a=a!=null?""+Wt(a):"",n=n!=null?""+Wt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),st(t)}function Gl(t,n,a){n==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ps(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Wt(a):""}function Us(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Be(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Wt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Kl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Fl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Fl(t,f,n[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yi(){}var Ql=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zs=null,Pi=null;function Lr(t){var n=ei(t);if(n&&(t=n.stateNode)){var a=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Jt]||null;if(!h)throw Error(r(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Pr(l)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ps(t,!!a.multiple,n,!1)}}}var Ca=!1;function Bs(t,n,a){if(Ca)return t(n,a);Ca=!0;try{var l=t(n);return l}finally{if(Ca=!1,(zs!==null||Pi!==null)&&(Ec(),zs&&(n=zs,t=Pi,Pi=zs=null,Lr(n),t)))for(n=0;n<t.length;n++)Lr(t[n])}}function _i(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Jt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(ni)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{zr=!1}var Ui=null,Yl=null,Br=null;function Xl(){if(Br)return Br;var t,n=Yl,a=n.length,l,h="value"in Ui?Ui.value:Ui.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function vi(){return!1}function an(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:vi,this.isPropagationStopped=vi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=an(ls),qs=w({},ls,{view:0,detail:0}),$l=an(qs),Hs,Ia,zi,Da=w({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Hs=t.screenX-zi.screenX,Ia=t.screenY-zi.screenY):Ia=Hs=0,zi=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Zl=an(Da),Hr=w({},Da,{dataTransfer:0}),Nu=an(Hr),Cu=w({},qs,{relatedTarget:0}),Gr=an(Cu),Jl=w({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=an(Jl),Oa=w({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=an(Oa),Ou=w({},ls,{data:0}),Bi=an(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Gs(){return ju}var An=w({},qs,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=an(An),Uu=w({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=an(Uu),u=w({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),m=an(u),E=w({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=an(E),U=w({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=an(U),se=w({},ls,{newState:0,oldState:0}),Oe=an(se),Mt=[9,13,27,32],et=ni&&"CompositionEvent"in window,bt=null;ni&&"documentMode"in document&&(bt=document.documentMode);var ii=ni&&"TextEvent"in window&&!bt,qi=ni&&(!et||bt&&8<bt&&11>=bt),Ei=" ",Ti=!1;function Fr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function RT(t,n){switch(t){case"compositionend":return Ma(n);case"keypress":return n.which!==32?null:(Ti=!0,Ei);case"textInput":return t=n.data,t===Ei&&Ti?null:t;default:return null}}function NT(t,n){if(Va)return t==="compositionend"||!et&&Fr(t,n)?(t=Xl(),Br=Yl=Ui=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qi&&n.locale!=="ko"?null:n.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CT[t.type]:n==="textarea"}function zg(t,n,a,l){zs?Pi?Pi.push(l):Pi=[l]:zs=l,n=Rc(n,"onChange"),0<n.length&&(a=new Li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Wl=null,eo=null;function IT(t){b_(t,0)}function Lu(t){var n=Ln(t);if(Pr(n))return t}function Bg(t,n){if(t==="change")return n}var qg=!1;if(ni){var Jh;if(ni){var Wh="oninput"in document;if(!Wh){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Wh=typeof Hg.oninput=="function"}Jh=Wh}else Jh=!1;qg=Jh&&(!document.documentMode||9<document.documentMode)}function Gg(){Wl&&(Wl.detachEvent("onpropertychange",Fg),eo=Wl=null)}function Fg(t){if(t.propertyName==="value"&&Lu(eo)){var n=[];zg(n,eo,t,ti(t)),Bs(IT,n)}}function DT(t,n,a){t==="focusin"?(Gg(),Wl=n,eo=a,Wl.attachEvent("onpropertychange",Fg)):t==="focusout"&&Gg()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(eo)}function MT(t,n){if(t==="click")return Lu(n)}function VT(t,n){if(t==="input"||t==="change")return Lu(n)}function kT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:kT;function to(t,n){if(Bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ie.call(n,h)||!Bn(t[h],n[h]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,n){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ji(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ji(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jT=ni&&"documentMode"in document&&11>=document.documentMode,ka=null,tf=null,no=null,nf=!1;function $g(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||ka==null||ka!==ji(l)||(l=ka,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=Rc(tf,"onSelect"),0<l.length&&(n=new Li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ka)))}function Kr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ja={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},sf={},Zg={};ni&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Qr(t){if(sf[t])return sf[t];if(!ja[t])return t;var n=ja[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zg)return sf[t]=n[a];return t}var Jg=Qr("animationend"),Wg=Qr("animationiteration"),ep=Qr("animationstart"),PT=Qr("transitionrun"),UT=Qr("transitionstart"),LT=Qr("transitioncancel"),tp=Qr("transitionend"),np=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function bi(t,n){np.set(t,n),Vi(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Pa=0,af=0;function Bu(){for(var t=Pa,n=af=Pa=0;n<t;){var a=si[n];si[n++]=null;var l=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&ip(a,h,f)}}function qu(t,n,a,l){si[Pa++]=t,si[Pa++]=n,si[Pa++]=a,si[Pa++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,n,a,l){return qu(t,n,a,l),Hu(t)}function Yr(t,n){return qu(t,null,null,n),Hu(t)}function ip(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-yt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<wo)throw wo=0,pd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ua={};function zT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,a,l){return new zT(t,n,a,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t,n){var a=t.alternate;return a===null?(a=qn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")of(t)&&(y=1);else if(typeof t=="string")y=Fb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=qn(31,a,n,h),t.elementType=R,t.lanes=f,t;case re:return Xr(a.children,h,f,n);case ee:y=8,h|=24;break;case me:return t=qn(12,a,n,h|2),t.elementType=me,t.lanes=f,t;case Ve:return t=qn(13,a,n,h),t.elementType=Ve,t.lanes=f,t;case Se:return t=qn(19,a,n,h),t.elementType=Se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:y=10;break e;case de:y=9;break e;case Qe:y=11;break e;case N:y=14;break e;case x:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=qn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,a,l){return t=qn(7,t,l,n),t.lanes=a,t}function uf(t,n,a){return t=qn(6,t,null,n),t.lanes=a,t}function rp(t){var n=qn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,a){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:lt(n)},ap.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var La=[],za=0,Fu=null,io=0,ai=[],li=0,Fs=null,Hi=1,Gi="";function cs(t,n){La[za++]=io,La[za++]=Fu,Fu=t,io=n}function lp(t,n,a){ai[li++]=Hi,ai[li++]=Gi,ai[li++]=Fs,Fs=t;var l=Hi;t=Gi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var f=32-yt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Hi=1<<32-yt(n)+h|a<<h|l,Gi=f+t}else Hi=1<<f|a<<h|l,Gi=t}function hf(t){t.return!==null&&(cs(t,1),lp(t,1,0))}function ff(t){for(;t===Fu;)Fu=La[--za],La[za]=null,io=La[--za],La[za]=null;for(;t===Fs;)Fs=ai[--li],ai[li]=null,Gi=ai[--li],ai[li]=null,Hi=ai[--li],ai[li]=null}function op(t,n){ai[li++]=Hi,ai[li++]=Gi,ai[li++]=Fs,Hi=n.id,Gi=n.overflow,Fs=t}var ln=null,_t=null,Ye=!1,Ks=null,oi=!1,df=Error(r(519));function Qs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(ri(n,t)),df}function up(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[Jt]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<Ro.length;a++)ze(Ro[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),Su(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Us(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||x_(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=yi),n=!0):n=!1,n||Qs(t,!0)}function cp(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:ln=ln.return}}function Ba(t){if(t!==ln)return!1;if(!Ye)return cp(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&_t&&Qs(t),cp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=k_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));_t=k_(t)}else n===27?(n=_t,lr(t.type)?(t=jd,jd=null,_t=t):_t=n):_t=ln?ci(t.stateNode.nextSibling):null;return!0}function $r(){_t=ln=null,Ye=!1}function mf(){var t=Ks;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),Ks=null),t}function so(t){Ks===null?Ks=[t]:Ks.push(t)}var gf=I(null),Zr=null,hs=null;function Ys(t,n,a){W(gf,n._currentValue),n._currentValue=a}function fs(t){t._currentValue=gf.current,B(gf)}function pf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function yf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),pf(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),pf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function qa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Bn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===je.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}h=h.return}t!==null&&yf(n,t,a,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return hp(Zr,t)}function Qu(t,n){return Zr===null&&Jr(t),hp(t,n)}function hp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},hs===null){if(t===null)throw Error(r(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return a}var BT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},qT=s.unstable_scheduleCallback,HT=s.unstable_NormalPriority,qt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new BT,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&qT(HT,function(){t.controller.abort()})}var ao=null,vf=0,Ha=0,Ga=null;function GT(t,n){if(ao===null){var a=ao=[];vf=0,Ha=bd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vf++,n.then(fp,fp),n}function fp(){if(--vf===0&&ao!==null){Ga!==null&&(Ga.status="fulfilled");var t=ao;ao=null,Ha=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function FT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dp=H.S;H.S=function(t,n){$y=ot(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&GT(t,n),dp!==null&&dp(t,n)};var Wr=I(null);function Ef(){var t=Wr.current;return t!==null?t:dt.pooledCache}function Yu(t,n){n===null?W(Wr,Wr.current):W(Wr,n.pool)}function mp(){var t=Ef();return t===null?null:{parent:qt._currentValue,pool:t}}var Fa=Error(r(460)),Tf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(yi,yi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(yi,yi);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw ta=n,Fa}}function ea(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Fa):a}}var ta=null;function yp(){if(ta===null)throw Error(r(459));var t=ta;return ta=null,t}function _p(t){if(t===Fa||t===Xu)throw Error(r(483))}var Ka=null,lo=0;function Zu(t){var n=lo;return lo+=1,Ka===null&&(Ka=[]),pp(Ka,t,n)}function oo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vp(t){function n(P,M){if(t){var L=P.deletions;L===null?(P.deletions=[M],P.flags|=16):L.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=us(P,M),P.index=0,P.sibling=null,P}function f(P,M,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<M?(P.flags|=67108866,M):L):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,L,Y){return M===null||M.tag!==6?(M=uf(L,P.mode,Y),M.return=P,M):(M=h(M,L),M.return=P,M)}function C(P,M,L,Y){var ye=L.type;return ye===re?Q(P,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===M.type)?(M=h(M,L.props),oo(M,L),M.return=P,M):(M=Gu(L.type,L.key,L.props,null,P.mode,Y),oo(M,L),M.return=P,M)}function z(P,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=cf(L,P.mode,Y),M.return=P,M):(M=h(M,L.children||[]),M.return=P,M)}function Q(P,M,L,Y,ye){return M===null||M.tag!==7?(M=Xr(L,P.mode,Y,ye),M.return=P,M):(M=h(M,L),M.return=P,M)}function X(P,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=uf(""+M,P.mode,L),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return L=Gu(M.type,M.key,M.props,null,P.mode,L),oo(L,M),L.return=P,L;case te:return M=cf(M,P.mode,L),M.return=P,M;case x:return M=ea(M),X(P,M,L)}if(Be(M)||j(M))return M=Xr(M,P.mode,L,null),M.return=P,M;if(typeof M.then=="function")return X(P,Zu(M),L);if(M.$$typeof===pe)return X(P,Qu(P,M),L);Ju(P,M)}return null}function q(P,M,L,Y){var ye=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:T(P,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===ye?C(P,M,L,Y):null;case te:return L.key===ye?z(P,M,L,Y):null;case x:return L=ea(L),q(P,M,L,Y)}if(Be(L)||j(L))return ye!==null?null:Q(P,M,L,Y,null);if(typeof L.then=="function")return q(P,M,Zu(L),Y);if(L.$$typeof===pe)return q(P,M,Qu(P,L),Y);Ju(P,L)}return null}function F(P,M,L,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,T(M,P,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return P=P.get(Y.key===null?L:Y.key)||null,C(M,P,Y,ye);case te:return P=P.get(Y.key===null?L:Y.key)||null,z(M,P,Y,ye);case x:return Y=ea(Y),F(P,M,L,Y,ye)}if(Be(Y)||j(Y))return P=P.get(L)||null,Q(M,P,Y,ye,null);if(typeof Y.then=="function")return F(P,M,L,Zu(Y),ye);if(Y.$$typeof===pe)return F(P,M,L,Qu(M,Y),ye);Ju(M,Y)}return null}function ce(P,M,L,Y){for(var ye=null,Ze=null,he=M,ke=M=0,He=null;he!==null&&ke<L.length;ke++){he.index>ke?(He=he,he=null):He=he.sibling;var Je=q(P,he,L[ke],Y);if(Je===null){he===null&&(he=He);break}t&&he&&Je.alternate===null&&n(P,he),M=f(Je,M,ke),Ze===null?ye=Je:Ze.sibling=Je,Ze=Je,he=He}if(ke===L.length)return a(P,he),Ye&&cs(P,ke),ye;if(he===null){for(;ke<L.length;ke++)he=X(P,L[ke],Y),he!==null&&(M=f(he,M,ke),Ze===null?ye=he:Ze.sibling=he,Ze=he);return Ye&&cs(P,ke),ye}for(he=l(he);ke<L.length;ke++)He=F(he,P,ke,L[ke],Y),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?ke:He.key),M=f(He,M,ke),Ze===null?ye=He:Ze.sibling=He,Ze=He);return t&&he.forEach(function(fr){return n(P,fr)}),Ye&&cs(P,ke),ye}function Te(P,M,L,Y){if(L==null)throw Error(r(151));for(var ye=null,Ze=null,he=M,ke=M=0,He=null,Je=L.next();he!==null&&!Je.done;ke++,Je=L.next()){he.index>ke?(He=he,he=null):He=he.sibling;var fr=q(P,he,Je.value,Y);if(fr===null){he===null&&(he=He);break}t&&he&&fr.alternate===null&&n(P,he),M=f(fr,M,ke),Ze===null?ye=fr:Ze.sibling=fr,Ze=fr,he=He}if(Je.done)return a(P,he),Ye&&cs(P,ke),ye;if(he===null){for(;!Je.done;ke++,Je=L.next())Je=X(P,Je.value,Y),Je!==null&&(M=f(Je,M,ke),Ze===null?ye=Je:Ze.sibling=Je,Ze=Je);return Ye&&cs(P,ke),ye}for(he=l(he);!Je.done;ke++,Je=L.next())Je=F(he,P,ke,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&he.delete(Je.key===null?ke:Je.key),M=f(Je,M,ke),Ze===null?ye=Je:Ze.sibling=Je,Ze=Je);return t&&he.forEach(function(nA){return n(P,nA)}),Ye&&cs(P,ke),ye}function ft(P,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:e:{for(var ye=L.key;M!==null;){if(M.key===ye){if(ye=L.type,ye===re){if(M.tag===7){a(P,M.sibling),Y=h(M,L.props.children),Y.return=P,P=Y;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===M.type){a(P,M.sibling),Y=h(M,L.props),oo(Y,L),Y.return=P,P=Y;break e}a(P,M);break}else n(P,M);M=M.sibling}L.type===re?(Y=Xr(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Gu(L.type,L.key,L.props,null,P.mode,Y),oo(Y,L),Y.return=P,P=Y)}return y(P);case te:e:{for(ye=L.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(P,M.sibling),Y=h(M,L.children||[]),Y.return=P,P=Y;break e}else{a(P,M);break}else n(P,M);M=M.sibling}Y=cf(L,P.mode,Y),Y.return=P,P=Y}return y(P);case x:return L=ea(L),ft(P,M,L,Y)}if(Be(L))return ce(P,M,L,Y);if(j(L)){if(ye=j(L),typeof ye!="function")throw Error(r(150));return L=ye.call(L),Te(P,M,L,Y)}if(typeof L.then=="function")return ft(P,M,Zu(L),Y);if(L.$$typeof===pe)return ft(P,M,Qu(P,L),Y);Ju(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(P,M.sibling),Y=h(M,L),Y.return=P,P=Y):(a(P,M),Y=uf(L,P.mode,Y),Y.return=P,P=Y),y(P)):a(P,M)}return function(P,M,L,Y){try{lo=0;var ye=ft(P,M,L,Y);return Ka=null,ye}catch(he){if(he===Fa||he===Xu)throw he;var Ze=qn(29,he,null,P.mode);return Ze.lanes=Y,Ze.return=P,Ze}finally{}}}var na=vp(!0),Ep=vp(!1),Xs=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Hu(t),ip(t,null,a),n}return qu(t,l,n,a),Hu(t)}function uo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Re(t,a)}}function Sf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function co(){if(wf){var t=Ga;if(t!==null)throw t}}function ho(t,n,a,l){wf=!1;var h=t.updateQueue;Xs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;y=0,Q=z=C=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(qe&q)===q:(l&q)===q){q!==0&&q===Ha&&(wf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Te=T;q=n;var ft=a;switch(Te.tag){case 1:if(ce=Te.payload,typeof ce=="function"){X=ce.call(ft,X,q);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Te.payload,q=typeof ce=="function"?ce.call(ft,X,q):ce,q==null)break e;X=w({},X,q);break e;case 2:Xs=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,C=X):Q=Q.next=F,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),nr|=y,t.lanes=y,t.memoizedState=X}}function Tp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function bp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tp(a[t],n)}var Qa=I(null),Wu=I(0);function Ap(t,n){t=Ts,W(Wu,t),W(Qa,n),Ts=t|n.baseLanes}function xf(){W(Wu,Ts),W(Qa,Qa.current)}function Rf(){Ts=Wu.current,B(Qa),B(Wu)}var Hn=I(null),ui=null;function Js(t){var n=t.alternate;W(Vt,Vt.current&1),W(Hn,t),ui===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&(ui=t)}function Nf(t){W(Vt,Vt.current),W(Hn,t),ui===null&&(ui=t)}function Sp(t){t.tag===22?(W(Vt,Vt.current),W(Hn,t),ui===null&&(ui=t)):Ws()}function Ws(){W(Vt,Vt.current),W(Hn,Hn.current)}function Gn(t){B(Hn),ui===t&&(ui=null),B(Vt)}var Vt=I(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||kd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,Me=null,ct=null,Ht=null,tc=!1,Ya=!1,ia=!1,nc=0,fo=0,Xa=null,KT=0;function Ct(){throw Error(r(321))}function Cf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Bn(t[a],n[a]))return!1;return!0}function If(t,n,a,l,h,f){return ds=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ly:Ff,ia=!1,f=a(l,h),ia=!1,Ya&&(f=xp(n,a,l,h)),wp(t),f}function wp(t){H.H=po;var n=ct!==null&&ct.next!==null;if(ds=0,Ht=ct=Me=null,tc=!1,fo=0,Xa=null,n)throw Error(r(300));t===null||Gt||(t=t.dependencies,t!==null&&Ku(t)&&(Gt=!0))}function xp(t,n,a,l){Me=t;var h=0;do{if(Ya&&(Xa=null),fo=0,Ya=!1,25<=h)throw Error(r(301));if(h+=1,Ht=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=oy,f=n(a,l)}while(Ya);return f}function QT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?mo(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Me.flags|=1024),n}function Df(){var t=nc!==0;return nc=0,t}function Of(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}ds=0,Ht=ct=Me=null,Ya=!1,fo=nc=0,Xa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(ct===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Ht===null?Me.memoizedState:Ht.next;if(n!==null)Ht=n,ct=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var n=fo;return fo+=1,Xa===null&&(Xa=[]),t=pp(Xa,t,n),n=Me,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ly:Ff),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===pe)return on(t)}throw Error(r(438,String(t)))}function Vf(t){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function ms(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=kt();return kf(n,ct,t)}function kf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,C=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(qe&X)===X:(ds&X)===X){var q=z.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ha&&(Q=!0);else if((ds&q)===q){z=z.next,q===Ha&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,y=f):C=C.next=X,Me.lanes|=q,nr|=q;X=z.action,ia&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else q={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=q,y=f):C=C.next=q,Me.lanes|=X,nr|=X;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=T,!Bn(f,t.memoizedState)&&(Gt=!0,Q&&(a=Ga,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var n=kt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Bn(f,n.memoizedState)||(Gt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rp(t,n,a){var l=Me,h=kt(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Bn((ct||h).memoizedState,a);if(y&&(h.memoizedState=a,Gt=!0),h=h.queue,Lf(Ip.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Cp.bind(null,l,h,a,n),null),dt===null)throw Error(r(349));f||(ds&127)!==0||Np(l,n,a)}return a}function Np(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=ic(),Me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cp(t,n,a,l){n.value=a,n.getSnapshot=l,Dp(n)&&Op(t)}function Ip(t,n,a){return a(function(){Dp(n)&&Op(t)})}function Dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Bn(t,a)}catch{return!0}}function Op(t){var n=Yr(t,2);n!==null&&Vn(n,t,2)}function Pf(t){var n=Sn();if(typeof t=="function"){var a=t;if(t=a(),ia){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},n}function Mp(t,n,a,l){return t.baseState=a,kf(t,ct,typeof l=="function"?l:ms)}function YT(t,n,a,l,h){if(oc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var T=a(h,l),C=H.S;C!==null&&C(y,T),kp(t,n,T)}catch(z){Uf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,l),kp(t,n,f)}catch(z){Uf(t,n,z)}}function kp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jp(t,n,l)},function(l){return Uf(t,n,l)}):jp(t,n,a)}function jp(t,n,a){n.status="fulfilled",n.value=a,Pp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Uf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Pp(n),n=n.next;while(n!==l)}t.action=null}function Pp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Up(t,n){return n}function Lp(t,n){if(Ye){var a=dt.formState;if(a!==null){e:{var l=Me;if(Ye){if(_t){t:{for(var h=_t,f=oi;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_t=ci(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(n=a[0])}}return a=Sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:n},a.queue=l,a=sy.bind(null,Me,l),l.dispatch=a,l=Pf(!1),f=Gf.bind(null,Me,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=YT.bind(null,Me,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function zp(t){var n=kt();return Bp(n,ct,t)}function Bp(t,n,a){if(n=kf(t,n,Up)[0],t=rc(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=mo(n)}catch(y){throw y===Fa?Xu:y}else l=n;n=kt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,$a(9,{destroy:void 0},XT.bind(null,h,a),null)),[l,f,t]}function XT(t,n){t.action=n}function qp(t){var n=kt(),a=ct;if(a!==null)return Bp(n,a,t);kt(),n=n.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $a(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=ic(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Hp(){return kt().memoizedState}function ac(t,n,a,l){var h=Sn();Me.flags|=t,h.memoizedState=$a(1|n,{destroy:void 0},a,l===void 0?null:l)}function lc(t,n,a,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&Cf(l,ct.memoizedState.deps)?h.memoizedState=$a(n,f,a,l):(Me.flags|=t,h.memoizedState=$a(1|n,f,a,l))}function Gp(t,n){ac(8390656,8,t,n)}function Lf(t,n){lc(2048,8,t,n)}function $T(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=ic(),Me.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Fp(t){var n=kt().memoizedState;return $T({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Kp(t,n){return lc(4,2,t,n)}function Qp(t,n){return lc(4,4,t,n)}function Yp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xp(t,n,a){a=a!=null?a.concat([t]):null,lc(4,4,Yp.bind(null,n,t),a)}function zf(){}function $p(t,n){var a=kt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Cf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zp(t,n){var a=kt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Cf(n,l[1]))return l[0];if(l=t(),ia){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Bf(t,n,a){return a===void 0||(ds&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),Me.lanes|=t,nr|=t,a)}function Jp(t,n,a,l){return Bn(a,n)?a:Qa.current!==null?(t=Bf(t,a,l),Bn(t,n)||(Gt=!0),t):(ds&42)===0||(ds&1073741824)!==0&&(qe&261930)===0?(Gt=!0,t.memoizedState=a):(t=Jy(),Me.lanes|=t,nr|=t,n)}function Wp(t,n,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=H.T,T={};H.T=T,Gf(t,!1,n,a);try{var C=h(),z=H.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=FT(C,l);go(t,n,Q,Qn(t))}else go(t,n,l,Qn(t))}catch(X){go(t,n,{then:function(){},status:"rejected",reason:X},Qn())}finally{ie.p=f,y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}function ZT(){}function qf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=ey(t).queue;Wp(t,h,n,ne,a===null?ZT:function(){return ty(t),a(l)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),go(t,n.next.queue,{},Qn())}function Hf(){return on(Oo)}function ny(){return kt().memoizedState}function iy(){return kt().memoizedState}function JT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Qn();t=$s(a);var l=Zs(n,t,a);l!==null&&(Vn(l,n,a),uo(l,n,a)),n={cache:_f()},t.payload=n;return}n=n.return}}function WT(t,n,a){var l=Qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?ry(n,a):(a=lf(t,n,a,l),a!==null&&(Vn(a,t,l),ay(a,n,l)))}function sy(t,n,a){var l=Qn();go(t,n,a,l)}function go(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))ry(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Bn(T,y))return qu(t,n,h,0),dt===null&&Bu(),!1}catch{}finally{}if(a=lf(t,n,h,l),a!==null)return Vn(a,t,l),ay(a,n,l),!0}return!1}function Gf(t,n,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(r(479))}else n=lf(t,a,l,2),n!==null&&Vn(n,t,2)}function oc(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function ry(t,n){Ya=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Re(t,a)}}var po={readContext:on,use:sc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};po.useEffectEvent=Ct;var ly={readContext:on,use:sc,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Yp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=Sn();n=n===void 0?null:n;var l=t();if(ia){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Sn();if(a!==void 0){var h=a(n);if(ia){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WT.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Pf(t);var n=t.queue,a=sy.bind(null,Me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,n){var a=Sn();return Bf(a,t,n)},useTransition:function(){var t=Pf(!1);return t=Wp.bind(null,Me,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Me,h=Sn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),dt===null)throw Error(r(349));(qe&127)!==0||Np(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gp(Ip.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,{destroy:void 0},Cp.bind(null,l,f,a,n),null),a},useId:function(){var t=Sn(),n=dt.identifierPrefix;if(Ye){var a=Gi,l=Hi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=KT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:Lp,useActionState:Lp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,Me,!0,a),a.dispatch=n,[t,n]},useMemoCache:Vf,useCacheRefresh:function(){return Sn().memoizedState=JT.bind(null,Me)},useEffectEvent:function(t){var n=Sn(),a={impl:t};return n.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:on,use:sc,useCallback:$p,useContext:on,useEffect:Lf,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Qp,useMemo:Zp,useReducer:rc,useRef:Hp,useState:function(){return rc(ms)},useDebugValue:zf,useDeferredValue:function(t,n){var a=kt();return Jp(a,ct.memoizedState,t,n)},useTransition:function(){var t=rc(ms)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:Rp,useId:ny,useHostTransitionStatus:Hf,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=kt();return Mp(a,ct,t,n)},useMemoCache:Vf,useCacheRefresh:iy};Ff.useEffectEvent=Fp;var oy={readContext:on,use:sc,useCallback:$p,useContext:on,useEffect:Lf,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Qp,useMemo:Zp,useReducer:jf,useRef:Hp,useState:function(){return jf(ms)},useDebugValue:zf,useDeferredValue:function(t,n){var a=kt();return ct===null?Bf(a,t,n):Jp(a,ct.memoizedState,t,n)},useTransition:function(){var t=jf(ms)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:mo(t),n]},useSyncExternalStore:Rp,useId:ny,useHostTransitionStatus:Hf,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var a=kt();return ct!==null?Mp(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:iy};oy.useEffectEvent=Fp;function Kf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Qn(),h=$s(l);h.payload=n,a!=null&&(h.callback=a),n=Zs(t,h,l),n!==null&&(Vn(n,t,l),uo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Qn(),h=$s(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Zs(t,h,l),n!==null&&(Vn(n,t,l),uo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Qn(),l=$s(a);l.tag=2,n!=null&&(l.callback=n),n=Zs(t,l,a),n!==null&&(Vn(n,t,a),uo(n,t,a))}};function uy(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!to(a,l)||!to(h,f):!0}function cy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Qf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){zu(t)}function fy(t){console.error(t)}function dy(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function my(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,a){return a=$s(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function gy(t){return t=$s(t),t.tag=3,t}function py(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){my(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){my(n,a,l),typeof h!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&qa(n,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?Tc():a.alternate===null&&It===0&&(It=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),vd(t,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),vd(t,l,h)),!1}throw Error(r(435,a.tag))}return vd(t,l,h),Tc(),!1}if(Ye)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==df&&(t=Error(r(422),{cause:l}),so(ri(t,a)))):(l!==df&&(n=Error(r(423),{cause:l}),so(ri(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ri(l,a),h=Yf(t.stateNode,l,h),Sf(t,h),It!==4&&(It=2)),!1;var f=Error(r(520),{cause:l});if(f=ri(f,a),So===null?So=[f]:So.push(f),It!==4&&(It=2),n===null)return!0;l=ri(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,l,t),Sf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gy(h),py(h,t,a,l),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Gt=!1;function un(t,n,a,l){n.child=t===null?Ep(n,null,a,l):na(n,t.child,a,l)}function yy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Jr(n),l=If(t,n,a,y,f,h),T=Df(),t!==null&&!Gt?(Of(t,n,h),gs(t,n,h)):(Ye&&T&&hf(n),n.flags|=1,un(t,n,l,h),n.child)}function _y(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!of(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vy(t,n,f,l,h)):(t=Gu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(y,l)&&t.ref===n.ref)return gs(t,n,h)}return n.flags|=1,t=us(f,l),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(to(f,l)&&t.ref===n.ref)if(Gt=!1,n.pendingProps=l=f,id(t,h))(t.flags&131072)!==0&&(Gt=!0);else return n.lanes=t.lanes,gs(t,n,h)}return $f(t,n,a,l,h)}function Ey(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Ty(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?Ap(n,f):xf(),Sp(n);else return l=n.lanes=536870912,Ty(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Yu(n,f.cachePool),Ap(n,f),Ws(),n.memoizedState=null):(t!==null&&Yu(n,null),xf(),Ws());return un(t,n,h,a),n.child}function yo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ty(t,n,a,l,h){var f=Ef();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),xf(),Sp(n),t!==null&&qa(t,n,l,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function by(t,n,a){return na(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function tb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=cc(n,l),n.lanes=536870912,yo(null,t);if(Nf(n),(t=_t)?(t=V_(t,oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=rp(t),a.return=n,n.child=a,ln=n,_t=null)):t=null,t===null)throw Qs(n);return n.lanes=536870912,null}return cc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Nf(n),h)if(n.flags&256)n.flags&=-257,n=by(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Gt||qa(t,n,a,!1),h=(a&t.childLanes)!==0,Gt||h){if(l=dt,l!==null&&(y=We(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Yr(t,y),Vn(l,t,y),Xf;Tc(),n=by(t,n,a)}else t=f.treeContext,_t=ci(y.nextSibling),ln=n,Ye=!0,Ks=null,oi=!1,t!==null&&op(n,t),n=cc(n,l),n.flags|=4096;return n}return t=us(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $f(t,n,a,l,h){return Jr(n),a=If(t,n,a,l,void 0,h),l=Df(),t!==null&&!Gt?(Of(t,n,h),gs(t,n,h)):(Ye&&l&&hf(n),n.flags|=1,un(t,n,a,h),n.child)}function Ay(t,n,a,l,h,f){return Jr(n),n.updateQueue=null,a=xp(n,l,a,h),wp(t),l=Df(),t!==null&&!Gt?(Of(t,n,f),gs(t,n,f)):(Ye&&l&&hf(n),n.flags|=1,un(t,n,a,f),n.child)}function Sy(t,n,a,l,h){if(Jr(n),n.stateNode===null){var f=Ua,y=a.contextType;typeof y=="object"&&y!==null&&(f=on(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?on(y):Ua,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Kf(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Qf.enqueueReplaceState(f,f.state,null),ho(n,l,f,h),co(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=sa(a,T);f.props=C;var z=f.context,Q=a.contextType;y=Ua,typeof Q=="object"&&Q!==null&&(y=on(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&cy(n,f,l,y),Xs=!1;var q=n.memoizedState;f.state=q,ho(n,l,f,h),co(),z=n.memoizedState,T||q!==z||Xs?(typeof X=="function"&&(Kf(n,a,X,l),z=n.memoizedState),(C=Xs||uy(n,a,C,l,q,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Af(t,n),y=n.memoizedProps,Q=sa(a,y),f.props=Q,X=n.pendingProps,q=f.context,z=a.contextType,C=Ua,typeof z=="object"&&z!==null&&(C=on(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||q!==C)&&cy(n,f,l,C),Xs=!1,q=n.memoizedState,f.state=q,ho(n,l,f,h),co();var F=n.memoizedState;y!==X||q!==F||Xs||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(Kf(n,a,T,l),F=n.memoizedState),(Q=Xs||uy(n,a,Q,l,q,F,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,a,h)):un(t,n,a,h),n.memoizedState=f.state,t=n.child):t=gs(t,n,h),t}function wy(t,n,a,l){return $r(),n.flags|=256,un(t,n,a,l),n.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:mp()}}function Wf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Kn),t}function xy(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Js(n):Ws(),(t=_t)?(t=V_(t,oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=rp(t),a.return=n,n.child=a,ln=n,_t=null)):t=null,t===null)throw Qs(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ws(),h=n.mode,T=fc({mode:"hidden",children:T},h),l=Xr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Jf(a),l.childLanes=Wf(t,y,a),n.memoizedState=Zf,yo(null,l)):(Js(n),ed(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=td(t,n,a)):n.memoizedState!==null?(Ws(),n.child=t.child,n.flags|=128,n=null):(Ws(),T=l.fallback,h=n.mode,l=fc({mode:"visible",children:l.children},h),T=Xr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,na(n,t.child,null,a),l=n.child,l.memoizedState=Jf(a),l.childLanes=Wf(t,y,a),n.memoizedState=Zf,n=yo(null,l));else if(Js(n),kd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,so({value:l,source:null,stack:null}),n=td(t,n,a)}else if(Gt||qa(t,n,a,!1),y=(a&t.childLanes)!==0,Gt||y){if(y=dt,y!==null&&(l=We(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Yr(t,l),Vn(y,t,l),Xf;Vd(T)||Tc(),n=td(t,n,a)}else Vd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,_t=ci(T.nextSibling),ln=n,Ye=!0,Ks=null,oi=!1,t!==null&&op(n,t),n=ed(n,l.children),n.flags|=4096);return n}return h?(Ws(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=us(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=us(z,T):(T=Xr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,yo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Jf(a):(h=T.cachePool,h!==null?(C=qt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Wf(t,y,a),n.memoizedState=Zf,yo(t.child,l)):(Js(n),a=t.child,t=a.sibling,a=us(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=qn(22,t,null,n),t.lanes=0,t}function td(t,n,a){return na(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),pf(t.return,n,a)}function nd(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ny(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Vt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,W(Vt,y),un(t,n,l,a),l=Ye?io:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),nd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(n,!0,a,null,f,l);break;case"together":nd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function gs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(qa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=us(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=us(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function nb(t,n,a){switch(n.tag){case 3:mt(n,n.stateNode.containerInfo),Ys(n,qt,t.memoizedState.cache),$r();break;case 27:case 5:Xn(n);break;case 4:mt(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xy(t,n,a):(Js(n),t=gs(t,n,a),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(qa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ny(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,Ey(t,n,a,n.pendingProps);case 24:Ys(n,qt,t.memoizedState.cache)}return gs(t,n,a)}function Cy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Gt=!0;else{if(!id(t,a)&&(n.flags&128)===0)return Gt=!1,nb(t,n,a);Gt=(t.flags&131072)!==0}else Gt=!1,Ye&&(n.flags&1048576)!==0&&lp(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")of(t)?(l=sa(t,l),n.tag=1,n=Sy(null,n,t,l,a)):(n.tag=0,n=$f(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Qe){n.tag=11,n=yy(null,n,t,l,a);break e}else if(h===N){n.tag=14,n=_y(null,n,t,l,a);break e}}throw n=De(t)||t,Error(r(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=sa(l,n.pendingProps),Sy(t,n,l,h,a);case 3:e:{if(mt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Af(t,n),ho(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ys(n,qt,l),l!==f.cache&&yf(n,[qt],a,!0),co(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wy(t,n,l,a);break e}else if(l!==h){h=ri(Error(r(424)),n),so(h),n=wy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=ci(t.firstChild),ln=n,Ye=!0,Ks=null,oi=!0,a=Ep(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($r(),l===h){n=gs(t,n,a);break e}un(t,n,l,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=z_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,l=Nc(we.current).createElement(a),l[Lt]=n,l[Jt]=t,cn(l,a,t),zt(l),n.stateNode=l):n.memoizedState=z_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xn(n),t===null&&Ye&&(l=n.stateNode=P_(n.type,n.pendingProps,we.current),ln=n,oi=!0,h=_t,lr(n.type)?(jd=h,_t=ci(l.firstChild)):_t=h),un(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=_t)&&(l=Ob(l,n.type,n.pendingProps,oi),l!==null?(n.stateNode=l,ln=n,_t=ci(l.firstChild),oi=!1,h=!0):h=!1),h||Qs(n)),Xn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Dd(h,f)?l=null:y!==null&&Dd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=If(t,n,QT,null,null,a),Oo._currentValue=h),hc(t,n),un(t,n,l,a),n.child;case 6:return t===null&&Ye&&((t=a=_t)&&(a=Mb(a,n.pendingProps,oi),a!==null?(n.stateNode=a,ln=n,_t=null,t=!0):t=!1),t||Qs(n)),null;case 13:return xy(t,n,a);case 4:return mt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,a):un(t,n,l,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return un(t,n,n.pendingProps,a),n.child;case 8:return un(t,n,n.pendingProps.children,a),n.child;case 12:return un(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ys(n,n.type,l.value),un(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,a),n.child;case 14:return _y(t,n,n.type,n.pendingProps,a);case 15:return vy(t,n,n.type,n.pendingProps,a);case 19:return Ny(t,n,a);case 31:return tb(t,n,a);case 22:return Ey(t,n,a,n.pendingProps);case 24:return Jr(n),l=on(qt),t===null?(h=Ef(),h===null&&(h=dt,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},bf(n),Ys(n,qt,h)):((t.lanes&a)!==0&&(Af(t,n),ho(n,null,null,a),co()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ys(n,qt,l)):(l=f.cache,Ys(n,qt,l),l!==h.cache&&yf(n,[qt],a,!0))),un(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ps(t){t.flags|=4}function sd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n_())t.flags|=8192;else throw ta=$u,Tf}else t.flags&=-16777217}function Iy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!F_(n))if(n_())t.flags|=8192;else throw ta=$u,Tf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ba():536870912,t.lanes|=n,el|=n)}function _o(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ib(t,n,a){var l=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),fs(qt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(n)?ps(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),vt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ps(n),f!==null?(vt(n),Iy(n,f)):(vt(n),sd(n,h,null,l,a))):f?f!==t.memoizedState?(ps(n),vt(n),Iy(n,f)):(vt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ps(n),vt(n),sd(n,h,t,l,a)),null;case 27:if(gi(n),a=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return vt(n),null}t=ae.current,Ba(n)?up(n):(t=P_(h,l,a),n.stateNode=t,ps(n))}return vt(n),null;case 5:if(gi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return vt(n),null}if(f=ae.current,Ba(n))up(n);else{var y=Nc(we.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[Lt]=n,f[Jt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ps(n)}}return vt(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=we.current,Ba(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Qs(n,!0)}else t=Nc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return vt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return vt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ba(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Lt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),vt(n),null);case 4:return it(),t===null&&xd(n.stateNode.containerInfo),vt(n),null;case 10:return fs(n.type),vt(n),null;case 19:if(B(Vt),l=n.memoizedState,l===null)return vt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)_o(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,_o(l,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sp(a,t),a=a.sibling;return W(Vt,Vt.current&1|2),Ye&&cs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ot()>_c&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),_o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return vt(n),null}else 2*ot()-l.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ot(),t.sibling=null,a=Vt.current,W(Vt,h?a&1|2:a&1),Ye&&cs(n,l.treeForkCount),t):(vt(n),null);case 22:case 23:return Gn(n),Rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&B(Wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(qt),vt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sb(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(qt),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gi(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(r(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Vt),null;case 4:return it(),null;case 10:return fs(n.type),null;case 22:case 23:return Gn(n),Rf(),t!==null&&B(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return fs(qt),null;case 25:return null;default:return null}}function Dy(t,n){switch(ff(n),n.tag){case 3:fs(qt),it();break;case 26:case 27:case 5:gi(n);break;case 4:it();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:B(Vt);break;case 10:fs(n.type);break;case 22:case 23:Gn(n),Rf(),t!==null&&B(Wr);break;case 24:fs(qt)}}function vo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){at(n,n.return,T)}}function er(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var C=a,z=T;try{z()}catch(Q){at(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function Oy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bp(n,a)}catch(l){at(t,t.return,l)}}}function My(t,n,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function Eo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,n,h)}}function Fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function Vy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function rd(t,n,a){try{var l=t.stateNode;xb(l,t.type,a,n),l[Jt]=n}catch(h){at(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yi));else if(l!==4&&(l===27&&lr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ld(t,n,a),t=t.sibling;t!==null;)ld(t,n,a),t=t.sibling}function mc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function jy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,a),n[Lt]=t,n[Jt]=a}catch(f){at(t,t.return,f)}}var ys=!1,Ft=!1,od=!1,Py=typeof WeakSet=="function"?WeakSet:Set,en=null;function rb(t,n){if(t=t.containerInfo,Cd=kc,t=Xg(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,C=-1,z=0,Q=0,X=t,q=null;t:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(T=y+h),X!==f||l!==0&&X.nodeType!==3||(C=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===t)break t;if(q===a&&++z===h&&(T=y),q===f&&++Q===l&&(C=y),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},kc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=sa(a.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){at(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function Uy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(t,a),l&4&&vo(5,a);break;case 1:if(vs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){at(a,a.return,y)}else{var h=sa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){at(a,a.return,y)}}l&64&&Oy(a),l&512&&Eo(a,a.return);break;case 3:if(vs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bp(t,n)}catch(y){at(a,a.return,y)}}break;case 27:n===null&&l&4&&jy(a);case 26:case 5:vs(t,a),n===null&&l&4&&Vy(a),l&512&&Eo(a,a.return);break;case 12:vs(t,a);break;case 31:vs(t,a),l&4&&By(t,a);break;case 13:vs(t,a),l&4&&qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mb.bind(null,a),Vb(t,a))));break;case 22:if(l=a.memoizedState!==null||ys,!l){n=n!==null&&n.memoizedState!==null||Ft,h=ys;var f=Ft;ys=l,(Ft=n)&&!f?Es(t,a,(a.subtreeFlags&8772)!==0):vs(t,a),ys=h,Ft=f}break;case 30:break;default:vs(t,a)}}function Ly(t){var n=t.alternate;n!==null&&(t.alternate=null,Ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Sa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,In=!1;function _s(t,n,a){for(a=a.child;a!==null;)zy(t,n,a),a=a.sibling}function zy(t,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:Ft||Fi(a,n),_s(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Fi(a,n);var l=At,h=In;lr(a.type)&&(At=a.stateNode,In=!1),_s(t,n,a),Co(a.stateNode),At=l,In=h;break;case 5:Ft||Fi(a,n);case 6:if(l=At,h=In,At=null,_s(t,n,a),At=l,In=h,At!==null)if(In)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:At!==null&&(In?(t=At,O_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ol(t)):O_(At,a.stateNode));break;case 4:l=At,h=In,At=a.stateNode.containerInfo,In=!0,_s(t,n,a),At=l,In=h;break;case 0:case 11:case 14:case 15:er(2,a,n),Ft||er(4,a,n),_s(t,n,a);break;case 1:Ft||(Fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&My(a,n,l)),_s(t,n,a);break;case 21:_s(t,n,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,_s(t,n,a),Ft=l;break;default:_s(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(a){at(n,n.return,a)}}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(a){at(n,n.return,a)}}function ab(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Py),n;default:throw Error(r(435,t.tag))}}function gc(t,n){var a=ab(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=gb.bind(null,t,l);l.then(h,h)}})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(lr(T.type)){At=T.stateNode,In=!1;break e}break;case 5:At=T.stateNode,In=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,In=!0;break e}T=T.return}if(At===null)throw Error(r(160));zy(f,y,h),At=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var Ai=null;function Hy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),l&4&&(er(3,t,t.return),vo(3,t),er(5,t,t.return));break;case 1:Dn(n,t),On(t),l&512&&(Ft||a===null||Fi(a,a.return)),l&64&&ys&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ai;if(Dn(n,t),On(t),l&512&&(Ft||a===null||Fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Di]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,a),f[Lt]=t,zt(f),l=f;break e;case"link":var y=H_("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;case"meta":if(y=H_("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Lt]=t,zt(f),l=f}t.stateNode=l}else G_(h,t.type,t.stateNode);else t.stateNode=q_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G_(h,t.type,t.stateNode):q_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(n,t),On(t),l&512&&(Ft||a===null||Fi(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(n,t),On(t),l&512&&(Ft||a===null||Fi(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(ce){at(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(Dn(n,t),On(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){at(t,t.return,ce)}}break;case 3:if(Dc=null,h=Ai,Ai=Cc(n.containerInfo),Dn(n,t),Ai=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(ce){at(t,t.return,ce)}od&&(od=!1,Gy(t));break;case 4:l=Ai,Ai=Cc(t.stateNode.containerInfo),Dn(n,t),On(t),Ai=l;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ys,Q=Ft;if(ys=z||h,Ft=Q||C,Dn(n,t),Ft=Q,ys=z,On(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ys||Ft||ra(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){at(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){at(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?M_(F,!0):M_(C.stateNode,!1)}catch(ce){at(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:Dn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(ky(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ad(t);mc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(Cn(y,""),a.flags&=-33);var T=ad(t);mc(t,T,y);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ad(t);ld(t,z,C);break;default:throw Error(r(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function vs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:er(4,n,n.return),ra(n);break;case 1:Fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&My(n,n.return,a),ra(n);break;case 27:Co(n.stateNode);case 26:case 5:Fi(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function Es(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Es(h,f,a),vo(4,f);break;case 1:if(Es(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tp(C[h],T)}catch(z){at(l,l.return,z)}}a&&y&64&&Oy(f),Eo(f,f.return);break;case 27:jy(f);case 26:case 5:Es(h,f,a),a&&l===null&&y&4&&Vy(f),Eo(f,f.return);break;case 12:Es(h,f,a);break;case 31:Es(h,f,a),a&&y&4&&By(h,f);break;case 13:Es(h,f,a),a&&y&4&&qy(h,f);break;case 22:f.memoizedState===null&&Es(h,f,a),Eo(f,f.return);break;case 30:break;default:Es(h,f,a)}n=n.sibling}}function ud(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t))}function Si(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(t,n,a,l),n=n.sibling}function Fy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,a,l),h&2048&&vo(9,n);break;case 1:Si(t,n,a,l);break;case 3:Si(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){Si(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else Si(t,n,a,l);break;case 31:Si(t,n,a,l);break;case 13:Si(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Si(t,n,a,l):To(t,n):f._visibility&2?Si(t,n,a,l):(f._visibility|=2,Za(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(y,n);break;case 24:Si(t,n,a,l),h&2048&&cd(n.alternate,n);break;default:Si(t,n,a,l)}}function Za(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,C=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,T,C,h),vo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Za(f,y,T,C,h):To(f,y):(Q._visibility|=2,Za(f,y,T,C,h)),h&&z&2048&&ud(y.alternate,y);break;case 24:Za(f,y,T,C,h),h&&z&2048&&cd(y.alternate,y);break;default:Za(f,y,T,C,h)}n=n.sibling}}function To(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:To(a,l),h&2048&&ud(l.alternate,l);break;case 24:To(a,l),h&2048&&cd(l.alternate,l);break;default:To(a,l)}n=n.sibling}}var bo=8192;function Ja(t,n,a){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)Ky(t,n,a),t=t.sibling}function Ky(t,n,a){switch(t.tag){case 26:Ja(t,n,a),t.flags&bo&&t.memoizedState!==null&&Kb(a,Ai,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,n,a);break;case 3:case 4:var l=Ai;Ai=Cc(t.stateNode.containerInfo),Ja(t,n,a),Ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bo,bo=16777216,Ja(t,n,a),bo=l):Ja(t,n,a));break;default:Ja(t,n,a)}}function Qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];en=l,Xy(l,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&er(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):Ao(t);break;default:Ao(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];en=l,Xy(l,t)}Qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:er(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function Xy(t,n){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:er(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(Ly(l),l===a){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var lb={getCacheForType:function(t){var n=on(qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return on(qt).controller.signal}},ob=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Le=null,qe=0,rt=0,Fn=null,tr=!1,Wa=!1,hd=!1,Ts=0,It=0,nr=0,aa=0,fd=0,Kn=0,el=0,So=null,Mn=null,dd=!1,yc=0,$y=0,_c=1/0,vc=null,ir=null,Xt=0,sr=null,tl=null,bs=0,md=0,gd=null,Zy=null,wo=0,pd=null;function Qn(){return(tt&2)!==0&&qe!==0?qe&-qe:H.T!==null?bd():Rn()}function Jy(){if(Kn===0)if((qe&536870912)===0||Ye){var t=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),Kn=t}else Kn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Kn}function Vn(t,n,a){(t===dt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),rr(t,qe,Kn,!1)),rs(t,a),((tt&2)===0||t!==dt)&&(t===dt&&((tt&2)===0&&(aa|=a),It===4&&rr(t,qe,Kn,!1)),Ki(t))}function Wy(t,n,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=l?hb(t,n):_d(t,n,!0),f=l;do{if(h===0){Wa&&!l&&rr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ub(a)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=So;var C=T.current.memoizedState.isDehydrated;if(C&&(nl(T,y).flags|=256),y=_d(T,y,!1),y!==2){if(hd&&!C){T.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){nl(t,0),rr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,Kn,!tr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-ot(),10<h)){if(rr(l,n,Kn,!tr),Jn(l,0,!0)!==0)break e;bs=n,l.timeoutHandle=I_(e_.bind(null,l,a,Mn,vc,dd,n,Kn,aa,el,tr,f,"Throttled",-0,0),h);break e}e_(l,a,Mn,vc,dd,n,Kn,aa,el,tr,f,null,-0,0)}}break}while(!0);Ki(t)}function e_(t,n,a,l,h,f,y,T,C,z,Q,X,q,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Ky(n,f,X);var ce=(f&62914560)===f?yc-ot():(f&4194048)===f?$y-ot():0;if(ce=Qb(X,ce),ce!==null){bs=f,t.cancelPendingCommit=ce(o_.bind(null,t,n,f,a,l,h,y,T,C,Q,X,null,q,F)),rr(t,f,y,!z);return}}o_(t,n,f,a,l,h,y,T,C)}function ub(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Bn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,a,l){n&=~fd,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-yt(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&V(t,a,n)}function Ec(){return(tt&6)===0?(xo(0),!1):!0}function yd(){if(Le!==null){if(rt===0)var t=Le.return;else t=Le,hs=Zr=null,Mf(t),Ka=null,lo=0,t=Le;for(;t!==null;)Dy(t.alternate,t),t=t.return;Le=null}}function nl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bs=0,yd(),dt=t,Le=a=us(t.current,null),qe=n,rt=0,Fn=null,tr=!1,Wa=Un(t,n),hd=!1,el=Kn=fd=aa=nr=It=0,Mn=So=null,dd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-yt(l),f=1<<h;n|=t[h],l&=~f}return Ts=n,Bu(),a}function t_(t,n){Me=null,H.H=po,n===Fa||n===Xu?(n=yp(),rt=3):n===Tf?(n=yp(),rt=4):rt=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Fn=n,Le===null&&(It=1,uc(t,ri(n,t.current)))}function n_(){var t=Hn.current;return t===null?!0:(qe&4194048)===qe?ui===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ui:!1}function i_(){var t=H.H;return H.H=po,t===null?po:t}function s_(){var t=H.A;return H.A=lb,t}function Tc(){It=4,tr||(qe&4194048)!==qe&&Hn.current!==null||(Wa=!0),(nr&134217727)===0&&(aa&134217727)===0||dt===null||rr(dt,qe,Kn,!1)}function _d(t,n,a){var l=tt;tt|=2;var h=i_(),f=s_();(dt!==t||qe!==n)&&(vc=null,nl(t,n)),n=!1;var y=It;e:do try{if(rt!==0&&Le!==null){var T=Le,C=Fn;switch(rt){case 8:yd(),y=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var z=rt;if(rt=0,Fn=null,il(t,T,C,z),a&&Wa){y=0;break e}break;default:z=rt,rt=0,Fn=null,il(t,T,C,z)}}cb(),y=It;break}catch(Q){t_(t,Q)}while(!0);return n&&t.shellSuspendCounter++,hs=Zr=null,tt=l,H.H=h,H.A=f,Le===null&&(dt=null,qe=0,Bu()),y}function cb(){for(;Le!==null;)r_(Le)}function hb(t,n){var a=tt;tt|=2;var l=i_(),h=s_();dt!==t||qe!==n?(vc=null,_c=ot()+500,nl(t,n)):Wa=Un(t,n);e:do try{if(rt!==0&&Le!==null){n=Le;var f=Fn;t:switch(rt){case 1:rt=0,Fn=null,il(t,n,f,1);break;case 2:case 9:if(gp(f)){rt=0,Fn=null,a_(n);break}n=function(){rt!==2&&rt!==9||dt!==t||(rt=7),Ki(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:gp(f)?(rt=0,Fn=null,a_(n)):(rt=0,Fn=null,il(t,n,f,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var T=Le;if(y?F_(y):T.stateNode.complete){rt=0,Fn=null;var C=T.sibling;if(C!==null)Le=C;else{var z=T.return;z!==null?(Le=z,bc(z)):Le=null}break t}}rt=0,Fn=null,il(t,n,f,5);break;case 6:rt=0,Fn=null,il(t,n,f,6);break;case 8:yd(),It=6;break e;default:throw Error(r(462))}}fb();break}catch(Q){t_(t,Q)}while(!0);return hs=Zr=null,H.H=l,H.A=h,tt=a,Le!==null?0:(dt=null,qe=0,Bu(),It)}function fb(){for(;Le!==null&&!mn();)r_(Le)}function r_(t){var n=Cy(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,n===null?bc(t):Le=n}function a_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ay(a,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=Ay(a,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Mf(n);default:Dy(a,n),n=Le=sp(n,Ts),n=Cy(a,n,Ts)}t.memoizedProps=t.pendingProps,n===null?bc(t):Le=n}function il(t,n,a,l){hs=Zr=null,Mf(n),Ka=null,lo=0;var h=n.return;try{if(eb(t,h,n,a,qe)){It=1,uc(t,ri(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;It=1,uc(t,ri(a,t.current)),Le=null;return}n.flags&32768?(Ye||l===1?t=!0:Wa||(qe&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){l_(n,tr);return}t=n.return;var a=ib(n.alternate,n,Ts);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);It===0&&(It=5)}function l_(t,n){do{var a=sb(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);It=6,Le=null}function o_(t,n,a,l,h,f,y,T,C){t.cancelPendingCommit=null;do Ac();while(Xt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=af,Pl(t,a,f,y,T,C),t===dt&&(Le=dt=null,qe=0),tl=n,sr=t,bs=a,md=f,gd=h,Zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(Pn,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ie.p,ie.p=2,y=tt,tt|=4;try{rb(t,n,a)}finally{tt=y,ie.p=h,H.T=l}}Xt=1,u_(),c_(),h_()}}function u_(){if(Xt===1){Xt=0;var t=sr,n=tl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{Hy(n,t);var f=Id,y=Xg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Yg(T.ownerDocument.documentElement,T)){if(C!==null&&ef(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),ce=T.textContent.length,Te=Math.min(C.start,ce),ft=C.end===void 0?Te:Math.min(C.end,ce);!F.extend&&Te>ft&&(y=ft,ft=Te,Te=y);var P=Qg(T,Te),M=Qg(T,ft);if(P&&M&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=X.createRange();L.setStart(P.node,P.offset),F.removeAllRanges(),Te>ft?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}kc=!!Cd,Id=Cd=null}finally{tt=h,ie.p=l,H.T=a}}t.current=n,Xt=2}}function c_(){if(Xt===2){Xt=0;var t=sr,n=tl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{Uy(t,n.alternate,n)}finally{tt=h,ie.p=l,H.T=a}}Xt=3}}function h_(){if(Xt===4||Xt===3){Xt=0,wt();var t=sr,n=tl,a=bs,l=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,tl=sr=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ir=null),xt(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{H.T=n,ie.p=h}}(bs&3)!==0&&Ac(),Ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pd?wo++:(wo=0,pd=t):wo=0,xo(0)}}function f_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ro(n)))}function Ac(){return u_(),c_(),h_(),d_()}function d_(){if(Xt!==5)return!1;var t=sr,n=md;md=0;var a=xt(bs),l=H.T,h=ie.p;try{ie.p=32>a?32:a,H.T=null,a=gd,gd=null;var f=sr,y=bs;if(Xt=0,tl=sr=null,bs=0,(tt&6)!==0)throw Error(r(331));var T=tt;if(tt|=4,Yy(f.current),Fy(f,f.current,y,a),tt=T,xo(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(wn,f)}catch{}return!0}finally{ie.p=h,H.T=l,f_(t,n)}}function m_(t,n,a){n=ri(a,n),n=Yf(t.stateNode,n,2),t=Zs(t,n,2),t!==null&&(rs(t,2),Ki(t))}function at(t,n,a){if(t.tag===3)m_(t,t,a);else for(;n!==null;){if(n.tag===3){m_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=ri(a,t),a=gy(2),l=Zs(n,a,2),l!==null&&(py(a,l,n,t),rs(l,2),Ki(l));break}}n=n.return}}function vd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ob;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(hd=!0,h.add(a),t=db.bind(null,t,n,a),n.then(t,t))}function db(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dt===t&&(qe&a)===a&&(It===4||It===3&&(qe&62914560)===qe&&300>ot()-yc?(tt&2)===0&&nl(t,0):fd|=a,el===qe&&(el=0)),Ki(t)}function g_(t,n){n===0&&(n=ba()),t=Yr(t,n),t!==null&&(rs(t,n),Ki(t))}function mb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),g_(t,a)}function gb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),g_(t,a)}function pb(t,n){return Ee(t,n)}var Sc=null,sl=null,Ed=!1,wc=!1,Td=!1,ar=0;function Ki(t){t!==sl&&t.next===null&&(sl===null?Sc=sl=t:sl=sl.next=t),wc=!0,Ed||(Ed=!0,_b())}function xo(t,n){if(!Td&&wc){Td=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-yt(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v_(l,f))}else f=qe,f=Jn(l,l===dt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,v_(l,f));l=l.next}while(a);Td=!1}}function yb(){p_()}function p_(){wc=Ed=!1;var t=0;ar!==0&&Nb()&&(t=ar);for(var n=ot(),a=null,l=Sc;l!==null;){var h=l.next,f=y_(l,n);f===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(sl=a)):(a=l,(t!==0||(f&3)!==0)&&(wc=!0)),l=h}Xt!==0&&Xt!==5||xo(t),ar!==0&&(ar=0)}function y_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-yt(f),T=1<<y,C=h[y];C===-1?((T&a)===0||(T&l)!==0)&&(h[y]=jl(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=dt,a=qe,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&pt(l),xt(a)){case 2:case 8:a=Ni;break;case 32:a=Pn;break;case 268435456:a=ss;break;default:a=Pn}return l=__.bind(null,t),a=Ee(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&pt(l),t.callbackPriority=2,t.callbackNode=null,2}function __(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=qe;return l=Jn(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wy(t,l,n),y_(t,ot()),t.callbackNode!=null&&t.callbackNode===a?__.bind(null,t):null)}function v_(t,n){if(Ac())return null;Wy(t,n,!0)}function _b(){Ib(function(){(tt&6)!==0?Ee(Tt,yb):p_()})}function bd(){if(ar===0){var t=Ha;t===0&&(t=bn,bn<<=1,(bn&261888)===0&&(bn=256)),ar=t}return ar}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function T_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=E_((h[Jt]||null).action),y=l.submitter;y&&(n=(n=y[Jt]||null)?E_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Li("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ar!==0){var C=y?T_(h,y):new FormData(h);qf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=y?T_(h,y):new FormData(h),qf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ad=0;Ad<rf.length;Ad++){var Sd=rf[Ad],Eb=Sd.toLowerCase(),Tb=Sd[0].toUpperCase()+Sd.slice(1);bi(Eb,"on"+Tb)}bi(Jg,"onAnimationEnd"),bi(Wg,"onAnimationIteration"),bi(ep,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(PT,"onTransitionRun"),bi(UT,"onTransitionStart"),bi(LT,"onTransitionCancel"),bi(tp,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function b_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(T=l[y],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=C}}}}function ze(t,n){var a=n[Aa];a===void 0&&(a=n[Aa]=new Set);var l=t+"__bubble";a.has(l)||(A_(n,t,2,!1),a.add(l))}function wd(t,n,a){var l=0;n&&(l|=4),A_(a,t,l,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[xc]){t[xc]=!0,Ul.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||wd(a,!1,t),wd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,wd("selectionchange",!1,n))}}function A_(t,n,a,l){switch(J_(n)){case 2:var h=$b;break;case 8:h=Zb;break;default:h=Bd}a=h.bind(null,n,a,t),h=void 0,!zr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Rd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=Oi(T),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}T=T.parentNode}}l=l.return}Bs(function(){var z=f,Q=ti(a),X=[];e:{var q=np.get(t);if(q!==void 0){var F=Li,ce=t;switch(t){case"keypress":if(qr(a)===0)break e;case"keydown":case"keyup":F=Pu;break;case"focusin":ce="focus",F=Gr;break;case"focusout":ce="blur",F=Gr;break;case"beforeblur":case"afterblur":F=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Jg:case Wg:case ep:F=Iu;break;case tp:F=A;break;case"scroll":case"scrollend":F=$l;break;case"wheel":F=G;break;case"copy":case"cut":case"paste":F=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=os;break;case"toggle":case"beforetoggle":F=Oe}var Te=(n&4)!==0,ft=!Te&&(t==="scroll"||t==="scrollend"),P=Te?q!==null?q+"Capture":null:q;Te=[];for(var M=z,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=_i(M,P),Y!=null&&Te.push(No(M,Y,L))),ft)break;M=M.return}0<Te.length&&(q=new F(q,ce,null,a,Q),X.push({event:q,listeners:Te}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ql&&(ce=a.relatedTarget||a.fromElement)&&(Oi(ce)||ce[Ii]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=z,ce=ce?Oi(ce):null,ce!==null&&(ft=c(ce),Te=ce.tag,ce!==ft||Te!==5&&Te!==27&&Te!==6)&&(ce=null)):(F=null,ce=z),F!==ce)){if(Te=Zl,Y="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=os,Y="onPointerLeave",P="onPointerEnter",M="pointer"),ft=F==null?q:Ln(F),L=ce==null?q:Ln(ce),q=new Te(Y,M+"leave",F,a,Q),q.target=ft,q.relatedTarget=L,Y=null,Oi(Q)===z&&(Te=new Te(P,M+"enter",ce,a,Q),Te.target=L,Te.relatedTarget=ft,Y=Te),ft=Y,F&&ce)t:{for(Te=Ab,P=F,M=ce,L=0,Y=P;Y;Y=Te(Y))L++;Y=0;for(var ye=M;ye;ye=Te(ye))Y++;for(;0<L-Y;)P=Te(P),L--;for(;0<Y-L;)M=Te(M),Y--;for(;L--;){if(P===M||M!==null&&P===M.alternate){Te=P;break t}P=Te(P),M=Te(M)}Te=null}else Te=null;F!==null&&S_(X,q,F,Te,!1),ce!==null&&ft!==null&&S_(X,ft,ce,Te,!0)}}e:{if(q=z?Ln(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Ze=Bg;else if(Lg(q))if(qg)Ze=VT;else{Ze=OT;var he=DT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ra(z.elementType)&&(Ze=Bg):Ze=MT;if(Ze&&(Ze=Ze(t,z))){zg(X,Ze,a,Q);break e}he&&he(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Gl(q,"number",q.value)}switch(he=z?Ln(z):window,t){case"focusin":(Lg(he)||he.contentEditable==="true")&&(ka=he,tf=z,no=null);break;case"focusout":no=tf=ka=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,$g(X,a,Q);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":$g(X,a,Q)}var ke;if(et)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Va?Fr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(qi&&a.locale!=="ko"&&(Va||He!=="onCompositionStart"?He==="onCompositionEnd"&&Va&&(ke=Xl()):(Ui=Q,Yl="value"in Ui?Ui.value:Ui.textContent,Va=!0)),he=Rc(z,He),0<he.length&&(He=new Bi(He,t,null,a,Q),X.push({event:He,listeners:he}),ke?He.data=ke:(ke=Ma(a),ke!==null&&(He.data=ke)))),(ke=ii?RT(t,a):NT(t,a))&&(He=Rc(z,"onBeforeInput"),0<He.length&&(he=new Bi("onBeforeInput","beforeinput",null,a,Q),X.push({event:he,listeners:He}),he.data=ke)),vb(X,t,z,a,Q)}b_(X,n)})}function No(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Rc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_i(t,a),h!=null&&l.unshift(No(t,h,f)),h=_i(t,n),h!=null&&l.push(No(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Ab(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S_(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=_i(a,f),z!=null&&y.unshift(No(a,z,C))):h||(z=_i(a,f),z!=null&&y.push(No(a,z,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var Sb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(Sb,`
`).replace(wb,"")}function x_(t,n){return n=w_(n),w_(t)===n}function ht(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Kl(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=yi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,wa(t,a,l))}}function Nd(t,n,a,l,h,f){switch(a){case"style":Kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function cn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,f,y,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),l&&ht(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=f=y=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ht(t,n,l,Q,a,null)}}Su(t,f,T,C,z,y,h,!1);return;case"select":ze("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:ht(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Ps(t,!!l,n,!1):a!=null&&Ps(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ht(t,n,y,T,a,null)}Us(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,n,C,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ro.length;l++)ze(Ro[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,z,l,a,null)}return;default:if(Ra(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Nd(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ht(t,n,T,l,a,null))}function xb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,C=null,z=null,Q=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(F)||ht(t,n,F,null,l,X)}}for(var q in l){var F=l[q];if(X=a[q],l.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==X&&ht(t,n,q,F,l,X)}}xa(t,y,T,C,z,Q,f,h);return;case"select":F=y=T=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==C&&ht(t,n,h,f,l,C)}n=T,a=y,l=F,q!=null?Ps(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ps(t,!!a,n,!0):Ps(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ht(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ht(t,n,y,h,l,f)}wu(t,q,F);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ht(t,n,ce,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ht(t,n,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)q=a[Te],a.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&ht(t,n,Te,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ht(t,n,z,q,l,F)}return;default:if(Ra(n)){for(var ft in a)q=a[ft],a.hasOwnProperty(ft)&&q!==void 0&&!l.hasOwnProperty(ft)&&Nd(t,n,ft,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Nd(t,n,Q,q,l,F);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&ht(t,n,P,null,l,q);for(X in l)q=l[X],F=a[X],!l.hasOwnProperty(X)||q===F||q==null&&F==null||ht(t,n,X,q,l,F)}function R_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&R_(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,X=C.initiatorType;Q&&R_(X)&&(C=C.responseEnd,y+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cd=null,Id=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function Nb(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(Db)}:I_;function Db(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function O_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ol(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);ol(n)}function M_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ob(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function Mb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function V_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ci(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jd=null;function k_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ci(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function j_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function P_(t,n,a){switch(n=Nc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Sa(t)}var hi=new Map,U_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=ie.d;ie.d={f:kb,r:jb,D:Pb,C:Ub,L:Lb,m:zb,X:qb,S:Bb,M:Hb};function kb(){var t=As.f(),n=Ec();return t||n}function jb(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):As.r(t)}var rl=typeof document>"u"?null:document;function L_(t,n,a){var l=rl;if(l&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function Pb(t){As.D(t),L_("dns-prefetch",t,null)}function Ub(t,n){As.C(t,n),L_("preconnect",t,n)}function Lb(t,n,a){As.L(t,n,a);var l=rl;if(l&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nn(a.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var f=h;switch(n){case"style":f=al(t);break;case"script":f=ll(t)}hi.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),hi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Io(f))||n==="script"&&l.querySelector(Do(f))||(n=l.createElement("link"),cn(n,"link",t),zt(n),l.head.appendChild(n)))}}function zb(t,n){As.m(t,n);var a=rl;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ll(t)}if(!hi.has(f)&&(t=w({rel:"modulepreload",href:t},n),hi.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(f)))return}l=a.createElement("link"),cn(l,"link",t),zt(l),a.head.appendChild(l)}}}function Bb(t,n,a){As.S(t,n,a);var l=rl;if(l&&t){var h=Mi(l).hoistableStyles,f=al(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Io(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=hi.get(f))&&Pd(t,a);var C=y=l.createElement("link");zt(C),cn(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function qb(t,n){As.X(t,n);var a=rl;if(a&&t){var l=Mi(a).hoistableScripts,h=ll(t),f=l.get(h);f||(f=a.querySelector(Do(h)),f||(t=w({src:t,async:!0},n),(n=hi.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Hb(t,n){As.M(t,n);var a=rl;if(a&&t){var l=Mi(a).hoistableScripts,h=ll(t),f=l.get(h);f||(f=a.querySelector(Do(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&Ud(t,n),f=a.createElement("script"),zt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function z_(t,n,a,l){var h=(h=we.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=al(a.href),a=Mi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var f=Mi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Io(t)))&&!f._p&&(y.instance=f,y.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||Gb(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ll(a),a=Mi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function al(t){return'href="'+Nn(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Gb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",a),zt(n),t.head.appendChild(n))}function ll(t){return'[src="'+Nn(t)+'"]'}function Do(t){return"script[async]"+t}function q_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Nn(a.href)+'"]');if(l)return n.instance=l,zt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),cn(l,"style",h),Ic(l,a.precedence,t),n.instance=l;case"stylesheet":h=al(a.href);var f=t.querySelector(Io(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;l=B_(a),(h=hi.get(h))&&Pd(l,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var y=f;return y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),cn(f,"link",l),n.state.loading|=4,Ic(f,a.precedence,t),n.instance=f;case"script":return f=ll(a.src),(h=t.querySelector(Do(f)))?(n.instance=h,zt(h),h):(l=a,(h=hi.get(f))&&(l=w({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ic(l,a.precedence,t));return n.instance}function Ic(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function H_(t,n,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Di]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function G_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Fb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function F_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=al(l.href),f=n.querySelector(Io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,zt(f);return}f=n.ownerDocument||n,l=B_(l),(h=hi.get(h))&&Pd(l,h),f=f.createElement("link"),zt(f);var y=f;y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),cn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function Qb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ld===0&&(Ld=62500*Rb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(Yb,t),Mc=null,Oc.call(t))}function Yb(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Oo={$$typeof:pe,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Xb(t,n,a,l,h,f,y,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function K_(t,n,a,l,h,f,y,T,C,z,Q,X){return t=new Xb(t,n,a,y,C,z,Q,X,T),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},bf(f),t}function Q_(t){return t?(t=Ua,t):Ua}function Y_(t,n,a,l,h,f){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=$s(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Zs(t,l,n),a!==null&&(Vn(a,t,n),uo(a,t,n))}function X_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function zd(t,n){X_(t,n),(t=t.alternate)&&X_(t,n)}function $_(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&Vn(n,t,67108864),zd(t,67108864)}}function Z_(t){if(t.tag===13||t.tag===31){var n=Qn();n=Ot(n);var a=Yr(t,n);a!==null&&Vn(a,t,n),zd(t,n)}}var kc=!0;function $b(t,n,a,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=2,Bd(t,n,a,l)}finally{ie.p=f,H.T=h}}function Zb(t,n,a,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=8,Bd(t,n,a,l)}finally{ie.p=f,H.T=h}}function Bd(t,n,a,l){if(kc){var h=qd(l);if(h===null)Rd(t,n,l,jc,a),W_(t,l);else if(Wb(h,t,n,a,l))l.stopPropagation();else if(W_(t,l),n&4&&-1<Jb.indexOf(t)){for(;h!==null;){var f=ei(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Zn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var C=1<<31-yt(y);T.entanglements[1]|=C,y&=~C}Ki(f),(tt&6)===0&&(_c=ot()+500,xo(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&Vn(T,f,2),Ec(),zd(f,2)}if(f=qd(l),f===null&&Rd(t,n,l,jc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rd(t,n,l,null,a)}}function qd(t){return t=ti(t),Hd(t)}var jc=null;function Hd(t){if(jc=null,t=Oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function J_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case Tt:return 2;case Ni:return 8;case Pn:case is:return 32;case ss:return 268435456;default:return 32}default:return 32}}var Gd=!1,or=null,ur=null,cr=null,Mo=new Map,Vo=new Map,hr=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function ko(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ei(n),n!==null&&$_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Wb(t,n,a,l,h){switch(n){case"focusin":return or=ko(or,t,n,a,l,h),!0;case"dragenter":return ur=ko(ur,t,n,a,l,h),!0;case"mouseover":return cr=ko(cr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Mo.set(f,ko(Mo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,t,n,a,l,h)),!0}return!1}function e0(t){var n=Oi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ut(t.priority,function(){Z_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Ut(t.priority,function(){Z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ql=l,a.target.dispatchEvent(l),Ql=null}else return n=ei(a),n!==null&&$_(n),t.blockedOn=a,!1;n.shift()}return!0}function t0(t,n,a){Pc(t)&&a.delete(n)}function eA(){Gd=!1,or!==null&&Pc(or)&&(or=null),ur!==null&&Pc(ur)&&(ur=null),cr!==null&&Pc(cr)&&(cr=null),Mo.forEach(t0),Vo.forEach(t0)}function Uc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eA)))}var Lc=null;function n0(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var f=ei(a);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ol(t){function n(C){return Uc(C,t)}or!==null&&Uc(or,t),ur!==null&&Uc(ur,t),cr!==null&&Uc(cr,t),Mo.forEach(n),Vo.forEach(n);for(var a=0;a<hr.length;a++){var l=hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)e0(a),a.blockedOn===null&&hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Jt]||null;if(typeof f=="function")y||n0(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Jt]||null)T=y.formAction;else if(Hd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),n0(a)}}}function i0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Fd(t){this._internalRoot=t}zc.prototype.render=Fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Qn();Y_(a,l,t,n,null,null)},zc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Y_(t.current,2,null,t,null,null),Ec(),n[Ii]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rn();t={blockedOn:null,target:t,priority:n};for(var a=0;a<hr.length&&n!==0&&n<hr[a].priority;a++);hr.splice(a,0,t),a===0&&e0(t)}};var s0=e.version;if(s0!=="19.2.0")throw Error(r(527,s0,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{wn=Bc.inject(tA),Dt=Bc}catch{}}return Po.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=hy,f=fy,y=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=K_(t,1,!1,null,null,a,l,null,h,f,y,i0),t[Ii]=n.current,xd(t),new Fd(n)},Po.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=hy,y=fy,T=dy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=K_(t,1,!0,n,a??null,l,h,C,f,y,T,i0),n.context=Q_(null),a=n.current,l=Qn(),l=Ot(l),h=$s(l),h.callback=null,Zs(a,h,l),a=l,n.current.lanes=a,rs(n,a),Ki(n),t[Ii]=n.current,xd(t),new zc(n)},Po.version="19.2.0",Po}var m0;function hA(){if(m0)return Yd.exports;m0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=cA(),Yd.exports}var fA=hA();const dA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),g0=s=>{const e=mA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Jv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),gA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yA=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>oe.createElement("svg",{ref:_,...pA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Jv("lucide",o),...!c&&!gA(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,b])=>oe.createElement(v,b)),...Array.isArray(c)?c:[c]]));const $e=(s,e)=>{const i=oe.forwardRef(({className:r,...o},c)=>oe.createElement(yA,{ref:c,iconNode:e,className:Jv(`lucide-${dA(g0(s))}`,`lucide-${s}`,r),...o}));return i.displayName=g0(s),i};const _A=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vA=$e("award",_A);const EA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],TA=$e("calendar-days",EA);const bA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AA=$e("check",bA);const SA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lh=$e("chevron-right",SA);const wA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wv=$e("chevron-left",wA);const xA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RA=$e("circle-check-big",xA);const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],p0=$e("circle-pause",NA);const CA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IA=$e("circle-play",CA);const DA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],OA=$e("clipboard-list",DA);const MA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Go=$e("clock",MA);const VA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kA=$e("download",VA);const jA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PA=$e("history",jA);const UA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],LA=$e("key-round",UA);const zA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BA=$e("lock",zA);const qA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hm=$e("log-out",qA);const HA=[["path",{d:"M5 12h14",key:"1ays0h"}]],GA=$e("minus",HA);const FA=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],KA=$e("octagon-alert",FA);const QA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fm=$e("pen",QA);const YA=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],e1=$e("piggy-bank",YA);const XA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$c=$e("plus",XA);const $A=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dm=$e("rotate-ccw",$A);const ZA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JA=$e("settings",ZA);const WA=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],eS=$e("share",WA);const tS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],t1=$e("shield-check",tS);const nS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mm=$e("star",nS);const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jd=$e("target",iS);const sS=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],rS=$e("thumbs-down",sS);const aS=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],lS=$e("thumbs-up",aS);const oS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wd=$e("trash-2",oS);const uS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cS=$e("user-plus",uS);const hS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],y0=$e("users",hS);const fS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_0=$e("wallet",fS);const dS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=$e("x",dS),mS=()=>{};var v0={};const n1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let O=(p&15)<<2|v>>6,K=v&63;_||(K=64,d||(O=64)),r.push(i[b],i[w],i[O],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(n1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):gS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||w==null)throw new pS;const O=c<<2|p>>4;if(r.push(O),v!==64){const K=p<<4&240|v>>2;if(r.push(K),w!==64){const te=v<<6&192|w;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(s){const e=n1(s);return i1.encodeByteArray(e,!0)},oh=function(s){return yS(s).replace(/\./g,"")},s1=function(s){try{return i1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof v0>"u")return;const s=v0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},TS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&s1(s[1]);return e&&JSON.parse(e)},Ih=()=>{try{return mS()||vS()||ES()||TS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},r1=s=>Ih()?.emulatorHosts?.[s],bS=s=>{const e=r1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},a1=()=>Ih()?.config,l1=s=>Ih()?.[`_${s}`];class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o1(s){return(await fetch(s,{credentials:"include"})).ok}function SS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const Fo={};function wS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?s.emulator.push(e):s.prod.push(e);return s}function xS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let E0=!1;function u1(s,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||Fo[s]===e||Fo[s]||E0)return;Fo[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=wS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{E0=!0,d()},O}function b(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=xS(r),K=i("text"),te=document.getElementById(K)||document.createElement("span"),re=i("learnmore"),ee=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),de=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pe=O.element;p(pe),b(ee,re);const Qe=v();_(de,me),pe.append(de,te,ee,Qe),document.body.appendChild(pe)}c?(te.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function NS(){const s=Ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const s=vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const jS="FirebaseError";class Ms extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=jS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?PS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,p,r)}}function PS(s,e){return s.replace(US,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const US=/\{\$([^}]+)}/g;function LS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ha(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(T0(c)&&T0(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function T0(s){return s!==null&&typeof s=="object"}function cu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Lo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function zS(s,e){const i=new BS(s,e);return i.subscribe.bind(i)}class BS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function em(){}function Zt(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class HS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new AS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(s){return s===la?void 0:s}function FS(s){return s.instantiationMode==="EAGER"}class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const QS={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},YS=Ge.INFO,XS={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},$S=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=XS[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ZS=(s,e)=>e.some(i=>s instanceof i);let b0,A0;function JS(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c1=new WeakMap,gm=new WeakMap,h1=new WeakMap,tm=new WeakMap,Fm=new WeakMap;function ew(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(vr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&c1.set(i,s)}).catch(()=>{}),Fm.set(e,s),e}function tw(s){if(gm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});gm.set(s,e)}let pm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return gm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||h1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nw(s){pm=s(pm)}function iw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(nm(this),e,...i);return h1.set(r,e.sort?e.sort():[e]),vr(r)}:WS().includes(s)?function(...e){return s.apply(nm(this),e),vr(c1.get(this))}:function(...e){return vr(s.apply(nm(this),e))}}function sw(s){return typeof s=="function"?iw(s):(s instanceof IDBTransaction&&tw(s),ZS(s,JS())?new Proxy(s,pm):s)}function vr(s){if(s instanceof IDBRequest)return ew(s);if(tm.has(s))return tm.get(s);const e=sw(s);return e!==s&&(tm.set(s,e),Fm.set(e,s)),e}const nm=s=>Fm.get(s);function rw(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=vr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const aw=["get","getKey","getAll","getAllKeys","count"],lw=["put","add","delete","clear"],im=new Map;function S0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aw.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return im.set(e,c),c}nw(s=>({...s,get:(e,i,r)=>S0(e,i)||s.get(e,i,r),has:(e,i)=>!!S0(e,i)||s.has(e,i)}));class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uw(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",w0="0.14.6";const Cs=new Gm("@firebase/app"),cw="@firebase/app-compat",hw="@firebase/analytics-compat",fw="@firebase/analytics",dw="@firebase/app-check-compat",mw="@firebase/app-check",gw="@firebase/auth",pw="@firebase/auth-compat",yw="@firebase/database",_w="@firebase/data-connect",vw="@firebase/database-compat",Ew="@firebase/functions",Tw="@firebase/functions-compat",bw="@firebase/installations",Aw="@firebase/installations-compat",Sw="@firebase/messaging",ww="@firebase/messaging-compat",xw="@firebase/performance",Rw="@firebase/performance-compat",Nw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Iw="@firebase/storage",Dw="@firebase/storage-compat",Ow="@firebase/firestore",Mw="@firebase/ai",Vw="@firebase/firestore-compat",kw="firebase",jw="12.6.0";const _m="[DEFAULT]",Pw={[ym]:"fire-core",[cw]:"fire-core-compat",[fw]:"fire-analytics",[hw]:"fire-analytics-compat",[mw]:"fire-app-check",[dw]:"fire-app-check-compat",[gw]:"fire-auth",[pw]:"fire-auth-compat",[yw]:"fire-rtdb",[_w]:"fire-data-connect",[vw]:"fire-rtdb-compat",[Ew]:"fire-fn",[Tw]:"fire-fn-compat",[bw]:"fire-iid",[Aw]:"fire-iid-compat",[Sw]:"fire-fcm",[ww]:"fire-fcm-compat",[xw]:"fire-perf",[Rw]:"fire-perf-compat",[Nw]:"fire-rc",[Cw]:"fire-rc-compat",[Iw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Ow]:"fire-fst",[Vw]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};const uh=new Map,Uw=new Map,vm=new Map;function x0(s,e){try{s.container.addComponent(e)}catch(i){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function El(s){const e=s.name;if(vm.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,s);for(const i of uh.values())x0(i,s);for(const i of Uw.values())x0(i,s);return!0}function Km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fi(s){return s==null?!1:s.settings!==void 0}const Lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new uu("app","Firebase",Lw);class zw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Cl=jw;function f1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(i||(i=a1()),!i)throw Er.create("no-options");const c=uh.get(o);if(c){if(ha(i,c.options)&&ha(r,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const d=new KS(o);for(const _ of vm.values())d.addComponent(_);const p=new zw(i,r,d);return uh.set(o,p),p}function d1(s=_m){const e=uh.get(s);if(!e&&s===_m&&a1())return f1();if(!e)throw Er.create("no-app",{appName:s});return e}function Tr(s,e,i){let r=Pw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(d.join(" "));return}El(new fa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bw="firebase-heartbeat-database",qw=1,Jo="firebase-heartbeat-store";let sm=null;function m1(){return sm||(sm=rw(Bw,qw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),sm}async function Hw(s){try{const i=(await m1()).transaction(Jo),r=await i.objectStore(Jo).get(g1(s));return await i.done,r}catch(e){if(e instanceof Ms)Cs.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(i.message)}}}async function R0(s,e){try{const r=(await m1()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,g1(s)),await r.done}catch(i){if(i instanceof Ms)Cs.warn(i.message);else{const r=Er.create("idb-set",{originalErrorMessage:i?.message});Cs.warn(r.message)}}}function g1(s){return`${s.name}!${s.options.appId}`}const Gw=1024,Fw=30;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Yw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Fw){const o=Xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:i,unsentEntries:r}=Qw(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cs.warn(e),""}}}function N0(){return new Date().toISOString().substring(0,10)}function Qw(s,e=Gw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),C0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Yw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Hw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C0(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function Xw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function $w(s){El(new fa("platform-logger",e=>new ow(e),"PRIVATE")),El(new fa("heartbeat",e=>new Kw(e),"PRIVATE")),Tr(ym,w0,s),Tr(ym,w0,"esm2020"),Tr("fire-js","")}$w("");var Zw="firebase",Jw="12.6.0";Tr(Zw,Jw,"app");function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=p1,y1=new uu("auth","Firebase",p1());const ch=new Gm("@firebase/auth");function ex(s,...e){ch.logLevel<=Ge.WARN&&ch.warn(`Auth (${Cl}): ${s}`,...e)}function Zc(s,...e){ch.logLevel<=Ge.ERROR&&ch.error(`Auth (${Cl}): ${s}`,...e)}function xi(s,...e){throw Qm(s,...e)}function Xi(s,...e){return Qm(s,...e)}function _1(s,e,i){const r={...Ww(),[e]:i};return new uu("auth","Firebase",r).create(e,{appName:s.name})}function Ns(s){return _1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return y1.create(s,...e)}function be(s,e,...i){if(!s)throw Qm(e,...i)}function xs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Zc(e),new Error(e)}function Is(s,e){s||xs(e)}function Em(){return typeof self<"u"&&self.location?.href||""}function tx(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}function nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tx()||IS()||"connection"in navigator)?navigator.onLine:!0}function ix(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class hu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Is(i>e,"Short delay should be less than long delay!"),this.isMobile=RS()||DS()}get(){return nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ym(s,e){Is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class v1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ax=new hu(3e4,6e4);function Vs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ks(s,e,i,r,o={}){return E1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=cu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return CS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(v.credentials="include"),v1.fetch()(await T1(s,s.config.apiHost,i,p),v)})}async function E1(s,e,i){s._canInitEmulator=!1;const r={...sx,...e};try{const o=new ox(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw qc(s,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw _1(s,b,v);xi(s,b)}}catch(o){if(o instanceof Ms)throw o;xi(s,"network-request-failed",{message:String(o)})}}async function fu(s,e,i,r,o={}){const c=await ks(s,e,i,r,o);return"mfaPendingCredential"in c&&xi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function T1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Ym(s.config,o):`${s.config.apiScheme}://${o}`;return rx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function lx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),ax.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Xi(s,e,r);return o.customData._tokenResponse=i,o}function D0(s){return s!==void 0&&s.enterprise!==void 0}class ux{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return lx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cx(s,e){return ks(s,"GET","/v2/recaptchaConfig",Vs(s,e))}async function hx(s,e){return ks(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return ks(s,"POST","/v1/accounts:lookup",e)}function Ko(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fx(s,e=!1){const i=Zt(s),r=await i.getIdToken(e),o=Xm(r);be(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Ko(rm(o.auth_time)),issuedAtTime:Ko(rm(o.iat)),expirationTime:Ko(rm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Xm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=s1(i);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function O0(s){const e=Xm(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ms&&dx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function dx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class mx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await Wo(s,hh(e,{idToken:i}));be(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?b1(o.providerUserInfo):[],d=px(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,b)}async function gx(s){const e=Zt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function px(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function b1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yx(s,e){const i=await E1(s,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await T1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(_.credentials="include"),v1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _x(s,e){return ks(s,"POST","/v2/accounts:revokeToken",Vs(s,e))}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=O0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await yx(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new gl;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return xs("not implemented")}}function dr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Wo(this,hx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:K,providerData:te,stsTokenManager:re}=i;be(w&&re,e,"internal-error");const ee=gl.fromJSON(this.name,re);be(typeof w=="string",e,"internal-error"),dr(r,e.name),dr(o,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof K=="boolean",e,"internal-error"),dr(c,e.name),dr(d,e.name),dr(p,e.name),dr(_,e.name),dr(v,e.name),dr(b,e.name);const me=new wi({uid:w,auth:e,email:o,emailVerified:O,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:v,lastLoginAt:b});return te&&Array.isArray(te)&&(me.providerData=te.map(de=>({...de}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,r=!1){const o=new gl;o.updateFromServerResponse(i);const c=new wi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?b1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new gl;p.updateFromIdToken(r);const _=new wi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const M0=new Map;function Rs(s){Is(s instanceof Function,"Expected a class definition");let e=M0.get(s);return e?(Is(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,M0.set(s,e),e)}class A1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}A1.type="NONE";const V0=A1;function Jc(s,e,i){return`firebase:${s}:${e}:${i}`}class pl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?wi._fromGetAccountInfoResponse(this.auth,i,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new pl(Rs(V0),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Rs(V0);const d=Jc(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){let w;if(typeof b=="string"){const O=await hh(e,{idToken:b}).catch(()=>{});if(!O)break;w=await wi._fromGetAccountInfoResponse(e,O,b)}else w=wi._fromJSON(e,b);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new pl(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new pl(c,e,r))}}function k0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C1(e))return"Blackberry";if(I1(e))return"Webos";if(w1(e))return"Safari";if((e.includes("chrome/")||x1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function S1(s=vn()){return/firefox\//i.test(s)}function w1(s=vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x1(s=vn()){return/crios\//i.test(s)}function R1(s=vn()){return/iemobile/i.test(s)}function N1(s=vn()){return/android/i.test(s)}function C1(s=vn()){return/blackberry/i.test(s)}function I1(s=vn()){return/webos/i.test(s)}function $m(s=vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vx(s=vn()){return $m(s)&&!!window.navigator?.standalone}function Ex(){return OS()&&document.documentMode===10}function D1(s=vn()){return $m(s)||N1(s)||I1(s)||C1(s)||/windows phone/i.test(s)||R1(s)}function O1(s,e=[]){let i;switch(s){case"Browser":i=k0(vn());break;case"Worker":i=`${k0(vn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cl}/${r}`}class Tx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bx(s,e={}){return ks(s,"GET","/v2/passwordPolicy",Vs(s,e))}const Ax=6;class Sx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ax,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j0(this),this.idTokenSubscription=new j0(this),this.beforeStateQueue=new Tx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ix()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Ns(this));const i=e?Zt(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bx(this),i=new Sx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await _x(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Rs(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ex(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ir(s){return Zt(s)}class j0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xx(s){Dh=s}function M1(s){return Dh.loadJS(s)}function Rx(){return Dh.recaptchaEnterpriseScript}function Nx(){return Dh.gapiScript}function Cx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Ix{constructor(){this.enterprise=new Dx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Dx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Ox="recaptcha-enterprise",V1="NO_RECAPTCHA";class Mx{constructor(e){this.type=Ox,this.auth=Ir(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{cx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new ux(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;D0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(V1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ix().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&D0(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Rx();_.length!==0&&(_+=p),M1(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function P0(s,e,i,r=!1,o=!1){const c=new Mx(s);let d;if(o)d=V1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await P0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await P0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Vx(s,e){const i=Km(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ha(c,e??{}))return o;xi(o,"already-initialized")}return i.initialize({options:e})}function kx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function jx(s,e,i){const r=Ir(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=k1(e),{host:d,port:p}=Px(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(ha(v,r.config.emulator)&&ha(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Nl(d)?(o1(`${c}//${d}${_}`),u1("Auth",!0)):Ux()}function k1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Px(s){const e=k1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:U0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:U0(d)}}}function U0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ux(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Zm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,i){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function Lx(s,e){return ks(s,"POST","/v1/accounts:signUp",e)}async function zx(s,e){return fu(s,"POST","/v1/accounts:signInWithPassword",Vs(s,e))}async function Bx(s,e){return ks(s,"POST","/v1/accounts:sendOobCode",Vs(s,e))}async function qx(s,e){return Bx(s,e)}async function Hx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Vs(s,e))}async function Gx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Vs(s,e))}class eu extends Zm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new eu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new eu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,i,"signInWithPassword",zx);case"emailLink":return Hx(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",Lx);case"emailLink":return Gx(e,{idToken:i,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(s,e){return fu(s,"POST","/v1/accounts:signInWithIdp",Vs(s,e))}const Fx="http://localhost";class da extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new da(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return yl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,yl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,yl(e,i)}buildRequest(){const e={requestUri:Fx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=cu(i)}return e}}function Kx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qx(s){const e=Uo(Lo(s)).link,i=e?Uo(Lo(e)).deep_link_id:null,r=Uo(Lo(s)).deep_link_id;return(r?Uo(Lo(r)).link:null)||r||i||e||s}class Jm{constructor(e){const i=Uo(Lo(e)),r=i.apiKey??null,o=i.oobCode??null,c=Kx(i.mode??null);be(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Qx(e);try{return new Jm(i)}catch{return null}}}class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,i){return eu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Jm.parseLink(i);return be(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class j1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends j1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mr extends du{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class gr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return gr.credential(i,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";class pr extends du{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class yr extends du{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return yr.credential(i,r)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function Yx(s,e){return fu(s,"POST","/v1/accounts:signUp",Vs(s,e))}class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await wi._fromIdTokenResponse(e,r,o),d=L0(r);return new ma({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=L0(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function L0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends Ms{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new mh(e,i,r,o)}}function P1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,c,e,r):c})}async function Xx(s,e,i=!1){const r=await Wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ma._forOperation(s,"link",r)}async function $x(s,e,i=!1){const{auth:r}=s;if(fi(r.app))return Promise.reject(Ns(r));const o="reauthenticate";try{const c=await Wo(s,P1(r,o,e,s),i);be(c.idToken,r,"internal-error");const d=Xm(c.idToken);be(d,r,"internal-error");const{sub:p}=d;return be(s.uid===p,r,"user-mismatch"),ma._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&xi(r,"user-mismatch"),c}}async function U1(s,e,i=!1){if(fi(s.app))return Promise.reject(Ns(s));const r="signIn",o=await P1(s,r,e),c=await ma._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function Zx(s,e){return U1(Ir(s),e)}async function L1(s){const e=Ir(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jx(s,e,i){const r=Ir(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qx)}async function Wx(s,e,i){if(fi(s.app))return Promise.reject(Ns(s));const r=Ir(s),d=await dh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yx).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&L1(s),_}),p=await ma._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function e2(s,e,i){return fi(s.app)?Promise.reject(Ns(s)):Zx(Zt(s),Il.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L1(s),r})}function t2(s,e,i,r){return Zt(s).onIdTokenChanged(e,i,r)}function n2(s,e,i){return Zt(s).beforeAuthStateChanged(e,i)}function i2(s,e,i,r){return Zt(s).onAuthStateChanged(e,i,r)}function s2(s){return Zt(s).signOut()}const gh="__sak";class z1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class B1 extends z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Ex()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}B1.type="LOCAL";const l2=B1;class q1 extends z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}q1.type="SESSION";const H1=q1;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await o2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function Wm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=Wm("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const O=w;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function $i(){return window}function c2(s){$i().location.href=s}function G1(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return G1()?self:null}const F1="firebaseLocalStorageDb",m2=1,ph="firebaseLocalStorage",K1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Mh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function g2(){const s=indexedDB.deleteDatabase(F1);return new mu(s).toPromise()}function bm(){const s=indexedDB.open(F1,m2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:K1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await g2(),e(await bm()))})})}async function z0(s,e,i){const r=Mh(s,!0).put({[K1]:e,value:i});return new mu(r).toPromise()}async function p2(s,e){const i=Mh(s,!1).get(e),r=await new mu(i).toPromise();return r===void 0?null:r.value}function B0(s,e){const i=Mh(s,!0).delete(e);return new mu(i).toPromise()}const y2=800,_2=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>_2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await z0(e,gh,"1"),await B0(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>p2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>B0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Mh(o,!1).getAll();return new mu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const v2=Q1;new hu(3e4,6e4);function E2(s,e){return e?Rs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class eg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return yl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function T2(s){return U1(s.auth,new eg(s),s.bypassAuthState)}function b2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),$x(i,new eg(s),s.bypassAuthState)}async function A2(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),Xx(i,new eg(s),s.bypassAuthState)}class Y1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:xi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S2=new hu(2e3,1e4);class dl extends Y1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}dl.currentPopupAction=null;const w2="pendingRedirect",Wc=new Map;class x2 extends Y1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await R2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R2(s,e){const i=I2(e),r=C2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function N2(s,e){Wc.set(s._key(),e)}function C2(s){return Rs(s._redirectPersistence)}function I2(s){return Jc(w2,s.config.apiKey,s.name)}async function D2(s,e,i=!1){if(fi(s.app))return Promise.reject(Ns(s));const r=Ir(s),o=E2(r,e),d=await new x2(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const O2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!X1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Xi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}}function q0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function X1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(s);default:return!1}}async function k2(s,e={}){return ks(s,"GET","/v1/projects",e)}const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function U2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await k2(s);for(const i of e)try{if(L2(i))return}catch{}xi(s,"unauthorized-domain")}function L2(s){const e=Em(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!P2.test(i))return!1;if(j2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const z2=new hu(3e4,6e4);function H0(){const s=$i().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((e,i)=>{function r(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),i(Xi(s,"network-request-failed"))},timeout:z2.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)r();else{const o=Cx("iframefcb");return $i()[o]=()=>{gapi.load?r():i(Xi(s,"network-request-failed"))},M1(`${Nx()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function q2(s){return eh=eh||B2(s),eh}const H2=new hu(5e3,15e3),G2="__/auth/iframe",F2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ym(e,F2):`https://${s.config.authDomain}/${G2}`,r={apiKey:e.apiKey,appName:s.name,v:Cl},o=Q2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${cu(r).slice(1)}`}async function X2(s){const e=await q2(s),i=$i().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Xi(s,"network-request-failed"),p=$i().setTimeout(()=>{c(d)},H2.get());function _(){$i().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,J2=600,W2="_blank",eR="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(s,e,i,r=Z2,o=J2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$2,width:r.toString(),height:o.toString(),top:c,left:d},v=vn().toLowerCase();i&&(p=x1(v)?W2:i),S1(v)&&(e=e||eR,_.scrollbars="yes");const b=Object.entries(_).reduce((O,[K,te])=>`${O}${K}=${te},`,"");if(vx(v)&&p!=="_self")return nR(e||"",p),new G0(null);const w=window.open(e||"",p,b);be(w,s,"popup-blocked");try{w.focus()}catch{}return new G0(w)}function nR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function F0(s,e,i,r,o,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Cl,eventId:o};if(e instanceof j1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",LS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(e instanceof du){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await s._getAppCheckToken(),v=_?`#${rR}=${encodeURIComponent(_)}`:"";return`${aR(s)}?${cu(p).slice(1)}${v}`}function aR({config:s}){return s.emulator?Ym(s,sR):`https://${s.authDomain}/${iR}`}const am="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=D2,this._overrideRedirectResult=N2}async _openPopup(e,i,r,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await F0(e,i,r,Em(),o);return tR(e,c,Wm())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await F0(e,i,r,Em(),o);return c2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await X2(e),r=new M2(e);return i.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},o=>{const c=o?.[0]?.[am];c!==void 0&&i(!!c),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=U2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return D1()||w1()||$m()}}const oR=lR;var K0="@firebase/auth",Q0="1.11.1";class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(s){El(new fa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(s)},v=new wx(r,o,c,_);return kx(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),El(new fa("auth-internal",e=>{const i=Ir(e.getProvider("auth").getImmediate());return(r=>new uR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(K0,Q0,cR(s)),Tr(K0,Q0,"esm2020")}const fR=300,dR=l1("authIdTokenMaxAge")||fR;let Y0=null;const mR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dR)return;const o=i?.token;Y0!==o&&(Y0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gR(s=d1()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Vx(s,{popupRedirectResolver:oR,persistence:[v2,l2,H1]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mR(c.toString());n2(i,d,()=>d(i.currentUser)),t2(i,p=>d(p))}}const o=r1("auth");return o&&jx(i,`http://${o}`),i}function pR(){return document.getElementsByTagName("head")?.[0]??document}xx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Xi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",pR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var br,$1;(function(){var s;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(k,D,j){for(var S=Array(arguments.length-2),De=2;De<arguments.length;De++)S[De-2]=arguments[De];return x.prototype[D].apply(k,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const k=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)k[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],D=N.g[2];let j=N.g[3],S;S=x+(j^R&(D^j))+k[0]+3614090360&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[1]+3905402710&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[2]+606105819&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[3]+3250441966&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[4]+4118548399&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[5]+1200080426&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[6]+2821735955&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[7]+4249261313&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[8]+1770035416&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[9]+2336552879&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[10]+4294925233&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[11]+2304563134&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(j^R&(D^j))+k[12]+1804603682&4294967295,x=R+(S<<7&4294967295|S>>>25),S=j+(D^x&(R^D))+k[13]+4254626195&4294967295,j=x+(S<<12&4294967295|S>>>20),S=D+(R^j&(x^R))+k[14]+2792965006&4294967295,D=j+(S<<17&4294967295|S>>>15),S=R+(x^D&(j^x))+k[15]+1236535329&4294967295,R=D+(S<<22&4294967295|S>>>10),S=x+(D^j&(R^D))+k[1]+4129170786&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[6]+3225465664&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[11]+643717713&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[0]+3921069994&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[5]+3593408605&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[10]+38016083&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[15]+3634488961&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[4]+3889429448&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[9]+568446438&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[14]+3275163606&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[3]+4107603335&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[8]+1163531501&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(D^j&(R^D))+k[13]+2850285829&4294967295,x=R+(S<<5&4294967295|S>>>27),S=j+(R^D&(x^R))+k[2]+4243563512&4294967295,j=x+(S<<9&4294967295|S>>>23),S=D+(x^R&(j^x))+k[7]+1735328473&4294967295,D=j+(S<<14&4294967295|S>>>18),S=R+(j^x&(D^j))+k[12]+2368359562&4294967295,R=D+(S<<20&4294967295|S>>>12),S=x+(R^D^j)+k[5]+4294588738&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[8]+2272392833&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[11]+1839030562&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[14]+4259657740&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[1]+2763975236&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[4]+1272893353&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[7]+4139469664&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[10]+3200236656&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[13]+681279174&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[0]+3936430074&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[3]+3572445317&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[6]+76029189&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(R^D^j)+k[9]+3654602809&4294967295,x=R+(S<<4&4294967295|S>>>28),S=j+(x^R^D)+k[12]+3873151461&4294967295,j=x+(S<<11&4294967295|S>>>21),S=D+(j^x^R)+k[15]+530742520&4294967295,D=j+(S<<16&4294967295|S>>>16),S=R+(D^j^x)+k[2]+3299628645&4294967295,R=D+(S<<23&4294967295|S>>>9),S=x+(D^(R|~j))+k[0]+4096336452&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[7]+1126891415&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[14]+2878612391&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[5]+4237533241&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[12]+1700485571&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[3]+2399980690&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[10]+4293915773&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[1]+2240044497&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[8]+1873313359&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[15]+4264355552&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[6]+2734768916&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[13]+1309151649&4294967295,R=D+(S<<21&4294967295|S>>>11),S=x+(D^(R|~j))+k[4]+4149444226&4294967295,x=R+(S<<6&4294967295|S>>>26),S=j+(R^(x|~D))+k[11]+3174756917&4294967295,j=x+(S<<10&4294967295|S>>>22),S=D+(x^(j|~R))+k[2]+718787259&4294967295,D=j+(S<<15&4294967295|S>>>17),S=R+(j^(D|~x))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<x;)if(k[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<x;)if(k[D++]=N[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)N[x++]=this.g[R]>>>k&255;return N};function c(N,x){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function d(N,x){this.h=x;const R=[];let k=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;k&&j==x||(R[D]=j,k=!1)}this.g=R}var p={};function _(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ee(v(-N));const x=[];let R=1;for(let k=0;N>=R;k++)x[k]=N/R|0,R*=4294967296;return new d(x,0)}function b(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return ee(b(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(x,8));let k=w;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const S=parseInt(N.substring(j,j+D),x);D<8?(D=v(Math.pow(x,D)),k=k.j(D).add(v(S))):(k=k.j(R),k=k.add(v(S)))}return k}var w=_(0),O=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-ee(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);N+=(k>=0?k:4294967296+k)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(te(this))return"0";if(re(this))return"-"+ee(this).toString(N);const x=v(Math.pow(N,6));var R=this;let k="";for(;;){const D=Qe(R,x).g;R=me(R,D.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,te(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function te(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function re(N){return N.h==-1}s.l=function(N){return N=me(this,N),re(N)?-1:te(N)?0:1};function ee(N){const x=N.g.length,R=[];for(let k=0;k<x;k++)R[k]=~N.g[k];return new d(R,~N.h).add(O)}s.abs=function(){return re(this)?ee(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let k=0;for(let D=0;D<=x;D++){let j=k+(this.i(D)&65535)+(N.i(D)&65535),S=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=S>>>16,j&=65535,S&=65535,R[D]=S<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function me(N,x){return N.add(ee(x))}s.j=function(N){if(te(this)||te(N))return w;if(re(this))return re(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(re(N))return ee(this.j(ee(N)));if(this.l(K)<0&&N.l(K)<0)return v(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var k=0;k<2*x;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const j=this.i(k)>>>16,S=this.i(k)&65535,De=N.i(D)>>>16,Be=N.i(D)&65535;R[2*k+2*D]+=S*Be,de(R,2*k+2*D),R[2*k+2*D+1]+=j*Be,de(R,2*k+2*D+1),R[2*k+2*D+1]+=S*De,de(R,2*k+2*D+1),R[2*k+2*D+2]+=j*De,de(R,2*k+2*D+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new d(R,0)};function de(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function pe(N,x){this.g=N,this.h=x}function Qe(N,x){if(te(x))throw Error("division by zero");if(te(N))return new pe(w,w);if(re(N))return x=Qe(ee(N),x),new pe(ee(x.g),ee(x.h));if(re(x))return x=Qe(N,ee(x)),new pe(ee(x.g),x.h);if(N.g.length>30){if(re(N)||re(x))throw Error("slowDivide_ only works with positive integers.");for(var R=O,k=x;k.l(N)<=0;)R=Ve(R),k=Ve(k);var D=Se(R,1),j=Se(k,1);for(k=Se(k,2),R=Se(R,2);!te(k);){var S=j.add(k);S.l(N)<=0&&(D=D.add(R),j=S),k=Se(k,1),R=Se(R,1)}return x=me(N,D.j(x)),new pe(D,x)}for(D=w;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=v(R),S=j.j(x);re(S)||S.l(N)>0;)R-=k,j=v(R),S=j.j(x);te(j)&&(j=O),D=D.add(j),N=me(N,S)}return new pe(D,N)}s.B=function(N){return Qe(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)&N.i(k);return new d(R,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)|N.i(k);return new d(R,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)^N.i(k);return new d(R,this.h^N.h)};function Ve(N){const x=N.g.length+1,R=[];for(let k=0;k<x;k++)R[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(R,N.h)}function Se(N,x){const R=x>>5;x%=32;const k=N.g.length-R,D=[];for(let j=0;j<k;j++)D[j]=x>0?N.i(j+R)>>>x|N.i(j+R+1)<<32-x:N.i(j+R);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,br=d}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z1,zo,J1,th,Am,W1,eE,tE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in E))break e;E=E[U]}u=u[u.length-1],A=E[u],m=m(A),m!=A&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=_,v.apply(null,arguments)}function b(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,U,G){for(var se=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)se[Oe-2]=arguments[Oe];return m.prototype[U].apply(A,se)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=u[A];return E}return[]}function te(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const G=U.length||0;u.length=E+G;for(let se=0;se<G;se++)u[E+se]=U[se]}else u.push(U)}}class re{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function me(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,E){const A=pe.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new re(()=>new Qe,u=>u.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,Se=!1,N=new de,x=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(R)}};function R(){for(var u;u=me();){try{u.h.call(u.g)}catch(E){ee(E)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Se=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function De(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(De,D),De.prototype.init=function(u,m){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),H=0;function ie(u,m,E,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=U,this.key=++H,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u,m,E){for(const A in u)m.call(E,u[A],A,u)}function Pe(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function I(u){const m={};for(const E in u)m[E]=u[E];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)u[E]=A[E];for(let G=0;G<B.length;G++)E=B[G],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,E,A,U){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const se=we(u,m,A,U);return se>-1?(m=u[se],E||(m.fa=!1)):(m=new ie(m,this.src,G,!!A,U),m.fa=E,u.push(m)),m};function ve(u,m){const E=m.type;if(E in u.g){var A=u.g[E],U=Array.prototype.indexOf.call(A,m,void 0),G;(G=U>=0)&&Array.prototype.splice.call(A,U,1),G&&(ne(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function we(u,m,E,A){for(let U=0;U<u.length;++U){const G=u[U];if(!G.da&&G.listener==m&&G.capture==!!E&&G.ha==A)return U}return-1}var je="closure_lm_"+(Math.random()*1e6|0),mt={};function it(u,m,E,A,U){if(Array.isArray(m)){for(let G=0;G<m.length;G++)it(u,m[G],E,A,U);return null}return E=lt(E),u&&u[Be]?u.J(m,E,p(A)?!!A.capture:!1,U):Xn(u,m,E,!1,A,U)}function Xn(u,m,E,A,U,G){if(!m)throw Error("Invalid event type");const se=p(U)?!!U.capture:!!U;let Oe=fe(u);if(Oe||(u[je]=Oe=new ae(u)),E=Oe.add(m,E,A,se,G),E.proxy)return E;if(A=gi(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)j||(U=se),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(rn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gi(){function u(E){return m.call(u.src,u.listener,E)}const m=J;return u}function sn(u,m,E,A,U){if(Array.isArray(m))for(var G=0;G<m.length;G++)sn(u,m[G],E,A,U);else A=p(A)?!!A.capture:!!A,E=lt(E),u&&u[Be]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],E=we(m,E,A,U),E>-1&&(ne(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=fe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,E,A,U)),(E=u>-1?m[u]:null)&&$n(E))}function $n(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])ve(m.i,u);else{var E=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(E,A,u.capture):m.detachEvent?m.detachEvent(rn(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=fe(m))?(ve(E,u),E.h==0&&(E.src=null,m[je]=null)):ne(u)}}}function rn(u){return u in mt?mt[u]:mt[u]="on"+u}function J(u,m){if(u.da)u=!0;else{m=new De(m,this);const E=u.listener,A=u.ha||u.src;u.fa&&$n(u),u=E.call(A,m)}return u}function fe(u){return u=u[je],u instanceof ae?u:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(u){return typeof u=="function"?u:(u[Ue]||(u[Ue]=function(m){return u.handleEvent(m)}),u[Ue])}function Ie(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}w(Ie,k),Ie.prototype[Be]=!0,Ie.prototype.removeEventListener=function(u,m,E,A){sn(this,u,m,E,A)};function Ee(u,m){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(A,u),W(m,U)}U=!0;let G,se;if(E)for(se=E.length-1;se>=0;se--)G=m.g=E[se],U=pt(G,A,!0,m)&&U;if(G=m.g=u,U=pt(G,A,!0,m)&&U,U=pt(G,A,!1,m)&&U,E)for(se=0;se<E.length;se++)G=m.g=E[se],U=pt(G,A,!1,m)&&U}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let A=0;A<E.length;A++)ne(E[A]);delete u.g[m],u.h--}}this.G=null},Ie.prototype.J=function(u,m,E,A){return this.i.add(String(u),m,!1,E,A)},Ie.prototype.K=function(u,m,E,A){return this.i.add(String(u),m,!0,E,A)};function pt(u,m,E,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let G=0;G<m.length;++G){const se=m[G];if(se&&!se.da&&se.capture==E){const Oe=se.listener,Mt=se.ha||se.src;se.fa&&ve(u.i,se),U=Oe.call(Mt,A)!==!1&&U}}return U&&!A.defaultPrevented}function mn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function wt(u){u.g=mn(()=>{u.g=null,u.i&&(u.i=!1,wt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ot extends k{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(u){k.call(this),this.h=u,this.g={}}w(En,k);var Tt=[];function Ni(u){ge(u.g,function(m,E){this.g.hasOwnProperty(E)&&$n(m)},u),u.g={}}En.prototype.N=function(){En.Z.N.call(this),Ni(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=d.JSON.stringify,is=d.JSON.parse,ss=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ta(){}function Vr(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){D.call(this,"d")}w(Dt,D);function Tn(){D.call(this,"c")}w(Tn,D);var yt={},kr=null;function Ci(){return kr=kr||new Ie}yt.Ia="serverreachability";function jr(u){D.call(this,yt.Ia,u)}w(jr,D);function bn(u){const m=Ci();Ee(m,new jr(m))}yt.STAT_EVENT="statevent";function xn(u,m){D.call(this,yt.STAT_EVENT,u),this.stat=m}w(xn,D);function Nt(u){const m=Ci();Ee(m,new xn(m,u))}yt.Ja="timingevent";function Zn(u,m){D.call(this,yt.Ja,u),this.size=m}w(Zn,D);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function jl(u,m,E,A,U,G){u.info(function(){if(u.g)if(G){var se="",Oe=G.split("&");for(let et=0;et<Oe.length;et++){var Mt=Oe[et].split("=");if(Mt.length>1){const bt=Mt[0];Mt=Mt[1];const ii=bt.split("_");se=ii.length>=2&&ii[1]=="type"?se+(bt+"="+Mt+"&"):se+(bt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+E+`
`+se})}function ba(u,m,E,A,U,G,se){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+E+`
`+G+" "+se})}function Wn(u,m,E,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pl(u,E)+(A?" "+A:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Pl(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var E=G[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Pn(G)}catch{return m}}var V={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Re={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},We;function Ot(){}w(Ot,Ta),Ot.prototype.g=function(){return new XMLHttpRequest},We=new Ot;function xt(u){return encodeURIComponent(String(u))}function Rn(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function Ut(u,m,E,A){this.j=u,this.i=m,this.l=E,this.S=A||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Lt={},Jt={};function Ii(u,m,E){u.M=1,u.A=Pr(Bt(m)),u.u=E,u.R=!0,Aa(u,null)}function Aa(u,m){u.F=Date.now(),Di(u),u.B=Bt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ra(E.i,"t",A),u.C=0,E=u.j.L,u.h=new pi,u.g=ku(u.j,E?m:null,!u.u),u.P>0&&(u.O=new ot(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Tt[0]=U.toString()),U=Tt);for(let G=0;G<U.length;G++){const se=it(E,U[G],A||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bn(),jl(u.i,u.v,u.B,u.l,u.S,u.u)}Ut.prototype.ba=function(u){u=u.target;const m=this.O;m&&vi(u)==3?m.j():this.Y(u)},Ut.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=vi(this.g),Mt=this.g.ya(),et=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Oe!=4||Mt==7||(Mt==8||et<=0?bn(3):bn(2)),Oi(this);var m=this.g.ca();this.X=m;var E=Zh(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(A)){var G=A;break t}}G=null}if(u=G)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,u);else{this.o=!1,this.m=3,Nt(12),Ln(this),ei(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=bu(this,E),bt==Jt){Oe==4&&(this.m=4,Nt(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Lt){this.m=4,Nt(15),Wn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,bt,null),Mi(this,bt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),ei(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(se),se.P=!0,Nt(11))}}else Wn(this.i,this.l,E,null),Mi(this,E);Oe==4&&Ln(this),this.o&&!this.K&&(Oe==4?Du(this.j,this):(this.o=!1,Di(this)))}else ls(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Ln(this),ei(this)}}}catch{}finally{}};function Zh(u){if(!Tu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let E="";const A=m.length,U=vi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ln(u),ei(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<A;G++)u.h.h=!0,E+=u.h.i.decode(m[G],{stream:!(U&&G==A-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var E=u.C,A=m.indexOf(`
`,E);return A==-1?Jt:(E=Number(m.substring(E,A)),isNaN(E)?Lt:(A+=1,A+E>m.length?Jt:(m=m.slice(A,A+E),u.C=A+E,m)))}Ut.prototype.cancel=function(){this.K=!0,Ln(this)};function Di(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(v(u.aa,u),m)}function Oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ut.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(bn(),Nt(17)),Ln(this),this.m=2,ei(this)):Sa(this,this.T-u)};function ei(u){u.j.I==0||u.K||Du(u.j,u)}function Ln(u){Oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ni(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Mi(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||ki(E.h,u))){if(!u.L&&ki(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Oa(E),Hs(E);else break e;Gr(E),Nt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Jn(v(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bi(E,11)}else if((u.L||E.g==u)&&Oa(E),!S(m))for(U=E.Ba.g.parse(m),m=0;m<U.length;m++){let et=U[m];const bt=et[0];if(!(bt<=E.K))if(E.K=bt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const ii=et[3];ii!=null&&(E.ka=ii,E.j.info("VER="+E.ka));const qi=et[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const Ei=et[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(A=1.5*Ei,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ti=u.g;if(Ti){const Fr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var G=A.h;G.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(zl(G,G.h),G.h=null))}if(A.G){const Ma=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(A.wa=Ma,st(A.J,A.G,Ma))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=u;if(A.na=Vu(A,A.L?A.ba:null,A.W),se.L){Bl(A.h,se);var Oe=se,Mt=A.O;Mt&&(Oe.H=Mt),Oe.D&&(Oi(Oe),Di(Oe)),A.g=se}else Cu(A);E.i.length>0&&zi(E)}else et[0]!="stop"&&et[0]!="close"||Bi(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Bi(E,7):$l(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}bn(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vi(u){return u.h?1:u.g?u.g.size:0}function ki(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zl(u,m){u.g?u.g.add(m):u.h=m}function Bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ul.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ql(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return K(u.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let U,G=null;A>=0?(U=u[E].substring(0,A),G=u[E].substring(A+1)):U=u[E],m(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof zn?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,js(this,u.u),this.h=u.h,Hl(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(Au))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=ji(m[2]||""),this.g=ji(m[3]||"",!0),js(this,m[4]),this.h=ji(m[5]||"",!0),Hl(this,m[6]||"",!0),this.m=ji(m[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}zn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,xa,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,xa,!0),"@"),u.push(xt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Ur(E,E.charAt(0)=="/"?Gl:Su,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Ur(E,wu)),u.join("")},zn.prototype.resolve=function(u){const m=Bt(this);let E=!!u.j;E?Wt(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var A=u.h;if(E)js(m,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let se=0;se<U.length;){const Oe=U[se++];Oe=="."?A&&se==U.length&&G.push(""):Oe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==U.length&&G.push("")):(G.push(Oe),A=!0)}A=G.join("/")}else A=U}return E?m.h=A:E=u.i.toString()!=="",E?Hl(m,Ru(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Bt(u){return new zn(u)}function Wt(u,m,E){u.j=E?ji(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function js(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hl(u,m,E){m instanceof Us?(u.i=m,Na(u.i,u.l)):(E||(m=Ur(m,Ps)),u.i=new Us(m,u.l))}function st(u,m,E){u.i.set(m,E)}function Pr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ji(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,Nn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Su=/[#\?:]/g,Gl=/[#\?]/g,Ps=/[#\?@]/g,wu=/#/g;function Us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=Us.prototype,s.add=function(u,m){Cn(this),this.i=null,u=Ls(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function xu(u,m){Cn(u),m=Ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fl(u,m){return Cn(u),m=Ls(u,m),u.g.has(m)}s.forEach=function(u,m){Cn(this),this.g.forEach(function(E,A){E.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Kl(u,m){Cn(u);let E=[];if(typeof m=="string")Fl(u,m)&&(E=E.concat(u.g.get(Ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return Cn(this),this.i=null,u=Ls(this,u),Fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Kl(this,u),u.length>0?String(u[0]):m):m};function Ra(u,m,E){xu(u,m),E.length>0&&(u.i=null,u.g.set(Ls(u,m),K(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const U=xt(E);E=Kl(this,E);for(let G=0;G<E.length;G++){let se=U;E[G]!==""&&(se+="="+xt(E[G])),u.push(se)}}return this.i=u.join("&")};function Ru(u){const m=new Us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(xu(this,A),Ra(this,U,E))},u)),u.j=m}function yi(u,m){const E=new Un;if(d.Image){const A=new Image;A.onload=b(ti,E,"TestLoadImage: loaded",!0,m,A),A.onerror=b(ti,E,"TestLoadImage: error",!1,m,A),A.onabort=b(ti,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(ti,E,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ql(u,m){const E=new Un,A=new AbortController,U=setTimeout(()=>{A.abort(),ti(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?ti(E,"TestPingServer: ok",!0,m):ti(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ti(E,"TestPingServer: error",!1,m)})}function ti(u,m,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function zs(){this.g=new ss}function Pi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Pi,Ta),Pi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){Ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Lr,Ie),s=Lr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,_i(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bs(this):_i(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Bs(this))},s.Na=function(u){this.g&&(this.response=u,Bs(this))},s.ga=function(){this.g&&Bs(this)};function Bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,_i(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function _i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return ge(u,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function zr(u,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ni(E),typeof u=="string"?E!=null&&xt(E):st(u,m,E))}function ut(u){Ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ut,Ie);var Ui=/^https?$/i,Yl=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():We.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Br(this,G);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Yl,m,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of E)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Br(this,G)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xl(u),as(u)}function Xl(u){u.A||(u.A=!0,Ee(u,"complete"),Ee(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ee(this,"complete"),Ee(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&vi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ee(u,"readystatechange"),vi(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=G===0){let se=String(u.D).match(Au)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),A=!Ui.test(se?se.toLowerCase():"")}E=A}if(E)Ee(u,"complete"),Ee(u,"success");else{u.o=6;try{var U=vi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Xl(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||Ee(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function vi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),is(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(u){const m={};u=(u.g&&vi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(S(u[A]))continue;var E=Rn(u[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=m[U]||[];m[U]=G,G.push(E)}Pe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function qs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(u&&u.concurrentRequestLimit),this.Ba=new zs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=qs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,A){Nt(0),this.W=u,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),zi(this)};function $l(u){if(Ia(u),u.I==3){var m=u.V++,E=Bt(u.J);if(st(E,"SID",u.M),st(E,"RID",m),st(E,"TYPE","terminate"),Hr(u,E),m=new Ut(u,u.j,m),m.M=2,m.A=Pr(Bt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Di(m)}Mu(u)}function Hs(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Ia(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Ll(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ve||x(),Se||(Ve(),Se=!0),N.add(m,u),u.D=0}}function Da(u,m){return Vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(v(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ut(this,this.j,u);let G=this.o;if(this.U&&(G?(G=I(G),W(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Nu(this,U,m),E=Bt(this.J),st(E,"RID",u),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),Hr(this,E),G&&(this.R?m="headers="+xt(ni(G))+"&"+m:this.u&&zr(E,this.u,G)),zl(this.h,U),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",m),st(E,"SID","null"),U.U=!0,Ii(U,E,null)):Ii(U,E,m),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||Ll(this.h)||Zl(this))};function Zl(u,m){var E;m?E=m.l:E=u.V++;const A=Bt(u.J);st(A,"SID",u.M),st(A,"RID",E),st(A,"AID",u.K),Hr(u,A),u.u&&u.o&&zr(A,u.u,u.o),E=new Ut(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Nu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zl(u.h,E),Ii(E,A,m)}function Hr(u,m){u.H&&ge(u.H,function(E,A){st(m,A,E)}),u.l&&ge({},function(E,A){st(m,A,E)})}function Nu(u,m,E){E=Math.min(u.i.length,E);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const Mt=["count="+E];Oe==-1?E>0?(Oe=U[0].g,Mt.push("ofs="+Oe)):Oe=0:Mt.push("ofs="+Oe);let et=!0;for(let bt=0;bt<E;bt++){var G=U[bt].g;const ii=U[bt].map;if(G-=Oe,G<0)Oe=Math.max(0,U[bt].g-100),et=!1;else try{G="req"+G+"_"||"";try{var se=ii instanceof Map?ii:Object.entries(ii);for(const[qi,Ei]of se){let Ti=Ei;p(Ei)&&(Ti=Pn(Ei)),Mt.push(G+qi+"="+encodeURIComponent(Ti))}}catch(qi){throw Mt.push(G+"type="+encodeURIComponent("_badmap")),qi}}catch{A&&A(ii)}}if(et){se=Mt.join("&");break e}}se=void 0}return u=u.i.splice(0,E),m.G=u,se}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ve||x(),Se||(Ve(),Se=!0),N.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(v(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Hs(this),Iu(this))};function Jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new Ut(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&zr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Pr(Bt(m)),E.u=null,E.R=!0,Aa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),Gr(this),Nt(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var E=null;if(u.g==m){Oa(u),Jl(u),u.g=null;var A=2}else if(ki(u.h,m))E=m.G,Bl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=Ci(),Ee(A,new Zn(A,E)),zi(u)}else Cu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Da(u,m)||A==2&&Gr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),U){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Ou(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Bi(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),A=u.Ua;const U=!A;A=new zn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(A,"https"),Pr(A),U?yi(A.toString(),E):Ql(A.toString(),E)}else Nt(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=ql(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,E){var A=E instanceof zn?Bt(E):new zn(E);if(A.g!="")m&&(A.g=m+"."+A.g),js(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const G=new zn(null);A&&Wt(G,A),m&&(G.g=m),U&&js(G,U),E&&(G.h=E),A=G}return E=u.G,m=u.wa,E&&m&&st(A,E,m),st(A,"VER",u.ka),Hr(u,A),A}function ku(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Pi({ab:E})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Gs(){}Gs.prototype.g=function(u,m){return new An(u,m)};function An(u,m){Ie.call(this),this.g=new qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new os(this)}w(An,Ie),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){$l(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Pn(u),u=E);m.i.push(new zt(m.Ya++,u)),m.I==3&&zi(m)},An.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,An.Z.N.call(this)};function Pu(u){Dt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Pu,Dt);function Uu(){Tn.call(this),this.status=1}w(Uu,Tn);function os(u){this.g=u}w(os,ju),os.prototype.ra=function(){Ee(this.g,"a")},os.prototype.qa=function(u){Ee(this.g,new Pu(u))},os.prototype.pa=function(u){Ee(this.g,new Uu)},os.prototype.oa=function(){Ee(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,tE=function(){return new Gs},eE=function(){return Ci()},W1=yt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},V.NO_ERROR=0,V.TIMEOUT=8,V.HTTP_ERROR=6,th=V,Re.COMPLETE="complete",J1=Re,Vr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,zo=Vr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,Z1=ut}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore",Z0="4.9.2";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Dl="12.3.0";const ga=new Gm("@firebase/firestore");function ul(){return ga.logLevel}function ue(s,...e){if(ga.logLevel<=Ge.DEBUG){const i=e.map(tg);ga.debug(`Firestore (${Dl}): ${s}`,...i)}}function Ds(s,...e){if(ga.logLevel<=Ge.ERROR){const i=e.map(tg);ga.error(`Firestore (${Dl}): ${s}`,...i)}}function Tl(s,...e){if(ga.logLevel<=Ge.WARN){const i=e.map(tg);ga.warn(`Firestore (${Dl}): ${s}`,...i)}}function tg(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,nE(s,r,i)}function nE(s,e,i){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ds(r),new Error(r)}function nt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||nE(e,o,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ua{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ua,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ua)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new iE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class ER{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new J0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Sm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return lm(o)===lm(c)?Fe(o,c):lm(o)?1:-1}return Fe(s.length,e.length)}const SR=55296,wR=57343;function lm(s){const e=s.charCodeAt(0);return e>=SR&&e<=wR}function bl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const W0="__name__";class Yi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Yi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const r=Yi.isNumericId(e),o=Yi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Yi.extractNumericId(e).compare(Yi.extractNumericId(i)):Sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class gt extends Yi{construct(e,i,r){return new gt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new gt(i)}static emptyPath(){return new gt([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Yi{construct(e,i,r){return new fn(e,i,r)}static isValidIdentifier(e){return xR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new fn([W0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(gt.fromString(e))}static fromName(e){return new _e(gt.fromString(e).popFirst(5))}static empty(){return new _e(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new gt(e.slice()))}}function sE(s,e,i){if(!i)throw new le($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function RR(s,e,i,r){if(e===!0&&r===!0)throw new le($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ev(s){if(!_e.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function tv(s){if(_e.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Zi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vh(s);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function gu(s,e){if(!rE(s))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new le($.INVALID_ARGUMENT,i);return!0}const nv=-62135596800,iv=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*iv);return new Et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<nv)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Yt("string",Et._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Et(0,0))}static max(){return new xe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function NR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new Et(i+1,0):new Et(i,r));return new Sr(o,_e.empty(),e)}function CR(s){return new Sr(s.readTime,s.key,tu)}class Sr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Sr(xe.min(),_e.empty(),tu)}static max(){return new Sr(xe.max(),_e.empty(),tu)}}function IR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==DR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((b=>{d[v]=b,++p,p===c&&r(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function MR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ml(s){return s.name==="IndexedDbTransactionError"}class kh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const ig=-1;function jh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function VR(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const aE="";function kR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=sv(e)),e=jR(s.get(i),e);return sv(e)}function jR(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function sv(s){return s+aE+""}function rv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Dr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function lE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Rt{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Rt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new hn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(e){return new av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Yn([])}unionWith(e){let i=new $t(fn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=PR.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function sg(s){return(s?.mapValue?.fields||{})[cE]?.stringValue===uE}function Ph(s){const e=s.mapValue.fields[hE];return sg(e)?Ph(e):e}function nu(s){const e=wr(s.mapValue.fields[fE].timestampValue);return new Et(e.seconds,e.nanos)}class UR{constructor(e,i,r,o,c,d,p,_,v,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=b}}const _h="(default)";class iu{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const dE="__type__",LR="__max__",Fc={mapValue:{}},mE="__vector__",vh="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sg(s)?4:BR(s)?9007199254740991:zR(s)?10:11:Ae(28295,{value:s})}function ns(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=wr(o.timestampValue),p=wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return xr(o.bytesValue).isEqual(xr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=jt(o.doubleValue),p=jt(c.doubleValue);return d===p?yh(d)===yh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ns(d[_],p[_])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function su(s,e){return(s.values||[]).find((i=>ns(i,e)))!==void 0}function Al(s,e){if(s===e)return 0;const i=Rr(s),r=Rr(e);if(i!==r)return Fe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=jt(c.integerValue||c.doubleValue),_=jt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return lv(s.timestampValue,e.timestampValue);case 4:return lv(nu(s),nu(e));case 5:return Sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=xr(c),_=xr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const b=Fe(p[v],_[v]);if(b!==0)return b}return Fe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Fe(jt(c.latitude),jt(d.latitude));return p!==0?p:Fe(jt(c.longitude),jt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return ov(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[vh]?.arrayValue,b=_[vh]?.arrayValue,w=Fe(v?.values?.length||0,b?.values?.length||0);return w!==0?w:ov(v,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const O=Sm(_[w],b[w]);if(O!==0)return O;const K=Al(p[_[w]],v[b[w]]);if(K!==0)return K}return Fe(_.length,b.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function lv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=wr(s),r=wr(e),o=Fe(i.seconds,r.seconds);return o!==0?o:Fe(i.nanos,r.nanos)}function ov(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Al(i[o],r[o]);if(c)return c}return Fe(i.length,r.length)}function Sl(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=wr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=wm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${wm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function nh(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+nh(e):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+nh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Dr(r.fields,((c,d)=>{o+=c.length+nh(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function uv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function rg(s){return!!s&&"arrayValue"in s}function cv(s){return!!s&&"nullValue"in s}function hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function zR(s){return(s?.mapValue?.fields||{})[dE]?.stringValue===mE}function Qo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Dr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Qo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Qo(s.arrayValue.values[i]);return e}return{...s}}function BR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ih(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(i)}setAll(e){let i=fn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Qo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());ih(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Dr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(Qo(this.value))}}function gE(s){const e=[];return Dr(s.fields,((i,r)=>{const o=new fn([i]);if(ih(r)){const c=gE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Yn(e)}class _n{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,xe.min(),xe.min(),xe.min(),jn.empty(),0)}static newFoundDocument(e,i,r,o){return new _n(e,1,i,xe.min(),r,o,0)}static newNoDocument(e,i){return new _n(e,2,i,xe.min(),xe.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new _n(e,3,i,xe.min(),xe.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,i){this.position=e,this.inclusive=i}}function fv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=Al(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function dv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ns(s.position[i],e.position[i]))return!1;return!0}class ru{constructor(e,i="asc"){this.field=e,this.dir=i}}function qR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class pE{}class Qt extends pE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new GR(e,i,r):i==="array-contains"?new QR(e,r):i==="in"?new YR(e,r):i==="not-in"?new XR(e,r):i==="array-contains-any"?new $R(e,r):new Qt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new FR(e,r):new KR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Al(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(Al(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends pE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ri(e,i)}matches(e){return yE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(s){return s.op==="and"}function _E(s){return HR(s)&&yE(s)}function HR(s){for(const e of s.filters)if(e instanceof Ri)return!1;return!0}function Rm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Sl(s.value);if(_E(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((i=>Rm(i))).join(",");return`${s.op}(${e})`}}function vE(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&ns(r.value,o.value)})(s,e):s instanceof Ri?(function(r,o){return o instanceof Ri&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&vE(d,o.filters[p])),!0):!1})(s,e):void Ae(19439)}function EE(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sl(i.value)}`})(s):s instanceof Ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(s):"Filter"}class GR extends Qt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class FR extends Qt{constructor(e,i){super(e,"in",i),this.keys=TE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class KR extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=TE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function TE(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class QR extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rg(i)&&su(i.arrayValue,this.value)}}class YR extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&su(this.value.arrayValue,i)}}class XR extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!su(this.value.arrayValue,i)}}class $R extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class ZR{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function mv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new ZR(s,e,i,r,o,c,d)}function ag(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Rm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),jh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Sl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Sl(r))).join(",")),e.Te=i}return e.Te}function lg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!vE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!dv(s.startAt,e.startAt)&&dv(s.endAt,e.endAt)}function Nm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vl{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(s,e,i,r,o,c,d,p){return new Vl(s,e,i,r,o,c,d,p)}function og(s){return new Vl(s)}function gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bE(s){return s.collectionGroup!==null}function Yo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $t(fn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ru(c,r))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new ru(fn.keyField(),r))}return e.Ie}function Ji(s){const e=Ce(s);return e.Ee||(e.Ee=WR(e,Yo(s))),e.Ee}function WR(s,e){if(s.limitType==="F")return mv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ru(o.field,c)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return mv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Cm(s,e){const i=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Th(s,e,i){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Uh(s,e){return lg(Ji(s),Ji(e))&&s.limitType===e.limitType}function AE(s){return`${ag(Ji(s))}|lt:${s.limitType}`}function cl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>EE(o))).join(", ")}]`),jh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Sl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Sl(o))).join(",")),`Target(${r})`})(Ji(s))}; limitType=${s.limitType})`}function Lh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Yo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=fv(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,Yo(r),o)||r.endAt&&!(function(d,p,_){const v=fv(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,Yo(r),o))})(s,e)}function eN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function SE(s){return(e,i)=>{let r=!1;for(const o of Yo(s)){const c=tN(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tN(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Al(_,v):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}const nN=new Rt(_e.comparator);function Os(){return nN}const wE=new Rt(_e.comparator);function Bo(...s){let e=wE;for(const i of s)e=e.insert(i.key,i);return e}function xE(s){let e=wE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function oa(){return Xo()}function RE(){return Xo()}function Xo(){return new va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const iN=new Rt(_e.comparator),sN=new $t(_e.comparator);function Ke(...s){let e=sN;for(const i of s)e=e.add(i);return e}const rN=new $t(Fe);function aN(){return rN}function ug(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function NE(s){return{integerValue:""+s}}function lN(s,e){return VR(e)?NE(e):ug(s,e)}class zh{constructor(){this._=void 0}}function oN(s,e,i){return s instanceof bh?(function(o,c){const d={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&sg(c)&&(c=Ph(c)),c&&(d.fields[hE]=c),{mapValue:d}})(i,e):s instanceof au?IE(s,e):s instanceof lu?DE(s,e):(function(o,c){const d=CE(o,c),p=pv(d)+pv(o.Ae);return xm(d)&&xm(o.Ae)?NE(p):ug(o.serializer,p)})(s,e)}function uN(s,e,i){return s instanceof au?IE(s,e):s instanceof lu?DE(s,e):i}function CE(s,e){return s instanceof Ah?(function(r){return xm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class bh extends zh{}class au extends zh{constructor(e){super(),this.elements=e}}function IE(s,e){const i=OE(e);for(const r of s.elements)i.some((o=>ns(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lu extends zh{constructor(e){super(),this.elements=e}}function DE(s,e){let i=OE(e);for(const r of s.elements)i=i.filter((o=>!ns(o,r)));return{arrayValue:{values:i}}}class Ah extends zh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function pv(s){return jt(s.integerValue||s.doubleValue)}function OE(s){return rg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof au&&o instanceof au||r instanceof lu&&o instanceof lu?bl(r.elements,o.elements,ns):r instanceof Ah&&o instanceof Ah?ns(r.Ae,o.Ae):r instanceof bh&&o instanceof bh})(s.transform,e.transform)}class hN{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Bh{}function ME(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cg(s.key,mi.none()):new pu(s.key,s.data,mi.none());{const i=s.data,r=jn.empty();let o=new $t(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Or(s.key,r,new Yn(o.toArray()),mi.none())}}function fN(s,e,i){s instanceof pu?(function(o,c,d){const p=o.value.clone(),_=_v(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Or?(function(o,c,d){if(!sh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=_v(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(VE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $o(s,e,i,r){return s instanceof pu?(function(c,d,p,_){if(!sh(c.precondition,d))return p;const v=c.value.clone(),b=vv(c.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Or?(function(c,d,p,_){if(!sh(c.precondition,d))return p;const v=vv(c.fieldTransforms,_,d),b=d.data;return b.setAll(VE(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return sh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function dN(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=CE(r.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(r.field,c))}return i||null}function yv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&bl(r,o,((c,d)=>cN(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends Bh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends Bh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function _v(s,e,i){const r=new Map;nt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,uN(d,p,i[o]))}return r}function vv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,oN(c,d,e))}return r}class cg extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gN{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fN(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=$o(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=$o(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=RE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=ME(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((i,r)=>yv(i,r)))&&bl(this.baseMutations,e.baseMutations,((i,r)=>yv(i,r)))}}class hg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iN})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new hg(e,i,r,o)}}class pN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yN{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Xe;function _N(s){switch(s){case $.OK:return Ae(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function kE(s){if(s===void 0)return Ds("GRPC error has no .code"),$.UNKNOWN;switch(s){case Kt.OK:return $.OK;case Kt.CANCELLED:return $.CANCELLED;case Kt.UNKNOWN:return $.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return $.INTERNAL;case Kt.UNAVAILABLE:return $.UNAVAILABLE;case Kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Kt.NOT_FOUND:return $.NOT_FOUND;case Kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Kt.ABORTED:return $.ABORTED;case Kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Kt.DATA_LOSS:return $.DATA_LOSS;default:return Ae(39323,{code:s})}}(Xe=Kt||(Kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function vN(){return new TextEncoder}const EN=new br([4294967295,4294967295],0);function Ev(s){const e=vN().encode(s),i=new $1;return i.update(e),new Uint8Array(i.digest())}function Tv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([i,r],0),new br([o,c],0)]}class fg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new qo(`Invalid padding: ${i}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new qo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=br.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(br.fromNumber(r)));return o.compare(EN)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Ev(e),[r,o]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fg(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Ev(e),[r,o]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new qh(xe.min(),o,new Rt(Fe),Os(),Ke())}}class yu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yu(r,i,Ke(),Ke(),Ke())}}class rh{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class jE{constructor(e,i){this.targetId=e,this.Ce=i}}class PE{constructor(e,i,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class bv{constructor(){this.ve=0,this.Fe=Av(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),r=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:c})}})),new yu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Kc(),this.He=Kc(),this.Ye=new Rt(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Nm(c))if(r===0){const d=new _e(c.path);this.et(i,d,_n.newNoDocument(d,xe.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=xr(r).toUint8Array()}catch(_){if(_ instanceof oE)return Tl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new fg(d,o,c)}catch(_){return Tl(_ instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Nm(p.target)){const _=new _e(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,_n.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new qh(e,i,this.Ye,this.je,r);return this.je=Os(),this.Je=Kc(),this.He=Kc(),this.Ye=new Rt(Fe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new bv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Kc(){return new Rt(_e.comparator)}function Av(){return new Rt(_e.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class wN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Im(s,e){return s.useProto3Json||jh(e)?e:{value:e}}function Sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xN(s,e){return Sh(s,e.toTimestamp())}function Wi(s){return nt(!!s,49232),xe.fromTimestamp((function(i){const r=wr(i);return new Et(r.seconds,r.nanos)})(s))}function dg(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const i=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function LE(s){const e=gt.fromString(s);return nt(GE(e),10190,{key:e.toString()}),e}function Om(s,e){return dg(s.databaseId,e.path)}function om(s,e){const i=LE(e);if(i.get(1)!==s.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(BE(i))}function zE(s,e){return dg(s.databaseId,e)}function RN(s){const e=LE(s);return e.length===4?gt.emptyPath():BE(e)}function Mm(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Sv(s,e,i){return{name:Om(s,e),fields:i.value.mapValue.fields}}function NN(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ae(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(nt(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(nt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const b=v.code===void 0?$.UNKNOWN:kE(v.code);return new le(b,v.message||"")})(d);i=new PE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),c=Wi(r.document.updateTime),d=r.document.createTime?Wi(r.document.createTime):xe.min(),p=new jn({mapValue:{fields:r.document.fields}}),_=_n.newFoundDocument(o,c,d,p),v=r.targetIds||[],b=r.removedTargetIds||[];i=new rh(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=om(s,r.document),c=r.readTime?Wi(r.readTime):xe.min(),d=_n.newNoDocument(o,c),p=r.removedTargetIds||[];i=new rh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=om(s,r.document),c=r.removedTargetIds||[];i=new rh([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yN(o,c),p=r.targetId;i=new jE(p,d)}}return i}function CN(s,e){let i;if(e instanceof pu)i={update:Sv(s,e.key,e.value)};else if(e instanceof cg)i={delete:Om(s,e.key)};else if(e instanceof Or)i={update:Sv(s,e.key,e.data),updateMask:UN(e.fieldMask)};else{if(!(e instanceof mN))return Ae(16599,{Vt:e.type});i={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof bh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:xN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function IN(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Wi(o.updateTime):Wi(c);return d.isEqual(xe.min())&&(d=Wi(c)),new hN(d,o.transformResults||[])})(i,e)))):[]}function DN(s,e){return{documents:[zE(s,e.path)]}}function ON(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=zE(s,o);const c=(function(v){if(v.length!==0)return HE(Ri.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((b=>(function(O){return{field:hl(O.field),direction:kN(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function MN(s){let e=RN(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){nt(r===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const O=qE(w);return O instanceof Ri&&_E(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(te){return new ru(fl(te.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let O;return O=typeof w=="object"?w.value:w,jh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,K=w.values||[];return new Eh(K,O)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const O=!w.before,K=w.values||[];return new Eh(K,O)})(i.endAt)),JR(e,o,d,c,p,"F",_,v)}function VN(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=fl(i.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fl(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fl(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fl(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(fl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ri.create(i.compositeFilter.filters.map((r=>qE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function kN(s){return bN[s]}function jN(s){return AN[s]}function PN(s){return SN[s]}function hl(s){return{fieldPath:s.canonicalString()}}function fl(s){return fn.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(hv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NAN"}};if(cv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NAN"}};if(cv(i.value))return{unaryFilter:{field:hl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(i.field),op:jN(i.op),value:i.value}}})(s):s instanceof Ri?(function(i){const r=i.getFilters().map((o=>HE(o)));return r.length===1?r[0]:{compositeFilter:{op:PN(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function UN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function GE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class _r{constructor(e,i,r,o,c=xe.min(),d=xe.min(),p=dn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LN{constructor(e){this.yt=e}}function zN(s){const e=MN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Th(e,e.limit,"L"):e}class BN{constructor(){this.Cn=new qN}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Sr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class qN{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new $t(gt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $t(gt.comparator)).toArray()}}const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(FE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}const xv="LruGarbageCollector",HN=1048576;function Rv([s,e],[i,r]){const o=Fe(s,i);return o===0?Fe(e,r):o}class GN{constructor(e){this.Ir=e,this.buffer=new $t(Rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FN{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ml(i)?ue(xv,"Ignoring IndexedDB error during garbage collection: ",i):await Ol(i)}await this.Vr(3e5)}))}}class KN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(kh.ce);const r=new GN(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(wv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(v=Date.now(),ul()<=Ge.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function QN(s,e){return new KN(s,e)}class YN{constructor(){this.changes=new va((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $N{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&$o(r.mutation,o,Yn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ke()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Bo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=oa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ke())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=Os();const d=Xo(),p=(function(){return Xo()})();return i.forEach(((_,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Or)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),$o(b.mutation,v,b.mutation.getFieldMask(),Et.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>p.set(v,new XN(b,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Xo();let o=new Rt(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let b=r.get(_)||Yn.empty();b=p.applyToLocalView(v,b),r.set(_,b);const w=(o.get(p.batchId)||Ke()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,b=_.value,w=RE();b.forEach((O=>{if(!c.has(O)){const K=ME(i.get(O),r.get(O));K!==null&&w.set(O,K),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(oa());let p=tu,_=c;return d.next((v=>Z.forEach(v,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{_=_.insert(b,O)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ke()))).next((b=>({batchId:p,changes:xE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let o=Bo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Bo();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(_=>{const v=(function(w,O){return new Vl(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((b=>{b.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,_n.newInvalidDocument(b)))}));let p=Bo();return d.forEach(((_,v)=>{const b=c.get(_);b!==void 0&&$o(b.mutation,v,Yn.empty(),Et.now()),Lh(i,v)&&(p=p.insert(_,v))})),p}))}}class ZN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zN(o.bundledQuery),readTime:Wi(o.readTime)}})(i)),Z.resolve()}}class JN{constructor(){this.overlays=new Rt(_e.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=oa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=oa(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Rt(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=c.get(v.largestBatchId);b===null&&(b=oa(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pN(i,r));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class WN{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class mg{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new nn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new gt([])),r=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new gt([])),r=new nn(i,e),o=new nn(i,e+1);let c=Ke();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class eC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gN(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new nn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new $t(Fe);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new nn(new _e(c),0);let p=new $t(Fe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new nn(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tC{constructor(e){this.ri=e,this.docs=(function(){return new Rt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let r=Os();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():_n.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Os();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||IR(CR(b),r)<=0||(o.has(b.key)||Lh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nC(this)}getSize(e){return Z.resolve(this.size)}}class nC extends YN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class iC{constructor(e){this.persistence=e,this.si=new va((i=>ag(i)),lg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class KE{constructor(e,i){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new WN,this.referenceDelegate=e(this),this.Pi=new iC(this),this.indexManager=new BN,this.remoteDocumentCache=(function(o){return new tC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LN(i),this.Ii=new ZN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const o=new sC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class sC extends OR{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wh{constructor(e,i){this.persistence=e,this.pi=new va((r=>kR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QN(this,i)}static mi(e,i){return new wh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=nh(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pg(e,i.fromCache,r,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MS()?8:MR(vn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(ul()<=Ge.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",cl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ul()<=Ge.DEBUG&&ue("QueryEngine","Query:",cl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ul()<=Ge.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",cl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(i))):Z.resolve())}ys(e,i){if(gv(i))return Z.resolve(null);let r=Ji(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Th(i,null,"F"),r=Ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,Th(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return gv(i)||o.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(ul()<=Ge.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cl(i)),this.vs(e,d,i,NR(o,tu)).next((p=>p)))}))}Ds(e,i){let r=new $t(SE(e));return i.forEach(((o,c)=>{Lh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return ul()<=Ge.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",cl(i)),this.ps.getDocumentsMatchingQuery(e,i,Sr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const yg="LocalStore",lC=3e8;class oC{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Rt(Fe),this.xs=new va((c=>ag(c)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function uC(s,e,i,r){return new oC(s,e,i,r)}async function QE(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ke();for(const v of o){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of c){p.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function cC(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,b){const w=v.batch,O=w.keys();let K=Z.resolve();return O.forEach((te=>{K=K.next((()=>b.getEntry(_,te))).next((re=>{const ee=v.docVersions.get(te);nt(ee!==null,48541),re.version.compareTo(ee)<0&&(w.applyToRemoteDocument(re,v),re.isValidDocument()&&(re.setReadTime(v.commitVersion),b.addEntry(re)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ke();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function YE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hC(s,e){const i=Ce(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((b,w)=>{const O=o.get(w);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,w))));let K=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(dn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,r)),o=o.insert(w,K),(function(re,ee,me){return re.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=lC?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(O,K,b)&&p.push(i.Pi.updateTargetData(c,K))}));let _=Os(),v=Ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(fC(c,d,e.documentUpdates).next((b=>{_=b.ks,v=b.qs}))),!r.isEqual(xe.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function fC(s,e,i){let r=Ke(),o=Ke();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Os();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ue(yg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function dC(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ig),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mC(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new _r(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Vm(s,e,i){const r=Ce(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ml(d))throw d;ue(yg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Nv(s,e,i){const r=Ce(s);let o=xe.min(),c=Ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,b){const w=Ce(_),O=w.xs.get(b);return O!==void 0?Z.resolve(w.Ms.get(O)):w.Pi.getTargetData(v,b)})(r,d,Ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Ke()))).next((p=>(gC(r,eN(e),p),{documents:p,Qs:c})))))}function gC(s,e,i){let r=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Cv{constructor(){this.activeTargetIds=aN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new Cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yC{Oo(e){}shutdown(){}}const Iv="ConnectivityMonitor";class Dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function km(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const um="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=km(),p=this.zo(e,i.toUriEncodedString());ue(um,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),b=Nl(v);return this.Jo(e,p,_,r,b).then((w=>(ue(um,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Tl(um,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=_C[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class EC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class TC extends vC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=km();return new Promise(((p,_)=>{const v=new Z1;v.setWithCredentials(!0),v.listenOnce(J1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case th.NO_ERROR:const w=v.getResponseJson();ue(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case th.TIMEOUT:ue(pn,`RPC '${e}' ${d} timed out`),_(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const O=v.getStatus();if(ue(pn,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const te=K?.error;if(te&&te.status&&te.message){const re=(function(me){const de=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(de)>=0?de:$.UNKNOWN})(te.status);_(new le(re,te.message))}else _(new le($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new le($.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(pn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);ue(pn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",b,r,15)}))}T_(e,i,r){const o=km(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tE(),p=eE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=c.join("");ue(pn,`Creating RPC '${e}' stream ${o}: ${b}`,_);const w=d.createWebChannel(b,_);this.I_(w);let O=!1,K=!1;const te=new EC({Yo:ee=>{K?ue(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(O||(ue(pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),O=!0),ue(pn,`RPC '${e}' stream ${o} sending:`,ee),w.send(ee))},Zo:()=>w.close()}),re=(ee,me,de)=>{ee.listen(me,(pe=>{try{de(pe)}catch(Qe){setTimeout((()=>{throw Qe}),0)}}))};return re(w,zo.EventType.OPEN,(()=>{K||(ue(pn,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),re(w,zo.EventType.CLOSE,(()=>{K||(K=!0,ue(pn,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(w))})),re(w,zo.EventType.ERROR,(ee=>{K||(K=!0,Tl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),te.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),re(w,zo.EventType.MESSAGE,(ee=>{if(!K){const me=ee.data[0];nt(!!me,16349);const de=me,pe=de?.error||de[0]?.error;if(pe){ue(pn,`RPC '${e}' stream ${o} received error:`,pe);const Qe=pe.status;let Ve=(function(x){const R=Kt[x];if(R!==void 0)return kE(R)})(Qe),Se=pe.message;Ve===void 0&&(Ve=$.INTERNAL,Se="Unknown error status: "+Qe+" with message "+pe.message),K=!0,te.a_(new le(Ve,Se)),w.close()}else ue(pn,`RPC '${e}' stream ${o} received:`,me),te.u_(me)}})),re(p,W1.STAT_EVENT,(ee=>{ee.stat===Am.PROXY?ue(pn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===Am.NOPROXY&&ue(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function cm(){return typeof document<"u"?document:null}function Hh(s){return new wN(s,!0)}class XE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ov="PersistentStream";class $E{constructor(e,i,r,o,c,d,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ds(i.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends $E{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=NN(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Wi(d.readTime):xe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Nm(_)?{documents:DN(c,_)}:{query:ON(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=UE(c,d.resumeToken);const v=Im(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=Sh(c,d.snapshotVersion.toTimestamp());const v=Im(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=VN(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Mm(this.serializer),i.removeTarget=e,this.q_(i)}}class AC extends $E{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IN(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>CN(this.serializer,r)))};this.q_(i)}}class SC{}class wC extends SC{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Dm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Dm(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class RC{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ea(this)&&(ue(pa,"Restarting streams for network reachability change."),await(async function(_){const v=Ce(_);v.Ea.add(4),await _u(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Gh(v)})(this))}))})),this.Ra=new xC(r,o)}}async function Gh(s){if(Ea(s))for(const e of s.da)await e(!0)}async function _u(s){for(const e of s.da)await e(!1)}function ZE(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Tg(i)?Eg(i):kl(i).O_()&&vg(i,e))}function _g(s,e){const i=Ce(s),r=kl(i);i.Ia.delete(e),r.O_()&&JE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ea(i)&&i.Ra.set("Unknown"))}function vg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}kl(s).Y_(e)}function JE(s,e){s.Va.Ue(e),kl(s).Z_(e)}function Eg(s){s.Va=new TN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.Ra.ua()}function Tg(s){return Ea(s)&&!kl(s).x_()&&s.Ia.size>0}function Ea(s){return Ce(s).Ea.size===0}function WE(s){s.Va=void 0}async function NC(s){s.Ra.set("Online")}async function CC(s){s.Ia.forEach(((e,i)=>{vg(s,e)}))}async function IC(s,e){WE(s),Tg(s)?(s.Ra.ha(e),Eg(s)):s.Ra.set("Unknown")}async function DC(s,e,i){if(s.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ue(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(s,r)}else if(e instanceof rh?s.Va.Ze(e):e instanceof jE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const r=await YE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(v);b&&c.Ia.set(v,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),JE(c,_);const w=new _r(b.target,_,v,b.sequenceNumber);vg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ue(pa,"Failed to raise snapshot:",r),await xh(s,r)}}async function xh(s,e,i){if(!Ml(e))throw e;s.Ea.add(1),await _u(s),s.Ra.set("Offline"),i||(i=()=>YE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function eT(s,e){return e().catch((i=>xh(s,i,e)))}async function Fh(s){const e=Ce(s),i=Nr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;OC(e);)try{const o=await dC(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,MC(e,o)}catch(o){await xh(e,o)}tT(e)&&nT(e)}function OC(s){return Ea(s)&&s.Ta.length<10}function MC(s,e){s.Ta.push(e);const i=Nr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function tT(s){return Ea(s)&&!Nr(s).x_()&&s.Ta.length>0}function nT(s){Nr(s).start()}async function VC(s){Nr(s).ra()}async function kC(s){const e=Nr(s);for(const i of s.Ta)e.ea(i.mutations)}async function jC(s,e,i){const r=s.Ta.shift(),o=hg.from(r,e,i);await eT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Fh(s)}async function PC(s,e){e&&Nr(s).X_&&await(async function(r,o){if((function(d){return _N(d)&&d!==$.ABORTED})(o.code)){const c=r.Ta.shift();Nr(r).B_(),await eT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Fh(r)}})(s,e),tT(s)&&nT(s)}async function Mv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ue(pa,"RemoteStore received new credentials");const r=Ea(i);i.Ea.add(3),await _u(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function UC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await _u(i),i.Ra.set("Unknown"))}function kl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ce(i);return c.sa(),new bC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:NC.bind(null,s),t_:CC.bind(null,s),r_:IC.bind(null,s),H_:DC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Tg(s)?Eg(s):s.Ra.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function Nr(s){return s.fa||(s.fa=(function(i,r,o){const c=Ce(i);return c.sa(),new AC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,s),r_:PC.bind(null,s),ta:kC.bind(null,s),na:jC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Fh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class bg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new bg(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(s,e){if(Ds("AsyncQueue",`${e}: ${s}`),Ml(s))return new le($.UNAVAILABLE,`${e}: ${s}`);throw s}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Bo(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class Vv{constructor(){this.ga=new Rt(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class xl{constructor(e,i,r,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xl(e,i,_l.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class LC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zC{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ce(i),c=o.queries;o.queries=kv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function kv(){return new va((s=>AE(s)),Uh)}async function BC(s,e){const i=Ce(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new LC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ag(d,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Sg(i)}async function qC(s,e){const i=Ce(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HC(s,e){const i=Ce(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Sg(i)}function GC(s,e,i){const r=Ce(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function Sg(s){s.Ca.forEach((e=>{e.next()}))}var jm,jv;(jv=jm||(jm={})).Ma="default",jv.Cache="cache";class FC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class KC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=SE(e),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Vv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,w)=>{const O=o.get(b),K=Lh(this.query,w)?w:null,te=!!O&&this.mutatedKeys.has(O.key),re=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ee=!1;O&&K?O.data.isEqual(K.data)?te!==re&&(r.track({type:3,doc:K}),ee=!0):this.su(O,K)||(r.track({type:2,doc:K}),ee=!0,(_&&this.eu(K,_)>0||v&&this.eu(K,v)<0)&&(p=!0)):!O&&K?(r.track({type:0,doc:K}),ee=!0):O&&!K&&(r.track({type:1,doc:O}),ee=!0,(_||v)&&(p=!0)),ee&&(K?(d=d.add(K),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,w)=>(function(K,te){const re=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ee})}};return re(K)-re(te)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new xl(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new sT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new iT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wg="SyncEngine";class QC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class YC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((p=>AE(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(_e.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(s,e,i=!0){const r=cT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await rT(r,e,i,!0),o}async function ZC(s,e){const i=cT(s);await rT(i,e,!0,!1)}async function rT(s,e,i,r){const o=await mC(s.localStore,Ji(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await JC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&ZE(s.remoteStore,o),p}async function JC(s,e,i,r,o){s.pu=(w,O,K)=>(async function(re,ee,me,de){let pe=ee.view.ru(me);pe.Cs&&(pe=await Nv(re.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,pe))));const Qe=de&&de.targetChanges.get(ee.targetId),Ve=de&&de.targetMismatches.get(ee.targetId)!=null,Se=ee.view.applyChanges(pe,re.isPrimaryClient,Qe,Ve);return Uv(re,ee.targetId,Se.au),Se.snapshot})(s,w,O,K);const c=await Nv(s.localStore,e,!0),d=new KC(e,c.Qs),p=d.ru(c.documents),_=yu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);Uv(s,i,v.au);const b=new QC(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function WC(s,e,i){const r=Ce(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&_g(r.remoteStore,o.targetId),Pm(r,o.targetId)})).catch(Ol)):(Pm(r,o.targetId),await Vm(r.localStore,o.targetId,!0))}async function eI(s,e){const i=Ce(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),_g(i.remoteStore,r.targetId))}async function tI(s,e,i){const r=oI(s);try{const o=await(function(d,p){const _=Ce(d),v=Et.now(),b=p.reduce(((K,te)=>K.add(te.key)),Ke());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let te=Os(),re=Ke();return _.Ns.getEntries(K,b).next((ee=>{te=ee,te.forEach(((me,de)=>{de.isValidDocument()||(re=re.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,te))).next((ee=>{w=ee;const me=[];for(const de of p){const pe=dN(de,w.get(de.key).overlayedDocument);pe!=null&&me.push(new Or(de.key,pe,gE(pe.value.mapValue),mi.exists(!0)))}return _.mutationQueue.addMutationBatch(K,v,me,p)})).next((ee=>{O=ee;const me=ee.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(K,ee.batchId,me)}))})).then((()=>({batchId:O.batchId,changes:xE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Rt(Fe)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await vu(r,o.changes),await Fh(r.remoteStore)}catch(o){const c=Ag(o,"Failed to persist write");i.reject(c)}}async function aT(s,e){const i=Ce(s);try{const r=await hC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?nt(d.hu,14607):o.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await vu(i,r,e)}catch(r){await Ol(r)}}function Pv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ce(d);_.onlineState=p;let v=!1;_.queries.forEach(((b,w)=>{for(const O of w.Sa)O.va(p)&&(v=!0)})),v&&Sg(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nI(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Rt(_e.comparator);d=d.insert(c,_n.newNoDocument(c,xe.min()));const p=Ke().add(c),_=new qh(xe.min(),new Map,new Rt(Fe),d,p);await aT(r,_),r.du=r.du.remove(c),r.Au.delete(e),xg(r)}else await Vm(r.localStore,e,!1).then((()=>Pm(r,e,i))).catch(Ol)}async function iI(s,e){const i=Ce(s),r=e.batch.batchId;try{const o=await cC(i.localStore,e);oT(i,r,null),lT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vu(i,o)}catch(o){await Ol(o)}}async function sI(s,e,i){const r=Ce(s);try{const o=await(function(d,p){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(nt(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>_.localDocuments.getDocuments(v,b)))}))})(r.localStore,e);oT(r,e,i),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vu(r,o)}catch(o){await Ol(o)}}function lT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function oT(s,e,i){const r=Ce(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||uT(s,r)}))}function uT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(_g(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),xg(s))}function Uv(s,e,i){for(const r of i)r instanceof iT?(s.Ru.addReference(r.key,e),rI(s,r)):r instanceof sT?(ue(wg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||uT(s,r.key)):Ae(19791,{wu:r})}function rI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ue(wg,"New document in limbo: "+i),s.Eu.add(r),xg(s))}function xg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(gt.fromString(e)),r=s.fu.next();s.Au.set(r,new YC(i)),s.du=s.du.insert(i,r),ZE(s.remoteStore,new _r(Ji(og(i.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function vu(s,e,i){const r=Ce(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(v){o.push(v);const b=pg.As(_.targetId,v);c.push(b)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const b=Ce(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(v,(O=>Z.forEach(O.Es,(K=>b.persistence.referenceDelegate.addReference(w,O.targetId,K))).next((()=>Z.forEach(O.ds,(K=>b.persistence.referenceDelegate.removeReference(w,O.targetId,K)))))))))}catch(w){if(!Ml(w))throw w;ue(yg,"Failed to update sequence numbers: "+w)}for(const w of v){const O=w.targetId;if(!w.fromCache){const K=b.Ms.get(O),te=K.snapshotVersion,re=K.withLastLimboFreeSnapshotVersion(te);b.Ms=b.Ms.insert(O,re)}}})(r.localStore,c))}async function aI(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ue(wg,"User change. New user:",e.toKey());const r=await QE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new le($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(i,r.Ls)}}function lI(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function cT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nI.bind(null,e),e.Pu.H_=HC.bind(null,e.eventManager),e.Pu.yu=GC.bind(null,e.eventManager),e}function oI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}Cu(e){return new KE(gg.mi,this.serializer)}Du(e){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class uI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FN(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new KE((r=>wh.mi(r,i)),this.serializer)}}class Um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zC})()}createDatastore(e){const i=Hh(e.databaseInfo.databaseId),r=(function(c){return new TC(c)})(e.databaseInfo);return(function(c,d,p,_){return new wC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new RC(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Dv.v()?new Dv:new yC})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,b){const w=new XC(o,c,d,p,_,v);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ue(pa,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Cr="FirestoreClient";class hI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ag(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Lv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fI(s);ue(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Mv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Mv(e.remoteStore,o))),s._onlineComponents=e}async function fI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Cr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Tl("Error using user provided cache. Falling back to memory cache: "+i),await hm(s,new Rh)}}else ue(Cr,"Using default OfflineComponentProvider"),await hm(s,new uI(void 0));return s._offlineComponents}async function hT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Cr,"Using user provided OnlineComponentProvider"),await Lv(s,s._uninitializedComponentsProvider._online)):(ue(Cr,"Using default OnlineComponentProvider"),await Lv(s,new Um))),s._onlineComponents}function dI(s){return hT(s).then((e=>e.syncEngine))}async function zv(s){const e=await hT(s),i=e.eventManager;return i.onListen=$C.bind(null,e.syncEngine),i.onUnlisten=WC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,e.syncEngine),i}function fT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Bv=new Map;const dT="firestore.googleapis.com",qv=!0;class Hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HN)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yR;switch(r.type){case"firstParty":return new TR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Bv.get(i);r&&(ue("ComponentProvider","Removing Datastore"),Bv.delete(i),r.terminate())})(this),Promise.resolve()}}function mI(s,e,i,r={}){s=Zi(s,Kh);const o=Nl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(o1(`https://${p}`),u1("Firestore",!0)),c.host!==dT&&c.host!==p&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!ha(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=yn.MOCK_USER;else{v=SS(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(w)}s._authCredentials=new _R(new iE(v,b))}}class Mr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class Pt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(gu(i,Pt._jsonSchema))return new Pt(e,r||null,new _e(gt.fromString(i.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Yt("string",Pt._jsonSchemaVersion),referencePath:Yt("string")};class Ar extends Mr{constructor(e,i,r){super(e,i,og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Gv(s,e,...i){if(s=Zt(s),sE("collection","path",e),s instanceof Kh){const r=gt.fromString(e,...i);return tv(r),new Ar(s,null,r)}{if(!(s instanceof Pt||s instanceof Ar))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(gt.fromString(e,...i));return tv(r),new Ar(s.firestore,null,r)}}function Lm(s,e,...i){if(s=Zt(s),arguments.length===1&&(e=ng.newId()),sE("doc","path",e),s instanceof Kh){const r=gt.fromString(e,...i);return ev(r),new Pt(s,null,new _e(r))}{if(!(s instanceof Pt||s instanceof Ar))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(gt.fromString(e,...i));return ev(r),new Pt(s.firestore,s instanceof Ar?s.converter:null,new _e(r))}}const Fv="AsyncQueue";class Kv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&ue(Fv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;ue(Fv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",Qv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=bg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Qv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Yv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ya extends Kh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kv(e),this._firestoreClient=void 0,await e}}}function gI(s,e){const i=typeof s=="object"?s:d1(),r=typeof s=="string"?s:_h,o=Km(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=bS("firestore");c&&mI(o,...c)}return o}function mT(s){if(s._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pI(s),s._firestoreClient}function pI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new UR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,fT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(dn.fromBase64String(e))}catch(i){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new di(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Yt("string",di._jsonSchemaVersion),bytes:Yt("string")};class Qh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class es{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(gu(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Yt("string",es._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class ts{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ts(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:Yt("string",ts._jsonSchemaVersion),vectorValues:Yt("object")};const yI=/^__.*__$/;class _I{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new pu(e,this.data,i,this.fieldTransforms)}}class gT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function pT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Ng{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&yI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Hh(e)}Cc(e,i,r,o=!1){return new Ng({Ac:e,methodName:i,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(s){const e=s._freezeSettings(),i=Hh(s._databaseId);return new vI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yT(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Cg("Data must be an object, but it was:",d,r);const p=_T(r,d);let _,v;if(c.merge)_=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const O=zm(e,w,i);if(!d.contains(O))throw new le($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);ET(b,O)||b.push(O)}_=new Yn(b),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new _I(new jn(p),_,v)}class Xh extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function EI(s,e,i,r){const o=s.Cc(1,e,i);Cg("Data must be an object, but it was:",o,r);const c=[],d=jn.empty();Dr(r,((_,v)=>{const b=Ig(e,_,i);v=Zt(v);const w=o.yc(b);if(v instanceof Xh)c.push(b);else{const O=Eu(v,w);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Yn(c);return new gT(d,p,o.fieldTransforms)}function TI(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[zm(e,r,i)],_=[o];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(zm(e,c[O])),_.push(c[O+1]);const v=[],b=jn.empty();for(let O=p.length-1;O>=0;--O)if(!ET(v,p[O])){const K=p[O];let te=_[O];te=Zt(te);const re=d.yc(K);if(te instanceof Xh)v.push(K);else{const ee=Eu(te,re);ee!=null&&(v.push(K),b.set(K,ee))}}const w=new Yn(v);return new gT(b,w,d.fieldTransforms)}function bI(s,e,i,r=!1){return Eu(i,s.Cc(r?4:3,e))}function Eu(s,e){if(vT(s=Zt(s)))return Cg("Unsupported field value:",e,s),_T(s,e);if(s instanceof Rg)return(function(r,o){if(!pT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=Eu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Et.fromDate(r);return{timestampValue:Sh(o.serializer,c)}}if(r instanceof Et){const c=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,c)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:UE(o.serializer,r._byteString)};if(r instanceof Pt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ts)return(function(d,p){return{mapValue:{fields:{[dE]:{stringValue:mE},[vh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ug(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Vh(r)}`)})(s,e)}function _T(s,e){const i={};return lE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(s,((r,o)=>{const c=Eu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function vT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof es||s instanceof di||s instanceof Pt||s instanceof Rg||s instanceof ts)}function Cg(s,e,i){if(!vT(i)||!rE(i)){const r=Vh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function zm(s,e,i){if((e=Zt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Ig(s,e);throw Nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const AI=new RegExp("[~\\*/\\[\\]]");function Ig(s,e,i){if(e.search(AI)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Qh(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Nh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new le($.INVALID_ARGUMENT,p+s+_)}function ET(s,e){return s.some((i=>i.isEqual(e)))}class TT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Dg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SI extends TT{data(){return super.data()}}function Dg(s,e){return typeof e=="string"?Ig(s,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}function wI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class Mg extends Og{}function xI(s,e,...i){let r=[];e instanceof Og&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof kg)).length,p=c.filter((_=>_ instanceof Vg)).length;if(d>1||d>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Vg extends Mg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Vg(e,i,r)}_apply(e){const i=this._parse(e);return bT(e._query,i),new Mr(e.firestore,e.converter,Cm(e._query,i))}_parse(e){const i=Yh(e.firestore);return(function(c,d,p,_,v,b,w){let O;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){$v(w,b);const te=[];for(const re of w)te.push(Xv(_,c,re));O={arrayValue:{values:te}}}else O=Xv(_,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||$v(w,b),O=bI(p,d,w,b==="in"||b==="not-in");return Qt.create(v,b,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class kg extends Og{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new kg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)bT(d,_),d=Cm(d,_)})(e._query,i),new Mr(e.firestore,e.converter,Cm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends Mg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new jg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(c,d)})(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Vl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function RI(s,e="asc"){const i=e,r=Dg("orderBy",s);return jg._create(r,i)}class Pg extends Mg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Pg(e,i,r)}_apply(e){return new Mr(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function NI(s){return Pg._create("limit",s,"F")}function Xv(s,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&i.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(gt.fromString(i));if(!_e.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uv(s,new _e(r))}if(i instanceof Pt)return uv(s,i._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(i)}.`)}function $v(s,e){if(!Array.isArray(s)||s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bT(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class CI{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Dr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[vh].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new ts(i)}convertGeoPoint(e){return new es(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=gt.fromString(e);nt(GE(r),9688,{name:e});const o=new iu(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(i)||Ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function AT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends TT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Yt("string",ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class ah extends ca{data(e={}){return super.data(e)}}class vl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ah(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:II(p.type),doc:_,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Yt("string",vl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class ST extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,i)}}function Qi(s,e,i){s=Zi(s,Pt);const r=Zi(s.firestore,ya),o=AT(s.converter,e,i);return $h(r,[yT(Yh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,mi.none())])}function Ss(s,e,i,...r){s=Zi(s,Pt);const o=Zi(s.firestore,ya),c=Yh(o);let d;return d=typeof(e=Zt(e))=="string"||e instanceof Qh?TI(c,"updateDoc",s._key,e,i,r):EI(c,"updateDoc",s._key,e),$h(o,[d.toMutation(s._key,mi.exists(!0))])}function Yc(s){return $h(Zi(s.firestore,ya),[new cg(s._key,mi.none())])}function DI(s,e){const i=Zi(s.firestore,ya),r=Lm(s),o=AT(s.converter,e);return $h(i,[yT(Yh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,mi.exists(!1))]).then((()=>r))}function Zv(s,...e){s=Zt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Yv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Yv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Pt)d=Zi(s.firestore,ya),p=og(s._key.path),c={next:_=>{e[r]&&e[r](OI(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=Zi(s,Mr);d=Zi(_.firestore,ya),p=_._query;const v=new ST(d);c={next:b=>{e[r]&&e[r](new vl(d,v,_,b))},error:e[r+1],complete:e[r+2]},wI(s._query)}return(function(v,b,w,O){const K=new cI(O),te=new FC(b,K,w);return v.asyncQueue.enqueueAndForget((async()=>BC(await zv(v),te))),()=>{K.Nu(),v.asyncQueue.enqueueAndForget((async()=>qC(await zv(v),te)))}})(mT(d),p,o,c)}function $h(s,e){return(function(r,o){const c=new ua;return r.asyncQueue.enqueueAndForget((async()=>tI(await dI(r),o,c))),c.promise})(mT(s),e)}function OI(s,e,i){const r=i.docs.get(e._key),o=new ST(s);return new ca(s,o,e._key,r,new Ho(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Dl=o})(Cl),El(new fa("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ya(new vR(r.getProvider("auth-internal")),new bR(d,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(v.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Tr($0,Z0,e),Tr($0,Z0,"esm2020")})();const MI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883"},wT=f1(MI),Zo=gR(wT),Xc=gI(wT),VI=()=>Math.random().toString(36).substr(2,9),_a=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},kI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},Ug=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=kI(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(_a(c))}return r},tn=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Rl=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},xT=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Ch=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},Bm=["","","","","","","","","","","","","","","","","","","",""],St=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return g.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${r}`,...c,children:s})},ml=({children:s,className:e=""})=>g.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),ws=({isOpen:s,onClose:e,title:i,children:r})=>s?g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[g.jsx("h3",{className:"font-bold text-gray-800",children:i}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:g.jsx(ou,{size:20})})]}),g.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,jI=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o})=>{const[c,d]=oe.useState(""),[p,_]=oe.useState(!1),v=b=>{if(c.length<4){const w=c+b;d(w),w.length===4&&(w===i?s():(_(!0),setTimeout(()=>{d(""),_(!1)},500)))}};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[g.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:r||"Enter PIN"}),g.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(b=>g.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c.length>b?p?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},b))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(b=>g.jsx("button",{onClick:()=>v(b),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:b},b)),g.jsx("div",{}),g.jsx("button",{onClick:()=>v(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),g.jsx("button",{onClick:()=>d(b=>b.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:g.jsx(ou,{size:24})})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(St,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),g.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[g.jsx(LA,{size:12})," Forgot PIN?"]})]})]})})},PI=()=>{const[s,e]=oe.useState(!1),[i,r]=oe.useState(!1),[o,c]=oe.useState(null);oe.useEffect(()=>{const p=window.navigator.userAgent.toLowerCase(),_=/iphone|ipad|ipod/.test(p),v=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;_&&!v&&(r(!0),e(!0));const b=w=>{w.preventDefault(),c(w),e(!0)};return window.addEventListener("beforeinstallprompt",b),()=>{window.removeEventListener("beforeinstallprompt",b)}},[]);const d=()=>{o&&(o.prompt(),o.userChoice.then(p=>{p.outcome==="accepted"&&e(!1),c(null)}))};return s?g.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-indigo-100 p-4 flex flex-col gap-3 relative",children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:g.jsx(ou,{size:16})}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:g.jsx(kA,{className:"text-indigo-600",size:20})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800",children:"Install App"}),g.jsx("p",{className:"text-sm text-gray-500 leading-tight mt-1",children:"Add to your home screen for full screen view and easier access!"})]})]}),i?g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-600 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"1. Tap the"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-blue-600",children:[g.jsx(eS,{size:14})," Share"]}),g.jsx("span",{children:"button in your browser bar."})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"2. Scroll down and tap"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-gray-800",children:[g.jsx($c,{size:14,className:"border border-gray-400 rounded-[4px] p-[1px]"})," Add to Home Screen"]}),"."]})]}):g.jsx(St,{onClick:d,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Install Now"})]})}):null},UI=()=>{const[s,e]=oe.useState(!0),[i,r]=oe.useState(""),[o,c]=oe.useState(""),[d,p]=oe.useState(""),[_,v]=oe.useState(""),b=async O=>{O.preventDefault(),p(""),v("");try{s?await e2(Zo,i,o):await Wx(Zo,i,o)}catch(K){p(K.message)}},w=async()=>{if(!i){p("Please enter your email address first.");return}try{await Jx(Zo,i),v("Password reset email sent! Check your inbox."),p("")}catch(O){p(O.message)}};return g.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(e1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),g.jsxs("form",{onSubmit:b,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:O=>r(O.target.value),placeholder:"family@example.com"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&g.jsx("button",{type:"button",onClick:w,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),g.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:O=>c(O.target.value),placeholder:""})]}),d&&g.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),_&&g.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:_}),g.jsx(St,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:()=>{e(!s),p(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function LI(){const[s,e]=oe.useState(null),[i,r]=oe.useState(!0),[o,c]=oe.useState([]),[d,p]=oe.useState([]),[_,v]=oe.useState([]),[b,w]=oe.useState([]),[O,K]=oe.useState([]),[te,re]=oe.useState([]),[ee,me]=oe.useState("login"),[de,pe]=oe.useState(null),[Qe,Ve]=oe.useState(!1),[Se,N]=oe.useState(null);oe.useEffect(()=>i2(Zo,fe=>{e(fe),r(!1)}),[]),oe.useEffect(()=>{if(!i&&s&&d.length>0&&ee==="login"&&!de){const J=localStorage.getItem("chorePiggy_activeUser");if(J){const fe=d.find(Ue=>Ue.id===J);fe&&(pe(fe),me("kid"))}}},[d,ee,de,i,s]),oe.useEffect(()=>{if(!s)return;const J=Ee=>Gv(Xc,"families",s.uid,Ee),fe={users:J("users"),kids:J("kids"),chores:J("chores"),task_log:J("task_log"),bonuses:J("bonuses")},Ue=Object.entries(fe).map(([Ee,pt])=>Zv(pt,mn=>{const wt=mn.docs.map(ot=>({id:ot.id,...ot.data()}));if(Ee==="users"&&(c(wt),wt.length===0)){const ot={id:"parent1",name:"Parent",role:"parent",pin:"1234"};Qi(Lm(Xc,"families",s.uid,"users",ot.id),ot)}Ee==="kids"&&p(wt),Ee==="chores"&&v(wt),Ee==="task_log"&&w(wt),Ee==="bonuses"&&K(wt)},mn=>{console.log(`Error fetching ${Ee}:`,mn)})),lt=xI(J("history"),RI("date","desc"),NI(100)),Ie=Zv(lt,Ee=>{re(Ee.docs.map(pt=>({id:pt.id,...pt.data()})))},Ee=>console.log("History Error",Ee));return()=>{Ue.forEach(Ee=>Ee()),Ie()}},[s]);const x={users:o,kids:d,chores:_,taskLog:b,bonuses:O,history:te},R=(J,fe)=>Lm(Xc,"families",s.uid,J,fe||VI()),k=J=>Gv(Xc,"families",s.uid,J),D=J=>{pe(J),me(J.role==="parent"?"parent":"kid"),Ve(!1),N(null),J.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",J.id)},j=()=>{pe(null),me("login"),localStorage.removeItem("chorePiggy_activeUser")},S=()=>{s2(Zo),pe(null),me("login"),localStorage.removeItem("chorePiggy_activeUser")},De=async()=>{Se?.role==="parent"?prompt("Enter Master Recovery Code (hint: admin):")==="admin"?(await Ss(R("users",Se.id),{pin:"1234"}),alert(`${Se.name}'s PIN has been reset to: 1234`),Ve(!1),N(null)):alert("Incorrect recovery code."):alert("Please ask a parent to reset your PIN in the Family Members tab.")},Be=async(J,fe,Ue,lt,Ie)=>{await DI(k("history"),{kidId:J,amount:fe,type:Ue,description:lt,date:new Date().toISOString(),by:Ie||"Unknown"})},H=async(J,fe,Ue,lt,Ie)=>{const Ee=d.find(pt=>pt.id===J);Ee&&(await Ss(R("kids",J),{balance:Ee.balance+fe}),await Be(J,fe,Ue,lt,Ie))},ie=async(J,fe)=>{await Qi(R("users"),{name:J,pin:fe,role:"parent"})},ne=async J=>{await Yc(R("users",J))},ge=async(J,fe)=>{await Ss(R("users",J),{pin:fe})},Pe=async(J,fe,Ue)=>{const lt=b.find(Ie=>Ie.type==="chore"&&Ie.taskId===J.id&&Ie.kidId===fe&&Ie.dateString===Ue);lt?await Ss(R("task_log",lt.id),{status:"pending",timestamp:new Date().toISOString()}):await Qi(R("task_log"),{type:"chore",taskId:J.id,title:J.title,kidId:fe,dateString:Ue,status:"pending",timestamp:new Date().toISOString()})},I=async(J,fe,Ue,lt,Ie)=>{const Ee=b.find(wt=>wt.type==="chore"&&wt.taskId===J.id&&wt.kidId===fe&&wt.dateString===Ue);let pt=Ee?R("task_log",Ee.id):R("task_log");const mn={type:"chore",taskId:J.id,title:J.title,kidId:fe,dateString:Ue,timestamp:new Date().toISOString()};if(lt==="approve"){const wt=rn(fe),En=(J.weight||1)*wt.valuePerPoint;await Qi(pt,{...mn,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!Ee||Ee.status!=="approved")&&await H(fe,En,"chore",`${J.title} (${Rl(Ue)})`,Ie)}else lt==="fail"?await Qi(pt,{...mn,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):lt==="retry"&&await Qi(pt,{...mn,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},B=async(J,fe)=>{await Qi(R("task_log"),{type:"bonus",taskId:J.id,title:J.title,reward:J.reward,kidId:fe,status:"pending",timestamp:new Date().toISOString(),isGroupTask:J.maxKids>1}),(!J.maxKids||J.maxKids<=1)&&await Yc(R("bonuses",J.id))},W=async(J,fe)=>{const Ue=R("bonuses",J),Ie=O.find(Ee=>Ee.id===J).workers||[];Ie.includes(fe)||await Ss(Ue,{workers:[...Ie,fe]})},ae=async(J,fe,Ue=1)=>{Qi(R("bonuses"),{title:J,reward:fe,status:"available",maxKids:Ue,workers:[]})},ve=async(J,fe,Ue)=>{await Ss(R("task_log",J.id),{status:"approved",approvedAt:new Date().toISOString()});const lt=fe,Ie=J.dateString?`(${Rl(J.dateString)})`:"(Bonus)";await H(J.kidId,lt,J.type,`${J.title} ${Ie}`,Ue)},we=async(J,fe)=>{const Ue=fe==="retry"?"changes_requested":"failed";await Ss(R("task_log",J.id),{status:Ue,rejectedAt:new Date().toISOString()})},je=async(J,fe,Ue)=>{await Qi(R("kids"),{name:J,pin:fe,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:Bm[Math.floor(Math.random()*Bm.length)],allowanceAmount:Number(Ue)})},mt=async(J,fe)=>Ss(R("kids",J),fe),it=async J=>{Qi(R("chores"),{...J,createdAt:_a()})},Xn=async(J,fe)=>Ss(R("chores",J),fe),gi=async J=>Yc(R("chores",J)),sn=async J=>Yc(R("bonuses",J)),$n=J=>{if(!J.pausedUntil)return!0;const fe=_a();return J.pausedUntil<=fe},rn=(J,fe=0)=>{const Ue=d.find(Tt=>Tt.id===J);if(!Ue)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const lt=Ue.allowanceAmount||0,Ie=_.filter(Tt=>Tt.kidId===J&&$n(Tt));let Ee=0;Ie.forEach(Tt=>{const Ni=Tt.weight||1;Ee+=Ni*Tt.days.length});const pt=Ee>0?lt/Ee:0,mn=Ug(fe),wt=b.filter(Tt=>Tt.kidId===J&&Tt.type==="chore"&&mn.includes(Tt.dateString));let ot=0,En=0;return wt.forEach(Tt=>{const is=(_.find(ss=>ss.id===Tt.taskId)?.weight||1)*pt;Tt.status==="approved"&&(ot+=is),Tt.status==="pending"&&(En+=is)}),{potential:lt,earned:ot,pending:En,totalWeight:Ee,valuePerPoint:pt}};return i?g.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?g.jsxs(g.Fragment,{children:[Qe&&g.jsx(jI,{targetPin:Se?.pin,onSuccess:()=>D(Se),onCancel:()=>{Ve(!1),N(null)},title:`Enter ${Se?.name}'s PIN`,onForgot:De}),g.jsx(PI,{}),ee==="login"&&g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[g.jsx("div",{className:"absolute top-4 right-4",children:g.jsxs("button",{onClick:S,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-sm font-bold",children:[g.jsx(Hm,{size:16})," Sign Out Family"]})}),g.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(e1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.email})]}),g.jsxs("div",{className:"max-w-md w-full grid gap-4",children:[g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(J=>g.jsxs("button",{onClick:()=>{N(J),Ve(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(t1,{size:24})}),g.jsx("span",{className:"font-bold text-lg text-gray-700",children:J.name})]}),g.jsx(lh,{className:"text-gray-300 group-hover:text-blue-500"})]},J.id)),g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(J=>g.jsxs("button",{onClick:()=>{N(J),Ve(!0)},className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:J.avatar}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:J.name}),g.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),g.jsx(lh,{className:"text-gray-300 group-hover:text-purple-500"})]},J.id)),d.length===0&&g.jsx("div",{className:"text-center p-6 bg-white rounded-xl border border-dashed text-gray-400",children:"No kids yet. Login as parent to setup!"})]})]}),ee==="parent"&&g.jsx(zI,{data:x,user:de,logout:j,addKid:je,addChore:it,updateChore:Xn,deleteChore:gi,addBonus:ae,deleteBonus:sn,updateBalance:H,updateKid:mt,approveTask:ve,rejectTask:we,parentOverrideTask:I,calculateWeeklyStats:rn,updateParentPin:ge,addParent:ie,deleteParent:ne}),ee==="kid"&&g.jsx(BI,{user:d.find(J=>J.id===de.id)||de,data:x,logout:j,submitChore:Pe,submitBonus:B,joinBonus:W,updateKid:mt,calculateWeeklyStats:rn,isChoreActive:$n})]}):g.jsx(UI,{})}function zI({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:b,approveTask:w,rejectTask:O,parentOverrideTask:K,calculateWeeklyStats:te,updateParentPin:re,addParent:ee,deleteParent:me}){const[de,pe]=oe.useState("approvals"),[Qe,Ve]=oe.useState(!1),[Se,N]=oe.useState(""),[x,R]=oe.useState(""),[k,D]=oe.useState("10"),[j,S]=oe.useState(null),[De,Be]=oe.useState(null),[H,ie]=oe.useState(null),[ne,ge]=oe.useState(null),[Pe,I]=oe.useState(!1),[B,W]=oe.useState(null),[ae,ve]=oe.useState(null),[we,je]=oe.useState(0),[mt,it]=oe.useState(""),[Xn,gi]=oe.useState(""),[sn,$n]=oe.useState("add"),[rn,J]=oe.useState(0),[fe,Ue]=oe.useState([]),[lt,Ie]=oe.useState(""),[Ee,pt]=oe.useState("1"),[mn,wt]=oe.useState(""),[ot,En]=oe.useState(""),[Tt,Ni]=oe.useState([0,1,2,3,4]),[Pn,is]=oe.useState(""),[ss,Ta]=oe.useState("2"),[Vr,wn]=oe.useState("1"),[Dt,Tn]=oe.useState(""),[yt,kr]=oe.useState(""),[Ci,jr]=oe.useState("");oe.useEffect(()=>{s.kids.length>0&&!fe.length&&Ue([])},[s.kids]);const bn=s.taskLog.filter(V=>V.status==="pending");bn.sort((V,Re)=>new Date(Re.timestamp)-new Date(V.timestamp));const xn=bn.length,Nt=()=>{if(!mt||!j)return;const V=Number(mt),Re=sn==="add"?V:-V,We=sn==="add"?"manual_add":"manual_subtract",Ot=sn==="add"?"Manual Deposit":"Cash Out / Purchase";v(j.id,Re,We,Xn||Ot,e.name),S(null),it(""),gi("")},Zn=async()=>{if(confirm(`Approve all ${xn} tasks?`))for(const V of bn)if(V.type==="chore"){const Re=te(V.kidId),xt=(s.chores.find(Rn=>Rn.id===V.taskId)?.weight||1)*Re.valuePerPoint;await w(V,xt,e.name)}else await w(V,0,e.name)},Jn=V=>{V.isGroupTask?(je(Math.floor(V.reward/2)),ve(V)):w(V,V.reward,e.name)},Un=V=>{V.preventDefault(),Se&&x&&(r(Se,x,k),Ve(!1),N(""),R(""))},jl=V=>{V.preventDefault(),lt&&fe.length>0&&(fe.forEach(Re=>{o({kidId:Re,title:lt,days:Tt,weight:Number(Ee),startTime:mn,doByTime:ot})}),Ie(""),pt("1"),wt(""),En(""),Ue([]))},ba=()=>{B&&(c(B.id,{title:B.title,days:B.days,weight:Number(B.weight),startTime:B.startTime,doByTime:B.doByTime,pausedUntil:B.pausedUntil||null}),W(null))},Wn=()=>{yt&&Ci.length===4&&(ee(yt,Ci),kr(""),jr(""))},rs=V=>Ni(Re=>Re.includes(V)?Re.filter(We=>We!==V):[...Re,V].sort()),Pl=V=>{Ue(Re=>Re.includes(V)?Re.filter(We=>We!==V):[...Re,V])};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[g.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:g.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[g.jsx(t1,{})," ",e.name,"'s Dashboard"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>I(!0),className:"text-gray-500 hover:text-blue-600",children:g.jsx(JA,{size:20})}),g.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:g.jsx(Hm,{size:20})})]})]})}),g.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[g.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(V=>g.jsxs("button",{onClick:()=>pe(V),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${de===V?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[V,V==="approvals"&&xn>0&&g.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:xn})]},V))}),g.jsx(ws,{isOpen:!!ae,onClose:()=>ve(null),title:"Split Group Reward",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[g.jsx("h4",{className:"font-bold text-gray-800",children:ae?.title}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",tn(ae?.reward)]})]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",g.jsx("strong",{children:s.kids.find(V=>V.id===ae?.kidId)?.name})," get?"]}),g.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[g.jsx("button",{onClick:()=>je(V=>Math.max(0,V-1)),className:"p-3 bg-gray-100 rounded-full",children:g.jsx(GA,{size:20})}),g.jsx("span",{className:"text-4xl font-bold text-green-600",children:tn(we)}),g.jsx("button",{onClick:()=>je(V=>V+1),className:"p-3 bg-gray-100 rounded-full",children:g.jsx($c,{size:20})})]}),g.jsxs(St,{className:"w-full bg-green-600",onClick:()=>{w(ae,we,e.name),ve(null)},children:["Approve ",tn(we)]})]})}),g.jsx(ws,{isOpen:Pe,onClose:()=>I(!1),title:"Family Settings",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:Dt,onChange:V=>Tn(V.target.value)}),g.jsx(St,{size:"sm",onClick:()=>{Dt.length===4&&re(e.id,Dt),Tn(""),alert("PIN updated")},children:"Update"})]})]}),g.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),g.jsx("div",{className:"space-y-2",children:s.users.filter(V=>V.role==="parent").map(V=>g.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[g.jsxs("span",{className:"font-bold text-gray-700",children:[V.name," ",V.id===e.id&&"(You)"]}),V.id!==e.id&&g.jsx("button",{onClick:()=>me(V.id),className:"text-red-400 hover:text-red-600",children:g.jsx(Wd,{size:16})})]},V.id))}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:yt,onChange:V=>kr(V.target.value)}),g.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:Ci,onChange:V=>jr(V.target.value)})]}),g.jsxs(St,{onClick:Wn,className:"w-full",variant:"outline",children:[g.jsx(cS,{size:16})," Add Guardian"]})]})]})}),de==="history"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&g.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),g.jsx("div",{className:"space-y-2",children:s.history.map(V=>{const Re=s.kids.find(We=>We.id===V.kidId);return g.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Re&&g.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Re.name}),g.jsx("span",{children:V.description})]}),g.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[g.jsx("span",{children:new Date(V.date).toLocaleString()}),g.jsx("span",{children:""}),g.jsxs("span",{className:"font-medium text-blue-500",children:["by ",V.by||"System"]})]})]}),V.amount!==0&&g.jsxs("span",{className:`font-bold ${V.amount>0?"text-green-600":"text-red-600"}`,children:[V.amount>0?"+":"",tn(V.amount)]})]},V.id)})})]}),g.jsx(ws,{isOpen:!!De,onClose:()=>Be(null),title:"Edit Profile",children:De&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:De.name,onChange:V=>Be({...De,name:V.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),g.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:De.pin,onChange:V=>Be({...De,pin:V.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:De.allowanceAmount,onChange:V=>Be({...De,allowanceAmount:V.target.value})})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(St,{variant:"ghost",onClick:()=>Be(null),className:"flex-1",children:"Cancel"}),g.jsx(St,{onClick:()=>{b(De.id,{name:De.name,pin:De.pin,allowanceAmount:Number(De.allowanceAmount)}),Be(null)},className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(ws,{isOpen:!!B,onClose:()=>W(null),title:"Edit Chore",children:B&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:B.title,onChange:V=>W({...B,title:V.target.value})})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:B.startTime||"",onChange:V=>W({...B,startTime:V.target.value})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:B.doByTime||"",onChange:V=>W({...B,doByTime:V.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),g.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:B.weight||1,onChange:V=>W({...B,weight:V.target.value})}),g.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[B.weight||1,"x"]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),g.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((V,Re)=>g.jsx("button",{onClick:()=>{const We=B.days.includes(Re)?B.days.filter(Ot=>Ot!==Re):[...B.days,Re].sort();W({...B,days:We})},className:`w-8 h-8 rounded-full text-xs font-bold ${B.days.includes(Re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:V},Re))})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),g.jsxs("div",{className:"flex gap-2 mt-1",children:[g.jsxs("button",{onClick:()=>W({...B,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${B.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[g.jsx(IA,{size:16,className:"inline mr-1"})," Active"]}),g.jsxs("button",{onClick:()=>W({...B,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${B.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[g.jsx(p0,{size:16,className:"inline mr-1"})," Paused"]})]}),B.pausedUntil&&g.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",g.jsx("input",{type:"date",value:B.pausedUntil==="2099-12-31"?"":B.pausedUntil,onChange:V=>W({...B,pausedUntil:V.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(St,{variant:"ghost",onClick:()=>W(null),className:"flex-1",children:"Cancel"}),g.jsx(St,{onClick:ba,className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(ws,{isOpen:!!ne,onClose:()=>ge(null),title:"Review Task",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",g.jsx("strong",{children:ne?.title}),"?"]}),g.jsxs("button",{onClick:()=>{O(ne,"retry"),ge(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:g.jsx(dm,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),g.jsxs("button",{onClick:()=>{O(ne,"fail"),ge(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:g.jsx(KA,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),g.jsx(ws,{isOpen:!!j,onClose:()=>S(null),title:`Bank Manager: ${j?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[g.jsxs("button",{onClick:()=>$n("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${sn==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[g.jsx($c,{size:16})," Deposit"]}),g.jsxs("button",{onClick:()=>$n("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${sn==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[g.jsx(_0,{size:16})," Cash Out"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),g.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:mt,onChange:V=>it(V.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),g.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:sn==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:Xn,onChange:V=>gi(V.target.value)})]}),g.jsxs(St,{onClick:Nt,className:`w-full ${sn==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",sn==="add"?"Deposit":"Withdrawal"]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(V=>V.kidId===j?.id).slice(0,5).map(V=>g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:V.description}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:`font-bold block ${V.amount>0?"text-green-600":"text-red-600"}`,children:[V.amount>0?"+":"",tn(V.amount)]}),g.jsx("span",{className:"text-[10px] text-gray-400",children:V.by})]})]},V.id))})]})]})}),g.jsx(ws,{isOpen:!!H,onClose:()=>ie(null),title:`Tasks: ${H?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[g.jsx("button",{onClick:()=>J(V=>V-1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(Wv,{size:16})}),g.jsx("span",{className:"font-bold text-sm text-gray-700",children:rn===0?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>J(V=>V+1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(lh,{size:16})})]}),g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Ug(rn).map(V=>{const Re=s.chores.filter(We=>We.kidId===H?.id&&We.days.includes(new Date(V).getDay()));return Re.length===0?null:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[xT(V)," (",Rl(V),")"]}),Re.map(We=>{const Ot=s.taskLog.find(Ut=>Ut.type==="chore"&&Ut.taskId===We.id&&Ut.kidId===H.id&&Ut.dateString===V),xt=Ot?Ot.status:"todo";let Rn="bg-gray-100 border-gray-200";return xt==="approved"&&(Rn="bg-green-50 border-green-200"),xt==="pending"&&(Rn="bg-amber-50 border-amber-200"),xt==="failed"&&(Rn="bg-red-50 border-red-200"),xt==="changes_requested"&&(Rn="bg-yellow-50 border-yellow-200"),g.jsxs("div",{className:`p-3 rounded-lg border ${Rn} flex justify-between items-center`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[We.title," ",g.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[We.weight||1,"x"]})]}),g.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:xt.replace("_"," ")})]}),g.jsxs("div",{className:"flex gap-1",children:[xt!=="approved"&&g.jsx("button",{onClick:()=>K(We,H.id,V,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:g.jsx(AA,{size:16})}),xt!=="failed"&&g.jsx("button",{onClick:()=>K(We,H.id,V,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:g.jsx(ou,{size:16})}),xt!=="changes_requested"&&xt!=="approved"&&g.jsx("button",{onClick:()=>K(We,H.id,V,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:g.jsx(dm,{size:16})})]})]},`${We.id}-${V}`)})]},V)}),s.chores.filter(V=>V.kidId===H?.id).length===0&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),de==="approvals"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),xn>0&&g.jsxs(St,{size:"sm",variant:"success",onClick:Zn,children:["Approve All (",xn,")"]})]}),xn===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),g.jsx("div",{className:"space-y-3",children:bn.map(V=>{const Re=s.kids.find(Ut=>Ut.id===V.kidId),Ot=s.chores.find(Ut=>Ut.id===V.taskId)?.weight||1,xt=te(V.kidId),Rn=V.type==="bonus"?V.reward:Ot*xt.valuePerPoint;return g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[g.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Re?.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:g.jsx(Go,{size:12,className:"text-amber-500"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[V.title,V.type==="chore"&&Ot>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[Ot,"x"]}),V.isGroupTask&&g.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[g.jsx("span",{children:Re?.name}),g.jsx("span",{children:""}),g.jsx("span",{className:`font-bold ${V.dateString===_a()?"text-green-600":"text-amber-600"}`,children:V.dateString?Rl(V.dateString):"Bonus Task"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:tn(Rn)}),g.jsx("button",{onClick:()=>ge(V),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:g.jsx(rS,{size:20})}),g.jsx("button",{onClick:()=>Jn(V),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:g.jsx(lS,{size:20})})]})]},V.id)})})]}),de==="kids"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),g.jsxs(St,{onClick:()=>Ve(!0),size:"sm",children:[g.jsx($c,{size:16})," Add Kid"]})]}),Qe&&g.jsx(ml,{className:"p-4 animate-in slide-in-from-top-4",children:g.jsxs("form",{onSubmit:Un,className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:Se,onChange:V=>N(V.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),g.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:x,onChange:V=>R(V.target.value),required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:k,onChange:V=>D(V.target.value)})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(St,{type:"button",variant:"ghost",onClick:()=>Ve(!1),children:"Cancel"}),g.jsx(St,{type:"submit",children:"Save"})]})]})}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(V=>{const Re=te(V.id);return g.jsxs(ml,{className:"p-4 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:V.avatar}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-lg",children:V.name}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",tn(V.allowanceAmount||0)]}),g.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",tn(Re.valuePerPoint)," / point"]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-3xl font-bold text-green-600",children:tn(V.balance)}),g.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[g.jsxs(St,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>Be(V),children:[g.jsx(fm,{size:12})," Edit Profile"]}),g.jsxs(St,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>S(V),children:[g.jsx(_0,{size:14})," Manage Funds"]})]}),g.jsxs(St,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>ie(V),children:[g.jsx(OA,{size:14})," View Tasks"]})]},V.id)})})]}),de==="chores"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(ml,{className:"p-6",children:[g.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),g.jsxs("form",{onSubmit:jl,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(V=>g.jsx("button",{type:"button",onClick:()=>Pl(V.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${fe.includes(V.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:V.name},V.id))}),fe.length===0&&g.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:lt,onChange:V=>Ie(V.target.value),required:!0})]}),g.jsxs("div",{className:"w-full sm:w-24",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),g.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[g.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:Ee,onChange:V=>pt(V.target.value)}),g.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:mn,onChange:V=>wt(V.target.value)})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:ot,onChange:V=>En(V.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),g.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((V,Re)=>g.jsx("button",{type:"button",onClick:()=>rs(Re),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${Tt.includes(Re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:V},Re))})]}),g.jsx(St,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(V=>{const Re=s.kids.find(Ot=>Ot.id===V.kidId),We=V.pausedUntil&&V.pausedUntil>_a();return g.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${We?"opacity-60 grayscale":""}`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-bold text-gray-800",children:V.title}),V.weight>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[V.weight,"x"]}),We&&g.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[g.jsx(p0,{size:10})," Paused"]})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[g.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Re?.name||"Unknown"}),g.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:V.days.length===7?"Everyday":`${V.days.length} days/wk`})]}),(V.startTime||V.doByTime)&&g.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[g.jsx(Go,{size:10}),V.startTime?Ch(V.startTime):"Start",V.startTime&&V.doByTime&&" - ",V.doByTime?`Due ${Ch(V.doByTime)}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>W(V),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:g.jsx(fm,{size:18})}),g.jsx("button",{onClick:()=>d(V.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:g.jsx(Wd,{size:18})})]})]},V.id)})]})]}),de==="bonuses"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(ml,{className:"p-6 bg-yellow-50 border-yellow-100",children:[g.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[g.jsx(mm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Pn,onChange:V=>is(V.target.value)})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[g.jsx(y0,{size:16,className:"text-yellow-500 mr-2"}),g.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:Vr||1,onChange:V=>wn(V.target.value)})]}),g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[g.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),g.jsx("input",{className:"w-full outline-none",type:"number",value:ss,onChange:V=>Ta(V.target.value)})]}),g.jsx(St,{onClick:()=>{Pn&&(p(Pn,Number(ss),Number(Vr||1)),is(""),wn(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(V=>g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:g.jsx(mm,{size:16,className:"fill-yellow-500"})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-gray-700",children:V.title}),V.maxKids>1&&g.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[g.jsx(y0,{size:10})," Group Task (",V.workers?.length||0,"/",V.maxKids,")"]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:tn(V.reward)}),g.jsx("button",{onClick:()=>_(V.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:g.jsx(Wd,{size:18})})]})]},V.id))]})]})]})]})}function BI({user:s,data:e,logout:i,submitChore:r,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_}){const[v,b]=oe.useState("todo"),[w,O]=oe.useState(!1),[K,te]=oe.useState(s.goalName||""),[re,ee]=oe.useState(s.savingsGoal||0),[me,de]=oe.useState(!1),[pe,Qe]=oe.useState(!1),[Ve,Se]=oe.useState(0),N=Ug(Ve),x=p(s.id,Ve),R=Math.min(x.earned/x.potential*100,100)||0,k=Math.min(x.pending/x.potential*100,100)||0,D=(S,De)=>{const Be=e.taskLog.find(H=>H.type==="chore"&&H.taskId===S&&H.kidId===s.id&&H.dateString===De);return Be?Be.status:"todo"},j=Ve===0;return g.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[g.jsx(ws,{isOpen:me,onClose:()=>de(!1),title:"Choose Your Avatar",children:g.jsx("div",{className:"grid grid-cols-4 gap-4",children:Bm.map(S=>g.jsx("button",{onClick:()=>{d(s.id,{avatar:S}),de(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:S},S))})}),g.jsx(ws,{isOpen:pe,onClose:()=>Qe(!1),title:"Your Money History",children:g.jsxs("div",{className:"space-y-3",children:[e.history.filter(S=>S.kidId===s.id).map(S=>g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-gray-700 text-sm",children:S.description}),g.jsx("div",{className:"text-xs text-gray-400",children:new Date(S.date).toLocaleDateString()})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:`font-bold ${S.amount>0?"text-green-600":"text-red-500"}`,children:[S.amount>0?"+":"",tn(S.amount)]}),g.jsx("div",{className:"text-[10px] text-gray-400",children:S.by})]})]},S.id)),e.history.filter(S=>S.kidId===s.id).length===0&&g.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),g.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),g.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:()=>de(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:g.jsx(fm,{size:10,className:"text-indigo-600"})})]}),g.jsxs("div",{children:[g.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Rl(N[0])]})]})]}),g.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:g.jsx(Hm,{size:18})})]}),g.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("button",{onClick:()=>Se(S=>Math.max(S-1,-1)),className:`p-1 rounded ${Ve<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:Ve<=-1,children:g.jsx(Wv,{size:16})}),g.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:j?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>j?null:Se(S=>S+1),className:`p-1 rounded ${j?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:g.jsx(lh,{size:16})})]}),g.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[g.jsxs("span",{children:["Earned: ",tn(x.earned)]}),g.jsxs("span",{children:["Weekly Cap: ",tn(x.potential)]})]}),g.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[g.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${R}%`}}),g.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${k}%`}})]}),k>0&&g.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",tn(x.pending)," waiting approval)"]})]}),g.jsx("div",{className:"flex flex-col items-center relative z-10",children:g.jsxs("button",{onClick:()=>Qe(!0),className:"flex flex-col items-center group",children:[g.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",g.jsx(PA,{size:12})]}),g.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:tn(s.balance)})]})})]}),g.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[g.jsxs(ml,{className:"flex p-1",children:[g.jsxs("button",{onClick:()=>b("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(TA,{size:20})," Tasks"]}),g.jsxs("button",{onClick:()=>b("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(Jd,{size:20})," Goal"]}),g.jsxs("button",{onClick:()=>b("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${v==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(vA,{size:20})," Bonus"]})]}),v==="todo"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:N.map((S,De)=>{let Be=e.chores.filter(ne=>{const ge=ne.createdAt||"1970-01-01";return ne.kidId===s.id&&ne.days.includes(new Date(S).getDay())&&_(ne)&&ge<=S});if(Be.length===0)return null;Be.sort((ne,ge)=>ne.startTime&&!ge.startTime?-1:!ne.startTime&&ge.startTime?1:ne.startTime&&ge.startTime&&ne.startTime!==ge.startTime?ne.startTime.localeCompare(ge.startTime):ne.doByTime&&ge.doByTime&&ne.doByTime!==ge.doByTime?ne.doByTime.localeCompare(ge.doByTime):ne.title.localeCompare(ge.title));const H=S===_a(),ie=S>_a();return g.jsxs("div",{className:`space-y-2 ${ie?"opacity-50 grayscale":""}`,children:[g.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${H?"text-indigo-600":"text-gray-500"}`,children:[H?"Today":xT(S)," ",g.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Rl(S),")"]})]}),Be.map(ne=>{const ge=D(ne.id,S),Pe=ge==="approved",I=ge==="pending",B=ge==="changes_requested",W=ge==="failed";return g.jsxs("div",{className:"relative",children:[g.jsx("button",{disabled:Pe||I||ie||W,onClick:()=>r(ne,s.id,S),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden 
                            ${Pe?"bg-green-50 border-green-200":I?"bg-amber-50 border-amber-200":B?"bg-yellow-50 border-yellow-300 shadow-md":W?"bg-red-50 border-red-200":ie?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors 
                                ${Pe?"bg-green-500 text-white":I?"bg-amber-400 text-white":B?"bg-yellow-400 text-yellow-900":W?"bg-red-400 text-white":ie?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:Pe?g.jsx(RA,{size:14}):I?g.jsx(Go,{size:14}):B?g.jsx(dm,{size:14}):W?g.jsx(ou,{size:14}):ie?g.jsx(BA,{size:12}):g.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[g.jsx("span",{className:`font-bold block text-sm ${Pe?"text-gray-500 line-through":"text-gray-800"}`,children:ne.title}),ne.weight>1&&g.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[ne.weight,"x"]})]}),(ne.startTime||ne.doByTime)&&g.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[g.jsx(Go,{size:10}),ne.startTime?Ch(ne.startTime):"Start",ne.startTime&&ne.doByTime&&" - ",ne.doByTime?`Due ${Ch(ne.doByTime)}`:""]}),I&&g.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),B&&g.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),W&&g.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),B&&!ie&&g.jsx("button",{onClick:()=>r(ne,s.id,S),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${ne.id}-${S}`)})]},S)})}),v==="savings"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:g.jsxs(ml,{className:"p-6 text-center space-y-4",children:[g.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),w?g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:K,onChange:S=>te(S.target.value),placeholder:"Goal Name"}),g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),g.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:re,onChange:S=>ee(S.target.value)})]}),g.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[g.jsx(St,{size:"sm",variant:"ghost",onClick:()=>O(!1),children:"Cancel"}),g.jsx(St,{size:"sm",onClick:()=>{d(s.id,{goalName:K,savingsGoal:Number(re)}),O(!1)},children:"Save"})]})]}):g.jsx(g.Fragment,{children:s.savingsGoal>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(Jd,{className:"text-indigo-500"}),g.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),g.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",tn(s.savingsGoal)]}),g.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:g.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),g.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),g.jsx(St,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):g.jsxs("div",{className:"py-8 text-center space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:g.jsx(Jd,{size:32})}),g.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),g.jsx(St,{onClick:()=>O(!0),children:"Set a Goal"})]})})]})}),v==="bonus"&&g.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[g.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:g.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(S=>S.kidId===s.id&&S.type==="bonus"&&S.status==="pending").map(S=>g.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:g.jsx(Go,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:S.title}),g.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),g.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",tn(S.reward)]})]},S.id)),e.bonuses.map(S=>g.jsxs("button",{onClick:()=>o(S,s.id),className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex items-center justify-between hover:scale-[1.02] transition-transform text-left",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center",children:g.jsx(mm,{className:"fill-yellow-500 text-yellow-500",size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:S.title}),g.jsx("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide",children:"Bonus Task"})]})]}),g.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",tn(S.reward)]})]},S.id))]})]})]})}fA.createRoot(document.getElementById("root")).render(g.jsx(oe.StrictMode,{children:g.jsx(LI,{})}));
