(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Qd={exports:{}},Po={};var a_;function lS(){if(a_)return Po;a_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Po.Fragment=e,Po.jsx=i,Po.jsxs=i,Po}var l_;function oS(){return l_||(l_=1,Qd.exports=lS()),Qd.exports}var g=oS(),Yd={exports:{}},De={};var o_;function uS(){if(o_)return De;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=M&&I[M]||I["@@iterator"],typeof I=="function"?I:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ne={};function ye(I,Q,W){this.props=I,this.context=Q,this.refs=ne,this.updater=W||te}ye.prototype.isReactComponent={},ye.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},ye.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function me(){}me.prototype=ye.prototype;function he(I,Q,W){this.props=I,this.context=Q,this.refs=ne,this.updater=W||te}var Pe=he.prototype=new me;Pe.constructor=he,ie(Pe,ye.prototype),Pe.isPureReactComponent=!0;var Me=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(I,Q,W){var ue=W.ref;return{$$typeof:s,type:I,key:Q,ref:ue!==void 0?ue:null,props:W}}function k(I,Q){return N(I.type,Q,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return Q[W]})}var x=/\/+/g;function Qe(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):Q.toString(36)}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(we,we):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Q,W,ue,se){var ve=typeof I;(ve==="undefined"||ve==="boolean")&&(I=null);var Ie=!1;if(I===null)Ie=!0;else switch(ve){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(I.$$typeof){case s:case e:Ie=!0;break;case S:return Ie=I._init,H(Ie(I._payload),Q,W,ue,se)}}if(Ie)return se=se(I),Ie=ue===""?"."+Qe(I,0):ue,Me(se)?(W="",Ie!=null&&(W=Ie.replace(x,"$&/")+"/"),H(se,Q,W,"",function(Vn){return Vn})):se!=null&&(O(se)&&(se=k(se,W+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(x,"$&/")+"/")+Ie)),Q.push(se)),1;Ie=0;var bt=ue===""?".":ue+":";if(Me(I))for(var nt=0;nt<I.length;nt++)ue=I[nt],ve=bt+Qe(ue,nt),Ie+=H(ue,Q,W,ve,se);else if(nt=G(I),typeof nt=="function")for(I=nt.call(I),nt=0;!(ue=I.next()).done;)ue=ue.value,ve=bt+Qe(ue,nt++),Ie+=H(ue,Q,W,ve,se);else if(ve==="object"){if(typeof I.then=="function")return H(re(I),Q,W,ue,se);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ee(I,Q,W){if(I==null)return I;var ue=[],se=0;return H(I,ue,"","",function(ve){return Q.call(W,ve,se++)}),ue}function ce(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var be=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},le={map:ee,forEach:function(I,Q,W){ee(I,function(){Q.apply(this,arguments)},W)},count:function(I){var Q=0;return ee(I,function(){Q++}),Q},toArray:function(I){return ee(I,function(Q){return Q})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=w,De.Children=le,De.Component=ye,De.Fragment=i,De.Profiler=o,De.PureComponent=he,De.StrictMode=r,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,Q,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ue=ie({},I.props),se=I.key;if(Q!=null)for(ve in Q.key!==void 0&&(se=""+Q.key),Q)!A.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(ue[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)ue.children=W;else if(1<ve){for(var Ie=Array(ve),bt=0;bt<ve;bt++)Ie[bt]=arguments[bt+2];ue.children=Ie}return N(I.type,se,ue)},De.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},De.createElement=function(I,Q,W){var ue,se={},ve=null;if(Q!=null)for(ue in Q.key!==void 0&&(ve=""+Q.key),Q)A.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(se[ue]=Q[ue]);var Ie=arguments.length-2;if(Ie===1)se.children=W;else if(1<Ie){for(var bt=Array(Ie),nt=0;nt<Ie;nt++)bt[nt]=arguments[nt+2];se.children=bt}if(I&&I.defaultProps)for(ue in Ie=I.defaultProps,Ie)se[ue]===void 0&&(se[ue]=Ie[ue]);return N(I,ve,se)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:p,render:I}},De.isValidElement=O,De.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ce}},De.memo=function(I,Q){return{$$typeof:v,type:I,compare:Q===void 0?null:Q}},De.startTransition=function(I){var Q=R.T,W={};R.T=W;try{var ue=I(),se=R.S;se!==null&&se(W,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,be)}catch(ve){be(ve)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),R.T=Q}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(I){return R.H.use(I)},De.useActionState=function(I,Q,W){return R.H.useActionState(I,Q,W)},De.useCallback=function(I,Q){return R.H.useCallback(I,Q)},De.useContext=function(I){return R.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,Q){return R.H.useDeferredValue(I,Q)},De.useEffect=function(I,Q){return R.H.useEffect(I,Q)},De.useEffectEvent=function(I){return R.H.useEffectEvent(I)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(I,Q,W){return R.H.useImperativeHandle(I,Q,W)},De.useInsertionEffect=function(I,Q){return R.H.useInsertionEffect(I,Q)},De.useLayoutEffect=function(I,Q){return R.H.useLayoutEffect(I,Q)},De.useMemo=function(I,Q){return R.H.useMemo(I,Q)},De.useOptimistic=function(I,Q){return R.H.useOptimistic(I,Q)},De.useReducer=function(I,Q,W){return R.H.useReducer(I,Q,W)},De.useRef=function(I){return R.H.useRef(I)},De.useState=function(I){return R.H.useState(I)},De.useSyncExternalStore=function(I,Q,W){return R.H.useSyncExternalStore(I,Q,W)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.0",De}var u_;function Hm(){return u_||(u_=1,Yd.exports=uS()),Yd.exports}var oe=Hm(),Xd={exports:{}},Lo={},$d={exports:{}},Zd={};var c_;function cS(){return c_||(c_=1,(function(s){function e(H,ee){var ce=H.length;H.push(ee);e:for(;0<ce;){var be=ce-1>>>1,le=H[be];if(0<o(le,ee))H[be]=ee,H[ce]=le,ce=be;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],ce=H.pop();if(ce!==ee){H[0]=ce;e:for(var be=0,le=H.length,I=le>>>1;be<I;){var Q=2*(be+1)-1,W=H[Q],ue=Q+1,se=H[ue];if(0>o(W,ce))ue<le&&0>o(se,W)?(H[be]=se,H[ue]=ce,be=ue):(H[be]=W,H[Q]=ce,be=Q);else if(ue<le&&0>o(se,ce))H[be]=se,H[ue]=ce,be=ue;else break e}}return ee}function o(H,ee){var ce=H.sortIndex-ee.sortIndex;return ce!==0?ce:H.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,w=null,M=3,G=!1,te=!1,ie=!1,ne=!1,ye=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Pe(H){for(var ee=i(v);ee!==null;){if(ee.callback===null)r(v);else if(ee.startTime<=H)r(v),ee.sortIndex=ee.expirationTime,e(_,ee);else break;ee=i(v)}}function Me(H){if(ie=!1,Pe(H),!te)if(i(_)!==null)te=!0,we||(we=!0,j());else{var ee=i(v);ee!==null&&re(Me,ee.startTime-H)}}var we=!1,R=-1,A=5,N=-1;function k(){return ne?!0:!(s.unstable_now()-N<A)}function O(){if(ne=!1,we){var H=s.unstable_now();N=H;var ee=!0;try{e:{te=!1,ie&&(ie=!1,me(R),R=-1),G=!0;var ce=M;try{t:{for(Pe(H),w=i(_);w!==null&&!(w.expirationTime>H&&k());){var be=w.callback;if(typeof be=="function"){w.callback=null,M=w.priorityLevel;var le=be(w.expirationTime<=H);if(H=s.unstable_now(),typeof le=="function"){w.callback=le,Pe(H),ee=!0;break t}w===i(_)&&r(_),Pe(H)}else r(_);w=i(_)}if(w!==null)ee=!0;else{var I=i(v);I!==null&&re(Me,I.startTime-H),ee=!1}}break e}finally{w=null,M=ce,G=!1}ee=void 0}}finally{ee?j():we=!1}}}var j;if(typeof he=="function")j=function(){he(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Qe=x.port2;x.port1.onmessage=O,j=function(){Qe.postMessage(null)}}else j=function(){ye(O,0)};function re(H,ee){R=ye(function(){H(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var ce=M;M=ee;try{return H()}finally{M=ce}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=M;M=H;try{return ee()}finally{M=ce}},s.unstable_scheduleCallback=function(H,ee,ce){var be=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,H){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ce+le,H={id:S++,callback:ee,priorityLevel:H,startTime:ce,expirationTime:le,sortIndex:-1},ce>be?(H.sortIndex=ce,e(v,H),i(_)===null&&H===i(v)&&(ie?(me(R),R=-1):ie=!0,re(Me,ce-be))):(H.sortIndex=le,e(_,H),te||G||(te=!0,we||(we=!0,j()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var ee=M;return function(){var ce=M;M=ee;try{return H.apply(this,arguments)}finally{M=ce}}}})(Zd)),Zd}var h_;function hS(){return h_||(h_=1,$d.exports=cS()),$d.exports}var Jd={exports:{}},pn={};var f_;function fS(){if(f_)return pn;f_=1;var s=Hm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,S)},pn.flushSync=function(_){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=S,r.d.f()}},pn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},pn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},pn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,w=p(S,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):S==="script"&&r.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},pn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,w=p(S,v.crossOrigin);r.d.L(_,S,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pn.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},pn.requestFormReset=function(_){r.d.r(_)},pn.unstable_batchedUpdates=function(_,v){return _(v)},pn.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var d_;function dS(){if(d_)return Jd.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=fS(),Jd.exports}var m_;function mS(){if(m_)return Lo;m_=1;var s=hS(),e=Hm(),i=dS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ye:return"Profiler";case ne:return"StrictMode";case Me:return"Suspense";case we:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case he:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case Pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],le=-1;function I(t){return{current:t}}function Q(t){0>le||(t.current=be[le],be[le]=null,le--)}function W(t,n){le++,be[le]=t.current,t.current=n}var ue=I(null),se=I(null),ve=I(null),Ie=I(null);function bt(t,n){switch(W(ve,n),W(se,t),W(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?C0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=C0(n),t=I0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ue),W(ue,t)}function nt(){Q(ue),Q(se),Q(ve)}function Vn(t){t.memoizedState!==null&&W(Ie,t);var n=ue.current,a=I0(n,t.type);n!==a&&(W(se,t),W(ue,a))}function Kn(t){se.current===t&&(Q(ue),Q(se)),Ie.current===t&&(Q(Ie),Mo._currentValue=ce)}var Qn,Yn;function Tn(t){if(Qn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Qn=n&&n[1]||"",Yn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+t+Yn}var mn=!1;function Xn(t,n){if(!t||mn)return"";mn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){B=F}t.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var C=y.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{mn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tn(a):""}function $n(t,n){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return Xn(t.type,!1);case 11:return Xn(t.type.render,!1);case 1:return Xn(t.type,!0);case 31:return Tn("Activity");default:return""}}function Ii(t){try{var n="",a=null;do n+=$n(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ct=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,wn=s.unstable_cancelCallback,Us=s.unstable_shouldYield,ls=s.unstable_requestPaint,Bt=s.unstable_now,Zn=s.unstable_getCurrentPriorityLevel,Di=s.unstable_ImmediatePriority,Oi=s.unstable_UserBlockingPriority,kn=s.unstable_NormalPriority,zs=s.unstable_LowPriority,os=s.unstable_IdlePriority,Mi=s.log,us=s.unstable_setDisableYieldValue,gn=null,kt=null;function en(t){if(typeof Mi=="function"&&us(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(gn,t)}catch{}}var ht=Math.clz32?Math.clz32:Le,K=Math.log,ge=Math.LN2;function Le(t){return t>>>=0,t===0?32:31-(K(t)/ge|0)|0}var $e=256,We=262144,Se=4194304;function at(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wt(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=at(l):(y&=T,y!==0?h=at(y):a||(a=T&~t,a!==0&&(h=at(a))))):(T=l&~f,T!==0?h=at(T):y!==0?h=at(y):a||(a=l&~t,a!==0&&(h=at(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ft(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(){var t=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),t}function dt(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Wn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Aa(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-ht(a),$=1<<Y;T[Y]=0,C[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&ei(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ei(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ht(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function cs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ht(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ur(t,n){var a=n&-n;return a=(a&42)!==0?1:D(a),(a&(t.suspendedLanes|n))!==0?0:a}function D(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ae(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function it(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:W0(t.type))}function At(t,n){var a=ee.p;try{return ee.p=t,n()}finally{ee.p=a}}var xt=Math.random().toString(36).slice(2),st="__reactFiber$"+xt,_t="__reactProps$"+xt,Vi="__reactContainer$"+xt,xa="__reactEvents$"+xt,Jh="__reactListeners$"+xt,Tu="__reactHandles$"+xt,bu="__reactResources$"+xt,ki="__reactMarker$"+xt;function Na(t){delete t[st],delete t[_t],delete t[xa],delete t[Jh],delete t[Tu]}function ji(t){var n=t[st];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Vi]||a[st]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[st])return a;t=P0(t)}return n}t=a,a=t.parentNode}return null}function ti(t){if(t=t[st]||t[Vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Pi(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function qt(t){t[ki]=!0}var Ul=new Set,zl={};function Li(t,n){Ui(t,n),Ui(t+"Capture",n)}function Ui(t,n){for(zl[t]=n,t=0;t<n.length;t++)Ul.add(n[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Hl={};function Su(t){return ct.call(Hl,t)?!0:ct.call(ql,t)?!1:Bl.test(t)?Hl[t]=!0:(ql[t]=!0,!1)}function Ra(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ht(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Bs(t)?"checked":"value";t._valueTracker=Fl(t,n,""+t[n])}}function zr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Br=/[\n"\\]/g;function An(t){return t.replace(Br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gl(t,y,tn(n)):a!=null?Gl(t,y,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function wu(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}a=a!=null?""+tn(a):"",n=n!=null?""+tn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),lt(t)}function Gl(t,n,a){n==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Au(t,n,a){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+tn(a):""}function Hs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=tn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function xn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ql(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Kl(t,f,n[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yi(){}var Yl=null;function ni(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,Bi=null;function qr(t){var n=ti(t);if(n&&(t=n.stateNode)){var a=t[_t]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(r(90));Ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&zr(l)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&qs(t,!!a.multiple,n,!1)}}}var Oa=!1;function Ks(t,n,a){if(Oa)return t(n,a);Oa=!0;try{var l=t(n);return l}finally{if(Oa=!1,(Gs!==null||Bi!==null)&&(Ec(),Gs&&(n=Gs,t=Bi,Bi=Gs=null,qr(n),t)))for(n=0;n<t.length;n++)qr(t[n])}}function _i(t,n){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(ii)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Hr=!1}var qi=null,Xl=null,Fr=null;function $l(){if(Fr)return Fr;var t,n=Xl,a=n.length,l,h="value"in qi?qi.value:qi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return Fr=h.slice(t,1<l?1-l:void 0)}function Gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function vi(){return!1}function an(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?hs:vi,this.isPropagationStopped=vi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),n}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=an(fs),Qs=w({},fs,{view:0,detail:0}),Zl=an(Qs),Ys,Ma,Fi,Va=w({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Ys=t.screenX-Fi.screenX,Ma=t.screenY-Fi.screenY):Ma=Ys=0,Fi=t),Ys)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),Jl=an(Va),Kr=w({},Va,{dataTransfer:0}),Ru=an(Kr),Cu=w({},Qs,{relatedTarget:0}),Qr=an(Cu),Wl=w({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=an(Wl),ka=w({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=an(ka),Ou=w({},fs,{data:0}),Gi=an(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function Xs(){return ju}var bn=w({},Qs,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=an(bn),Lu=w({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=an(Lu),u=w({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),m=an(u),E=w({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=an(E),L=w({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=an(L),ae=w({},fs,{newState:0,oldState:0}),Ve=an(ae),jt=[9,13,27,32],et=ii&&"CompositionEvent"in window,It=null;ii&&"documentMode"in document&&(It=document.documentMode);var si=ii&&"TextEvent"in window&&!It,Ki=ii&&(!et||It&&8<It&&11>=It),Ei=" ",Ti=!1;function Yr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function DT(t,n){switch(t){case"compositionend":return ja(n);case"keypress":return n.which!==32?null:(Ti=!0,Ei);case"textInput":return t=n.data,t===Ei&&Ti?null:t;default:return null}}function OT(t,n){if(Pa)return t==="compositionend"||!et&&Yr(t,n)?(t=$l(),Fr=Xl=qi=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ki&&n.locale!=="ko"?null:n.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!MT[t.type]:n==="textarea"}function Bg(t,n,a,l){Gs?Bi?Bi.push(l):Bi=[l]:Gs=l,n=Nc(n,"onChange"),0<n.length&&(a=new Hi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var eo=null,to=null;function VT(t){S0(t,0)}function Uu(t){var n=jn(t);if(zr(n))return t}function qg(t,n){if(t==="change")return n}var Hg=!1;if(ii){var Wh;if(ii){var ef="oninput"in document;if(!ef){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),ef=typeof Fg.oninput=="function"}Wh=ef}else Wh=!1;Hg=Wh&&(!document.documentMode||9<document.documentMode)}function Gg(){eo&&(eo.detachEvent("onpropertychange",Kg),to=eo=null)}function Kg(t){if(t.propertyName==="value"&&Uu(to)){var n=[];Bg(n,to,t,ni(t)),Ks(VT,n)}}function kT(t,n,a){t==="focusin"?(Gg(),eo=n,to=a,eo.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(to)}function PT(t,n){if(t==="click")return Uu(n)}function LT(t,n){if(t==="input"||t==="change")return Uu(n)}function UT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:UT;function no(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ct.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=zi(t.document)}return n}function tf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zT=ii&&"documentMode"in document&&11>=document.documentMode,La=null,nf=null,io=null,sf=!1;function Zg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||La==null||La!==zi(l)||(l=La,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),io&&no(io,l)||(io=l,l=Nc(nf,"onSelect"),0<l.length&&(n=new Hi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=La)))}function Xr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ua={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},rf={},Jg={};ii&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $r(t){if(rf[t])return rf[t];if(!Ua[t])return t;var n=Ua[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jg)return rf[t]=n[a];return t}var Wg=$r("animationend"),ep=$r("animationiteration"),tp=$r("animationstart"),BT=$r("transitionrun"),qT=$r("transitionstart"),HT=$r("transitioncancel"),np=$r("transitionend"),ip=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function bi(t,n){ip.set(t,n),Li(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ri=[],za=0,lf=0;function Bu(){for(var t=za,n=lf=za=0;n<t;){var a=ri[n];ri[n++]=null;var l=ri[n];ri[n++]=null;var h=ri[n];ri[n++]=null;var f=ri[n];if(ri[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&sp(a,h,f)}}function qu(t,n,a,l){ri[za++]=t,ri[za++]=n,ri[za++]=a,ri[za++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,n,a,l){return qu(t,n,a,l),Hu(t)}function Zr(t,n){return qu(t,null,null,n),Hu(t)}function sp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ht(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<xo)throw xo=0,yd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function FT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,l){return new FT(t,n,a,l)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ms(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")uf(t)&&(y=1);else if(typeof t=="string")y=Xb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Un(31,a,n,h),t.elementType=N,t.lanes=f,t;case ie:return Jr(a.children,h,f,n);case ne:y=8,h|=24;break;case ye:return t=Un(12,a,n,h|2),t.elementType=ye,t.lanes=f,t;case Me:return t=Un(13,a,n,h),t.elementType=Me,t.lanes=f,t;case we:return t=Un(19,a,n,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:y=10;break e;case me:y=9;break e;case Pe:y=11;break e;case R:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Un(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,a,l){return t=Un(7,t,l,n),t.lanes=a,t}function cf(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function ap(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function hf(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lp=new WeakMap;function ai(t,n){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ii(n)},lp.set(t,n),n)}return{value:t,source:n,stack:Ii(n)}}var qa=[],Ha=0,Gu=null,so=0,li=[],oi=0,$s=null,Qi=1,Yi="";function gs(t,n){qa[Ha++]=so,qa[Ha++]=Gu,Gu=t,so=n}function op(t,n,a){li[oi++]=Qi,li[oi++]=Yi,li[oi++]=$s,$s=t;var l=Qi;t=Yi;var h=32-ht(l)-1;l&=~(1<<h),a+=1;var f=32-ht(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Qi=1<<32-ht(n)+h|a<<h|l,Yi=f+t}else Qi=1<<f|a<<h|l,Yi=t}function ff(t){t.return!==null&&(gs(t,1),op(t,1,0))}function df(t){for(;t===Gu;)Gu=qa[--Ha],qa[Ha]=null,so=qa[--Ha],qa[Ha]=null;for(;t===$s;)$s=li[--oi],li[oi]=null,Yi=li[--oi],li[oi]=null,Qi=li[--oi],li[oi]=null}function up(t,n){li[oi++]=Qi,li[oi++]=Yi,li[oi++]=$s,Qi=n.id,Yi=n.overflow,$s=t}var ln=null,Nt=null,Ke=!1,Zs=null,ui=!1,mf=Error(r(519));function Js(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(ai(n,t)),mf}function cp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[st]=t,n[_t]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<Ro.length;a++)ze(Ro[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),wu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Hs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||N0(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=yi),n=!0):n=!1,n||Js(t,!0)}function hp(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:ln=ln.return}}function Fa(t){if(t!==ln)return!1;if(!Ke)return hp(t),Ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&Nt&&Js(t),hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Nt=j0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Nt=j0(t)}else n===27?(n=Nt,fr(t.type)?(t=Pd,Pd=null,Nt=t):Nt=n):Nt=ln?hi(t.stateNode.nextSibling):null;return!0}function Wr(){Nt=ln=null,Ke=!1}function gf(){var t=Zs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Zs=null),t}function ro(t){Zs===null?Zs=[t]:Zs.push(t)}var pf=I(null),ea=null,ps=null;function Ws(t,n,a){W(pf,n._currentValue),n._currentValue=a}function ys(t){t._currentValue=pf.current,Q(pf)}function yf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function _f(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),yf(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),yf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ga(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Ln(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Mo):t=[Mo])}h=h.return}t!==null&&_f(n,t,a,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,ps=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return fp(ea,t)}function Qu(t,n){return ea===null&&ta(t),fp(t,n)}function fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ps===null){if(t===null)throw Error(r(308));ps=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ps=ps.next=n;return a}var GT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},KT=s.unstable_scheduleCallback,QT=s.unstable_NormalPriority,Ft={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new GT,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&KT(QT,function(){t.controller.abort()})}var lo=null,Ef=0,Ka=0,Qa=null;function YT(t,n){if(lo===null){var a=lo=[];Ef=0,Ka=Sd(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,n.then(dp,dp),n}function dp(){if(--Ef===0&&lo!==null){Qa!==null&&(Qa.status="fulfilled");var t=lo;lo=null,Ka=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function XT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mp=H.S;H.S=function(t,n){Zy=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(t,n),mp!==null&&mp(t,n)};var na=I(null);function Tf(){var t=na.current;return t!==null?t:vt.pooledCache}function Yu(t,n){n===null?W(na,na.current):W(na,n.pool)}function gp(){var t=Tf();return t===null?null:{parent:Ft._currentValue,pool:t}}var Ya=Error(r(460)),bf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(yi,yi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t;default:if(typeof n.status=="string")n.then(yi,yi);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t}throw sa=n,Ya}}function ia(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,Ya):a}}var sa=null;function _p(){if(sa===null)throw Error(r(459));var t=sa;return sa=null,t}function vp(t){if(t===Ya||t===Xu)throw Error(r(483))}var Xa=null,oo=0;function Zu(t){var n=oo;return oo+=1,Xa===null&&(Xa=[]),yp(Xa,t,n)}function uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ep(t){function n(P,V){if(t){var U=P.deletions;U===null?(P.deletions=[V],P.flags|=16):U.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)n(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=ms(P,V),P.index=0,P.sibling=null,P}function f(P,V,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<V?(P.flags|=67108866,V):U):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,U,X){return V===null||V.tag!==6?(V=cf(U,P.mode,X),V.return=P,V):(V=h(V,U),V.return=P,V)}function C(P,V,U,X){var Ee=U.type;return Ee===ie?Y(P,V,U.props.children,X,U.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ia(Ee)===V.type)?(V=h(V,U.props),uo(V,U),V.return=P,V):(V=Fu(U.type,U.key,U.props,null,P.mode,X),uo(V,U),V.return=P,V)}function z(P,V,U,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=hf(U,P.mode,X),V.return=P,V):(V=h(V,U.children||[]),V.return=P,V)}function Y(P,V,U,X,Ee){return V===null||V.tag!==7?(V=Jr(U,P.mode,X,Ee),V.return=P,V):(V=h(V,U),V.return=P,V)}function $(P,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=cf(""+V,P.mode,U),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return U=Fu(V.type,V.key,V.props,null,P.mode,U),uo(U,V),U.return=P,U;case te:return V=hf(V,P.mode,U),V.return=P,V;case A:return V=ia(V),$(P,V,U)}if(re(V)||j(V))return V=Jr(V,P.mode,U,null),V.return=P,V;if(typeof V.then=="function")return $(P,Zu(V),U);if(V.$$typeof===he)return $(P,Qu(P,V),U);Ju(P,V)}return null}function B(P,V,U,X){var Ee=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Ee!==null?null:T(P,V,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===Ee?C(P,V,U,X):null;case te:return U.key===Ee?z(P,V,U,X):null;case A:return U=ia(U),B(P,V,U,X)}if(re(U)||j(U))return Ee!==null?null:Y(P,V,U,X,null);if(typeof U.then=="function")return B(P,V,Zu(U),X);if(U.$$typeof===he)return B(P,V,Qu(P,U),X);Ju(P,U)}return null}function F(P,V,U,X,Ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(U)||null,T(V,P,""+X,Ee);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return P=P.get(X.key===null?U:X.key)||null,C(V,P,X,Ee);case te:return P=P.get(X.key===null?U:X.key)||null,z(V,P,X,Ee);case A:return X=ia(X),F(P,V,U,X,Ee)}if(re(X)||j(X))return P=P.get(U)||null,Y(V,P,X,Ee,null);if(typeof X.then=="function")return F(P,V,U,Zu(X),Ee);if(X.$$typeof===he)return F(P,V,U,Qu(V,X),Ee);Ju(V,X)}return null}function pe(P,V,U,X){for(var Ee=null,Ze=null,_e=V,je=V=0,qe=null;_e!==null&&je<U.length;je++){_e.index>je?(qe=_e,_e=null):qe=_e.sibling;var Je=B(P,_e,U[je],X);if(Je===null){_e===null&&(_e=qe);break}t&&_e&&Je.alternate===null&&n(P,_e),V=f(Je,V,je),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je,_e=qe}if(je===U.length)return a(P,_e),Ke&&gs(P,je),Ee;if(_e===null){for(;je<U.length;je++)_e=$(P,U[je],X),_e!==null&&(V=f(_e,V,je),Ze===null?Ee=_e:Ze.sibling=_e,Ze=_e);return Ke&&gs(P,je),Ee}for(_e=l(_e);je<U.length;je++)qe=F(_e,P,je,U[je],X),qe!==null&&(t&&qe.alternate!==null&&_e.delete(qe.key===null?je:qe.key),V=f(qe,V,je),Ze===null?Ee=qe:Ze.sibling=qe,Ze=qe);return t&&_e.forEach(function(yr){return n(P,yr)}),Ke&&gs(P,je),Ee}function xe(P,V,U,X){if(U==null)throw Error(r(151));for(var Ee=null,Ze=null,_e=V,je=V=0,qe=null,Je=U.next();_e!==null&&!Je.done;je++,Je=U.next()){_e.index>je?(qe=_e,_e=null):qe=_e.sibling;var yr=B(P,_e,Je.value,X);if(yr===null){_e===null&&(_e=qe);break}t&&_e&&yr.alternate===null&&n(P,_e),V=f(yr,V,je),Ze===null?Ee=yr:Ze.sibling=yr,Ze=yr,_e=qe}if(Je.done)return a(P,_e),Ke&&gs(P,je),Ee;if(_e===null){for(;!Je.done;je++,Je=U.next())Je=$(P,Je.value,X),Je!==null&&(V=f(Je,V,je),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return Ke&&gs(P,je),Ee}for(_e=l(_e);!Je.done;je++,Je=U.next())Je=F(_e,P,je,Je.value,X),Je!==null&&(t&&Je.alternate!==null&&_e.delete(Je.key===null?je:Je.key),V=f(Je,V,je),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return t&&_e.forEach(function(aS){return n(P,aS)}),Ke&&gs(P,je),Ee}function yt(P,V,U,X){if(typeof U=="object"&&U!==null&&U.type===ie&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var Ee=U.key;V!==null;){if(V.key===Ee){if(Ee=U.type,Ee===ie){if(V.tag===7){a(P,V.sibling),X=h(V,U.props.children),X.return=P,P=X;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ia(Ee)===V.type){a(P,V.sibling),X=h(V,U.props),uo(X,U),X.return=P,P=X;break e}a(P,V);break}else n(P,V);V=V.sibling}U.type===ie?(X=Jr(U.props.children,P.mode,X,U.key),X.return=P,P=X):(X=Fu(U.type,U.key,U.props,null,P.mode,X),uo(X,U),X.return=P,P=X)}return y(P);case te:e:{for(Ee=U.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(P,V.sibling),X=h(V,U.children||[]),X.return=P,P=X;break e}else{a(P,V);break}else n(P,V);V=V.sibling}X=hf(U,P.mode,X),X.return=P,P=X}return y(P);case A:return U=ia(U),yt(P,V,U,X)}if(re(U))return pe(P,V,U,X);if(j(U)){if(Ee=j(U),typeof Ee!="function")throw Error(r(150));return U=Ee.call(U),xe(P,V,U,X)}if(typeof U.then=="function")return yt(P,V,Zu(U),X);if(U.$$typeof===he)return yt(P,V,Qu(P,U),X);Ju(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(P,V.sibling),X=h(V,U),X.return=P,P=X):(a(P,V),X=cf(U,P.mode,X),X.return=P,P=X),y(P)):a(P,V)}return function(P,V,U,X){try{oo=0;var Ee=yt(P,V,U,X);return Xa=null,Ee}catch(_e){if(_e===Ya||_e===Xu)throw _e;var Ze=Un(29,_e,null,P.mode);return Ze.lanes=X,Ze.return=P,Ze}finally{}}}var ra=Ep(!0),Tp=Ep(!1),er=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Hu(t),sp(t,null,a),n}return qu(t,l,n,a),Hu(t)}function co(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,cs(t,a)}}function Af(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var xf=!1;function ho(){if(xf){var t=Qa;if(t!==null)throw t}}function fo(t,n,a,l){xf=!1;var h=t.updateQueue;er=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==y&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;y=0,Y=z=C=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(Be&B)===B:(l&B)===B){B!==0&&B===Ka&&(xf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,xe=T;B=n;var yt=a;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){$=pe.call(yt,$,B);break e}$=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,B=typeof pe=="function"?pe.call(yt,$,B):pe,B==null)break e;$=w({},$,B);break e;case 2:er=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=F,C=$):Y=Y.next=F,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),lr|=y,t.lanes=y,t.memoizedState=$}}function bp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],n)}var $a=I(null),Wu=I(0);function wp(t,n){t=xs,W(Wu,t),W($a,n),xs=t|n.baseLanes}function Nf(){W(Wu,xs),W($a,$a.current)}function Rf(){xs=Wu.current,Q($a),Q(Wu)}var zn=I(null),ci=null;function ir(t){var n=t.alternate;W(Pt,Pt.current&1),W(zn,t),ci===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&(ci=t)}function Cf(t){W(Pt,Pt.current),W(zn,t),ci===null&&(ci=t)}function Ap(t){t.tag===22?(W(Pt,Pt.current),W(zn,t),ci===null&&(ci=t)):sr()}function sr(){W(Pt,Pt.current),W(zn,zn.current)}function Bn(t){Q(zn),ci===t&&(ci=null),Q(Pt)}var Pt=I(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||jd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _s=0,ke=null,gt=null,Gt=null,tc=!1,Za=!1,aa=!1,nc=0,mo=0,Ja=null,$T=0;function Mt(){throw Error(r(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Df(t,n,a,l,h,f){return _s=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?oy:Kf,aa=!1,f=a(l,h),aa=!1,Za&&(f=Np(n,a,l,h)),xp(t),f}function xp(t){H.H=yo;var n=gt!==null&&gt.next!==null;if(_s=0,Gt=gt=ke=null,tc=!1,mo=0,Ja=null,n)throw Error(r(300));t===null||Kt||(t=t.dependencies,t!==null&&Ku(t)&&(Kt=!0))}function Np(t,n,a,l){ke=t;var h=0;do{if(Za&&(Ja=null),mo=0,Za=!1,25<=h)throw Error(r(301));if(h+=1,Gt=gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=uy,f=n(a,l)}while(Za);return f}function ZT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?go(n):n,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(ke.flags|=1024),n}function Of(){var t=nc!==0;return nc=0,t}function Mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}_s=0,Gt=gt=ke=null,Za=!1,mo=nc=0,Ja=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ke.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Lt(){if(gt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var n=Gt===null?ke.memoizedState:Gt.next;if(n!==null)Gt=n,gt=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Gt===null?ke.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var n=mo;return mo+=1,Ja===null&&(Ja=[]),t=yp(Ja,t,n),n=ke,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?oy:Kf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===he)return on(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function vs(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=Lt();return jf(n,gt,t)}function jf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,C=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Be&$)===$:(_s&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ka&&(Y=!0);else if((_s&B)===B){z=z.next,B===Ka&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=$,y=f):C=C.next=$,ke.lanes|=B,lr|=B;$=z.action,aa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,y=f):C=C.next=B,ke.lanes|=$,lr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=T,!Ln(f,t.memoizedState)&&(Kt=!0,Y&&(a=Qa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var n=Lt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Ln(f,n.memoizedState)||(Kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rp(t,n,a){var l=ke,h=Lt(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Ln((gt||h).memoizedState,a);if(y&&(h.memoizedState=a,Kt=!0),h=h.queue,zf(Dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Ip.bind(null,l,h,a,n),null),vt===null)throw Error(r(349));f||(_s&127)!==0||Cp(l,n,a)}return a}function Cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=ic(),ke.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,l){n.value=a,n.getSnapshot=l,Op(n)&&Mp(t)}function Dp(t,n,a){return a(function(){Op(n)&&Mp(t)})}function Op(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Mp(t){var n=Zr(t,2);n!==null&&Dn(n,t,2)}function Lf(t){var n=Sn();if(typeof t=="function"){var a=t;if(t=a(),aa){en(!0);try{a()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,jf(t,gt,typeof l=="function"?l:vs)}function JT(t,n,a,l,h){if(oc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,kp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function kp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var T=a(h,l),C=H.S;C!==null&&C(y,T),jp(t,n,T)}catch(z){Uf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,l),jp(t,n,f)}catch(z){Uf(t,n,z)}}function jp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,n,l)},function(l){return Uf(t,n,l)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Lp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kp(t,a)))}function Uf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==l)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Up(t,n){return n}function zp(t,n){if(Ke){var a=vt.formState;if(a!==null){e:{var l=ke;if(Ke){if(Nt){t:{for(var h=Nt,f=ui;h.nodeType!==8;){if(!f){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Nt=hi(h.nextSibling),l=h.data==="F!";break e}}Js(l)}l=!1}l&&(n=a[0])}}return a=Sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:n},a.queue=l,a=ry.bind(null,ke,l),l.dispatch=a,l=Lf(!1),f=Gf.bind(null,ke,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=JT.bind(null,ke,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bp(t){var n=Lt();return qp(n,gt,t)}function qp(t,n,a){if(n=jf(t,n,Up)[0],t=rc(vs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=go(n)}catch(y){throw y===Ya?Xu:y}else l=n;n=Lt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,Wa(9,{destroy:void 0},WT.bind(null,h,a),null)),[l,f,t]}function WT(t,n){t.action=n}function Hp(t){var n=Lt(),a=gt;if(a!==null)return qp(n,a,t);Lt(),n=n.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=ic(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Fp(){return Lt().memoizedState}function ac(t,n,a,l){var h=Sn();ke.flags|=t,h.memoizedState=Wa(1|n,{destroy:void 0},a,l===void 0?null:l)}function lc(t,n,a,l){var h=Lt();l=l===void 0?null:l;var f=h.memoizedState.inst;gt!==null&&l!==null&&If(l,gt.memoizedState.deps)?h.memoizedState=Wa(n,f,a,l):(ke.flags|=t,h.memoizedState=Wa(1|n,f,a,l))}function Gp(t,n){ac(8390656,8,t,n)}function zf(t,n){lc(2048,8,t,n)}function eb(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=ic(),ke.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Kp(t){var n=Lt().memoizedState;return eb({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return lc(4,2,t,n)}function Yp(t,n){return lc(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,a){a=a!=null?a.concat([t]):null,lc(4,4,Xp.bind(null,n,t),a)}function Bf(){}function Zp(t,n){var a=Lt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&If(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Jp(t,n){var a=Lt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&If(n,l[1]))return l[0];if(l=t(),aa){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l}function qf(t,n,a){return a===void 0||(_s&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Wy(),ke.lanes|=t,lr|=t,a)}function Wp(t,n,a,l){return Ln(a,n)?a:$a.current!==null?(t=qf(t,a,l),Ln(t,n)||(Kt=!0),t):(_s&42)===0||(_s&1073741824)!==0&&(Be&261930)===0?(Kt=!0,t.memoizedState=a):(t=Wy(),ke.lanes|=t,lr|=t,n)}function ey(t,n,a,l,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var y=H.T,T={};H.T=T,Gf(t,!1,n,a);try{var C=h(),z=H.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=XT(C,l);po(t,n,Y,Fn(t))}else po(t,n,l,Fn(t))}catch($){po(t,n,{then:function(){},status:"rejected",reason:$},Fn())}finally{ee.p=f,y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}function tb(){}function Hf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,n,ce,a===null?tb:function(){return ny(t),a(l)})}function ty(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ce},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ny(t){var n=ty(t);n.next===null&&(n=t.alternate.memoizedState),po(t,n.next.queue,{},Fn())}function Ff(){return on(Mo)}function iy(){return Lt().memoizedState}function sy(){return Lt().memoizedState}function nb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Fn();t=tr(a);var l=nr(n,t,a);l!==null&&(Dn(l,n,a),co(l,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function ib(t,n,a){var l=Fn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?ay(n,a):(a=of(t,n,a,l),a!==null&&(Dn(a,t,l),ly(a,n,l)))}function ry(t,n,a){var l=Fn();po(t,n,a,l)}function po(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))ay(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,y))return qu(t,n,h,0),vt===null&&Bu(),!1}catch{}finally{}if(a=of(t,n,h,l),a!==null)return Dn(a,t,l),ly(a,n,l),!0}return!1}function Gf(t,n,a,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(r(479))}else n=of(t,a,l,2),n!==null&&Dn(n,t,2)}function oc(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function ay(t,n){Za=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ly(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,cs(t,a)}}var yo={readContext:on,use:sc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};yo.useEffectEvent=Mt;var oy={readContext:on,use:sc,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Xp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=Sn();n=n===void 0?null:n;var l=t();if(aa){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Sn();if(a!==void 0){var h=a(n);if(aa){en(!0);try{a(n)}finally{en(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ib.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lf(t);var n=t.queue,a=ry.bind(null,ke,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Sn();return qf(a,t,n)},useTransition:function(){var t=Lf(!1);return t=ey.bind(null,ke,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ke,h=Sn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),vt===null)throw Error(r(349));(Be&127)!==0||Cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gp(Dp.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},Ip.bind(null,l,f,a,n),null),a},useId:function(){var t=Sn(),n=vt.identifierPrefix;if(Ke){var a=Yi,l=Qi;a=(l&~(1<<32-ht(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$T++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,ke,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return Sn().memoizedState=nb.bind(null,ke)},useEffectEvent:function(t){var n=Sn(),a={impl:t};return n.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:on,use:sc,useCallback:Zp,useContext:on,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:rc,useRef:Fp,useState:function(){return rc(vs)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Lt();return Wp(a,gt.memoizedState,t,n)},useTransition:function(){var t=rc(vs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=Lt();return Vp(a,gt,t,n)},useMemoCache:kf,useCacheRefresh:sy};Kf.useEffectEvent=Kp;var uy={readContext:on,use:sc,useCallback:Zp,useContext:on,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Pf,useRef:Fp,useState:function(){return Pf(vs)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Lt();return gt===null?qf(a,t,n):Wp(a,gt.memoizedState,t,n)},useTransition:function(){var t=Pf(vs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var a=Lt();return gt!==null?Vp(a,gt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:sy};uy.useEffectEvent=Kp;function Qf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Fn(),h=tr(l);h.payload=n,a!=null&&(h.callback=a),n=nr(t,h,l),n!==null&&(Dn(n,t,l),co(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Fn(),h=tr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=nr(t,h,l),n!==null&&(Dn(n,t,l),co(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Fn(),l=tr(a);l.tag=2,n!=null&&(l.callback=n),n=nr(t,l,a),n!==null&&(Dn(n,t,a),co(n,t,a))}};function cy(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!no(a,l)||!no(h,f):!0}function hy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function la(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){zu(t)}function dy(t){console.error(t)}function my(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,n,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function py(t){return t=tr(t),t.tag=3,t}function yy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){gy(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gy(n,a,l),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ga(n,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 31:case 13:return ci===null?Tc():a.alternate===null&&Vt===0&&(Vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(r(435,a.tag))}return Ed(t,l,h),Tc(),!1}if(Ke)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mf&&(t=Error(r(422),{cause:l}),ro(ai(t,a)))):(l!==mf&&(n=Error(r(423),{cause:l}),ro(ai(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ai(l,a),h=Xf(t.stateNode,l,h),Af(t,h),Vt!==4&&(Vt=2)),!1;var f=Error(r(520),{cause:l});if(f=ai(f,a),Ao===null?Ao=[f]:Ao.push(f),Vt!==4&&(Vt=2),n===null)return!0;l=ai(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),Af(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,t,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Kt=!1;function un(t,n,a,l){n.child=t===null?Tp(n,null,a,l):ra(n,t.child,a,l)}function _y(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return ta(n),l=Df(t,n,a,y,f,h),T=Of(),t!==null&&!Kt?(Mf(t,n,h),Es(t,n,h)):(Ke&&T&&ff(n),n.flags|=1,un(t,n,l,h),n.child)}function vy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ey(t,n,f,l,h)):(t=Fu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(y,l)&&t.ref===n.ref)return Es(t,n,h)}return n.flags|=1,t=ms(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ey(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(no(f,l)&&t.ref===n.ref)if(Kt=!1,n.pendingProps=l=f,sd(t,h))(t.flags&131072)!==0&&(Kt=!0);else return n.lanes=t.lanes,Es(t,n,h)}return Zf(t,n,a,l,h)}function Ty(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return by(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?wp(n,f):Nf(),Ap(n);else return l=n.lanes=536870912,by(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Yu(n,f.cachePool),wp(n,f),sr(),n.memoizedState=null):(t!==null&&Yu(n,null),Nf(),sr());return un(t,n,h,a),n.child}function _o(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,a,l,h){var f=Tf();return f=f===null?null:{parent:Ft._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Nf(),Ap(n),t!==null&&Ga(t,n,l,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Sy(t,n,a){return ra(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,Bn(n),n.memoizedState=null,t}function rb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=cc(n,l),n.lanes=536870912,_o(null,t);if(Cf(n),(t=Nt)?(t=k0(t,ui),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,ln=n,Nt=null)):t=null,t===null)throw Js(n);return n.lanes=536870912,null}return cc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=Sy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Kt||Ga(t,n,a,!1),h=(a&t.childLanes)!==0,Kt||h){if(l=vt,l!==null&&(y=Ur(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Zr(t,y),Dn(l,t,y),$f;Tc(),n=Sy(t,n,a)}else t=f.treeContext,Nt=hi(y.nextSibling),ln=n,Ke=!0,Zs=null,ui=!1,t!==null&&up(n,t),n=cc(n,l),n.flags|=4096;return n}return t=ms(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zf(t,n,a,l,h){return ta(n),a=Df(t,n,a,l,void 0,h),l=Of(),t!==null&&!Kt?(Mf(t,n,h),Es(t,n,h)):(Ke&&l&&ff(n),n.flags|=1,un(t,n,a,h),n.child)}function wy(t,n,a,l,h,f){return ta(n),n.updateQueue=null,a=Np(n,l,a,h),xp(t),l=Of(),t!==null&&!Kt?(Mf(t,n,f),Es(t,n,f)):(Ke&&l&&ff(n),n.flags|=1,un(t,n,a,f),n.child)}function Ay(t,n,a,l,h){if(ta(n),n.stateNode===null){var f=Ba,y=a.contextType;typeof y=="object"&&y!==null&&(f=on(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?on(y):Ba,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Qf(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Yf.enqueueReplaceState(f,f.state,null),fo(n,l,f,h),ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=la(a,T);f.props=C;var z=f.context,Y=a.contextType;y=Ba,typeof Y=="object"&&Y!==null&&(y=on(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&hy(n,f,l,y),er=!1;var B=n.memoizedState;f.state=B,fo(n,l,f,h),ho(),z=n.memoizedState,T||B!==z||er?(typeof $=="function"&&(Qf(n,a,$,l),z=n.memoizedState),(C=er||cy(n,a,C,l,B,z,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,wf(t,n),y=n.memoizedProps,Y=la(a,y),f.props=Y,$=n.pendingProps,B=f.context,z=a.contextType,C=Ba,typeof z=="object"&&z!==null&&(C=on(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==C)&&hy(n,f,l,C),er=!1,B=n.memoizedState,f.state=B,fo(n,l,f,h),ho();var F=n.memoizedState;y!==$||B!==F||er||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(Qf(n,a,T,l),F=n.memoizedState),(Y=er||cy(n,a,Y,l,B,F,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ra(n,t.child,null,h),n.child=ra(n,null,a,h)):un(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Es(t,n,h),t}function xy(t,n,a,l){return Wr(),n.flags|=256,un(t,n,a,l),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:gp()}}function ed(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Hn),t}function Ny(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?ir(n):sr(),(t=Nt)?(t=k0(t,ui),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,ln=n,Nt=null)):t=null,t===null)throw Js(n);return jd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(sr(),h=n.mode,T=fc({mode:"hidden",children:T},h),l=Jr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Wf(a),l.childLanes=ed(t,y,a),n.memoizedState=Jf,_o(null,l)):(ir(n),td(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(sr(),n.child=t.child,n.flags|=128,n=null):(sr(),T=l.fallback,h=n.mode,l=fc({mode:"visible",children:l.children},h),T=Jr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ra(n,t.child,null,a),l=n.child,l.memoizedState=Wf(a),l.childLanes=ed(t,y,a),n.memoizedState=Jf,n=_o(null,l));else if(ir(n),jd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,ro({value:l,source:null,stack:null}),n=nd(t,n,a)}else if(Kt||Ga(t,n,a,!1),y=(a&t.childLanes)!==0,Kt||y){if(y=vt,y!==null&&(l=Ur(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Zr(t,l),Dn(y,t,l),$f;kd(T)||Tc(),n=nd(t,n,a)}else kd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Nt=hi(T.nextSibling),ln=n,Ke=!0,Zs=null,ui=!1,t!==null&&up(n,t),n=td(n,l.children),n.flags|=4096);return n}return h?(sr(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ms(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ms(z,T):(T=Jr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,_o(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(C=Ft._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=gp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(t,y,a),n.memoizedState=Jf,_o(t.child,l)):(ir(n),a=t.child,t=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return ra(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yf(t.return,n,a)}function id(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Cy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Pt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,W(Pt,y),un(t,n,l,a),l=Ke?so:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(n,!0,a,null,f,l);break;case"together":id(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Es(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ga(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ms(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ms(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function ab(t,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),Ws(n,Ft,t.memoizedState.cache),Wr();break;case 27:case 5:Vn(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:Ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ny(t,n,a):(ir(n),t=Es(t,n,a),t!==null?t.sibling:null);ir(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ga(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Cy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Pt,Pt.current),l)break;return null;case 22:return n.lanes=0,Ty(t,n,a,n.pendingProps);case 24:Ws(n,Ft,t.memoizedState.cache)}return Es(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Kt=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Kt=!1,ab(t,n,a);Kt=(t.flags&131072)!==0}else Kt=!1,Ke&&(n.flags&1048576)!==0&&op(n,so,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ia(n.elementType),n.type=t,typeof t=="function")uf(t)?(l=la(t,l),n.tag=1,n=Ay(null,n,t,l,a)):(n.tag=0,n=Zf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Pe){n.tag=11,n=_y(null,n,t,l,a);break e}else if(h===R){n.tag=14,n=vy(null,n,t,l,a);break e}}throw n=Qe(t)||t,Error(r(306,n,""))}}return n;case 0:return Zf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=la(l,n.pendingProps),Ay(t,n,l,h,a);case 3:e:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,wf(t,n),fo(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ws(n,Ft,l),l!==f.cache&&_f(n,[Ft],a,!0),ho(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xy(t,n,l,a);break e}else if(l!==h){h=ai(Error(r(424)),n),ro(h),n=xy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=hi(t.firstChild),ln=n,Ke=!0,Zs=null,ui=!0,a=Tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),l===h){n=Es(t,n,a);break e}un(t,n,l,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=B0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ke||(a=n.type,t=n.pendingProps,l=Rc(ve.current).createElement(a),l[st]=n,l[_t]=t,cn(l,a,t),qt(l),n.stateNode=l):n.memoizedState=B0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vn(n),t===null&&Ke&&(l=n.stateNode=L0(n.type,n.pendingProps,ve.current),ln=n,ui=!0,h=Nt,fr(n.type)?(Pd=h,Nt=hi(l.firstChild)):Nt=h),un(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=Nt)&&(l=jb(l,n.type,n.pendingProps,ui),l!==null?(n.stateNode=l,ln=n,Nt=hi(l.firstChild),ui=!1,h=!0):h=!1),h||Js(n)),Vn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Od(h,f)?l=null:y!==null&&Od(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(t,n,ZT,null,null,a),Mo._currentValue=h),hc(t,n),un(t,n,l,a),n.child;case 6:return t===null&&Ke&&((t=a=Nt)&&(a=Pb(a,n.pendingProps,ui),a!==null?(n.stateNode=a,ln=n,Nt=null,t=!0):t=!1),t||Js(n)),null;case 13:return Ny(t,n,a);case 4:return bt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ra(n,null,l,a):un(t,n,l,a),n.child;case 11:return _y(t,n,n.type,n.pendingProps,a);case 7:return un(t,n,n.pendingProps,a),n.child;case 8:return un(t,n,n.pendingProps.children,a),n.child;case 12:return un(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ws(n,n.type,l.value),un(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ta(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,a),n.child;case 14:return vy(t,n,n.type,n.pendingProps,a);case 15:return Ey(t,n,n.type,n.pendingProps,a);case 19:return Cy(t,n,a);case 31:return rb(t,n,a);case 22:return Ty(t,n,a,n.pendingProps);case 24:return ta(n),l=on(Ft),t===null?(h=Tf(),h===null&&(h=vt,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Sf(n),Ws(n,Ft,h)):((t.lanes&a)!==0&&(wf(t,n),fo(n,null,null,a),ho()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ws(n,Ft,l)):(l=f.cache,Ws(n,Ft,l),l!==h.cache&&_f(n,[Ft],a,!0))),un(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ts(t){t.flags|=4}function rd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i0())t.flags|=8192;else throw sa=$u,bf}else t.flags&=-16777217}function Dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K0(n))if(i0())t.flags|=8192;else throw sa=$u,bf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pi():536870912,t.lanes|=n,il|=n)}function vo(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function lb(t,n,a){var l=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Rt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ys(Ft),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(n)?Ts(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),Rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ts(n),f!==null?(Rt(n),Dy(n,f)):(Rt(n),rd(n,h,null,l,a))):f?f!==t.memoizedState?(Ts(n),Rt(n),Dy(n,f)):(Rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ts(n),Rt(n),rd(n,h,t,l,a)),null;case 27:if(Kn(n),a=ve.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ts(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Rt(n),null}t=ue.current,Fa(n)?cp(n):(t=L0(h,l,a),n.stateNode=t,Ts(n))}return Rt(n),null;case 5:if(Kn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ts(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Rt(n),null}if(f=ue.current,Fa(n))cp(n);else{var y=Rc(ve.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[st]=n,f[_t]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ts(n)}}return Rt(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ts(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ve.current,Fa(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[st]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N0(t.nodeValue,a)),t||Js(n,!0)}else t=Rc(t).createTextNode(l),t[st]=n,n.stateNode=t}return Rt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[st]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Bn(n),n):(Bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[st]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bn(n),n):(Bn(n),null)}return Bn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),Rt(n),null);case 4:return nt(),t===null&&Nd(n.stateNode.containerInfo),Rt(n),null;case 10:return ys(n.type),Rt(n),null;case 19:if(Q(Pt),l=n.memoizedState,l===null)return Rt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,vo(l,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rp(a,t),a=a.sibling;return W(Pt,Pt.current&1|2),Ke&&gs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Bt()>_c&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return Rt(n),null}else 2*Bt()-l.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Bt(),t.sibling=null,a=Pt.current,W(Pt,h?a&1|2:a&1),Ke&&gs(n,l.treeForkCount),t):(Rt(n),null);case 22:case 23:return Bn(n),Rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ys(Ft),Rt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ob(t,n){switch(df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ys(Ft),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Kn(n),null;case 31:if(n.memoizedState!==null){if(Bn(n),n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Pt),null;case 4:return nt(),null;case 10:return ys(n.type),null;case 22:case 23:return Bn(n),Rf(),t!==null&&Q(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ys(Ft),null;case 25:return null;default:return null}}function Oy(t,n){switch(df(n),n.tag){case 3:ys(Ft),nt();break;case 26:case 27:case 5:Kn(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&Bn(n);break;case 13:Bn(n);break;case 19:Q(Pt);break;case 10:ys(n.type);break;case 22:case 23:Bn(n),Rf(),t!==null&&Q(na);break;case 24:ys(Ft)}}function Eo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(n,n.return,T)}}function rr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var C=a,z=T;try{z()}catch(Y){ut(h,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){ut(n,n.return,Y)}}function My(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sp(n,a)}catch(l){ut(t,t.return,l)}}}function Vy(t,n,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,n,l)}}function To(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,n,h)}}function Xi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,n,h)}else a.current=null}function ky(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function ad(t,n,a){try{var l=t.stateNode;Ib(l,t.type,a,n),l[_t]=n}catch(h){ut(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yi));else if(l!==4&&(l===27&&fr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function mc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,a),n[st]=t,n[_t]=a}catch(f){ut(t,t.return,f)}}var bs=!1,Qt=!1,ud=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ub(t,n){if(t=t.containerInfo,Id=kc,t=$g(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,C=-1,z=0,Y=0,$=t,B=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=y+h),$!==f||l!==0&&$.nodeType!==3||(C=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===t)break t;if(B===a&&++z===h&&(T=y),B===f&&++Y===l&&(C=y),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},kc=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=la(a.type,h);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){ut(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function Uy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ws(t,a),l&4&&Eo(5,a);break;case 1:if(ws(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ut(a,a.return,y)}else{var h=la(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ut(a,a.return,y)}}l&64&&My(a),l&512&&To(a,a.return);break;case 3:if(ws(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sp(t,n)}catch(y){ut(a,a.return,y)}}break;case 27:n===null&&l&4&&Py(a);case 26:case 5:ws(t,a),n===null&&l&4&&ky(a),l&512&&To(a,a.return);break;case 12:ws(t,a);break;case 31:ws(t,a),l&4&&qy(t,a);break;case 13:ws(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_b.bind(null,a),Lb(t,a))));break;case 22:if(l=a.memoizedState!==null||bs,!l){n=n!==null&&n.memoizedState!==null||Qt,h=bs;var f=Qt;bs=l,(Qt=n)&&!f?As(t,a,(a.subtreeFlags&8772)!==0):ws(t,a),bs=h,Qt=f}break;case 30:break;default:ws(t,a)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Nn=!1;function Ss(t,n,a){for(a=a.child;a!==null;)By(t,n,a),a=a.sibling}function By(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(gn,a)}catch{}switch(a.tag){case 26:Qt||Xi(a,n),Ss(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||Xi(a,n);var l=Dt,h=Nn;fr(a.type)&&(Dt=a.stateNode,Nn=!1),Ss(t,n,a),Io(a.stateNode),Dt=l,Nn=h;break;case 5:Qt||Xi(a,n);case 6:if(l=Dt,h=Nn,Dt=null,Ss(t,n,a),Dt=l,Nn=h,Dt!==null)if(Nn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(f){ut(a,n,f)}else try{Dt.removeChild(a.stateNode)}catch(f){ut(a,n,f)}break;case 18:Dt!==null&&(Nn?(t=Dt,M0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hl(t)):M0(Dt,a.stateNode));break;case 4:l=Dt,h=Nn,Dt=a.stateNode.containerInfo,Nn=!0,Ss(t,n,a),Dt=l,Nn=h;break;case 0:case 11:case 14:case 15:rr(2,a,n),Qt||rr(4,a,n),Ss(t,n,a);break;case 1:Qt||(Xi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,n,l)),Ss(t,n,a);break;case 21:Ss(t,n,a);break;case 22:Qt=(l=Qt)||a.memoizedState!==null,Ss(t,n,a),Qt=l;break;default:Ss(t,n,a)}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hl(t)}catch(a){ut(n,n.return,a)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(a){ut(n,n.return,a)}}function cb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function gc(t,n){var a=cb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=vb.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(fr(T.type)){Dt=T.stateNode,Nn=!1;break e}break;case 5:Dt=T.stateNode,Nn=!1;break e;case 3:case 4:Dt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(Dt===null)throw Error(r(160));By(f,y,h),Dt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var Si=null;function Fy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Cn(t),l&4&&(rr(3,t,t.return),Eo(3,t),rr(5,t,t.return));break;case 1:Rn(n,t),Cn(t),l&512&&(Qt||a===null||Xi(a,a.return)),l&64&&bs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Si;if(Rn(n,t),Cn(t),l&512&&(Qt||a===null||Xi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ki]||f[st]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,a),f[st]=t,qt(f),l=f;break e;case"link":var y=F0("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;case"meta":if(y=F0("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),cn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[st]=t,qt(f),l=f}t.stateNode=l}else G0(h,t.type,t.stateNode);else t.stateNode=H0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G0(h,t.type,t.stateNode):H0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(n,t),Cn(t),l&512&&(Qt||a===null||Xi(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(n,t),Cn(t),l&512&&(Qt||a===null||Xi(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(pe){ut(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(Rn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){ut(t,t.return,pe)}}break;case 3:if(Dc=null,h=Si,Si=Cc(n.containerInfo),Rn(n,t),Si=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(pe){ut(t,t.return,pe)}ud&&(ud=!1,Gy(t));break;case 4:l=Si,Si=Cc(t.stateNode.containerInfo),Rn(n,t),Cn(t),Si=l;break;case 12:Rn(n,t),Cn(t);break;case 31:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:Rn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=bs,Y=Qt;if(bs=z||h,Qt=Y||C,Rn(n,t),Qt=Y,bs=z,Cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||bs||Qt||oa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(pe){ut(C,C.return,pe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(pe){ut(C,C.return,pe)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?V0(F,!0):V0(C.stateNode,!1)}catch(pe){ut(C,C.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(t);mc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(xn(y,""),a.flags&=-33);var T=ld(t);mc(t,T,y);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ld(t);od(t,z,C);break;default:throw Error(r(161))}}catch(Y){ut(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ws(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),oa(n);break;case 1:Xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vy(n,n.return,a),oa(n);break;case 27:Io(n.stateNode);case 26:case 5:Xi(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function As(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:As(h,f,a),Eo(4,f);break;case 1:if(As(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ut(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bp(C[h],T)}catch(z){ut(l,l.return,z)}}a&&y&64&&My(f),To(f,f.return);break;case 27:Py(f);case 26:case 5:As(h,f,a),a&&l===null&&y&4&&ky(f),To(f,f.return);break;case 12:As(h,f,a);break;case 31:As(h,f,a),a&&y&4&&qy(h,f);break;case 13:As(h,f,a),a&&y&4&&Hy(h,f);break;case 22:f.memoizedState===null&&As(h,f,a),To(f,f.return);break;case 30:break;default:As(h,f,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ao(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t))}function wi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ky(t,n,a,l),n=n.sibling}function Ky(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(t,n,a,l),h&2048&&Eo(9,n);break;case 1:wi(t,n,a,l);break;case 3:wi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t)));break;case 12:if(h&2048){wi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(n,n.return,C)}}else wi(t,n,a,l);break;case 31:wi(t,n,a,l);break;case 13:wi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?wi(t,n,a,l):bo(t,n):f._visibility&2?wi(t,n,a,l):(f._visibility|=2,el(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(y,n);break;case 24:wi(t,n,a,l),h&2048&&hd(n.alternate,n);break;default:wi(t,n,a,l)}}function el(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,C=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:el(f,y,T,C,h),Eo(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?el(f,y,T,C,h):bo(f,y):(Y._visibility|=2,el(f,y,T,C,h)),h&&z&2048&&cd(y.alternate,y);break;case 24:el(f,y,T,C,h),h&&z&2048&&hd(y.alternate,y);break;default:el(f,y,T,C,h)}n=n.sibling}}function bo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:bo(a,l),h&2048&&cd(l.alternate,l);break;case 24:bo(a,l),h&2048&&hd(l.alternate,l);break;default:bo(a,l)}n=n.sibling}}var So=8192;function tl(t,n,a){if(t.subtreeFlags&So)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:tl(t,n,a),t.flags&So&&t.memoizedState!==null&&$b(a,Si,t.memoizedState,t.memoizedProps);break;case 5:tl(t,n,a);break;case 3:case 4:var l=Si;Si=Cc(t.stateNode.containerInfo),tl(t,n,a),Si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=So,So=16777216,tl(t,n,a),So=l):tl(t,n,a));break;default:tl(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nn=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&rr(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):wo(t);break;default:wo(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nn=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function $y(t,n){for(;nn!==null;){var a=nn;switch(a.tag){case 0:case 11:case 15:rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ao(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,nn=l;else e:for(a=t;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(zy(l),l===a){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var hb={getCacheForType:function(t){var n=on(Ft),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return on(Ft).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,tt=0,vt=null,Ue=null,Be=0,ot=0,qn=null,ar=!1,nl=!1,fd=!1,xs=0,Vt=0,lr=0,ua=0,dd=0,Hn=0,il=0,Ao=null,In=null,md=!1,yc=0,Zy=0,_c=1/0,vc=null,or=null,Zt=0,ur=null,sl=null,Ns=0,gd=0,pd=null,Jy=null,xo=0,yd=null;function Fn(){return(tt&2)!==0&&Be!==0?Be&-Be:H.T!==null?Sd():it()}function Wy(){if(Hn===0)if((Be&536870912)===0||Ke){var t=We;We<<=1,(We&3932160)===0&&(We=262144),Hn=t}else Hn=536870912;return t=zn.current,t!==null&&(t.flags|=32),Hn}function Dn(t,n,a){(t===vt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(rl(t,0),cr(t,Be,Hn,!1)),Wn(t,a),((tt&2)===0||t!==vt)&&(t===vt&&((tt&2)===0&&(ua|=a),Vt===4&&cr(t,Be,Hn,!1)),$i(t))}function e0(t,n,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ft(t,n),h=l?gb(t,n):vd(t,n,!0),f=l;do{if(h===0){nl&&!l&&cr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!db(a)){h=vd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=Ao;var C=T.current.memoizedState.isDehydrated;if(C&&(rl(T,y).flags|=256),y=vd(T,y,!1),y!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){rl(t,0),cr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:cr(l,n,Hn,!ar);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-Bt(),10<h)){if(cr(l,n,Hn,!ar),wt(l,0,!0)!==0)break e;Ns=n,l.timeoutHandle=D0(t0.bind(null,l,a,In,vc,md,n,Hn,ua,il,ar,f,"Throttled",-0,0),h);break e}t0(l,a,In,vc,md,n,Hn,ua,il,ar,f,null,-0,0)}}break}while(!0);$i(t)}function t0(t,n,a,l,h,f,y,T,C,z,Y,$,B,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Qy(n,f,$);var pe=(f&62914560)===f?yc-Bt():(f&4194048)===f?Zy-Bt():0;if(pe=Zb($,pe),pe!==null){Ns=f,t.cancelPendingCommit=pe(u0.bind(null,t,n,f,a,l,h,y,T,C,Y,$,null,B,F)),cr(t,f,y,!z);return}}u0(t,n,f,a,l,h,y,T,C)}function db(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(t,n,a,l){n&=~dd,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ht(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&ei(t,a,n)}function Ec(){return(tt&6)===0?(No(0),!1):!0}function _d(){if(Ue!==null){if(ot===0)var t=Ue.return;else t=Ue,ps=ea=null,Vf(t),Xa=null,oo=0,t=Ue;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ue=null}}function rl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ns=0,_d(),vt=t,Ue=a=ms(t.current,null),Be=n,ot=0,qn=null,ar=!1,nl=ft(t,n),fd=!1,il=Hn=dd=ua=lr=Vt=0,In=Ao=null,md=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ht(l),f=1<<h;n|=t[h],l&=~f}return xs=n,Bu(),a}function n0(t,n){ke=null,H.H=yo,n===Ya||n===Xu?(n=_p(),ot=3):n===bf?(n=_p(),ot=4):ot=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Ue===null&&(Vt=1,uc(t,ai(n,t.current)))}function i0(){var t=zn.current;return t===null?!0:(Be&4194048)===Be?ci===null:(Be&62914560)===Be||(Be&536870912)!==0?t===ci:!1}function s0(){var t=H.H;return H.H=yo,t===null?yo:t}function r0(){var t=H.A;return H.A=hb,t}function Tc(){Vt=4,ar||(Be&4194048)!==Be&&zn.current!==null||(nl=!0),(lr&134217727)===0&&(ua&134217727)===0||vt===null||cr(vt,Be,Hn,!1)}function vd(t,n,a){var l=tt;tt|=2;var h=s0(),f=r0();(vt!==t||Be!==n)&&(vc=null,rl(t,n)),n=!1;var y=Vt;e:do try{if(ot!==0&&Ue!==null){var T=Ue,C=qn;switch(ot){case 8:_d(),y=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var z=ot;if(ot=0,qn=null,al(t,T,C,z),a&&nl){y=0;break e}break;default:z=ot,ot=0,qn=null,al(t,T,C,z)}}mb(),y=Vt;break}catch(Y){n0(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ps=ea=null,tt=l,H.H=h,H.A=f,Ue===null&&(vt=null,Be=0,Bu()),y}function mb(){for(;Ue!==null;)a0(Ue)}function gb(t,n){var a=tt;tt|=2;var l=s0(),h=r0();vt!==t||Be!==n?(vc=null,_c=Bt()+500,rl(t,n)):nl=ft(t,n);e:do try{if(ot!==0&&Ue!==null){n=Ue;var f=qn;t:switch(ot){case 1:ot=0,qn=null,al(t,n,f,1);break;case 2:case 9:if(pp(f)){ot=0,qn=null,l0(n);break}n=function(){ot!==2&&ot!==9||vt!==t||(ot=7),$i(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:pp(f)?(ot=0,qn=null,l0(n)):(ot=0,qn=null,al(t,n,f,7));break;case 5:var y=null;switch(Ue.tag){case 26:y=Ue.memoizedState;case 5:case 27:var T=Ue;if(y?K0(y):T.stateNode.complete){ot=0,qn=null;var C=T.sibling;if(C!==null)Ue=C;else{var z=T.return;z!==null?(Ue=z,bc(z)):Ue=null}break t}}ot=0,qn=null,al(t,n,f,5);break;case 6:ot=0,qn=null,al(t,n,f,6);break;case 8:_d(),Vt=6;break e;default:throw Error(r(462))}}pb();break}catch(Y){n0(t,Y)}while(!0);return ps=ea=null,H.H=l,H.A=h,tt=a,Ue!==null?0:(vt=null,Be=0,Bu(),Vt)}function pb(){for(;Ue!==null&&!Us();)a0(Ue)}function a0(t){var n=Iy(t.alternate,t,xs);t.memoizedProps=t.pendingProps,n===null?bc(t):Ue=n}function l0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=wy(a,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=wy(a,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Vf(n);default:Oy(a,n),n=Ue=rp(n,xs),n=Iy(a,n,xs)}t.memoizedProps=t.pendingProps,n===null?bc(t):Ue=n}function al(t,n,a,l){ps=ea=null,Vf(n),Xa=null,oo=0;var h=n.return;try{if(sb(t,h,n,a,Be)){Vt=1,uc(t,ai(a,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Vt=1,uc(t,ai(a,t.current)),Ue=null;return}n.flags&32768?(Ke||l===1?t=!0:nl||(Be&536870912)!==0?t=!1:(ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o0(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){o0(n,ar);return}t=n.return;var a=lb(n.alternate,n,xs);if(a!==null){Ue=a;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Vt===0&&(Vt=5)}function o0(t,n){do{var a=ob(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Vt=6,Ue=null}function u0(t,n,a,l,h,f,y,T,C){t.cancelPendingCommit=null;do Sc();while(Zt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=lf,Aa(t,a,f,y,T,C),t===vt&&(Ue=vt=null,Be=0),sl=n,ur=t,Ns=a,gd=f,pd=h,Jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Eb(kn,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ee.p,ee.p=2,y=tt,tt|=4;try{ub(t,n,a)}finally{tt=y,ee.p=h,H.T=l}}Zt=1,c0(),h0(),f0()}}function c0(){if(Zt===1){Zt=0;var t=ur,n=sl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=tt;tt|=4;try{Fy(n,t);var f=Dd,y=$g(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(C!==null&&tf(T)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),pe=T.textContent.length,xe=Math.min(C.start,pe),yt=C.end===void 0?xe:Math.min(C.end,pe);!F.extend&&xe>yt&&(y=yt,yt=xe,xe=y);var P=Yg(T,xe),V=Yg(T,yt);if(P&&V&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var U=$.createRange();U.setStart(P.node,P.offset),F.removeAllRanges(),xe>yt?(F.addRange(U),F.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),F.addRange(U))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}kc=!!Id,Dd=Id=null}finally{tt=h,ee.p=l,H.T=a}}t.current=n,Zt=2}}function h0(){if(Zt===2){Zt=0;var t=ur,n=sl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ee.p;ee.p=2;var h=tt;tt|=4;try{Uy(t,n.alternate,n)}finally{tt=h,ee.p=l,H.T=a}}Zt=3}}function f0(){if(Zt===4||Zt===3){Zt=0,ls();var t=ur,n=sl,a=Ns,l=Jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Zt=5:(Zt=0,sl=ur=null,d0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(or=null),Ae(a),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{H.T=n,ee.p=h}}(Ns&3)!==0&&Sc(),$i(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?xo++:(xo=0,yd=t):xo=0,No(0)}}function d0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ao(n)))}function Sc(){return c0(),h0(),f0(),m0()}function m0(){if(Zt!==5)return!1;var t=ur,n=gd;gd=0;var a=Ae(Ns),l=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=pd,pd=null;var f=ur,y=Ns;if(Zt=0,sl=ur=null,Ns=0,(tt&6)!==0)throw Error(r(331));var T=tt;if(tt|=4,Xy(f.current),Ky(f,f.current,y,a),tt=T,No(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(gn,f)}catch{}return!0}finally{ee.p=h,H.T=l,d0(t,n)}}function g0(t,n,a){n=ai(a,n),n=Xf(t.stateNode,n,2),t=nr(t,n,2),t!==null&&(Wn(t,2),$i(t))}function ut(t,n,a){if(t.tag===3)g0(t,t,a);else for(;n!==null;){if(n.tag===3){g0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){t=ai(a,t),a=py(2),l=nr(n,a,2),l!==null&&(yy(a,l,n,t),Wn(l,2),$i(l));break}}n=n.return}}function Ed(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(fd=!0,h.add(a),t=yb.bind(null,t,n,a),n.then(t,t))}function yb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Be&a)===a&&(Vt===4||Vt===3&&(Be&62914560)===Be&&300>Bt()-yc?(tt&2)===0&&rl(t,0):dd|=a,il===Be&&(il=0)),$i(t)}function p0(t,n){n===0&&(n=pi()),t=Zr(t,n),t!==null&&(Wn(t,n),$i(t))}function _b(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function vb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),p0(t,a)}function Eb(t,n){return St(t,n)}var wc=null,ll=null,Td=!1,Ac=!1,bd=!1,hr=0;function $i(t){t!==ll&&t.next===null&&(ll===null?wc=ll=t:ll=ll.next=t),Ac=!0,Td||(Td=!0,bb())}function No(t,n){if(!bd&&Ac){bd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ht(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,E0(l,f))}else f=Be,f=wt(l,l===vt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ft(l,f)||(a=!0,E0(l,f));l=l.next}while(a);bd=!1}}function Tb(){y0()}function y0(){Ac=Td=!1;var t=0;hr!==0&&Ob()&&(t=hr);for(var n=Bt(),a=null,l=wc;l!==null;){var h=l.next,f=_0(l,n);f===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(ll=a)):(a=l,(t!==0||(f&3)!==0)&&(Ac=!0)),l=h}Zt!==0&&Zt!==5||No(t),hr!==0&&(hr=0)}function _0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ht(f),T=1<<y,C=h[y];C===-1?((T&a)===0||(T&l)!==0)&&(h[y]=Jn(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=vt,a=Be,a=wt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ft(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&wn(l),Ae(a)){case 2:case 8:a=Oi;break;case 32:a=kn;break;case 268435456:a=os;break;default:a=kn}return l=v0.bind(null,t),a=St(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function v0(t,n){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var l=Be;return l=wt(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e0(t,l,n),_0(t,Bt()),t.callbackNode!=null&&t.callbackNode===a?v0.bind(null,t):null)}function E0(t,n){if(Sc())return null;e0(t,n,!0)}function bb(){Vb(function(){(tt&6)!==0?St(Di,Tb):y0()})}function Sd(){if(hr===0){var t=Ka;t===0&&(t=$e,$e<<=1,($e&261888)===0&&($e=256)),hr=t}return hr}function T0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function b0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=T0((h[_t]||null).action),y=l.submitter;y&&(n=(n=y[_t]||null)?T0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Hi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var C=y?b0(h,y):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=y?b0(h,y):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var wd=0;wd<af.length;wd++){var Ad=af[wd],wb=Ad.toLowerCase(),Ab=Ad[0].toUpperCase()+Ad.slice(1);bi(wb,"on"+Ab)}bi(Wg,"onAnimationEnd"),bi(ep,"onAnimationIteration"),bi(tp,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(BT,"onTransitionRun"),bi(qT,"onTransitionStart"),bi(HT,"onTransitionCancel"),bi(np,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function S0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){zu(Y)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(T=l[y],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){zu(Y)}h.currentTarget=null,f=C}}}}function ze(t,n){var a=n[xa];a===void 0&&(a=n[xa]=new Set);var l=t+"__bubble";a.has(l)||(w0(n,t,2,!1),a.add(l))}function xd(t,n,a){var l=0;n&&(l|=4),w0(a,t,l,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[xc]){t[xc]=!0,Ul.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||xd(a,!1,t),xd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,xd("selectionchange",!1,n))}}function w0(t,n,a,l){switch(W0(n)){case 2:var h=eS;break;case 8:h=tS;break;default:h=qd}a=h.bind(null,n,a,t),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Rd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ji(T),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}T=T.parentNode}}l=l.return}Ks(function(){var z=f,Y=ni(a),$=[];e:{var B=ip.get(t);if(B!==void 0){var F=Hi,pe=t;switch(t){case"keypress":if(Gr(a)===0)break e;case"keydown":case"keyup":F=Pu;break;case"focusin":pe="focus",F=Qr;break;case"focusout":pe="blur",F=Qr;break;case"beforeblur":case"afterblur":F=Qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Wg:case ep:case tp:F=Iu;break;case np:F=b;break;case"scroll":case"scrollend":F=Zl;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ds;break;case"toggle":case"beforetoggle":F=Ve}var xe=(n&4)!==0,yt=!xe&&(t==="scroll"||t==="scrollend"),P=xe?B!==null?B+"Capture":null:B;xe=[];for(var V=z,U;V!==null;){var X=V;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||P===null||(X=_i(V,P),X!=null&&xe.push(Co(V,X,U))),yt)break;V=V.return}0<xe.length&&(B=new F(B,pe,null,a,Y),$.push({event:B,listeners:xe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Yl&&(pe=a.relatedTarget||a.fromElement)&&(ji(pe)||pe[Vi]))break e;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(pe=a.relatedTarget||a.toElement,F=z,pe=pe?ji(pe):null,pe!==null&&(yt=c(pe),xe=pe.tag,pe!==yt||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(F=null,pe=z),F!==pe)){if(xe=Jl,X="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(xe=ds,X="onPointerLeave",P="onPointerEnter",V="pointer"),yt=F==null?B:jn(F),U=pe==null?B:jn(pe),B=new xe(X,V+"leave",F,a,Y),B.target=yt,B.relatedTarget=U,X=null,ji(Y)===z&&(xe=new xe(P,V+"enter",pe,a,Y),xe.target=U,xe.relatedTarget=yt,X=xe),yt=X,F&&pe)t:{for(xe=Nb,P=F,V=pe,U=0,X=P;X;X=xe(X))U++;X=0;for(var Ee=V;Ee;Ee=xe(Ee))X++;for(;0<U-X;)P=xe(P),U--;for(;0<X-U;)V=xe(V),X--;for(;U--;){if(P===V||V!==null&&P===V.alternate){xe=P;break t}P=xe(P),V=xe(V)}xe=null}else xe=null;F!==null&&A0($,B,F,xe,!1),pe!==null&&yt!==null&&A0($,yt,pe,xe,!0)}}e:{if(B=z?jn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ze=qg;else if(zg(B))if(Hg)Ze=LT;else{Ze=jT;var _e=kT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ia(z.elementType)&&(Ze=qg):Ze=PT;if(Ze&&(Ze=Ze(t,z))){Bg($,Ze,a,Y);break e}_e&&_e(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Gl(B,"number",B.value)}switch(_e=z?jn(z):window,t){case"focusin":(zg(_e)||_e.contentEditable==="true")&&(La=_e,nf=z,io=null);break;case"focusout":io=nf=La=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Zg($,a,Y);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Zg($,a,Y)}var je;if(et)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Pa?Yr(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Ki&&a.locale!=="ko"&&(Pa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Pa&&(je=$l()):(qi=Y,Xl="value"in qi?qi.value:qi.textContent,Pa=!0)),_e=Nc(z,qe),0<_e.length&&(qe=new Gi(qe,t,null,a,Y),$.push({event:qe,listeners:_e}),je?qe.data=je:(je=ja(a),je!==null&&(qe.data=je)))),(je=si?DT(t,a):OT(t,a))&&(qe=Nc(z,"onBeforeInput"),0<qe.length&&(_e=new Gi("onBeforeInput","beforeinput",null,a,Y),$.push({event:_e,listeners:qe}),_e.data=je)),Sb($,t,z,a,Y)}S0($,n)})}function Co(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_i(t,a),h!=null&&l.unshift(Co(t,h,f)),h=_i(t,n),h!=null&&l.push(Co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A0(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=_i(a,f),z!=null&&y.unshift(Co(a,z,C))):h||(z=_i(a,f),z!=null&&y.push(Co(a,z,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var Rb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function x0(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Cb,"")}function N0(t,n){return n=x0(n),x0(t)===n}function pt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&xn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":Ql(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&pt(t,n,"name",h.name,h,null),pt(t,n,"formEncType",h.formEncType,h,null),pt(t,n,"formMethod",h.formMethod,h,null),pt(t,n,"formTarget",h.formTarget,h,null)):(pt(t,n,"encType",h.encType,h,null),pt(t,n,"method",h.method,h,null),pt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=yi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,Ra(t,a,l))}}function Cd(t,n,a,l,h,f){switch(a){case"style":Ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[_t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function cn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:pt(t,n,f,y,a,null)}}h&&pt(t,n,"srcSet",a.srcSet,a,null),l&&pt(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=f=y=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:pt(t,n,l,Y,a,null)}}wu(t,f,T,C,z,y,h,!1);return;case"select":ze("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:pt(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?qs(t,!!l,n,!1):a!=null&&qs(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:pt(t,n,y,T,a,null)}Hs(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pt(t,n,C,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ro.length;l++)ze(Ro[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:pt(t,n,z,l,a,null)}return;default:if(Ia(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Cd(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&pt(t,n,T,l,a,null))}function Ib(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,C=null,z=null,Y=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||pt(t,n,F,null,l,$)}}for(var B in l){var F=l[B];if($=a[B],l.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Y=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&pt(t,n,B,F,l,$)}}Ca(t,y,T,C,z,Y,f,h);return;case"select":F=y=T=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||pt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==C&&pt(t,n,h,f,l,C)}n=T,a=y,l=F,B!=null?qs(t,!!a,B,!1):!!l!=!!a&&(n!=null?qs(t,!!a,n,!0):qs(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&pt(t,n,y,h,l,f)}Au(t,B,F);return;case"option":for(var pe in a)if(B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:pt(t,n,pe,null,l,B)}for(C in l)if(B=l[C],F=a[C],l.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:pt(t,n,C,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)B=a[xe],a.hasOwnProperty(xe)&&B!=null&&!l.hasOwnProperty(xe)&&pt(t,n,xe,null,l,B);for(z in l)if(B=l[z],F=a[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:pt(t,n,z,B,l,F)}return;default:if(Ia(n)){for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!==void 0&&!l.hasOwnProperty(yt)&&Cd(t,n,yt,void 0,l,B);for(Y in l)B=l[Y],F=a[Y],!l.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||Cd(t,n,Y,B,l,F);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&pt(t,n,P,null,l,B);for($ in l)B=l[$],F=a[$],!l.hasOwnProperty($)||B===F||B==null&&F==null||pt(t,n,$,B,l,F)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&R0(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Y=C.transferSize,$=C.initiatorType;Y&&R0($)&&(C=C.responseEnd,y+=Y*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Dd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function C0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function Ob(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(kb)}:D0;function kb(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function M0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),hl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Io(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Io(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[ki]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Io(t.ownerDocument.body);a=h}while(a);hl(n)}function V0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jb(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ki])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=hi(t.nextSibling),t===null)break}return null}function Pb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=hi(t.nextSibling),t===null))return null;return t}function k0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=hi(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function j0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return hi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function P0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L0(t,n,a){switch(n=Rc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Na(t)}var fi=new Map,U0=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rs=ee.d;ee.d={f:Ub,r:zb,D:Bb,C:qb,L:Hb,m:Fb,X:Kb,S:Gb,M:Qb};function Ub(){var t=Rs.f(),n=Ec();return t||n}function zb(t){var n=ti(t);n!==null&&n.tag===5&&n.type==="form"?ny(n):Rs.r(t)}var ol=typeof document>"u"?null:document;function z0(t,n,a){var l=ol;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U0.has(h)||(U0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),qt(n),l.head.appendChild(n)))}}function Bb(t){Rs.D(t),z0("dns-prefetch",t,null)}function qb(t,n){Rs.C(t,n),z0("preconnect",t,n)}function Hb(t,n,a){Rs.L(t,n,a);var l=ol;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=ul(t);break;case"script":f=cl(t)}fi.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),fi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Do(f))||n==="script"&&l.querySelector(Oo(f))||(n=l.createElement("link"),cn(n,"link",t),qt(n),l.head.appendChild(n)))}}function Fb(t,n){Rs.m(t,n);var a=ol;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cl(t)}if(!fi.has(f)&&(t=w({rel:"modulepreload",href:t},n),fi.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(f)))return}l=a.createElement("link"),cn(l,"link",t),qt(l),a.head.appendChild(l)}}}function Gb(t,n,a){Rs.S(t,n,a);var l=ol;if(l&&t){var h=Pi(l).hoistableStyles,f=ul(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Do(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=fi.get(f))&&Ld(t,a);var C=y=l.createElement("link");qt(C),cn(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function Kb(t,n){Rs.X(t,n);var a=ol;if(a&&t){var l=Pi(a).hoistableScripts,h=cl(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=w({src:t,async:!0},n),(n=fi.get(h))&&Ud(t,n),f=a.createElement("script"),qt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Qb(t,n){Rs.M(t,n);var a=ol;if(a&&t){var l=Pi(a).hoistableScripts,h=cl(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=fi.get(h))&&Ud(t,n),f=a.createElement("script"),qt(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B0(t,n,a,l){var h=(h=ve.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ul(a.href),a=Pi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ul(a.href);var f=Pi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Do(t)))&&!f._p&&(y.instance=f,y.state.loading=5),fi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(t,a),f||Yb(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cl(a),a=Pi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ul(t){return'href="'+An(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function q0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",a),qt(n),t.head.appendChild(n))}function cl(t){return'[src="'+An(t)+'"]'}function Oo(t){return"script[async]"+t}function H0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return n.instance=l,qt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),qt(l),cn(l,"style",h),Ic(l,a.precedence,t),n.instance=l;case"stylesheet":h=ul(a.href);var f=t.querySelector(Do(h));if(f)return n.state.loading|=4,n.instance=f,qt(f),f;l=q0(a),(h=fi.get(h))&&Ld(l,h),f=(t.ownerDocument||t).createElement("link"),qt(f);var y=f;return y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),cn(f,"link",l),n.state.loading|=4,Ic(f,a.precedence,t),n.instance=f;case"script":return f=cl(a.src),(h=t.querySelector(Oo(f)))?(n.instance=h,qt(h),h):(l=a,(h=fi.get(f))&&(l=w({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),qt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ic(l,a.precedence,t));return n.instance}function Ic(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function F0(t,n,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ki]||f[st]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function G0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Xb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $b(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ul(l.href),f=n.querySelector(Do(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,qt(f);return}f=n.ownerDocument||n,l=q0(l),(h=fi.get(h))&&Ld(l,h),f=f.createElement("link"),qt(f);var y=f;y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),cn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function Zb(t,n){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&zd===0&&(zd=62500*Db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(Jb,t),Mc=null,Oc.call(t))}function Jb(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Mo={$$typeof:he,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Wb(t,n,a,l,h,f,y,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q0(t,n,a,l,h,f,y,T,C,z,Y,$){return t=new Wb(t,n,a,y,C,z,Y,$,T),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Sf(f),t}function Y0(t){return t?(t=Ba,t):Ba}function X0(t,n,a,l,h,f){h=Y0(h),l.context===null?l.context=h:l.pendingContext=h,l=tr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=nr(t,l,n),a!==null&&(Dn(a,t,n),co(a,t,n))}function $0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bd(t,n){$0(t,n),(t=t.alternate)&&$0(t,n)}function Z0(t){if(t.tag===13||t.tag===31){var n=Zr(t,67108864);n!==null&&Dn(n,t,67108864),Bd(t,67108864)}}function J0(t){if(t.tag===13||t.tag===31){var n=Fn();n=D(n);var a=Zr(t,n);a!==null&&Dn(a,t,n),Bd(t,n)}}var kc=!0;function eS(t,n,a,l){var h=H.T;H.T=null;var f=ee.p;try{ee.p=2,qd(t,n,a,l)}finally{ee.p=f,H.T=h}}function tS(t,n,a,l){var h=H.T;H.T=null;var f=ee.p;try{ee.p=8,qd(t,n,a,l)}finally{ee.p=f,H.T=h}}function qd(t,n,a,l){if(kc){var h=Hd(l);if(h===null)Rd(t,n,l,jc,a),e_(t,l);else if(iS(h,t,n,a,l))l.stopPropagation();else if(e_(t,l),n&4&&-1<nS.indexOf(t)){for(;h!==null;){var f=ti(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=at(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var C=1<<31-ht(y);T.entanglements[1]|=C,y&=~C}$i(f),(tt&6)===0&&(_c=Bt()+500,No(0))}}break;case 31:case 13:T=Zr(f,2),T!==null&&Dn(T,f,2),Ec(),Bd(f,2)}if(f=Hd(l),f===null&&Rd(t,n,l,jc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rd(t,n,l,null,a)}}function Hd(t){return t=ni(t),Fd(t)}var jc=null;function Fd(t){if(jc=null,t=ji(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function W0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case Di:return 2;case Oi:return 8;case kn:case zs:return 32;case os:return 268435456;default:return 32}default:return 32}}var Gd=!1,dr=null,mr=null,gr=null,Vo=new Map,ko=new Map,pr=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(n.pointerId)}}function jo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ti(n),n!==null&&Z0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function iS(t,n,a,l,h){switch(n){case"focusin":return dr=jo(dr,t,n,a,l,h),!0;case"dragenter":return mr=jo(mr,t,n,a,l,h),!0;case"mouseover":return gr=jo(gr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vo.set(f,jo(Vo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ko.set(f,jo(ko.get(f)||null,t,n,a,l,h)),!0}return!1}function t_(t){var n=ji(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,At(t.priority,function(){J0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,At(t.priority,function(){J0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yl=l,a.target.dispatchEvent(l),Yl=null}else return n=ti(a),n!==null&&Z0(n),t.blockedOn=a,!1;n.shift()}return!0}function n_(t,n,a){Pc(t)&&a.delete(n)}function sS(){Gd=!1,dr!==null&&Pc(dr)&&(dr=null),mr!==null&&Pc(mr)&&(mr=null),gr!==null&&Pc(gr)&&(gr=null),Vo.forEach(n_),ko.forEach(n_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sS)))}var Uc=null;function i_(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var f=ti(a);f!==null&&(t.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hl(t){function n(C){return Lc(C,t)}dr!==null&&Lc(dr,t),mr!==null&&Lc(mr,t),gr!==null&&Lc(gr,t),Vo.forEach(n),ko.forEach(n);for(var a=0;a<pr.length;a++){var l=pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[_t]||null;if(typeof f=="function")y||i_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[_t]||null)T=y.formAction;else if(Fd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}zc.prototype.render=Kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Fn();X0(a,l,t,n,null,null)},zc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;X0(t.current,2,null,t,null,null),Ec(),n[Vi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=it();t={blockedOn:null,target:t,priority:n};for(var a=0;a<pr.length&&n!==0&&n<pr[a].priority;a++);pr.splice(a,0,t),a===0&&t_(t)}};var r_=e.version;if(r_!=="19.2.0")throw Error(r(527,r_,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{gn=Bc.inject(rS),kt=Bc}catch{}}return Lo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=fy,f=dy,y=my;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Q0(t,1,!1,null,null,a,l,null,h,f,y,s_),t[Vi]=n.current,Nd(t),new Kd(n)},Lo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=fy,y=dy,T=my,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Q0(t,1,!0,n,a??null,l,h,C,f,y,T,s_),n.context=Y0(null),a=n.current,l=Fn(),l=D(l),h=tr(l),h.callback=null,nr(a,h,l),a=l,n.current.lanes=a,Wn(n,a),$i(n),t[Vi]=n.current,Nd(t),new zc(n)},Lo.version="19.2.0",Lo}var g_;function gS(){if(g_)return Xd.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=mS(),Xd.exports}var pS=gS();const yS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_S=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=_S(s);return e.charAt(0).toUpperCase()+e.slice(1)},e1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),vS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ES={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TS=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>oe.createElement("svg",{ref:_,...ES,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:e1("lucide",o),...!c&&!vS(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,S])=>oe.createElement(v,S)),...Array.isArray(c)?c:[c]]));const Xe=(s,e)=>{const i=oe.forwardRef(({className:r,...o},c)=>oe.createElement(TS,{ref:c,iconNode:e,className:e1(`lucide-${yS(p_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=p_(s),i};const bS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],SS=Xe("award",bS);const wS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],AS=Xe("calendar-days",wS);const xS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NS=Xe("check",xS);const RS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oh=Xe("chevron-right",RS);const CS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t1=Xe("chevron-left",CS);const IS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y_=Xe("circle-check-big",IS);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],__=Xe("circle-pause",DS);const OS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MS=Xe("circle-play",OS);const VS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kS=Xe("clipboard-list",VS);const jS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Go=Xe("clock",jS);const PS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LS=Xe("download",PS);const US=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],zS=Xe("history",US);const BS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],qS=Xe("key-round",BS);const HS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v_=Xe("lock",HS);const FS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fm=Xe("log-out",FS);const GS=[["path",{d:"M5 12h14",key:"1ays0h"}]],KS=Xe("minus",GS);const QS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],YS=Xe("octagon-alert",QS);const XS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$c=Xe("pen",XS);const $S=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],n1=Xe("piggy-bank",$S);const ZS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zc=Xe("plus",ZS);const JS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dm=Xe("rotate-ccw",JS);const WS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i1=Xe("settings",WS);const ew=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],tw=Xe("share",ew);const nw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s1=Xe("shield-check",nw);const iw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mm=Xe("star",iw);const sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wd=Xe("target",sw);const rw=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],aw=Xe("thumbs-down",rw);const lw=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ow=Xe("thumbs-up",lw);const uw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],em=Xe("trash-2",uw);const cw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hw=Xe("user-plus",cw);const fw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gm=Xe("users",fw);const dw=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E_=Xe("wallet",dw);const mw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=Xe("x",mw),gw=()=>{};var T_={};const r1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pw=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(M=64)),r.push(i[S],i[w],i[M],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(r1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||w==null)throw new yw;const M=c<<2|p>>4;if(r.push(M),v!==64){const G=p<<4&240|v>>2;if(r.push(G),w!==64){const te=v<<6&192|w;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _w=function(s){const e=r1(s);return a1.encodeByteArray(e,!0)},uh=function(s){return _w(s).replace(/\./g,"")},l1=function(s){try{return a1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ew=()=>vw().__FIREBASE_DEFAULTS__,Tw=()=>{if(typeof process>"u"||typeof T_>"u")return;const s=T_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&l1(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return gw()||Ew()||Tw()||bw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},o1=s=>Dh()?.emulatorHosts?.[s],Sw=s=>{const e=o1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},u1=()=>Dh()?.config,c1=s=>Dh()?.[`_${s}`];class ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h1(s){return(await fetch(s,{credentials:"include"})).ok}function Aw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(i)),uh(JSON.stringify(d)),""].join(".")}const Ko={};function xw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?s.emulator.push(e):s.prod.push(e);return s}function Nw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let b_=!1;function f1(s,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||Ko[s]===e||Ko[s]||b_)return;Ko[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=xw().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{b_=!0,d()},M}function S(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Nw(r),G=i("text"),te=document.getElementById(G)||document.createElement("span"),ie=i("learnmore"),ne=document.getElementById(ie)||document.createElement("a"),ye=i("preprendIcon"),me=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const he=M.element;p(he),S(ne,ie);const Pe=v();_(me,ye),he.append(me,te,ne,Pe),document.body.appendChild(he)}c?(te.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Cw(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mw(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Vw(){return!Cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Pw="FirebaseError";class js extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Pw,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Lw(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new js(o,p,r)}}function Lw(s,e){return s.replace(Uw,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Uw=/\{\$([^}]+)}/g;function zw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ma(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(S_(c)&&S_(d)){if(!ma(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function S_(s){return s!==null&&typeof s=="object"}function cu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function zo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Bw(s,e){const i=new qw(s,e);return i.subscribe.bind(i)}class qw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Hw(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function tm(){}function Wt(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class Fw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ww;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(s){return s===ca?void 0:s}function Kw(s){return s.instantiationMode==="EAGER"}class Qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Fw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const Yw={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Xw=He.INFO,$w={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Zw=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=$w[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Xw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Jw=(s,e)=>e.some(i=>s instanceof i);let w_,A_;function Ww(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eA(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,pm=new WeakMap,m1=new WeakMap,nm=new WeakMap,Km=new WeakMap;function tA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(wr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d1.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function nA(s){if(pm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let ym={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||m1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function iA(s){ym=s(ym)}function sA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(im(this),e,...i);return m1.set(r,e.sort?e.sort():[e]),wr(r)}:eA().includes(s)?function(...e){return s.apply(im(this),e),wr(d1.get(this))}:function(...e){return wr(s.apply(im(this),e))}}function rA(s){return typeof s=="function"?sA(s):(s instanceof IDBTransaction&&nA(s),Jw(s,Ww())?new Proxy(s,ym):s)}function wr(s){if(s instanceof IDBRequest)return tA(s);if(nm.has(s))return nm.get(s);const e=rA(s);return e!==s&&(nm.set(s,e),Km.set(e,s)),e}const im=s=>Km.get(s);function aA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=wr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(wr(d.result),_.oldVersion,_.newVersion,wr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const lA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],sm=new Map;function x_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=oA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||lA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return sm.set(e,c),c}iA(s=>({...s,get:(e,i,r)=>x_(e,i)||s.get(e,i,r),has:(e,i)=>!!x_(e,i)||s.has(e,i)}));class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function cA(s){return s.getComponent()?.type==="VERSION"}const _m="@firebase/app",N_="0.14.6";const Os=new Gm("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",pA="@firebase/auth",yA="@firebase/auth-compat",_A="@firebase/database",vA="@firebase/data-connect",EA="@firebase/database-compat",TA="@firebase/functions",bA="@firebase/functions-compat",SA="@firebase/installations",wA="@firebase/installations-compat",AA="@firebase/messaging",xA="@firebase/messaging-compat",NA="@firebase/performance",RA="@firebase/performance-compat",CA="@firebase/remote-config",IA="@firebase/remote-config-compat",DA="@firebase/storage",OA="@firebase/storage-compat",MA="@firebase/firestore",VA="@firebase/ai",kA="@firebase/firestore-compat",jA="firebase",PA="12.6.0";const vm="[DEFAULT]",LA={[_m]:"fire-core",[hA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[pA]:"fire-auth",[yA]:"fire-auth-compat",[_A]:"fire-rtdb",[vA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[TA]:"fire-fn",[bA]:"fire-fn-compat",[SA]:"fire-iid",[wA]:"fire-iid-compat",[AA]:"fire-fcm",[xA]:"fire-fcm-compat",[NA]:"fire-perf",[RA]:"fire-perf-compat",[CA]:"fire-rc",[IA]:"fire-rc-compat",[DA]:"fire-gcs",[OA]:"fire-gcs-compat",[MA]:"fire-fst",[kA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[jA]:"fire-js-all"};const ch=new Map,UA=new Map,Em=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(i){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function wl(s){const e=s.name;if(Em.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,s);for(const i of ch.values())R_(i,s);for(const i of UA.values())R_(i,s);return!0}function Qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function di(s){return s==null?!1:s.settings!==void 0}const zA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new uu("app","Firebase",zA);class BA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Ml=PA;function g1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(i||(i=u1()),!i)throw Ar.create("no-options");const c=ch.get(o);if(c){if(ma(i,c.options)&&ma(r,c.config))return c;throw Ar.create("duplicate-app",{appName:o})}const d=new Qw(o);for(const _ of Em.values())d.addComponent(_);const p=new BA(i,r,d);return ch.set(o,p),p}function p1(s=vm){const e=ch.get(s);if(!e&&s===vm&&u1())return g1();if(!e)throw Ar.create("no-app",{appName:s});return e}function xr(s,e,i){let r=LA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(d.join(" "));return}wl(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,Jo="firebase-heartbeat-store";let rm=null;function y1(){return rm||(rm=aA(qA,HA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ar.create("idb-open",{originalErrorMessage:s.message})})),rm}async function FA(s){try{const i=(await y1()).transaction(Jo),r=await i.objectStore(Jo).get(_1(s));return await i.done,r}catch(e){if(e instanceof js)Os.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e?.message});Os.warn(i.message)}}}async function C_(s,e){try{const r=(await y1()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,_1(s)),await r.done}catch(i){if(i instanceof js)Os.warn(i.message);else{const r=Ar.create("idb-set",{originalErrorMessage:i?.message});Os.warn(r.message)}}}function _1(s){return`${s.name}!${s.options.appId}`}const GA=1024,KA=30;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>KA){const o=$A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:i,unsentEntries:r}=YA(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Os.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function YA(s,e=GA){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function $A(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function ZA(s){wl(new ga("platform-logger",e=>new uA(e),"PRIVATE")),wl(new ga("heartbeat",e=>new QA(e),"PRIVATE")),xr(_m,N_,s),xr(_m,N_,"esm2020"),xr("fire-js","")}ZA("");var JA="firebase",WA="12.6.0";xr(JA,WA,"app");function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ex=v1,E1=new uu("auth","Firebase",v1());const hh=new Gm("@firebase/auth");function tx(s,...e){hh.logLevel<=He.WARN&&hh.warn(`Auth (${Ml}): ${s}`,...e)}function Jc(s,...e){hh.logLevel<=He.ERROR&&hh.error(`Auth (${Ml}): ${s}`,...e)}function Ri(s,...e){throw Ym(s,...e)}function Wi(s,...e){return Ym(s,...e)}function T1(s,e,i){const r={...ex(),[e]:i};return new uu("auth","Firebase",r).create(e,{appName:s.name})}function Ds(s){return T1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return E1.create(s,...e)}function Ne(s,e,...i){if(!s)throw Ym(e,...i)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function Ms(s,e){s||Cs(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function nx(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nx()||Dw()||"connection"in navigator)?navigator.onLine:!0}function sx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class hu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ms(i>e,"Short delay should be less than long delay!"),this.isMobile=Rw()||Ow()}get(){return ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,e){Ms(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class b1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ax=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lx=new hu(3e4,6e4);function Ps(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ls(s,e,i,r,o={}){return S1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=cu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return Iw()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(v.credentials="include"),b1.fetch()(await w1(s,s.config.apiHost,i,p),v)})}async function S1(s,e,i){s._canInitEmulator=!1;const r={...rx,...e};try{const o=new ux(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw qc(s,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw T1(s,S,v);Ri(s,S)}}catch(o){if(o instanceof js)throw o;Ri(s,"network-request-failed",{message:String(o)})}}async function fu(s,e,i,r,o={}){const c=await Ls(s,e,i,r,o);return"mfaPendingCredential"in c&&Ri(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function w1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Xm(s.config,o):`${s.config.apiScheme}://${o}`;return ax.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ox(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),lx.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Wi(s,e,r);return o.customData._tokenResponse=i,o}function M_(s){return s!==void 0&&s.enterprise!==void 0}class cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return ox(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hx(s,e){return Ls(s,"GET","/v2/recaptchaConfig",Ps(s,e))}async function fx(s,e){return Ls(s,"POST","/v1/accounts:delete",e)}async function fh(s,e){return Ls(s,"POST","/v1/accounts:lookup",e)}function Qo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dx(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),o=$m(r);Ne(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Qo(am(o.auth_time)),issuedAtTime:Qo(am(o.iat)),expirationTime:Qo(am(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function $m(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=l1(i);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(s){const e=$m(s);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof js&&mx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function mx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class gx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dh(s){const e=s.auth,i=await s.getIdToken(),r=await Wo(s,fh(e,{idToken:i}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?A1(o.providerUserInfo):[],d=yx(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function px(s){const e=Wt(s);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yx(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function _x(s,e){const i=await S1(s,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await w1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(_.credentials="include"),b1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vx(s,e){return Ls(s,"POST","/v2/accounts:revokeToken",Ps(s,e))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const i=V_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await _x(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new _l;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function _r(s,e){Ne(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new gx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return dx(this,e)}reload(){return px(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await Wo(this,fx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:te,stsTokenManager:ie}=i;Ne(w&&ie,e,"internal-error");const ne=_l.fromJSON(this.name,ie);Ne(typeof w=="string",e,"internal-error"),_r(r,e.name),_r(o,e.name),Ne(typeof M=="boolean",e,"internal-error"),Ne(typeof G=="boolean",e,"internal-error"),_r(c,e.name),_r(d,e.name),_r(p,e.name),_r(_,e.name),_r(v,e.name),_r(S,e.name);const ye=new Ni({uid:w,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ne,createdAt:v,lastLoginAt:S});return te&&Array.isArray(te)&&(ye.providerData=te.map(me=>({...me}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,i,r=!1){const o=new _l;o.updateFromServerResponse(i);const c=new Ni({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await dh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?A1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new _l;p.updateFromIdToken(r);const _=new Ni({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const k_=new Map;function Is(s){Ms(s instanceof Function,"Expected a class definition");let e=k_.get(s);return e?(Ms(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,k_.set(s,e),e)}class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}x1.type="NONE";const j_=x1;function Wc(s,e,i){return`firebase:${s}:${e}:${i}`}class vl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await fh(this.auth,{idToken:e}).catch(()=>{});return i?Ni._fromGetAccountInfoResponse(this.auth,i,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new vl(Is(j_),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Is(j_);const d=Wc(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let w;if(typeof S=="string"){const M=await fh(e,{idToken:S}).catch(()=>{});if(!M)break;w=await Ni._fromGetAccountInfoResponse(e,M,S)}else w=Ni._fromJSON(e,S);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new vl(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new vl(c,e,r))}}function P_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||C1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function N1(s=En()){return/firefox\//i.test(s)}function R1(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C1(s=En()){return/crios\//i.test(s)}function I1(s=En()){return/iemobile/i.test(s)}function D1(s=En()){return/android/i.test(s)}function O1(s=En()){return/blackberry/i.test(s)}function M1(s=En()){return/webos/i.test(s)}function Zm(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ex(s=En()){return Zm(s)&&!!window.navigator?.standalone}function Tx(){return Mw()&&document.documentMode===10}function V1(s=En()){return Zm(s)||D1(s)||M1(s)||O1(s)||/windows phone/i.test(s)||I1(s)}function k1(s,e=[]){let i;switch(s){case"Browser":i=P_(En());break;case"Worker":i=`${P_(En())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ml}/${r}`}class bx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Sx(s,e={}){return Ls(s,"GET","/v2/passwordPolicy",Ps(s,e))}const wx=6;class Ax{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??wx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class xx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new bx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await fh(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Ds(this));const i=e?Wt(e):null;return i&&Ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sx(this),i=new Ax(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await vx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Is(e)||this._popupRedirectResolver;Ne(i,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kr(s){return Wt(s)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bw(i=>this.observer=i)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nx(s){Oh=s}function j1(s){return Oh.loadJS(s)}function Rx(){return Oh.recaptchaEnterpriseScript}function Cx(){return Oh.gapiScript}function Ix(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Dx{constructor(){this.enterprise=new Ox}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Ox{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Mx="recaptcha-enterprise",P1="NO_RECAPTCHA";class Vx{constructor(e){this.type=Mx,this.auth=kr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{hx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new cx(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;M_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(P1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dx().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&M_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Rx();_.length!==0&&(_+=p),j1(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function U_(s,e,i,r=!1,o=!1){const c=new Vx(s);let d;if(o)d=P1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function mh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U_(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function kx(s,e){const i=Qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ma(c,e??{}))return o;Ri(o,"already-initialized")}return i.initialize({options:e})}function jx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Px(s,e,i){const r=kr(s);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=L1(e),{host:d,port:p}=Lx(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ma(v,r.config.emulator)&&ma(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Ol(d)?(h1(`${c}//${d}${_}`),f1("Auth",!0)):Ux()}function L1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Lx(s){const e=L1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:z_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:z_(d)}}}function z_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ux(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Jm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,i){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function zx(s,e){return Ls(s,"POST","/v1/accounts:signUp",e)}async function Bx(s,e){return fu(s,"POST","/v1/accounts:signInWithPassword",Ps(s,e))}async function qx(s,e){return Ls(s,"POST","/v1/accounts:sendOobCode",Ps(s,e))}async function Hx(s,e){return qx(s,e)}async function Fx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Ps(s,e))}async function Gx(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Ps(s,e))}class eu extends Jm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new eu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new eu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,i,"signInWithPassword",Bx);case"emailLink":return Fx(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,r,"signUpPassword",zx);case"emailLink":return Gx(e,{idToken:i,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function El(s,e){return fu(s,"POST","/v1/accounts:signInWithIdp",Ps(s,e))}const Kx="http://localhost";class pa extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new pa(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return El(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,El(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,El(e,i)}buildRequest(){const e={requestUri:Kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=cu(i)}return e}}function Qx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(s){const e=Uo(zo(s)).link,i=e?Uo(zo(e)).deep_link_id:null,r=Uo(zo(s)).deep_link_id;return(r?Uo(zo(r)).link:null)||r||i||e||s}class Wm{constructor(e){const i=Uo(zo(e)),r=i.apiKey??null,o=i.oobCode??null,c=Qx(i.mode??null);Ne(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Yx(e);try{return new Wm(i)}catch{return null}}}class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,i){return eu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Wm.parseLink(i);return Ne(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class U1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vr extends du{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class Er extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Er.credential(i,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";class Tr extends du{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";class br extends du{constructor(){super("twitter.com")}static credential(e,i){return pa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return br.credential(i,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";async function Xx(s,e){return fu(s,"POST","/v1/accounts:signUp",Ps(s,e))}class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Ni._fromIdTokenResponse(e,r,o),d=B_(r);return new ya({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new ya({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function B_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class gh extends js{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new gh(e,i,r,o)}}function z1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,e,r):c})}async function $x(s,e,i=!1){const r=await Wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ya._forOperation(s,"link",r)}async function Zx(s,e,i=!1){const{auth:r}=s;if(di(r.app))return Promise.reject(Ds(r));const o="reauthenticate";try{const c=await Wo(s,z1(r,o,e,s),i);Ne(c.idToken,r,"internal-error");const d=$m(c.idToken);Ne(d,r,"internal-error");const{sub:p}=d;return Ne(s.uid===p,r,"user-mismatch"),ya._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),c}}async function B1(s,e,i=!1){if(di(s.app))return Promise.reject(Ds(s));const r="signIn",o=await z1(s,r,e),c=await ya._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function q1(s,e){return B1(kr(s),e)}async function H1(s){const e=kr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jx(s,e,i){const r=kr(s);await mh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Hx)}async function Wx(s,e,i){if(di(s.app))return Promise.reject(Ds(s));const r=kr(s),d=await mh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xx).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&H1(s),_}),p=await ya._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function e2(s,e,i){return di(s.app)?Promise.reject(Ds(s)):q1(Wt(s),ba.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H1(s),r})}function t2(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function n2(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function i2(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function s2(s){return Wt(s).signOut()}const ph="__sak";class F1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class G1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Tx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const l2=G1;class K1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}K1.type="SESSION";const Q1=K1;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await o2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function eg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=eg("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function es(){return window}function c2(s){es().location.href=s}function Y1(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return Y1()?self:null}const X1="firebaseLocalStorageDb",m2=1,yh="firebaseLocalStorage",$1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,e){return s.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function g2(){const s=indexedDB.deleteDatabase(X1);return new mu(s).toPromise()}function Sm(){const s=indexedDB.open(X1,m2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yh,{keyPath:$1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await g2(),e(await Sm()))})})}async function q_(s,e,i){const r=Vh(s,!0).put({[$1]:e,value:i});return new mu(r).toPromise()}async function p2(s,e){const i=Vh(s,!1).get(e),r=await new mu(i).toPromise();return r===void 0?null:r.value}function H_(s,e){const i=Vh(s,!0).delete(e);return new mu(i).toPromise()}const y2=800,_2=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>_2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await q_(e,ph,"1"),await H_(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>p2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>H_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Vh(o,!1).getAll();return new mu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const v2=Z1;new hu(3e4,6e4);function E2(s,e){return e?Is(e):(Ne(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,i){return El(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function T2(s){return B1(s.auth,new tg(s),s.bypassAuthState)}function b2(s){const{auth:e,user:i}=s;return Ne(i,e,"internal-error"),Zx(i,new tg(s),s.bypassAuthState)}async function S2(s){const{auth:e,user:i}=s;return Ne(i,e,"internal-error"),$x(i,new tg(s),s.bypassAuthState)}class J1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Ri(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const w2=new hu(2e3,1e4);class pl extends J1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}pl.currentPopupAction=null;const A2="pendingRedirect",eh=new Map;class x2 extends J1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await N2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(s,e){const i=I2(e),r=C2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function R2(s,e){eh.set(s._key(),e)}function C2(s){return Is(s._redirectPersistence)}function I2(s){return Wc(A2,s.config.apiKey,s.name)}async function D2(s,e,i=!1){if(di(s.app))return Promise.reject(Ds(s));const r=kr(s),o=E2(r,e),d=await new x2(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const O2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!W1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Wi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function W1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(s);default:return!1}}async function k2(s,e={}){return Ls(s,"GET","/v1/projects",e)}const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await k2(s);for(const i of e)try{if(U2(i))return}catch{}Ri(s,"unauthorized-domain")}function U2(s){const e=Tm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!P2.test(i))return!1;if(j2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const z2=new hu(3e4,6e4);function G_(){const s=es().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((e,i)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),i(Wi(s,"network-request-failed"))},timeout:z2.get()})}if(es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(es().gapi?.load)r();else{const o=Ix("iframefcb");return es()[o]=()=>{gapi.load?r():i(Wi(s,"network-request-failed"))},j1(`${Cx()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw th=null,e})}let th=null;function q2(s){return th=th||B2(s),th}const H2=new hu(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;Ne(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Xm(e,G2):`https://${s.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:s.name,v:Ml},o=Q2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${cu(r).slice(1)}`}async function X2(s){const e=await q2(s),i=es().gapi;return Ne(i,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Wi(s,"network-request-failed"),p=es().setTimeout(()=>{c(d)},H2.get());function _(){es().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,J2=600,W2="_blank",eN="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(s,e,i,r=Z2,o=J2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$2,width:r.toString(),height:o.toString(),top:c,left:d},v=En().toLowerCase();i&&(p=C1(v)?W2:i),N1(v)&&(e=e||eN,_.scrollbars="yes");const S=Object.entries(_).reduce((M,[G,te])=>`${M}${G}=${te},`,"");if(Ex(v)&&p!=="_self")return nN(e||"",p),new K_(null);const w=window.open(e||"",p,S);Ne(w,s,"popup-blocked");try{w.focus()}catch{}return new K_(w)}function nN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const iN="__/auth/handler",sN="emulator/auth/handler",rN=encodeURIComponent("fac");async function Q_(s,e,i,r,o,c){Ne(s.config.authDomain,s,"auth-domain-config-required"),Ne(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ml,eventId:o};if(e instanceof U1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",zw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof du){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),v=_?`#${rN}=${encodeURIComponent(_)}`:"";return`${aN(s)}?${cu(p).slice(1)}${v}`}function aN({config:s}){return s.emulator?Xm(s,sN):`https://${s.authDomain}/${iN}`}const lm="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=D2,this._overrideRedirectResult=R2}async _openPopup(e,i,r,o){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Q_(e,i,r,Tm(),o);return tN(e,c,eg())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Q_(e,i,r,Tm(),o);return c2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ms(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await X2(e),r=new M2(e);return i.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(lm,{type:lm},o=>{const c=o?.[0]?.[lm];c!==void 0&&i(!!c),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=L2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V1()||R1()||Zm()}}const oN=lN;var Y_="@firebase/auth",X_="1.11.1";class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(s){wl(new ga("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(s)},v=new xx(r,o,c,_);return jx(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),wl(new ga("auth-internal",e=>{const i=kr(e.getProvider("auth").getImmediate());return(r=>new uN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Y_,X_,cN(s)),xr(Y_,X_,"esm2020")}const fN=300,dN=c1("authIdTokenMaxAge")||fN;let $_=null;const mN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>dN)return;const o=i?.token;$_!==o&&($_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(s=p1()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=kx(s,{popupRedirectResolver:oN,persistence:[v2,l2,Q1]}),r=c1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mN(c.toString());n2(i,d,()=>d(i.currentUser)),t2(i,p=>d(p))}}const o=o1("auth");return o&&Px(i,`http://${o}`),i}function pN(){return document.getElementsByTagName("head")?.[0]??document}Nx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Wi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",pN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,eE;(function(){var s;function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(k,O,j){for(var x=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)x[Qe-2]=arguments[Qe];return A.prototype[O].apply(k,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,N){N||(N=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(O=0;O<16;++O)k[O]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],O=R.g[2];let j=R.g[3],x;x=A+(j^N&(O^j))+k[0]+3614090360&4294967295,A=N+(x<<7&4294967295|x>>>25),x=j+(O^A&(N^O))+k[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(N^j&(A^N))+k[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(A^O&(j^A))+k[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=A+(j^N&(O^j))+k[4]+4118548399&4294967295,A=N+(x<<7&4294967295|x>>>25),x=j+(O^A&(N^O))+k[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(N^j&(A^N))+k[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(A^O&(j^A))+k[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=A+(j^N&(O^j))+k[8]+1770035416&4294967295,A=N+(x<<7&4294967295|x>>>25),x=j+(O^A&(N^O))+k[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(N^j&(A^N))+k[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(A^O&(j^A))+k[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=A+(j^N&(O^j))+k[12]+1804603682&4294967295,A=N+(x<<7&4294967295|x>>>25),x=j+(O^A&(N^O))+k[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(N^j&(A^N))+k[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(A^O&(j^A))+k[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=A+(O^j&(N^O))+k[1]+4129170786&4294967295,A=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(A^N))+k[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^N&(j^A))+k[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^A&(O^j))+k[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(N^O))+k[5]+3593408605&4294967295,A=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(A^N))+k[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^N&(j^A))+k[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^A&(O^j))+k[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(N^O))+k[9]+568446438&4294967295,A=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(A^N))+k[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^N&(j^A))+k[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^A&(O^j))+k[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(N^O))+k[13]+2850285829&4294967295,A=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(A^N))+k[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^N&(j^A))+k[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^A&(O^j))+k[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=A+(N^O^j)+k[5]+4294588738&4294967295,A=N+(x<<4&4294967295|x>>>28),x=j+(A^N^O)+k[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^N)+k[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^A)+k[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=A+(N^O^j)+k[1]+2763975236&4294967295,A=N+(x<<4&4294967295|x>>>28),x=j+(A^N^O)+k[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^N)+k[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^A)+k[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=A+(N^O^j)+k[13]+681279174&4294967295,A=N+(x<<4&4294967295|x>>>28),x=j+(A^N^O)+k[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^N)+k[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^A)+k[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=A+(N^O^j)+k[9]+3654602809&4294967295,A=N+(x<<4&4294967295|x>>>28),x=j+(A^N^O)+k[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^N)+k[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^A)+k[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=A+(O^(N|~j))+k[0]+4096336452&4294967295,A=N+(x<<6&4294967295|x>>>26),x=j+(N^(A|~O))+k[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~N))+k[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~A))+k[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=A+(O^(N|~j))+k[12]+1700485571&4294967295,A=N+(x<<6&4294967295|x>>>26),x=j+(N^(A|~O))+k[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~N))+k[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~A))+k[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=A+(O^(N|~j))+k[8]+1873313359&4294967295,A=N+(x<<6&4294967295|x>>>26),x=j+(N^(A|~O))+k[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~N))+k[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~A))+k[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=A+(O^(N|~j))+k[4]+4149444226&4294967295,A=N+(x<<6&4294967295|x>>>26),x=j+(N^(A|~O))+k[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~N))+k[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~A))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,k=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=N;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(k[O++]=R.charCodeAt(j++),O==this.blockSize){o(this,k),O=0;break}}else for(;j<A;)if(k[O++]=R[j++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)R[A++]=this.g[N]>>>k&255;return R};function c(R,A){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function d(R,A){this.h=A;const N=[];let k=!0;for(let O=R.length-1;O>=0;O--){const j=R[O]|0;k&&j==A||(N[O]=j,k=!1)}this.g=N}var p={};function _(R){return-128<=R&&R<128?c(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return ne(v(-R));const A=[];let N=1;for(let k=0;R>=N;k++)A[k]=R/N|0,N*=4294967296;return new d(A,0)}function S(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return ne(S(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let k=w;for(let j=0;j<R.length;j+=8){var O=Math.min(8,R.length-j);const x=parseInt(R.substring(j,j+O),A);O<8?(O=v(Math.pow(A,O)),k=k.j(O).add(v(x))):(k=k.j(N),k=k.add(v(x)))}return k}var w=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(ie(this))return-ne(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);R+=(k>=0?k:4294967296+k)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(te(this))return"0";if(ie(this))return"-"+ne(this).toString(R);const A=v(Math.pow(R,6));var N=this;let k="";for(;;){const O=Pe(N,A).g;N=ye(N,O.j(A));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=O,te(N))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function te(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function ie(R){return R.h==-1}s.l=function(R){return R=ye(this,R),ie(R)?-1:te(R)?0:1};function ne(R){const A=R.g.length,N=[];for(let k=0;k<A;k++)N[k]=~R.g[k];return new d(N,~R.h).add(M)}s.abs=function(){return ie(this)?ne(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let k=0;for(let O=0;O<=A;O++){let j=k+(this.i(O)&65535)+(R.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);k=x>>>16,j&=65535,x&=65535,N[O]=x<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ye(R,A){return R.add(ne(A))}s.j=function(R){if(te(this)||te(R))return w;if(ie(this))return ie(R)?ne(this).j(ne(R)):ne(ne(this).j(R));if(ie(R))return ne(this.j(ne(R)));if(this.l(G)<0&&R.l(G)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var k=0;k<2*A;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<R.g.length;O++){const j=this.i(k)>>>16,x=this.i(k)&65535,Qe=R.i(O)>>>16,re=R.i(O)&65535;N[2*k+2*O]+=x*re,me(N,2*k+2*O),N[2*k+2*O+1]+=j*re,me(N,2*k+2*O+1),N[2*k+2*O+1]+=x*Qe,me(N,2*k+2*O+1),N[2*k+2*O+2]+=j*Qe,me(N,2*k+2*O+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new d(N,0)};function me(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function he(R,A){this.g=R,this.h=A}function Pe(R,A){if(te(A))throw Error("division by zero");if(te(R))return new he(w,w);if(ie(R))return A=Pe(ne(R),A),new he(ne(A.g),ne(A.h));if(ie(A))return A=Pe(R,ne(A)),new he(ne(A.g),A.h);if(R.g.length>30){if(ie(R)||ie(A))throw Error("slowDivide_ only works with positive integers.");for(var N=M,k=A;k.l(R)<=0;)N=Me(N),k=Me(k);var O=we(N,1),j=we(k,1);for(k=we(k,2),N=we(N,2);!te(k);){var x=j.add(k);x.l(R)<=0&&(O=O.add(N),j=x),k=we(k,1),N=we(N,1)}return A=ye(R,O.j(A)),new he(O,A)}for(O=w;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=v(N),x=j.j(A);ie(x)||x.l(R)>0;)N-=k,j=v(N),x=j.j(A);te(j)&&(j=M),O=O.add(j),R=ye(R,x)}return new he(O,R)}s.B=function(R){return Pe(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)&R.i(k);return new d(N,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)|R.i(k);return new d(N,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)^R.i(k);return new d(N,this.h^R.h)};function Me(R){const A=R.g.length+1,N=[];for(let k=0;k<A;k++)N[k]=R.i(k)<<1|R.i(k-1)>>>31;return new d(N,R.h)}function we(R,A){const N=A>>5;A%=32;const k=R.g.length-N,O=[];for(let j=0;j<k;j++)O[j]=A>0?R.i(j+N)>>>A|R.i(j+N+1)<<32-A:R.i(j+N);return new d(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Nr=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tE,Bo,nE,nh,wm,iE,sE,rE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var E=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in E))break e;E=E[L]}u=u[u.length-1],b=E[u],m=m(b),m!=b&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&E.push([b,m[b]]);return E}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=_,v.apply(null,arguments)}function S(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,L,q){for(var ae=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ae[Ve-2]=arguments[Ve];return m.prototype[L].apply(b,ae)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const E=Array(m);for(let b=0;b<m;b++)E[b]=u[b];return E}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const q=L.length||0;u.length=E+q;for(let ae=0;ae<q;ae++)u[E+ae]=L[ae]}else u.push(L)}}class ie{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,E){const b=he.get();b.set(m,E),this.h?this.h.next=b:this.g=b,this.h=b}}var he=new ie(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,we=!1,R=new me,A=()=>{const u=Promise.resolve(void 0);Me=()=>{u.then(N)}};function N(){for(var u;u=ye();){try{u.h.call(u.g)}catch(E){ne(E)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}we=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Qe,O),Qe.prototype.init=function(u,m){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,m,E,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u,m,E){for(const b in u)m.call(E,u[b],b,u)}function le(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function I(u){const m={};for(const E in u)m[E]=u[E];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let E,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(E in b)u[E]=b[E];for(let q=0;q<Q.length;q++)E=Q[q],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,E,b,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ae=ve(u,m,b,L);return ae>-1?(m=u[ae],E||(m.fa=!1)):(m=new ee(m,this.src,q,!!b,L),m.fa=E,u.push(m)),m};function se(u,m){const E=m.type;if(E in u.g){var b=u.g[E],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(ce(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ve(u,m,E,b){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!E&&q.ha==b)return L}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),bt={};function nt(u,m,E,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)nt(u,m[q],E,b,L);return null}return E=Ii(E),u&&u[re]?u.J(m,E,p(b)?!!b.capture:!1,L):Vn(u,m,E,!1,b,L)}function Vn(u,m,E,b,L,q){if(!m)throw Error("Invalid event type");const ae=p(L)?!!L.capture:!!L;let Ve=Xn(u);if(Ve||(u[Ie]=Ve=new ue(u)),E=Ve.add(m,E,b,ae,q),E.proxy)return E;if(b=Kn(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)j||(L=ae),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Tn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Kn(){function u(E){return m.call(u.src,u.listener,E)}const m=mn;return u}function Qn(u,m,E,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qn(u,m[q],E,b,L);else b=p(b)?!!b.capture:!!b,E=Ii(E),u&&u[re]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],E=ve(m,E,b,L),E>-1&&(ce(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Xn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ve(m,E,b,L)),(E=u>-1?m[u]:null)&&Yn(E))}function Yn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])se(m.i,u);else{var E=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(E,b,u.capture):m.detachEvent?m.detachEvent(Tn(E),b):m.addListener&&m.removeListener&&m.removeListener(b),(E=Xn(m))?(se(E,u),E.h==0&&(E.src=null,m[Ie]=null)):ce(u)}}}function Tn(u){return u in bt?bt[u]:bt[u]="on"+u}function mn(u,m){if(u.da)u=!0;else{m=new Qe(m,this);const E=u.listener,b=u.ha||u.src;u.fa&&Yn(u),u=E.call(b,m)}return u}function Xn(u){return u=u[Ie],u instanceof ue?u:null}var $n="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ii(u){return typeof u=="function"?u:(u[$n]||(u[$n]=function(m){return u.handleEvent(m)}),u[$n])}function ct(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}w(ct,k),ct.prototype[re]=!0,ct.prototype.removeEventListener=function(u,m,E,b){Qn(this,u,m,E,b)};function St(u,m){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(b,u),W(m,L)}L=!0;let q,ae;if(E)for(ae=E.length-1;ae>=0;ae--)q=m.g=E[ae],L=wn(q,b,!0,m)&&L;if(q=m.g=u,L=wn(q,b,!0,m)&&L,L=wn(q,b,!1,m)&&L,E)for(ae=0;ae<E.length;ae++)q=m.g=E[ae],L=wn(q,b,!1,m)&&L}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let b=0;b<E.length;b++)ce(E[b]);delete u.g[m],u.h--}}this.G=null},ct.prototype.J=function(u,m,E,b){return this.i.add(String(u),m,!1,E,b)},ct.prototype.K=function(u,m,E,b){return this.i.add(String(u),m,!0,E,b)};function wn(u,m,E,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ae=m[q];if(ae&&!ae.da&&ae.capture==E){const Ve=ae.listener,jt=ae.ha||ae.src;ae.fa&&se(u.i,ae),L=Ve.call(jt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Us(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ls(u){u.g=Us(()=>{u.g=null,u.i&&(u.i=!1,ls(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bt extends k{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ls(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(u){k.call(this),this.h=u,this.g={}}w(Zn,k);var Di=[];function Oi(u){be(u.g,function(m,E){this.g.hasOwnProperty(E)&&Yn(m)},u),u.g={}}Zn.prototype.N=function(){Zn.Z.N.call(this),Oi(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=d.JSON.stringify,zs=d.JSON.parse,os=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Mi(){}function us(){}var gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){O.call(this,"d")}w(kt,O);function en(){O.call(this,"c")}w(en,O);var ht={},K=null;function ge(){return K=K||new ct}ht.Ia="serverreachability";function Le(u){O.call(this,ht.Ia,u)}w(Le,O);function $e(u){const m=ge();St(m,new Le(m))}ht.STAT_EVENT="statevent";function We(u,m){O.call(this,ht.STAT_EVENT,u),this.stat=m}w(We,O);function Se(u){const m=ge();St(m,new We(m,u))}ht.Ja="timingevent";function at(u,m){O.call(this,ht.Ja,u),this.size=m}w(at,O);function wt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ft(){this.g=!0}ft.prototype.ua=function(){this.g=!1};function Jn(u,m,E,b,L,q){u.info(function(){if(u.g)if(q){var ae="",Ve=q.split("&");for(let et=0;et<Ve.length;et++){var jt=Ve[et].split("=");if(jt.length>1){const It=jt[0];jt=jt[1];const si=It.split("_");ae=si.length>=2&&si[1]=="type"?ae+(It+"="+jt+"&"):ae+(It+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+E+`
`+ae})}function pi(u,m,E,b,L,q,ae){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+E+`
`+q+" "+ae})}function dt(u,m,E,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Aa(u,E)+(b?" "+b:"")})}function Wn(u,m){u.info(function(){return"TIMEOUT: "+m})}ft.prototype.info=function(){};function Aa(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var E=q[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<b.length;ae++)b[ae]=""}}}}return kn(q)}catch{return m}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ur;function D(){}w(D,Mi),D.prototype.g=function(){return new XMLHttpRequest},Ur=new D;function Ae(u){return encodeURIComponent(String(u))}function it(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function At(u,m,E,b){this.j=u,this.i=m,this.l=E,this.S=b||1,this.V=new Zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var st={},_t={};function Vi(u,m,E){u.M=1,u.A=zr(Ht(m)),u.u=E,u.R=!0,xa(u,null)}function xa(u,m){u.F=Date.now(),ki(u),u.B=Ht(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ia(E.i,"t",b),u.C=0,E=u.j.L,u.h=new xt,u.g=ku(u.j,E?m:null,!u.u),u.P>0&&(u.O=new Bt(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Di[0]=L.toString()),L=Di);for(let q=0;q<L.length;q++){const ae=nt(E,L[q],b||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$e(),Jn(u.i,u.v,u.B,u.l,u.S,u.u)}At.prototype.ba=function(u){u=u.target;const m=this.O;m&&vi(u)==3?m.j():this.Y(u)},At.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=vi(this.g),jt=this.g.ya(),et=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ve!=4||jt==7||(jt==8||et<=0?$e(3):$e(2)),ji(this);var m=this.g.ca();this.X=m;var E=Jh(this);if(this.o=m==200,pi(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var q=b;break t}}q=null}if(u=q)dt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,u);else{this.o=!1,this.m=3,Se(12),jn(this),ti(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<E.length;)if(It=bu(this,E),It==_t){Ve==4&&(this.m=4,Se(14),u=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(It==st){this.m=4,Se(15),dt(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else dt(this.i,this.l,It,null),Pi(this,It);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||E.length!=0||this.h.h||(this.m=1,Se(16),u=!1),this.o=this.o&&u,!u)dt(this.i,this.l,E,"[Invalid Chunked Response]"),jn(this),ti(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Wl(ae),ae.P=!0,Se(11))}}else dt(this.i,this.l,E,null),Pi(this,E);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?Du(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),jn(this),ti(this)}}}catch{}finally{}};function Jh(u){if(!Tu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let E="";const b=m.length,L=vi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return jn(u),ti(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,E+=u.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function Tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var E=u.C,b=m.indexOf(`
`,E);return b==-1?_t:(E=Number(m.substring(E,b)),isNaN(E)?st:(b+=1,b+E>m.length?_t:(m=m.slice(b,b+E),u.C=b+E,m)))}At.prototype.cancel=function(){this.K=!0,jn(this)};function ki(u){u.T=Date.now()+u.H,Na(u,u.H)}function Na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wt(v(u.aa,u),m)}function ji(u){u.D&&(d.clearTimeout(u.D),u.D=null)}At.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wn(this.i,this.B),this.M!=2&&($e(),Se(17)),jn(this),this.m=2,ti(this)):Na(this,this.T-u)};function ti(u){u.j.I==0||u.K||Du(u.j,u)}function jn(u){ji(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Oi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Pi(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||Ui(E.h,u))){if(!u.L&&Ui(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)ka(E),Ys(E);else break e;Qr(E),Se(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=wt(v(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Gi(E,11)}else if((u.L||E.g==u)&&ka(E),!x(m))for(L=E.Ba.g.parse(m),m=0;m<L.length;m++){let et=L[m];const It=et[0];if(!(It<=E.K))if(E.K=It,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const si=et[3];si!=null&&(E.ka=si,E.j.info("VER="+E.ka));const Ki=et[4];Ki!=null&&(E.za=Ki,E.j.info("SVER="+E.za));const Ei=et[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(b=1.5*Ei,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Ti=u.g;if(Ti){const Yr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var q=b.h;q.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bl(q,q.h),q.h=null))}if(b.G){const ja=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(b.wa=ja,lt(b.J,b.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ae=u;if(b.na=Vu(b,b.L?b.ba:null,b.W),ae.L){ql(b.h,ae);var Ve=ae,jt=b.O;jt&&(Ve.H=jt),Ve.D&&(ji(Ve),ki(Ve)),b.g=ae}else Cu(b);E.i.length>0&&Fi(E)}else et[0]!="stop"&&et[0]!="close"||Gi(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Gi(E,7):Zl(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}$e(4)}catch{}}var qt=class{constructor(u,m){this.g=u,this.map=m}};function Ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Li(u){return u.h?1:u.g?u.g.size:0}function Ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bl(u,m){u.g?u.g.add(m):u.h=m}function ql(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return G(u.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let L,q=null;b>=0?(L=u[E].substring(0,b),q=u[E].substring(b+1)):L=u[E],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Bs(this,u.u),this.h=u.h,Fl(this,Nu(u.i)),this.m=u.m):u&&(m=String(u).match(Su))?(this.l=!1,tn(this,m[1]||"",!0),this.o=zi(m[2]||""),this.g=zi(m[3]||"",!0),Bs(this,m[4]),this.h=zi(m[5]||"",!0),Fl(this,m[6]||"",!0),this.m=zi(m[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Br(m,Ca,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Br(m,Ca,!0),"@"),u.push(Ae(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Br(E,E.charAt(0)=="/"?Gl:wu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Br(E,Au)),u.join("")},Pn.prototype.resolve=function(u){const m=Ht(this);let E=!!u.j;E?tn(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var b=u.h;if(E)Bs(m,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ae=0;ae<L.length;){const Ve=L[ae++];Ve=="."?b&&ae==L.length&&q.push(""):Ve==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ae==L.length&&q.push("")):(q.push(Ve),b=!0)}b=q.join("/")}else b=L}return E?m.h=b:E=u.i.toString()!=="",E?Fl(m,Nu(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Ht(u){return new Pn(u)}function tn(u,m,E){u.j=E?zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fl(u,m,E){m instanceof Hs?(u.i=m,Da(u.i,u.l)):(E||(m=Br(m,qs)),u.i=new Hs(m,u.l))}function lt(u,m,E){u.i.set(m,E)}function zr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,An),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ca=/[#\/\?@]/g,wu=/[#\?:]/g,Gl=/[#\?]/g,qs=/[#\?@]/g,Au=/#/g;function Hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=Hs.prototype,s.add=function(u,m){xn(this),this.i=null,u=Fs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function xu(u,m){xn(u),m=Fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kl(u,m){return xn(u),m=Fs(u,m),u.g.has(m)}s.forEach=function(u,m){xn(this),this.g.forEach(function(E,b){E.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Ql(u,m){xn(u);let E=[];if(typeof m=="string")Kl(u,m)&&(E=E.concat(u.g.get(Fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return xn(this),this.i=null,u=Fs(this,u),Kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ql(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,E){xu(u,m),E.length>0&&(u.i=null,u.g.set(Fs(u,m),G(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var E=m[b];const L=Ae(E);E=Ql(this,E);for(let q=0;q<E.length;q++){let ae=L;E[q]!==""&&(ae+="="+Ae(E[q])),u.push(ae)}}return this.i=u.join("&")};function Nu(u){const m=new Hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Da(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(E,b){const L=b.toLowerCase();b!=L&&(xu(this,b),Ia(this,L,E))},u)),u.j=m}function yi(u,m){const E=new ft;if(d.Image){const b=new Image;b.onload=S(ni,E,"TestLoadImage: loaded",!0,m,b),b.onerror=S(ni,E,"TestLoadImage: error",!1,m,b),b.onabort=S(ni,E,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(ni,E,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Yl(u,m){const E=new ft,b=new AbortController,L=setTimeout(()=>{b.abort(),ni(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?ni(E,"TestPingServer: ok",!0,m):ni(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ni(E,"TestPingServer: error",!1,m)})}function ni(u,m,E,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(E)}catch{}}function Gs(){this.g=new os}function Bi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Bi,Mi),Bi.prototype.g=function(){return new qr(this.i,this.h)};function qr(u,m){ct.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(qr,ct),s=qr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,_i(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ks(this):_i(this),this.readyState==3&&Oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ks(this))},s.Na=function(u){this.g&&(this.response=u,Ks(this))},s.ga=function(){this.g&&Ks(this)};function Ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,_i(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function _i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ii(u){let m="";return be(u,function(E,b){m+=b,m+=":",m+=E,m+=`\r
`}),m}function Hr(u,m,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ii(E),typeof u=="string"?E!=null&&Ae(E):lt(u,m,E))}function mt(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(mt,ct);var qi=/^https?$/i,Xl=["POST","PUT"];s=mt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ur.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Fr(this,q);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)E.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())E.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Xl,m,void 0)>=0)||b||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of E)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Fr(this,q)}};function Fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,$l(u),hs(u)}function $l(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),hs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),mt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},s.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&vi(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),vi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var b;if(b=q===0){let ae=String(u.D).match(Su)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),b=!qi.test(ae?ae.toLowerCase():"")}E=b}if(E)St(u,"complete"),St(u,"success");else{u.o=6;try{var L=vi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",$l(u)}}finally{hs(u)}}}}function hs(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||St(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function vi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zs(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(u){const m={};u=(u.g&&vi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var E=it(u[b]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=m[L]||[];m[L]=q,q.push(E)}le(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function Qs(u){this.za=0,this.i=[],this.j=new ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,u),this.Za=Hi("retryDelaySeedMs",1e4,u),this.Ta=Hi("forwardChannelMaxRetries",2,u),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(u&&u.concurrentRequestLimit),this.Ba=new Gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Qs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,b){Se(0),this.W=u,this.H=m||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Vu(this,null,this.W),Fi(this)};function Zl(u){if(Ma(u),u.I==3){var m=u.V++,E=Ht(u.J);if(lt(E,"SID",u.M),lt(E,"RID",m),lt(E,"TYPE","terminate"),Kr(u,E),m=new At(u,u.j,m),m.M=2,m.A=zr(Ht(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ki(m)}Mu(u)}function Ys(u){u.g&&(Wl(u),u.g.cancel(),u.g=null)}function Ma(u){Ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Fi(u){if(!zl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Me||A(),we||(Me(),we=!0),R.add(m,u),u.D=0}}function Va(u,m){return Li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wt(v(u.Ea,u,m),Ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new At(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Ru(this,L,m),E=Ht(this.J),lt(E,"RID",u),lt(E,"CVER",22),this.G&&lt(E,"X-HTTP-Session-Id",this.G),Kr(this,E),q&&(this.R?m="headers="+Ae(ii(q))+"&"+m:this.u&&Hr(E,this.u,q)),Bl(this.h,L),this.Ra&&lt(E,"TYPE","init"),this.S?(lt(E,"$req",m),lt(E,"SID","null"),L.U=!0,Vi(L,E,null)):Vi(L,E,m),this.I=2}}else this.I==3&&(u?Jl(this,u):this.i.length==0||zl(this.h)||Jl(this))};function Jl(u,m){var E;m?E=m.l:E=u.V++;const b=Ht(u.J);lt(b,"SID",u.M),lt(b,"RID",E),lt(b,"AID",u.K),Kr(u,b),u.u&&u.o&&Hr(b,u.u,u.o),E=new At(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bl(u.h,E),Vi(E,b,m)}function Kr(u,m){u.H&&be(u.H,function(E,b){lt(m,b,E)}),u.l&&be({},function(E,b){lt(m,b,E)})}function Ru(u,m,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ve=-1;for(;;){const jt=["count="+E];Ve==-1?E>0?(Ve=L[0].g,jt.push("ofs="+Ve)):Ve=0:jt.push("ofs="+Ve);let et=!0;for(let It=0;It<E;It++){var q=L[It].g;const si=L[It].map;if(q-=Ve,q<0)Ve=Math.max(0,L[It].g-100),et=!1;else try{q="req"+q+"_"||"";try{var ae=si instanceof Map?si:Object.entries(si);for(const[Ki,Ei]of ae){let Ti=Ei;p(Ei)&&(Ti=kn(Ei)),jt.push(q+Ki+"="+encodeURIComponent(Ti))}}catch(Ki){throw jt.push(q+"type="+encodeURIComponent("_badmap")),Ki}}catch{b&&b(si)}}if(et){ae=jt.join("&");break e}}ae=void 0}return u=u.i.splice(0,E),m.G=u,ae}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Me||A(),we||(Me(),we=!0),R.add(m,u),u.A=0}}function Qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wt(v(u.Da,u),Ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wt(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ys(this),Iu(this))};function Wl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new At(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ht(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),Kr(u,m),u.u&&u.o&&Hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=zr(Ht(m)),E.u=null,E.R=!0,xa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Ys(this),Qr(this),Se(19))};function ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var E=null;if(u.g==m){ka(u),Wl(u),u.g=null;var b=2}else if(Ui(u.h,m))E=m.G,ql(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ge(),St(b,new at(b,E)),Fi(u)}else Cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Va(u,m)||b==2&&Qr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),L){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function Ou(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),b=u.Ua;const L=!b;b=new Pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(b,"https"),zr(b),L?yi(b.toString(),E):Yl(b.toString(),E)}else Se(2);u.I=0,u.l&&u.l.pa(m),Mu(u),Ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Mu(u){if(u.I=0,u.ja=[],u.l){const m=Hl(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,E){var b=E instanceof Pn?Ht(E):new Pn(E);if(b.g!="")m&&(b.g=m+"."+b.g),Bs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Pn(null);b&&tn(q,b),m&&(q.g=m),L&&Bs(q,L),E&&(q.h=E),b=q}return E=u.G,m=u.wa,E&&m&&lt(b,E,m),lt(b,"VER",u.ka),Kr(u,b),b}function ku(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new mt(new Bi({ab:E})):new mt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Xs(){}Xs.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){ct.call(this),this.g=new Qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ds(this)}w(bn,ct),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Zl(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=kn(u),u=E);m.i.push(new qt(m.Ya++,u)),m.I==3&&Fi(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,bn.Z.N.call(this)};function Pu(u){kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Pu,kt);function Lu(){en.call(this),this.status=1}w(Lu,en);function ds(u){this.g=u}w(ds,ju),ds.prototype.ra=function(){St(this.g,"a")},ds.prototype.qa=function(u){St(this.g,new Pu(u))},ds.prototype.pa=function(u){St(this.g,new Lu)},ds.prototype.oa=function(){St(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,rE=function(){return new Xs},sE=function(){return ge()},iE=ht,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,nh=ei,cs.COMPLETE="complete",nE=cs,us.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Bo=us,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,tE=mt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",W_="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Vl="12.3.0";const _a=new Gm("@firebase/firestore");function fl(){return _a.logLevel}function de(s,...e){if(_a.logLevel<=He.DEBUG){const i=e.map(ng);_a.debug(`Firestore (${Vl}): ${s}`,...i)}}function Vs(s,...e){if(_a.logLevel<=He.ERROR){const i=e.map(ng);_a.error(`Firestore (${Vl}): ${s}`,...i)}}function Al(s,...e){if(_a.logLevel<=He.WARN){const i=e.map(ng);_a.warn(`Firestore (${Vl}): ${s}`,...i)}}function ng(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,aE(s,r,i)}function aE(s,e,i){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Vs(r),new Error(r)}function rt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||aE(e,o,r)}function Oe(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends js{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class lE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new lE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class EN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return om(o)===om(c)?Fe(o,c):om(o)?1:-1}return Fe(s.length,e.length)}const wN=55296,AN=57343;function om(s){const e=s.charCodeAt(0);return e>=wN&&e<=AN}function xl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const tv="__name__";class Ji{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const r=Ji.isNumericId(e),o=Ji.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(i)):Am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class Tt extends Ji{construct(e,i,r){return new Tt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const xN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Ji{construct(e,i,r){return new fn(e,i,r)}static isValidIdentifier(e){return xN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new fn([tv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Tt.fromString(e))}static fromName(e){return new Te(Tt.fromString(e).popFirst(5))}static empty(){return new Te(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Tt(e.slice()))}}function oE(s,e,i){if(!i)throw new fe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function NN(s,e,i,r){if(e===!0&&r===!0)throw new fe(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nv(s){if(!Te.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iv(s){if(Te.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function uE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function ts(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kh(s);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function $t(s,e){const i={typeString:s};return e&&(i.value=e),i}function gu(s,e){if(!uE(s))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new fe(Z.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,rv=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*rv);return new Ct(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<sv)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:$t("string",Ct._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ct(0,0))}static max(){return new Ce(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function RN(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new Ct(i+1,0):new Ct(i,r));return new Cr(o,Te.empty(),e)}function CN(s){return new Cr(s.readTime,s.key,tu)}class Cr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Cr(Ce.min(),Te.empty(),tu)}static max(){return new Cr(Ce.max(),Te.empty(),tu)}}function IN(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==DN)throw s;de("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((S=>{d[v]=S,++p,p===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function MN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function jl(s){return s.name==="IndexedDbTransactionError"}class jh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const sg=-1;function Ph(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function VN(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const cE="";function kN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=av(e)),e=jN(s.get(i),e);return av(e)}function jN(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function av(s){return s+cE+""}function lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function jr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function hE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ot{constructor(e,i){this.comparator=e,this.root=i||hn.EMPTY}insert(e,i){return new Ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??hn.RED,this.left=o??hn.EMPTY,this.right=c??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new hn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new hn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Jt(fn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=PN.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[mE]?.stringValue===dE}function Lh(s){const e=s.mapValue.fields[gE];return rg(e)?Lh(e):e}function nu(s){const e=Ir(s.mapValue.fields[pE].timestampValue);return new Ct(e.seconds,e.nanos)}class LN{constructor(e,i,r,o,c,d,p,_,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const vh="(default)";class iu{constructor(e,i){this.projectId=e,this.database=i||vh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const yE="__type__",UN="__max__",Gc={mapValue:{}},_E="__vector__",Eh="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:BN(s)?9007199254740991:zN(s)?10:11:Re(28295,{value:s})}function as(s,e){if(s===e)return!0;const i=Or(s);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ir(o.timestampValue),p=Ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Dr(o.bytesValue).isEqual(Dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),p=Ut(c.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return xl(s.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!as(d[_],p[_])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function su(s,e){return(s.values||[]).find((i=>as(i,e)))!==void 0}function Nl(s,e){if(s===e)return 0;const i=Or(s),r=Or(e);if(i!==r)return Fe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ut(c.integerValue||c.doubleValue),_=Ut(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return uv(s.timestampValue,e.timestampValue);case 4:return uv(nu(s),nu(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Dr(c),_=Dr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Fe(p[v],_[v]);if(S!==0)return S}return Fe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Fe(Ut(c.latitude),Ut(d.latitude));return p!==0?p:Fe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return cv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Eh]?.arrayValue,S=_[Eh]?.arrayValue,w=Fe(v?.values?.length||0,S?.values?.length||0);return w!==0?w:cv(v,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gc.mapValue&&d===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const M=Am(_[w],S[w]);if(M!==0)return M;const G=Nl(p[_[w]],v[S[w]]);if(G!==0)return G}return Fe(_.length,S.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=Ir(s),r=Ir(e),o=Fe(i.seconds,r.seconds);return o!==0?o:Fe(i.nanos,r.nanos)}function cv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Nl(i[o],r[o]);if(c)return c}return Fe(i.length,r.length)}function Rl(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ir(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=xm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${xm(i.fields[d])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function ih(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return jr(r.fields,((c,d)=>{o+=c.length+ih(d)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function hv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function fv(s){return!!s&&"nullValue"in s}function dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function zN(s){return(s?.mapValue?.fields||{})[yE]?.stringValue===_E}function Yo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return jr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Yo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yo(s.arrayValue.values[i]);return e}return{...s}}function BN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!sh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(i)}setAll(e){let i=fn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Yo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());sh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){jr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Mn(Yo(this.value))}}function vE(s){const e=[];return jr(s.fields,((i,r)=>{const o=new fn([i]);if(sh(r)){const c=vE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class vn{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,i,r,o){return new vn(e,1,i,Ce.min(),r,o,0)}static newNoDocument(e,i){return new vn(e,2,i,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,i){this.position=e,this.inclusive=i}}function mv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Te.comparator(Te.fromName(d.referenceValue),i.key):r=Nl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!as(s.position[i],e.position[i]))return!1;return!0}class ru{constructor(e,i="asc"){this.field=e,this.dir=i}}function qN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class EE{}class Xt extends EE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new FN(e,i,r):i==="array-contains"?new QN(e,r):i==="in"?new YN(e,r):i==="not-in"?new XN(e,r):i==="array-contains-any"?new $N(e,r):new Xt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new GN(e,r):new KN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Nl(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Nl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends EE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return TE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(s){return s.op==="and"}function bE(s){return HN(s)&&TE(s)}function HN(s){for(const e of s.filters)if(e instanceof Ci)return!1;return!0}function Rm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+Rl(s.value);if(bE(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((i=>Rm(i))).join(",");return`${s.op}(${e})`}}function SE(s,e){return s instanceof Xt?(function(r,o){return o instanceof Xt&&r.op===o.op&&r.field.isEqual(o.field)&&as(r.value,o.value)})(s,e):s instanceof Ci?(function(r,o){return o instanceof Ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&SE(d,o.filters[p])),!0):!1})(s,e):void Re(19439)}function wE(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rl(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(s):"Filter"}class FN extends Xt{constructor(e,i,r){super(e,i,r),this.key=Te.fromName(r.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class GN extends Xt{constructor(e,i){super(e,"in",i),this.keys=AE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class KN extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=AE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function AE(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class QN extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ag(i)&&su(i.arrayValue,this.value)}}class YN extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&su(this.value.arrayValue,i)}}class XN extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!su(this.value.arrayValue,i)}}class $N extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class ZN{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new ZN(s,e,i,r,o,c,d)}function lg(s){const e=Oe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Rm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Rl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Rl(r))).join(",")),e.Te=i}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!SE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gv(s.startAt,e.startAt)&&gv(s.endAt,e.endAt)}function Cm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Pl{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JN(s,e,i,r,o,c,d,p){return new Pl(s,e,i,r,o,c,d,p)}function ug(s){return new Pl(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xE(s){return s.collectionGroup!==null}function Xo(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(fn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ru(c,r))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new ru(fn.keyField(),r))}return e.Ie}function ns(s){const e=Oe(s);return e.Ee||(e.Ee=WN(e,Xo(s))),e.Ee}function WN(s,e){if(s.limitType==="F")return pv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ru(o.field,c)}));const i=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Im(s,e){const i=s.filters.concat([e]);return new Pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bh(s,e,i){return new Pl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Uh(s,e){return og(ns(s),ns(e))&&s.limitType===e.limitType}function NE(s){return`${lg(ns(s))}|lt:${s.limitType}`}function dl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>wE(o))).join(", ")}]`),Ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Rl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Rl(o))).join(",")),`Target(${r})`})(ns(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Te.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Xo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,Xo(r),o)||r.endAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,Xo(r),o))})(s,e)}function eR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RE(s){return(e,i)=>{let r=!1;for(const o of Xo(s)){const c=tR(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tR(s,e,i){const r=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Nl(_,v):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}const nR=new Ot(Te.comparator);function ks(){return nR}const CE=new Ot(Te.comparator);function qo(...s){let e=CE;for(const i of s)e=e.insert(i.key,i);return e}function IE(s){let e=CE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ha(){return $o()}function DE(){return $o()}function $o(){return new Sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const iR=new Ot(Te.comparator),sR=new Jt(Te.comparator);function Ge(...s){let e=sR;for(const i of s)e=e.add(i);return e}const rR=new Jt(Fe);function aR(){return rR}function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function OE(s){return{integerValue:""+s}}function lR(s,e){return VN(e)?OE(e):cg(s,e)}class Bh{constructor(){this._=void 0}}function oR(s,e,i){return s instanceof Sh?(function(o,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rg(c)&&(c=Lh(c)),c&&(d.fields[gE]=c),{mapValue:d}})(i,e):s instanceof au?VE(s,e):s instanceof lu?kE(s,e):(function(o,c){const d=ME(o,c),p=_v(d)+_v(o.Ae);return Nm(d)&&Nm(o.Ae)?OE(p):cg(o.serializer,p)})(s,e)}function uR(s,e,i){return s instanceof au?VE(s,e):s instanceof lu?kE(s,e):i}function ME(s,e){return s instanceof wh?(function(r){return Nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Sh extends Bh{}class au extends Bh{constructor(e){super(),this.elements=e}}function VE(s,e){const i=jE(e);for(const r of s.elements)i.some((o=>as(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lu extends Bh{constructor(e){super(),this.elements=e}}function kE(s,e){let i=jE(e);for(const r of s.elements)i=i.filter((o=>!as(o,r)));return{arrayValue:{values:i}}}class wh extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function _v(s){return Ut(s.integerValue||s.doubleValue)}function jE(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof au&&o instanceof au||r instanceof lu&&o instanceof lu?xl(r.elements,o.elements,as):r instanceof wh&&o instanceof wh?as(r.Ae,o.Ae):r instanceof Sh&&o instanceof Sh})(s.transform,e.transform)}class hR{constructor(e,i){this.version=e,this.transformResults=i}}class gi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function PE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hg(s.key,gi.none()):new pu(s.key,s.data,gi.none());{const i=s.data,r=Mn.empty();let o=new Jt(fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Pr(s.key,r,new Gn(o.toArray()),gi.none())}}function fR(s,e,i){s instanceof pu?(function(o,c,d){const p=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Pr?(function(o,c,d){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(LE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zo(s,e,i,r){return s instanceof pu?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=c.value.clone(),S=Tv(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Pr?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=Tv(c.fieldTransforms,_,d),S=d.data;return S.setAll(LE(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function dR(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=ME(r.transform,o||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,c))}return i||null}function vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&xl(r,o,((c,d)=>cR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends qh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends qh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Ev(s,e,i){const r=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,uR(d,p,i[o]))}return r}function Tv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,oR(c,d,e))}return r}class hg extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gR{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fR(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Zo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Zo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=DE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=PE(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((i,r)=>vv(i,r)))&&xl(this.baseMutations,e.baseMutations,((i,r)=>vv(i,r)))}}class fg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new fg(e,i,r,o)}}class pR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Yt,Ye;function _R(s){switch(s){case Z.OK:return Re(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function UE(s){if(s===void 0)return Vs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Yt.OK:return Z.OK;case Yt.CANCELLED:return Z.CANCELLED;case Yt.UNKNOWN:return Z.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Z.INTERNAL;case Yt.UNAVAILABLE:return Z.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Z.NOT_FOUND;case Yt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Yt.ABORTED:return Z.ABORTED;case Yt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Yt.DATA_LOSS:return Z.DATA_LOSS;default:return Re(39323,{code:s})}}(Ye=Yt||(Yt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function vR(){return new TextEncoder}const ER=new Nr([4294967295,4294967295],0);function bv(s){const e=vR().encode(s),i=new eE;return i.update(e),new Uint8Array(i.digest())}function Sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([i,r],0),new Nr([o,c],0)]}class dg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ho(`Invalid padding: ${i}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Nr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Nr.fromNumber(r)));return o.compare(ER)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=bv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dg(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=bv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Hh(Ce.min(),o,new Ot(Fe),ks(),Ge())}}class yu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yu(r,i,Ge(),Ge(),Ge())}}class ah{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class zE{constructor(e,i){this.targetId=e,this.Ce=i}}class BE{constructor(e,i,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class wv{constructor(){this.ve=0,this.Fe=Av(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}})),new yu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=Kc(),this.He=Kc(),this.Ye=new Ot(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Cm(c))if(r===0){const d=new Te(c.path);this.et(i,d,vn.newNoDocument(d,Ce.min()))}else rt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Dr(r).toUint8Array()}catch(_){if(_ instanceof fE)return Al("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new dg(d,o,c)}catch(_){return Al(_ instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Cm(p.target)){const _=new Te(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,vn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ge();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Hh(e,i,this.Ye,this.je,r);return this.je=ks(),this.Je=Kc(),this.He=Kc(),this.Ye=new Ot(Fe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new wv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Kc(){return new Ot(Te.comparator)}function Av(){return new Ot(Te.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wR={and:"AND",or:"OR"};class AR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dm(s,e){return s.useProto3Json||Ph(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xR(s,e){return Ah(s,e.toTimestamp())}function is(s){return rt(!!s,49232),Ce.fromTimestamp((function(i){const r=Ir(i);return new Ct(r.seconds,r.nanos)})(s))}function mg(s,e){return Om(s,e).canonicalString()}function Om(s,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function HE(s){const e=Tt.fromString(s);return rt(YE(e),10190,{key:e.toString()}),e}function Mm(s,e){return mg(s.databaseId,e.path)}function um(s,e){const i=HE(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(GE(i))}function FE(s,e){return mg(s.databaseId,e)}function NR(s){const e=HE(s);return e.length===4?Tt.emptyPath():GE(e)}function Vm(s){return new Tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GE(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,e,i){return{name:Mm(s,e),fields:i.value.mapValue.fields}}function RR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Re(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(rt(S===void 0||typeof S=="string",58123),dn.fromBase64String(S||"")):(rt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),dn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Z.UNKNOWN:UE(v.code);return new fe(S,v.message||"")})(d);i=new BE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(s,r.document.name),c=is(r.document.updateTime),d=r.document.createTime?is(r.document.createTime):Ce.min(),p=new Mn({mapValue:{fields:r.document.fields}}),_=vn.newFoundDocument(o,c,d,p),v=r.targetIds||[],S=r.removedTargetIds||[];i=new ah(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(s,r.document),c=r.readTime?is(r.readTime):Ce.min(),d=vn.newNoDocument(o,c),p=r.removedTargetIds||[];i=new ah([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(s,r.document),c=r.removedTargetIds||[];i=new ah([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yR(o,c),p=r.targetId;i=new zE(p,d)}}return i}function CR(s,e){let i;if(e instanceof pu)i={update:xv(s,e.key,e.value)};else if(e instanceof hg)i={delete:Mm(s,e.key)};else if(e instanceof Pr)i={update:xv(s,e.key,e.data),updateMask:LR(e.fieldMask)};else{if(!(e instanceof mR))return Re(16599,{Vt:e.type});i={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:xR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(s,e.precondition)),i}function IR(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?is(o.updateTime):is(c);return d.isEqual(Ce.min())&&(d=is(c)),new hR(d,o.transformResults||[])})(i,e)))):[]}function DR(s,e){return{documents:[FE(s,e.path)]}}function OR(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=FE(s,o);const c=(function(v){if(v.length!==0)return QE(Ci.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(M){return{field:ml(M.field),direction:kR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Dm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function MR(s){let e=NR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){rt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=KE(w);return M instanceof Ci&&bE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(te){return new ru(gl(te.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,Ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,G=w.values||[];return new Th(G,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const M=!w.before,G=w.values||[];return new Th(G,M)})(i.endAt)),JN(e,o,d,c,p,"F",_,v)}function VR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=gl(i.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gl(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gl(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gl(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(gl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>KE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function kR(s){return bR[s]}function jR(s){return SR[s]}function PR(s){return wR[s]}function ml(s){return{fieldPath:s.canonicalString()}}function gl(s){return fn.fromServerFormat(s.fieldPath)}function QE(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:ml(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(i.field),op:jR(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const r=i.getFilters().map((o=>QE(o)));return r.length===1?r[0]:{compositeFilter:{op:PR(i.op),filters:r}}})(s):Re(54877,{filter:s})}function LR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function YE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Sr{constructor(e,i,r,o,c=Ce.min(),d=Ce.min(),p=dn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UR{constructor(e){this.yt=e}}function zR(s){const e=MR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bh(e,e.limit,"L"):e}class BR{constructor(){this.Cn=new qR}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Cr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class qR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Jt(Tt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jt(Tt.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(XE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}const Rv="LruGarbageCollector",HR=1048576;function Cv([s,e],[i,r]){const o=Fe(s,i);return o===0?Fe(e,r):o}class FR{constructor(e){this.Ir=e,this.buffer=new Jt(Cv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){jl(i)?de(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await kl(i)}await this.Vr(3e5)}))}}class KR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(jh.ce);const r=new FR(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(v=Date.now(),fl()<=He.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function QR(s,e){return new KR(s,e)}class YR{constructor(){this.changes=new Sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class $R{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Zo(r.mutation,o,Gn.empty(),Ct.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const o=ha();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=qo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ha();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=ks();const d=$o(),p=(function(){return $o()})();return i.forEach(((_,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Pr)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Zo(S.mutation,v,S.mutation.getFieldMask(),Ct.now())):d.set(v.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new XR(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=$o();let o=new Ot(((d,p)=>d-p)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=r.get(_)||Gn.empty();S=p.applyToLocalView(v,S),r.set(_,S);const w=(o.get(p.batchId)||Ge()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,w=DE();S.forEach((M=>{if(!c.has(M)){const G=PE(i.get(M),r.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(ha());let p=tu,_=c;return d.next((v=>J.forEach(v,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{_=_.insert(S,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ge()))).next((S=>({batchId:p,changes:IE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((r=>{let o=qo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const v=(function(w,M){return new Pl(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,vn.newInvalidDocument(S)))}));let p=qo();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&Zo(S.mutation,v,Gn.empty(),Ct.now()),zh(i,v)&&(p=p.insert(_,v))})),p}))}}class ZR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:is(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zR(o.bundledQuery),readTime:is(o.readTime)}})(i)),J.resolve()}}class JR{constructor(){this.overlays=new Ot(Te.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ha();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=ha(),c=i.length+1,d=new Te(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Ot(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=c.get(v.largestBatchId);S===null&&(S=ha(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=ha(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return J.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pR(i,r));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class WR{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class gg{constructor(){this.Qr=new Jt(rn.$r),this.Ur=new Jt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new rn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new rn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Te(new Tt([])),r=new rn(i,e),o=new rn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new Tt([])),r=new rn(i,e),o=new rn(i,e+1);let c=Ge();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new rn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class eC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(rn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gR(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new rn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Jt(Fe);return i.forEach((o=>{const c=new rn(o,0),d=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Te.isDocumentKey(c)||(c=c.child(""));const d=new rn(new Te(c),0);let p=new Jt(Fe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const c=new rn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new rn(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let r=ks();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ks();const d=i.path,p=new Te(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||IN(CN(S),r)<=0||(o.has(S.key)||zh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Re(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nC(this)}getSize(e){return J.resolve(this.size)}}class nC extends YR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class iC{constructor(e){this.persistence=e,this.si=new Sa((i=>lg(i)),og),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Cl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class $E{constructor(e,i){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new WR,this.referenceDelegate=e(this),this.Pi=new iC(this),this.indexManager=new BR,this.remoteDocumentCache=(function(o){return new tC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new UR(i),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const o=new sC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class sC extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class xh{constructor(e,i){this.persistence=e,this.pi=new Sa((r=>kN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QR(this,i)}static mi(e,i){return new xh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ih(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new yg(e,i.fromCache,r,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Vw()?8:MN(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(fl()<=He.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",dl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(fl()<=He.DEBUG&&de("QueryEngine","Query:",dl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(fl()<=He.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",dl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(i))):J.resolve())}ys(e,i){if(yv(i))return J.resolve(null);let r=ns(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bh(i,null,"F"),r=ns(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,bh(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return yv(i)||o.isEqual(Ce.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?J.resolve(null):(fl()<=He.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),dl(i)),this.vs(e,d,i,RN(o,tu)).next((p=>p)))}))}Ds(e,i){let r=new Jt(RE(e));return i.forEach(((o,c)=>{zh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return fl()<=He.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",dl(i)),this.ps.getDocumentsMatchingQuery(e,i,Cr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _g="LocalStore",lC=3e8;class oC{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Ot(Fe),this.xs=new Sa((c=>lg(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $R(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function uC(s,e,i,r){return new oC(s,e,i,r)}async function ZE(s,e){const i=Oe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ge();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function cC(s,e){const i=Oe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const w=v.batch,M=w.keys();let G=J.resolve();return M.forEach((te=>{G=G.next((()=>S.getEntry(_,te))).next((ie=>{const ne=v.docVersions.get(te);rt(ne!==null,48541),ie.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ie,v),ie.isValidDocument()&&(ie.setReadTime(v.commitVersion),S.addEntry(ie)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ge();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function JE(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hC(s,e){const i=Oe(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,w)=>{const M=o.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(dn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),o=o.insert(w,G),(function(ie,ne,ye){return ie.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=lC?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,G,S)&&p.push(i.Pi.updateTargetData(c,G))}));let _=ks(),v=Ge();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(fC(c,d,e.documentUpdates).next((S=>{_=S.ks,v=S.qs}))),!r.isEqual(Ce.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(S)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function fC(s,e,i){let r=Ge(),o=Ge();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ks();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Ce.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):de(_g,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function dC(s,e){const i=Oe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mC(s,e){const i=Oe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Sr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function km(s,e,i){const r=Oe(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jl(d))throw d;de(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Iv(s,e,i){const r=Oe(s);let o=Ce.min(),c=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const w=Oe(_),M=w.xs.get(S);return M!==void 0?J.resolve(w.Ms.get(M)):w.Pi.getTargetData(v,S)})(r,d,ns(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Ce.min(),i?c:Ge()))).next((p=>(gC(r,eR(e),p),{documents:p,Qs:c})))))}function gC(s,e,i){let r=s.Os.get(e)||Ce.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Dv{constructor(){this.activeTargetIds=aR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yC{Oo(e){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function jm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const cm="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=jm(),p=this.zo(e,i.toUriEncodedString());de(cm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),S=Ol(v);return this.Jo(e,p,_,r,S).then((w=>(de(cm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Al(cm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=_C[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class EC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class TC extends vC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=jm();return new Promise(((p,_)=>{const v=new tE;v.setWithCredentials(!0),v.listenOnce(nE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case nh.NO_ERROR:const w=v.getResponseJson();de(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case nh.TIMEOUT:de(yn,`RPC '${e}' ${d} timed out`),_(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const M=v.getStatus();if(de(yn,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const te=G?.error;if(te&&te.status&&te.message){const ie=(function(ye){const me=ye.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(me)>=0?me:Z.UNKNOWN})(te.status);_(new fe(ie,te.message))}else _(new fe(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(yn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);de(yn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=jm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rE(),p=sE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=c.join("");de(yn,`Creating RPC '${e}' stream ${o}: ${S}`,_);const w=d.createWebChannel(S,_);this.I_(w);let M=!1,G=!1;const te=new EC({Yo:ne=>{G?de(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(de(yn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),de(yn,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ie=(ne,ye,me)=>{ne.listen(ye,(he=>{try{me(he)}catch(Pe){setTimeout((()=>{throw Pe}),0)}}))};return ie(w,Bo.EventType.OPEN,(()=>{G||(de(yn,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),ie(w,Bo.EventType.CLOSE,(()=>{G||(G=!0,de(yn,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(w))})),ie(w,Bo.EventType.ERROR,(ne=>{G||(G=!0,Al(yn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),te.a_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))})),ie(w,Bo.EventType.MESSAGE,(ne=>{if(!G){const ye=ne.data[0];rt(!!ye,16349);const me=ye,he=me?.error||me[0]?.error;if(he){de(yn,`RPC '${e}' stream ${o} received error:`,he);const Pe=he.status;let Me=(function(A){const N=Yt[A];if(N!==void 0)return UE(N)})(Pe),we=he.message;Me===void 0&&(Me=Z.INTERNAL,we="Unknown error status: "+Pe+" with message "+he.message),G=!0,te.a_(new fe(Me,we)),w.close()}else de(yn,`RPC '${e}' stream ${o} received:`,ye),te.u_(ye)}})),ie(p,iE.STAT_EVENT,(ne=>{ne.stat===wm.PROXY?de(yn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===wm.NOPROXY&&de(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hm(){return typeof document<"u"?document:null}function Fh(s){return new AR(s,!0)}class WE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class eT{constructor(e,i,r,o,c,d,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends eT{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?is(d.readTime):Ce.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Vm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Cm(_)?{documents:DR(c,_)}:{query:OR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qE(c,d.resumeToken);const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ce.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=VR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Vm(this.serializer),i.removeTarget=e,this.q_(i)}}class SC extends eT{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IR(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>CR(this.serializer,r)))};this.q_(i)}}class wC{}class AC extends wC{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Om(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Om(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class NC{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{wa(this)&&(de(va,"Restarting streams for network reachability change."),await(async function(_){const v=Oe(_);v.Ea.add(4),await _u(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Gh(v)})(this))}))})),this.Ra=new xC(r,o)}}async function Gh(s){if(wa(s))for(const e of s.da)await e(!0)}async function _u(s){for(const e of s.da)await e(!1)}function tT(s,e){const i=Oe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bg(i)?Tg(i):Ll(i).O_()&&Eg(i,e))}function vg(s,e){const i=Oe(s),r=Ll(i);i.Ia.delete(e),r.O_()&&nT(i,e),i.Ia.size===0&&(r.O_()?r.L_():wa(i)&&i.Ra.set("Unknown"))}function Eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ll(s).Y_(e)}function nT(s,e){s.Va.Ue(e),Ll(s).Z_(e)}function Tg(s){s.Va=new TR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ll(s).start(),s.Ra.ua()}function bg(s){return wa(s)&&!Ll(s).x_()&&s.Ia.size>0}function wa(s){return Oe(s).Ea.size===0}function iT(s){s.Va=void 0}async function RC(s){s.Ra.set("Online")}async function CC(s){s.Ia.forEach(((e,i)=>{Eg(s,e)}))}async function IC(s,e){iT(s),bg(s)?(s.Ra.ha(e),Tg(s)):s.Ra.set("Unknown")}async function DC(s,e,i){if(s.Ra.set("Online"),e instanceof BE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){de(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(s,r)}else if(e instanceof ah?s.Va.Ze(e):e instanceof zE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ce.min()))try{const r=await JE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(dn.EMPTY_BYTE_STRING,S.snapshotVersion)),nT(c,_);const w=new Sr(S.target,_,v,S.sequenceNumber);Eg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){de(va,"Failed to raise snapshot:",r),await Nh(s,r)}}async function Nh(s,e,i){if(!jl(e))throw e;s.Ea.add(1),await _u(s),s.Ra.set("Offline"),i||(i=()=>JE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(va,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function sT(s,e){return e().catch((i=>Nh(s,i,e)))}async function Kh(s){const e=Oe(s),i=Mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;OC(e);)try{const o=await dC(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,MC(e,o)}catch(o){await Nh(e,o)}rT(e)&&aT(e)}function OC(s){return wa(s)&&s.Ta.length<10}function MC(s,e){s.Ta.push(e);const i=Mr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function rT(s){return wa(s)&&!Mr(s).x_()&&s.Ta.length>0}function aT(s){Mr(s).start()}async function VC(s){Mr(s).ra()}async function kC(s){const e=Mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function jC(s,e,i){const r=s.Ta.shift(),o=fg.from(r,e,i);await sT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function PC(s,e){e&&Mr(s).X_&&await(async function(r,o){if((function(d){return _R(d)&&d!==Z.ABORTED})(o.code)){const c=r.Ta.shift();Mr(r).B_(),await sT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kh(r)}})(s,e),rT(s)&&aT(s)}async function kv(s,e){const i=Oe(s);i.asyncQueue.verifyOperationInProgress(),de(va,"RemoteStore received new credentials");const r=wa(i);i.Ea.add(3),await _u(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function LC(s,e){const i=Oe(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await _u(i),i.Ra.set("Unknown"))}function Ll(s){return s.ma||(s.ma=(function(i,r,o){const c=Oe(i);return c.sa(),new bC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:RC.bind(null,s),t_:CC.bind(null,s),r_:IC.bind(null,s),H_:DC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),bg(s)?Tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),iT(s))}))),s.ma}function Mr(s){return s.fa||(s.fa=(function(i,r,o){const c=Oe(i);return c.sa(),new SC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,s),r_:PC.bind(null,s),ta:kC.bind(null,s),na:jC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(va,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Sg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Sg(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(s,e){if(Vs("AsyncQueue",`${e}: ${s}`),jl(s))return new fe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Te.comparator(i.key,r.key):(i,r)=>Te.comparator(i.key,r.key),this.keyedMap=qo(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class jv{constructor(){this.ga=new Ot(Te.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Il{constructor(e,i,r,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Il(e,i,Tl.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zC{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Oe(i),c=o.queries;o.queries=Pv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new Sa((s=>NE(s)),Uh)}async function BC(s,e){const i=Oe(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new UC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=wg(d,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ag(i)}async function qC(s,e){const i=Oe(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HC(s,e){const i=Oe(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Ag(i)}function FC(s,e,i){const r=Oe(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function Ag(s){s.Ca.forEach((e=>{e.next()}))}var Pm,Lv;(Lv=Pm||(Pm={})).Ma="default",Lv.Cache="cache";class GC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class lT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class KC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=RE(e),this.tu=new Tl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new jv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const M=o.get(S),G=zh(this.query,w)?w:null,te=!!M&&this.mutatedKeys.has(M.key),ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ne=!1;M&&G?M.data.isEqual(G.data)?te!==ie&&(r.track({type:3,doc:G}),ne=!0):this.su(M,G)||(r.track({type:2,doc:G}),ne=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!M&&G?(r.track({type:0,doc:G}),ne=!0):M&&!G&&(r.track({type:1,doc:M}),ne=!0,(_||v)&&(p=!0)),ne&&(G?(d=d.add(G),c=ie?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(G,te){const ie=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:ne})}};return ie(G)-ie(te)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Il(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new oT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new lT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class QC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class YC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa((p=>NE(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Te.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(s,e,i=!0){const r=mT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await uT(r,e,i,!0),o}async function ZC(s,e){const i=mT(s);await uT(i,e,!0,!1)}async function uT(s,e,i,r){const o=await mC(s.localStore,ns(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await JC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&tT(s.remoteStore,o),p}async function JC(s,e,i,r,o){s.pu=(w,M,G)=>(async function(ie,ne,ye,me){let he=ne.view.ru(ye);he.Cs&&(he=await Iv(ie.localStore,ne.query,!1).then((({documents:R})=>ne.view.ru(R,he))));const Pe=me&&me.targetChanges.get(ne.targetId),Me=me&&me.targetMismatches.get(ne.targetId)!=null,we=ne.view.applyChanges(he,ie.isPrimaryClient,Pe,Me);return zv(ie,ne.targetId,we.au),we.snapshot})(s,w,M,G);const c=await Iv(s.localStore,e,!0),d=new KC(e,c.Qs),p=d.ru(c.documents),_=yu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);zv(s,i,v.au);const S=new QC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function WC(s,e,i){const r=Oe(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&vg(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(kl)):(Lm(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function eI(s,e){const i=Oe(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vg(i.remoteStore,r.targetId))}async function tI(s,e,i){const r=oI(s);try{const o=await(function(d,p){const _=Oe(d),v=Ct.now(),S=p.reduce(((G,te)=>G.add(te.key)),Ge());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let te=ks(),ie=Ge();return _.Ns.getEntries(G,S).next((ne=>{te=ne,te.forEach(((ye,me)=>{me.isValidDocument()||(ie=ie.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,te))).next((ne=>{w=ne;const ye=[];for(const me of p){const he=dR(me,w.get(me.key).overlayedDocument);he!=null&&ye.push(new Pr(me.key,he,vE(he.value.mapValue),gi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,ye,p)})).next((ne=>{M=ne;const ye=ne.applyToLocalDocumentSet(w,ie);return _.documentOverlayCache.saveOverlays(G,ne.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:IE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ot(Fe)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await vu(r,o.changes),await Kh(r.remoteStore)}catch(o){const c=wg(o,"Failed to persist write");i.reject(c)}}async function cT(s,e){const i=Oe(s);try{const r=await hC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?rt(d.hu,14607):o.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await vu(i,r,e)}catch(r){await kl(r)}}function Uv(s,e,i){const r=Oe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Oe(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,w)=>{for(const M of w.Sa)M.va(p)&&(v=!0)})),v&&Ag(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nI(s,e,i){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Ot(Te.comparator);d=d.insert(c,vn.newNoDocument(c,Ce.min()));const p=Ge().add(c),_=new Hh(Ce.min(),new Map,new Ot(Fe),d,p);await cT(r,_),r.du=r.du.remove(c),r.Au.delete(e),Ng(r)}else await km(r.localStore,e,!1).then((()=>Lm(r,e,i))).catch(kl)}async function iI(s,e){const i=Oe(s),r=e.batch.batchId;try{const o=await cC(i.localStore,e);fT(i,r,null),hT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vu(i,o)}catch(o){await kl(o)}}async function sI(s,e,i){const r=Oe(s);try{const o=await(function(d,p){const _=Oe(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(rt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(r.localStore,e);fT(r,e,i),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vu(r,o)}catch(o){await kl(o)}}function hT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function fT(s,e,i){const r=Oe(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Lm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||dT(s,r)}))}function dT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ng(s))}function zv(s,e,i){for(const r of i)r instanceof lT?(s.Ru.addReference(r.key,e),rI(s,r)):r instanceof oT?(de(xg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||dT(s,r.key)):Re(19791,{wu:r})}function rI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(de(xg,"New document in limbo: "+i),s.Eu.add(r),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(Tt.fromString(e)),r=s.fu.next();s.Au.set(r,new YC(i)),s.du=s.du.insert(i,r),tT(s.remoteStore,new Sr(ns(ug(i.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function vu(s,e,i){const r=Oe(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=yg.As(_.targetId,v);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const S=Oe(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(v,(M=>J.forEach(M.Es,(G=>S.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>J.forEach(M.ds,(G=>S.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!jl(w))throw w;de(_g,"Failed to update sequence numbers: "+w)}for(const w of v){const M=w.targetId;if(!w.fromCache){const G=S.Ms.get(M),te=G.snapshotVersion,ie=G.withLastLimboFreeSnapshotVersion(te);S.Ms=S.Ms.insert(M,ie)}}})(r.localStore,c))}async function aI(s,e){const i=Oe(s);if(!i.currentUser.isEqual(e)){de(xg,"User change. New user:",e.toKey());const r=await ZE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new fe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(i,r.Ls)}}function lI(s,e){const i=Oe(s),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function mT(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nI.bind(null,e),e.Pu.H_=HC.bind(null,e.eventManager),e.Pu.yu=FC.bind(null,e.eventManager),e}function oI(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sI.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}Cu(e){return new $E(pg.mi,this.serializer)}Du(e){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class uI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new $E((r=>xh.mi(r,i)),this.serializer)}}class Um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zC})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=(function(c){return new TC(c)})(e.databaseInfo);return(function(c,d,p,_){return new AC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new NC(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Uv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new yC})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,S){const w=new XC(o,c,d,p,_,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Oe(i);de(va,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Vr="FirestoreClient";class hI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(s,e){s.asyncQueue.verifyOperationInProgress(),de(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await ZE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fI(s);de(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>kv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>kv(e.remoteStore,o))),s._onlineComponents=e}async function fI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Vr,"Using user provided OfflineComponentProvider");try{await fm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Al("Error using user provided cache. Falling back to memory cache: "+i),await fm(s,new Rh)}}else de(Vr,"Using default OfflineComponentProvider"),await fm(s,new uI(void 0));return s._offlineComponents}async function gT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Vr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(de(Vr,"Using default OnlineComponentProvider"),await Bv(s,new Um))),s._onlineComponents}function dI(s){return gT(s).then((e=>e.syncEngine))}async function qv(s){const e=await gT(s),i=e.eventManager;return i.onListen=$C.bind(null,e.syncEngine),i.onUnlisten=WC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,e.syncEngine),i}function pT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Hv=new Map;const yT="firestore.googleapis.com",Fv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HR)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yN;switch(r.type){case"firstParty":return new TN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Hv.get(i);r&&(de("ComponentProvider","Removing Datastore"),Hv.delete(i),r.terminate())})(this),Promise.resolve()}}function mI(s,e,i,r={}){s=ts(s,Qh);const o=Ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(h1(`https://${p}`),f1("Firestore",!0)),c.host!==yT&&c.host!==p&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!ma(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,S;if(typeof r.mockUserToken=="string")v=r.mockUserToken,S=_n.MOCK_USER;else{v=Aw(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new _n(w)}s._authCredentials=new _N(new lE(v,S))}}class Lr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(gu(i,zt._jsonSchema))return new zt(e,r||null,new Te(Tt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:$t("string",zt._jsonSchemaVersion),referencePath:$t("string")};class Rr extends Lr{constructor(e,i,r){super(e,i,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Kv(s,e,...i){if(s=Wt(s),oE("collection","path",e),s instanceof Qh){const r=Tt.fromString(e,...i);return iv(r),new Rr(s,null,r)}{if(!(s instanceof zt||s instanceof Rr))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...i));return iv(r),new Rr(s.firestore,null,r)}}function zm(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=ig.newId()),oE("doc","path",e),s instanceof Qh){const r=Tt.fromString(e,...i);return nv(r),new zt(s,null,new Te(r))}{if(!(s instanceof zt||s instanceof Rr))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...i));return nv(r),new zt(s.firestore,s instanceof Rr?s.converter:null,new Te(r))}}const Qv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&de(Qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=hm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;de(Qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Sg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function $v(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ea extends Qh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function gI(s,e){const i=typeof s=="object"?s:p1(),r=typeof s=="string"?s:vh,o=Qm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Sw("firestore");c&&mI(o,...c)}return o}function _T(s){if(s._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pI(s),s._firestoreClient}function pI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new LN(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,pT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(dn.fromBase64String(e))}catch(i){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new mi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:$t("string",mi._jsonSchemaVersion),bytes:$t("string")};class Yh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class ss{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(gu(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:$t("string",ss._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class rs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new rs(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:$t("string",rs._jsonSchemaVersion),vectorValues:$t("object")};const yI=/^__.*__$/;class _I{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new pu(e,this.data,i,this.fieldTransforms)}}class vT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function ET(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class Cg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ET(this.Ac)&&yI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}Cc(e,i,r,o=!1){return new Cg({Ac:e,methodName:i,Dc:r,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new vI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function TT(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ig("Data must be an object, but it was:",d,r);const p=bT(r,d);let _,v;if(c.merge)_=new Gn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=Bm(e,w,i);if(!d.contains(M))throw new fe(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);wT(S,M)||S.push(M)}_=new Gn(S),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new _I(new Mn(p),_,v)}class $h extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function EI(s,e,i,r){const o=s.Cc(1,e,i);Ig("Data must be an object, but it was:",o,r);const c=[],d=Mn.empty();jr(r,((_,v)=>{const S=Dg(e,_,i);v=Wt(v);const w=o.yc(S);if(v instanceof $h)c.push(S);else{const M=Eu(v,w);M!=null&&(c.push(S),d.set(S,M))}}));const p=new Gn(c);return new vT(d,p,o.fieldTransforms)}function TI(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[Bm(e,r,i)],_=[o];if(c.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Bm(e,c[M])),_.push(c[M+1]);const v=[],S=Mn.empty();for(let M=p.length-1;M>=0;--M)if(!wT(v,p[M])){const G=p[M];let te=_[M];te=Wt(te);const ie=d.yc(G);if(te instanceof $h)v.push(G);else{const ne=Eu(te,ie);ne!=null&&(v.push(G),S.set(G,ne))}}const w=new Gn(v);return new vT(S,w,d.fieldTransforms)}function bI(s,e,i,r=!1){return Eu(i,s.Cc(r?4:3,e))}function Eu(s,e){if(ST(s=Wt(s)))return Ig("Unsupported field value:",e,s),bT(s,e);if(s instanceof Rg)return(function(r,o){if(!ET(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=Eu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ct.fromDate(r);return{timestampValue:Ah(o.serializer,c)}}if(r instanceof Ct){const c=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(r instanceof ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:qE(o.serializer,r._byteString)};if(r instanceof zt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof rs)return(function(d,p){return{mapValue:{fields:{[yE]:{stringValue:_E},[Eh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${kh(r)}`)})(s,e)}function bT(s,e){const i={};return hE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(s,((r,o)=>{const c=Eu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function ST(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ct||s instanceof ss||s instanceof mi||s instanceof zt||s instanceof Rg||s instanceof rs)}function Ig(s,e,i){if(!ST(i)||!uE(i)){const r=kh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Bm(s,e,i){if((e=Wt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Dg(s,e);throw Ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const SI=new RegExp("[~\\*/\\[\\]]");function Dg(s,e,i){if(e.search(SI)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Yh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ch(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new fe(Z.INVALID_ARGUMENT,p+s+_)}function wT(s,e){return s.some((i=>i.isEqual(e)))}class AT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wI extends AT{data(){return super.data()}}function Og(s,e){return typeof e=="string"?Dg(s,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}function AI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class Vg extends Mg{}function xI(s,e,...i){let r=[];e instanceof Mg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof jg)).length,p=c.filter((_=>_ instanceof kg)).length;if(d>1||d>0&&p>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kg extends Vg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kg(e,i,r)}_apply(e){const i=this._parse(e);return xT(e._query,i),new Lr(e.firestore,e.converter,Im(e._query,i))}_parse(e){const i=Xh(e.firestore);return(function(c,d,p,_,v,S,w){let M;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Jv(w,S);const te=[];for(const ie of w)te.push(Zv(_,c,ie));M={arrayValue:{values:te}}}else M=Zv(_,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Jv(w,S),M=bI(p,d,w,S==="in"||S==="not-in");return Xt.create(v,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Mg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)xT(d,_),d=Im(d,_)})(e._query,i),new Lr(e.firestore,e.converter,Im(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends Vg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(c,d)})(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Pl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function NI(s,e="asc"){const i=e,r=Og("orderBy",s);return Pg._create(r,i)}class Lg extends Vg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Lg(e,i,r)}_apply(e){return new Lr(e.firestore,e.converter,bh(e._query,this._limit,this._limitType))}}function RI(s){return Lg._create("limit",s,"F")}function Zv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&i.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Tt.fromString(i));if(!Te.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hv(s,new Te(r))}if(i instanceof zt)return hv(s,i._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(i)}.`)}function Jv(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class CI{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return jr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Eh].arrayValue?.values?.map((r=>Ut(r.doubleValue)));return new rs(i)}convertGeoPoint(e){return new ss(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new Ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Tt.fromString(e);rt(YE(r),9688,{name:e});const o=new iu(r.get(1),r.get(3)),c=new Te(r.popFirst(5));return o.isEqual(i)||Vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Fo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends AT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:$t("string",da._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class lh extends da{data(e={}){return super.data(e)}}class bl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lh(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:II(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}bl._jsonSchemaVersion="firestore/querySnapshot/1.0",bl._jsonSchema={type:$t("string",bl._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class RT extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Zi(s,e,i){s=ts(s,zt);const r=ts(s.firestore,Ea),o=NT(s.converter,e,i);return Zh(r,[TT(Xh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,gi.none())])}function Ai(s,e,i,...r){s=ts(s,zt);const o=ts(s.firestore,Ea),c=Xh(o);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Yh?TI(c,"updateDoc",s._key,e,i,r):EI(c,"updateDoc",s._key,e),Zh(o,[d.toMutation(s._key,gi.exists(!0))])}function Yc(s){return Zh(ts(s.firestore,Ea),[new hg(s._key,gi.none())])}function DI(s,e){const i=ts(s.firestore,Ea),r=zm(s),o=NT(s.converter,e);return Zh(i,[TT(Xh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function Wv(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$v(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($v(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof zt)d=ts(s.firestore,Ea),p=ug(s._key.path),c={next:_=>{e[r]&&e[r](OI(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=ts(s,Lr);d=ts(_.firestore,Ea),p=_._query;const v=new RT(d);c={next:S=>{e[r]&&e[r](new bl(d,v,_,S))},error:e[r+1],complete:e[r+2]},AI(s._query)}return(function(v,S,w,M){const G=new cI(M),te=new GC(S,G,w);return v.asyncQueue.enqueueAndForget((async()=>BC(await qv(v),te))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>qC(await qv(v),te)))}})(_T(d),p,o,c)}function Zh(s,e){return(function(r,o){const c=new fa;return r.asyncQueue.enqueueAndForget((async()=>tI(await dI(r),o,c))),c.promise})(_T(s),e)}function OI(s,e,i){const r=i.docs.get(e._key),o=new RT(s);return new da(s,o,e._key,r,new Fo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Vl=o})(Ml),wl(new ga("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Ea(new vN(r.getProvider("auth-internal")),new bN(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(v.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),xr(J_,W_,e),xr(J_,W_,"esm2020")})();const MI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883"},CT=g1(MI),Sl=gN(CT),Xc=gI(CT),VI=()=>Math.random().toString(36).substr(2,9),Ta=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},kI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},Ug=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=kI(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(Ta(c))}return r},sn=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Dl=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},IT=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Ih=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},qm=["","","","","","","","","","","","","","","","","","","",""],Et=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return g.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${r}`,...c,children:s})},yl=({children:s,className:e=""})=>g.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),xi=({isOpen:s,onClose:e,title:i,children:r})=>s?g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[g.jsx("h3",{className:"font-bold text-gray-800",children:i}),g.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:g.jsx(ou,{size:20})})]}),g.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,jI=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o,mode:c="verify"})=>{const[d,p]=oe.useState(""),[_,v]=oe.useState(""),[S,w]=oe.useState(c==="setup"?"create":"verify"),[M,G]=oe.useState(!1),[te,ie]=oe.useState(c==="setup"?"Create a 4-digit PIN":r||"Enter PIN"),ne=me=>{if(d.length<4){const he=d+me;p(he),he.length===4&&(S==="verify"?he===i?s(he):ye():S==="create"?(v(he),p(""),w("confirm"),ie("Confirm your PIN")):S==="confirm"&&(he===_?s(he):(ye("PINs didn't match. Try again."),w("create"),ie("Create a 4-digit PIN"),v(""))))}},ye=(me="Incorrect PIN")=>{G(!0);const he=te;ie(me),setTimeout(()=>{p(""),G(!1),ie(S==="verify"?r||"Enter PIN":S==="create"?"Create a 4-digit PIN":he)},1e3)};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[g.jsx("h3",{className:`text-xl font-bold text-center mb-6 ${M?"text-red-500":"text-gray-800"}`,children:te}),g.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(me=>g.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${d.length>me?M?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},me))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(me=>g.jsx("button",{onClick:()=>ne(me),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:me},me)),g.jsx("div",{}),g.jsx("button",{onClick:()=>ne(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),g.jsx("button",{onClick:()=>p(me=>me.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:g.jsx(ou,{size:24})})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(Et,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),c==="verify"&&g.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[g.jsx(qS,{size:12})," Forgot PIN?"]})]})]})})},PI=()=>{const[s,e]=oe.useState(!1),[i,r]=oe.useState(!1),[o,c]=oe.useState(null);oe.useEffect(()=>{const p=window.navigator.userAgent.toLowerCase(),_=/iphone|ipad|ipod/.test(p),v=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;_&&!v&&(r(!0),e(!0));const S=w=>{w.preventDefault(),c(w),e(!0)};return window.addEventListener("beforeinstallprompt",S),()=>{window.removeEventListener("beforeinstallprompt",S)}},[]);const d=()=>{o&&(o.prompt(),o.userChoice.then(p=>{p.outcome==="accepted"&&e(!1),c(null)}))};return s?g.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 animate-in slide-in-from-bottom-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-indigo-100 p-4 flex flex-col gap-3 relative",children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:g.jsx(ou,{size:16})}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:g.jsx(LS,{className:"text-indigo-600",size:20})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800",children:"Install App"}),g.jsx("p",{className:"text-sm text-gray-500 leading-tight mt-1",children:"Add to your home screen for full screen view and easier access!"})]})]}),i?g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-600 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"1. Tap the"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-blue-600",children:[g.jsx(tw,{size:14})," Share"]}),g.jsx("span",{children:"button in your browser bar."})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"2. Scroll down and tap"}),g.jsxs("span",{className:"inline-flex items-center gap-1 font-bold text-gray-800",children:[g.jsx(Zc,{size:14,className:"border border-gray-400 rounded-[4px] p-[1px]"})," Add to Home Screen"]}),"."]})]}):g.jsx(Et,{onClick:d,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:"Install Now"})]})}):null},LI=()=>{const[s,e]=oe.useState(!0),[i,r]=oe.useState(""),[o,c]=oe.useState(""),[d,p]=oe.useState(""),[_,v]=oe.useState(""),S=async M=>{M.preventDefault(),p(""),v("");try{s?await e2(Sl,i,o):await Wx(Sl,i,o)}catch(G){p(G.message)}},w=async()=>{if(!i){p("Please enter your email address first.");return}try{await Jx(Sl,i),v("Password reset email sent! Check your inbox."),p("")}catch(M){p(M.message)}};return g.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(n1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:M=>r(M.target.value),placeholder:"family@example.com"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&g.jsx("button",{type:"button",onClick:w,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),g.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:M=>c(M.target.value),placeholder:""})]}),d&&g.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),_&&g.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:_}),g.jsx(Et,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:()=>{e(!s),p(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function UI(){const[s,e]=oe.useState(null),[i,r]=oe.useState(!0),[o,c]=oe.useState([]),[d,p]=oe.useState([]),[_,v]=oe.useState([]),[S,w]=oe.useState([]),[M,G]=oe.useState([]),[te,ie]=oe.useState([]),[ne,ye]=oe.useState("login"),[me,he]=oe.useState(null),[Pe,Me]=oe.useState(!1),[we,R]=oe.useState(null),[A,N]=oe.useState(!1),[k,O]=oe.useState(!1),[j,x]=oe.useState(!1),[Qe,re]=oe.useState(""),[H,ee]=oe.useState(""),[ce,be]=oe.useState(""),[le,I]=oe.useState(()=>{const K=localStorage.getItem("chorePiggy_deviceConfig");return K?JSON.parse(K):{mode:"FAMILY",targetId:null}});oe.useEffect(()=>i2(Sl,ge=>{e(ge),r(!1)}),[]),oe.useEffect(()=>{if(!i&&s&&d.length>0&&ne==="login"&&!me){if(le.mode==="KID_SOLO"&&le.targetId){const ge=d.find(Le=>Le.id===le.targetId);if(ge){he(ge),ye("kid");return}}const K=localStorage.getItem("chorePiggy_activeUser");if(K&&le.mode==="FAMILY"){const ge=d.find(Le=>Le.id===K);ge&&(he(ge),ye("kid"))}}},[i,s,d,ne,me,le]),oe.useEffect(()=>{if(!s)return;const K=Se=>Kv(Xc,"families",s.uid,Se),ge={users:K("users"),kids:K("kids"),chores:K("chores"),task_log:K("task_log"),bonuses:K("bonuses")},Le=Object.entries(ge).map(([Se,at])=>Wv(at,wt=>{const ft=wt.docs.map(Jn=>({id:Jn.id,...Jn.data()}));Se==="users"&&c(ft),Se==="kids"&&p(ft),Se==="chores"&&v(ft),Se==="task_log"&&w(ft),Se==="bonuses"&&G(ft)})),$e=xI(K("history"),NI("date","desc"),RI(100)),We=Wv($e,Se=>{ie(Se.docs.map(at=>({id:at.id,...at.data()})))},Se=>console.log("History Error",Se));return()=>{Le.forEach(Se=>Se()),We()}},[s]);const Q={users:o,kids:d,chores:_,taskLog:S,bonuses:M,history:te},W=(K,ge)=>zm(Xc,"families",s.uid,K,ge||VI()),ue=K=>Kv(Xc,"families",s.uid,K),se=K=>{R(K),K.pin?(N(!1),Me(!0)):(N(!0),Me(!0))},ve=K=>{if(A){const ge=we.role==="kid"?"kids":"users";Ai(W(ge,we.id),{pin:K}),N(!1)}he(we),ye(we.role==="parent"?"parent":"kid"),Me(!1),R(null),we.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",we.id)},Ie=()=>{he(null),ye("login"),localStorage.removeItem("chorePiggy_activeUser")},bt=()=>{s2(Sl),he(null),ye("login"),localStorage.removeItem("chorePiggy_activeUser")},nt=()=>{Me(!1),x(!0)},Vn=async()=>{if(Qe)try{const K=ba.credential(s.email,Qe);await q1(Sl,K),await Ai(W("users",we.id),{pin:"1234"}),alert("Success! Your PIN has been reset to: 1234"),re(""),x(!1)}catch{alert("Incorrect password.")}},Kn=async()=>{if(!H||ce.length!==4){alert("Please enter a name and a 4-digit PIN.");return}try{const K={id:"parent1",name:H,role:"parent",pin:ce};await Zi(zm(Xc,"families",s.uid,"users",K.id),K),O(!1)}catch(K){alert(`Error: ${K.message}`)}},Qn=K=>{I(K),localStorage.setItem("chorePiggy_deviceConfig",JSON.stringify(K))},Yn=()=>{const K=o.find(ge=>ge.role==="parent");K&&(R({...K,isGateUnlock:!0}),Me(!0))},Tn=()=>{confirm("Parent Access Granted. Reset device mode to Family?")&&(Qn({mode:"FAMILY",targetId:null}),Ie()),Me(!1),R(null)},mn=K=>{we.isGateUnlock?K===we.pin?Tn():alert("Incorrect PIN"):ve(K)},Xn=async(K,ge,Le,$e,We)=>{await DI(ue("history"),{kidId:K,amount:ge,type:Le,description:$e,date:new Date().toISOString(),by:We||"Unknown"})},$n=async(K,ge,Le,$e,We)=>{const Se=d.find(at=>at.id===K);Se&&(await Ai(W("kids",K),{balance:Se.balance+ge}),await Xn(K,ge,Le,$e,We))},Ii=async(K,ge)=>{await Zi(W("users"),{name:K,pin:ge,role:"parent"})},ct=async K=>{await Yc(W("users",K))},St=async(K,ge)=>{await Ai(W("users",K),{pin:ge})},wn=async(K,ge)=>{await Ai(W("users",K),{name:ge})},Us=async(K,ge,Le)=>{const $e=S.find(We=>We.type==="chore"&&We.taskId===K.id&&We.kidId===ge&&We.dateString===Le);$e?await Ai(W("task_log",$e.id),{status:"pending",timestamp:new Date().toISOString()}):await Zi(W("task_log"),{type:"chore",taskId:K.id,title:K.title,kidId:ge,dateString:Le,status:"pending",timestamp:new Date().toISOString()})},ls=async(K,ge,Le,$e,We)=>{const Se=S.find(ft=>ft.type==="chore"&&ft.taskId===K.id&&ft.kidId===ge&&ft.dateString===Le);let at=Se?W("task_log",Se.id):W("task_log");const wt={type:"chore",taskId:K.id,title:K.title,kidId:ge,dateString:Le,timestamp:new Date().toISOString()};if($e==="approve"){const ft=ht(ge),pi=(K.weight||1)*ft.valuePerPoint;await Zi(at,{...wt,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!Se||Se.status!=="approved")&&await $n(ge,pi,"chore",`${K.title} (${Dl(Le)})`,We)}else $e==="fail"?await Zi(at,{...wt,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):$e==="retry"&&await Zi(at,{...wt,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},Bt=async(K,ge)=>{await Zi(W("task_log"),{type:"bonus",taskId:K.id,title:K.title,reward:K.reward,kidId:ge,status:"pending",timestamp:new Date().toISOString(),isGroupTask:K.maxKids>1}),(!K.maxKids||K.maxKids<=1)&&await Yc(W("bonuses",K.id))},Zn=async(K,ge)=>{const Le=W("bonuses",K),We=M.find(Se=>Se.id===K).workers||[];We.includes(ge)||await Ai(Le,{workers:[...We,ge]})},Di=async(K,ge,Le=1)=>{Zi(W("bonuses"),{title:K,reward:ge,status:"available",maxKids:Le,workers:[]})},Oi=async(K,ge,Le)=>{await Ai(W("task_log",K.id),{status:"approved",approvedAt:new Date().toISOString()});const $e=ge,We=K.dateString?`(${Dl(K.dateString)})`:"(Bonus)";await $n(K.kidId,$e,K.type,`${K.title} ${We}`,Le)},kn=async(K,ge)=>{const Le=ge==="retry"?"changes_requested":"failed";await Ai(W("task_log",K.id),{status:Le,rejectedAt:new Date().toISOString()})},zs=async(K,ge,Le)=>{await Zi(W("kids"),{name:K,pin:ge,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:qm[Math.floor(Math.random()*qm.length)],allowanceAmount:Number(Le)})},os=async(K,ge)=>Ai(W("kids",K),ge),Mi=async K=>{Zi(W("chores"),{...K,createdAt:Ta()})},us=async(K,ge)=>Ai(W("chores",K),ge),gn=async K=>Yc(W("chores",K)),kt=async K=>Yc(W("bonuses",K)),en=K=>{if(!K.pausedUntil)return!0;const ge=Ta();return K.pausedUntil<=ge},ht=(K,ge=0)=>{const Le=d.find(dt=>dt.id===K);if(!Le)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const $e=Le.allowanceAmount||0,We=_.filter(dt=>dt.kidId===K&&en(dt));let Se=0;We.forEach(dt=>{const Wn=dt.weight||1;Se+=Wn*dt.days.length});const at=Se>0?$e/Se:0,wt=Ug(ge),ft=S.filter(dt=>dt.kidId===K&&dt.type==="chore"&&wt.includes(dt.dateString));let Jn=0,pi=0;return ft.forEach(dt=>{const ei=(_.find(cs=>cs.id===dt.taskId)?.weight||1)*at;dt.status==="approved"&&(Jn+=ei),dt.status==="pending"&&(pi+=ei)}),{potential:$e,earned:Jn,pending:pi,totalWeight:Se,valuePerPoint:at}};return i?g.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?g.jsxs(g.Fragment,{children:[Pe&&g.jsx(jI,{targetPin:we?.pin,onSuccess:mn,onCancel:()=>{Me(!1),R(null),N(!1)},title:A?"Create PIN":we.isGateUnlock?"Enter Parent PIN":`Enter ${we?.name}'s PIN`,onForgot:nt,mode:A?"setup":"verify"}),k&&g.jsx(xi,{isOpen:!0,onClose:()=>{},title:"Setup Family",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-gray-500",children:"Welcome! Let's set up the main parent profile."}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Parent Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:H,onChange:K=>ee(K.target.value),placeholder:"e.g. Mom"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Create 4-Digit PIN"}),g.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:ce,onChange:K=>be(K.target.value),placeholder:"1234"})]}),g.jsx(Et,{onClick:Kn,className:"w-full",children:"Create Profile"})]})}),j&&g.jsx(xi,{isOpen:!0,onClose:()=>x(!1),title:"Reset PIN",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-gray-600",children:"To reset this PIN, please enter your Family Account Password:"}),g.jsx("input",{type:"password",className:"w-full border p-2 rounded",value:Qe,onChange:K=>re(K.target.value),placeholder:"Password"}),g.jsx(Et,{onClick:Vn,className:"w-full",children:"Verify & Reset PIN to 1234"})]})}),g.jsx(PI,{}),ne==="login"&&g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[g.jsxs("div",{className:"absolute top-4 right-4 flex gap-3",children:[g.jsxs("button",{onClick:()=>{o.length>0?Yn():alert("Initialize family first.")},className:"flex items-center gap-2 text-gray-400 hover:text-blue-500 text-xs font-bold",children:[g.jsx(i1,{size:14})," Device"]}),g.jsxs("button",{onClick:bt,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-xs font-bold",children:[g.jsx(Fm,{size:14})," Sign Out"]})]}),g.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[g.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[g.jsx(n1,{size:40})," ChorePiggy"]}),g.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.email})]}),g.jsx("div",{className:"max-w-md w-full grid gap-4",children:o.length===0&&d.length===0?g.jsxs("div",{className:"text-center py-10",children:[g.jsx("p",{className:"text-gray-500 mb-4",children:"Welcome! No family data found."}),g.jsx(Et,{onClick:()=>O(!0),className:"w-full py-3",children:"Initialize Family Database"})]}):g.jsxs(g.Fragment,{children:[(le.mode==="FAMILY"||le.mode==="PARENT_SOLO")&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(K=>g.jsxs("button",{onClick:()=>se(K),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(s1,{size:24})}),g.jsx("span",{className:"font-bold text-lg text-gray-700",children:K.name})]}),g.jsx(oh,{className:"text-gray-300 group-hover:text-blue-500"})]},K.id))]}),(le.mode==="FAMILY"||le.mode==="KIDS_SHARED"||le.mode==="KID_SOLO")&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(K=>g.jsxs("button",{onClick:()=>se(K),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:K.avatar}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:K.name}),g.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),g.jsx(oh,{className:"text-gray-300 group-hover:text-purple-500"})]},K.id))]}),d.length===0&&o.length>0&&g.jsx("div",{className:"text-center p-6 bg-white rounded-xl border border-dashed text-gray-400",children:"No kids yet. Login as parent to setup!"})]})})]}),ne==="parent"&&g.jsx(zI,{data:Q,user:me,logout:Ie,addKid:zs,addChore:Mi,updateChore:us,deleteChore:gn,addBonus:Di,deleteBonus:kt,updateBalance:$n,updateKid:os,approveTask:Oi,rejectTask:kn,parentOverrideTask:ls,calculateWeeklyStats:ht,updateParentPin:St,addParent:Ii,deleteParent:ct,updateParentName:wn,deviceConfig:le,updateDeviceConfig:Qn}),ne==="kid"&&g.jsx(BI,{user:d.find(K=>K.id===me.id)||me,data:Q,logout:Ie,submitChore:Us,submitBonus:Bt,joinBonus:Zn,updateKid:os,calculateWeeklyStats:ht,isChoreActive:en,deviceConfig:le,handleParentGate:Yn})]}):g.jsx(LI,{})}function zI({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:S,approveTask:w,rejectTask:M,parentOverrideTask:G,calculateWeeklyStats:te,updateParentPin:ie,addParent:ne,deleteParent:ye,updateParentName:me,deviceConfig:he,updateDeviceConfig:Pe}){const[Me,we]=oe.useState("approvals"),[R,A]=oe.useState(!1),[N,k]=oe.useState(""),[O,j]=oe.useState(""),[x,Qe]=oe.useState("10"),[re,H]=oe.useState(null),[ee,ce]=oe.useState(null),[be,le]=oe.useState(null),[I,Q]=oe.useState(null),[W,ue]=oe.useState(!1),[se,ve]=oe.useState(null),[Ie,bt]=oe.useState(null),[nt,Vn]=oe.useState(0),[Kn,Qn]=oe.useState(""),[Yn,Tn]=oe.useState(""),[mn,Xn]=oe.useState("add"),[$n,Ii]=oe.useState(0),[ct,St]=oe.useState([]),[wn,Us]=oe.useState(""),[ls,Bt]=oe.useState("1"),[Zn,Di]=oe.useState(""),[Oi,kn]=oe.useState(""),[zs,os]=oe.useState([0,1,2,3,4]),[Mi,us]=oe.useState(""),[gn,kt]=oe.useState("2"),[en,ht]=oe.useState("1"),[K,ge]=oe.useState(""),[Le,$e]=oe.useState(""),[We,Se]=oe.useState("");oe.useEffect(()=>{s.kids.length>0&&!ct.length&&St([])},[s.kids]);const at=s.taskLog.filter(D=>D.status==="pending");at.sort((D,Ae)=>new Date(Ae.timestamp)-new Date(D.timestamp));const wt=at.length,ft=()=>{if(!Kn||!re)return;const D=Number(Kn),Ae=mn==="add"?D:-D,it=mn==="add"?"manual_add":"manual_subtract",At=mn==="add"?"Manual Deposit":"Cash Out / Purchase";v(re.id,Ae,it,Yn||At,e.name),H(null),Qn(""),Tn("")},Jn=async()=>{if(confirm(`Approve all ${wt} tasks?`))for(const D of at)if(D.type==="chore"){const Ae=te(D.kidId),xt=(s.chores.find(st=>st.id===D.taskId)?.weight||1)*Ae.valuePerPoint;await w(D,xt,e.name)}else await w(D,0,e.name)},pi=D=>{D.isGroupTask?(Vn(Math.floor(D.reward/2)),bt(D)):w(D,D.reward,e.name)},dt=D=>{D.preventDefault(),N&&O&&(r(N,O,x),A(!1),k(""),j(""))},Wn=D=>{D.preventDefault(),wn&&ct.length>0&&(ct.forEach(Ae=>{o({kidId:Ae,title:wn,days:zs,weight:Number(ls),startTime:Zn,doByTime:Oi})}),Us(""),Bt("1"),Di(""),kn(""),St([]))},Aa=()=>{se&&(c(se.id,{title:se.title,days:se.days,weight:Number(se.weight),startTime:se.startTime,doByTime:se.doByTime,pausedUntil:se.pausedUntil||null}),ve(null))},ei=()=>{Le&&We.length===4&&(ne(Le,We),$e(""),Se(""))},cs=D=>os(Ae=>Ae.includes(D)?Ae.filter(it=>it!==D):[...Ae,D].sort()),Ur=D=>{St(Ae=>Ae.includes(D)?Ae.filter(it=>it!==D):[...Ae,D])};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[g.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:g.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[g.jsx(s1,{})," ",e.name,"'s Dashboard"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ue(!0),className:"text-gray-500 hover:text-blue-600",children:g.jsx(i1,{size:20})}),g.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:g.jsx(Fm,{size:20})})]})]})}),g.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[g.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(D=>g.jsxs("button",{onClick:()=>we(D),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${Me===D?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[D,D==="approvals"&&wt>0&&g.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:wt})]},D))}),g.jsx(xi,{isOpen:W,onClose:()=>ue(!1),title:"Family Settings",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[g.jsx("h4",{className:"font-bold text-indigo-800 text-sm uppercase",children:"This Device Mode"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>Pe({mode:"FAMILY",targetId:null}),className:`p-2 text-xs rounded border ${he.mode==="FAMILY"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Family (Default)"}),g.jsx("button",{onClick:()=>Pe({mode:"KIDS_SHARED",targetId:null}),className:`p-2 text-xs rounded border ${he.mode==="KIDS_SHARED"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Kids Only"}),s.kids.map(D=>g.jsxs("button",{onClick:()=>Pe({mode:"KID_SOLO",targetId:D.id}),className:`p-2 text-xs rounded border ${he.mode==="KID_SOLO"&&he.targetId===D.id?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:[D.name," Only"]},D.id))]}),g.jsxs("p",{className:"text-[10px] text-indigo-400",children:["Current: ",he.mode," ",he.targetId?`(${s.kids.find(D=>D.id===he.targetId)?.name})`:""]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:K,onChange:D=>ge(D.target.value)}),g.jsx(Et,{size:"sm",onClick:()=>{K.length===4&&ie(e.id,K),ge(""),alert("PIN updated")},children:"Update"})]})]}),g.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),g.jsx("div",{className:"space-y-2",children:s.users.filter(D=>D.role==="parent").map(D=>g.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"font-bold text-gray-700",children:[D.name," ",D.id===e.id&&"(You)"]}),g.jsx("button",{onClick:()=>{const Ae=prompt("Enter new name:",D.name);Ae&&me(D.id,Ae)},className:"text-gray-400 hover:text-blue-500",children:g.jsx($c,{size:14})})]}),D.id!==e.id&&g.jsx("button",{onClick:()=>ye(D.id),className:"text-red-400 hover:text-red-600",children:g.jsx(em,{size:16})})]},D.id))}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:Le,onChange:D=>$e(D.target.value)}),g.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:We,onChange:D=>Se(D.target.value)})]}),g.jsxs(Et,{onClick:ei,className:"w-full",variant:"outline",children:[g.jsx(hw,{size:16})," Add Guardian"]})]})]})}),g.jsx(xi,{isOpen:!!Ie,onClose:()=>bt(null),title:"Split Group Reward",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[g.jsx("h4",{className:"font-bold text-gray-800",children:Ie?.title}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",sn(Ie?.reward)]})]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",g.jsx("strong",{children:s.kids.find(D=>D.id===Ie?.kidId)?.name})," get?"]}),g.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[g.jsx("button",{onClick:()=>Vn(D=>Math.max(0,D-1)),className:"p-3 bg-gray-100 rounded-full",children:g.jsx(KS,{size:20})}),g.jsx("span",{className:"text-4xl font-bold text-green-600",children:sn(nt)}),g.jsx("button",{onClick:()=>Vn(D=>D+1),className:"p-3 bg-gray-100 rounded-full",children:g.jsx(Zc,{size:20})})]}),g.jsxs(Et,{className:"w-full bg-green-600",onClick:()=>{w(Ie,nt,e.name),bt(null)},children:["Approve ",sn(nt)]})]})}),Me==="history"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&g.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),g.jsx("div",{className:"space-y-2",children:s.history.map(D=>{const Ae=s.kids.find(it=>it.id===D.kidId);return g.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Ae&&g.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Ae.name}),g.jsx("span",{children:D.description})]}),g.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[g.jsx("span",{children:new Date(D.date).toLocaleString()}),g.jsx("span",{children:""}),g.jsxs("span",{className:"font-medium text-blue-500",children:["by ",D.by||"System"]})]})]}),D.amount!==0&&g.jsxs("span",{className:`font-bold ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",sn(D.amount)]})]},D.id)})})]}),g.jsx(xi,{isOpen:!!ee,onClose:()=>ce(null),title:"Edit Profile",children:ee&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:ee.name,onChange:D=>ce({...ee,name:D.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),g.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:ee.pin,onChange:D=>ce({...ee,pin:D.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:ee.allowanceAmount,onChange:D=>ce({...ee,allowanceAmount:D.target.value})})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(Et,{variant:"ghost",onClick:()=>ce(null),className:"flex-1",children:"Cancel"}),g.jsx(Et,{onClick:()=>{S(ee.id,{name:ee.name,pin:ee.pin,allowanceAmount:Number(ee.allowanceAmount)}),ce(null)},className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(xi,{isOpen:!!se,onClose:()=>ve(null),title:"Edit Chore",children:se&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:se.title,onChange:D=>ve({...se,title:D.target.value})})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:se.startTime||"",onChange:D=>ve({...se,startTime:D.target.value})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:se.doByTime||"",onChange:D=>ve({...se,doByTime:D.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),g.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:se.weight||1,onChange:D=>ve({...se,weight:D.target.value})}),g.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[se.weight||1,"x"]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),g.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((D,Ae)=>g.jsx("button",{onClick:()=>{const it=se.days.includes(Ae)?se.days.filter(At=>At!==Ae):[...se.days,Ae].sort();ve({...se,days:it})},className:`w-8 h-8 rounded-full text-xs font-bold ${se.days.includes(Ae)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:D},Ae))})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),g.jsxs("div",{className:"flex gap-2 mt-1",children:[g.jsxs("button",{onClick:()=>ve({...se,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${se.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[g.jsx(MS,{size:16,className:"inline mr-1"})," Active"]}),g.jsxs("button",{onClick:()=>ve({...se,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${se.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[g.jsx(__,{size:16,className:"inline mr-1"})," Paused"]})]}),se.pausedUntil&&g.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",g.jsx("input",{type:"date",value:se.pausedUntil==="2099-12-31"?"":se.pausedUntil,onChange:D=>ve({...se,pausedUntil:D.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(Et,{variant:"ghost",onClick:()=>ve(null),className:"flex-1",children:"Cancel"}),g.jsx(Et,{onClick:Aa,className:"flex-1",children:"Save Changes"})]})]})}),g.jsx(xi,{isOpen:!!I,onClose:()=>Q(null),title:"Review Task",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",g.jsx("strong",{children:I?.title}),"?"]}),g.jsxs("button",{onClick:()=>{M(I,"retry"),Q(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:g.jsx(dm,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),g.jsxs("button",{onClick:()=>{M(I,"fail"),Q(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:g.jsx(YS,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),g.jsx(xi,{isOpen:!!re,onClose:()=>H(null),title:`Bank Manager: ${re?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[g.jsxs("button",{onClick:()=>Xn("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${mn==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[g.jsx(Zc,{size:16})," Deposit"]}),g.jsxs("button",{onClick:()=>Xn("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${mn==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[g.jsx(E_,{size:16})," Cash Out"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),g.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:Kn,onChange:D=>Qn(D.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),g.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:mn==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:Yn,onChange:D=>Tn(D.target.value)})]}),g.jsxs(Et,{onClick:ft,className:`w-full ${mn==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",mn==="add"?"Deposit":"Withdrawal"]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[g.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(D=>D.kidId===re?.id).slice(0,5).map(D=>g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:D.description}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:`font-bold block ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",sn(D.amount)]}),g.jsx("span",{className:"text-[10px] text-gray-400",children:D.by})]})]},D.id))})]})]})}),g.jsx(xi,{isOpen:!!be,onClose:()=>le(null),title:`Tasks: ${be?.name}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[g.jsx("button",{onClick:()=>Ii(D=>D-1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(t1,{size:16})}),g.jsx("span",{className:"font-bold text-sm text-gray-700",children:$n===0?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>Ii(D=>D+1),className:"p-2 hover:bg-gray-200 rounded",children:g.jsx(oh,{size:16})})]}),g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Ug($n).map(D=>{const Ae=s.chores.filter(it=>it.kidId===be?.id&&it.days.includes(new Date(D).getDay()));return Ae.length===0?null:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[IT(D)," (",Dl(D),")"]}),Ae.map(it=>{const At=s.taskLog.find(_t=>_t.type==="chore"&&_t.taskId===it.id&&_t.kidId===be.id&&_t.dateString===D),xt=At?At.status:"todo";let st="bg-gray-100 border-gray-200";return xt==="approved"&&(st="bg-green-50 border-green-200"),xt==="pending"&&(st="bg-amber-50 border-amber-200"),xt==="failed"&&(st="bg-red-50 border-red-200"),xt==="changes_requested"&&(st="bg-yellow-50 border-yellow-200"),g.jsxs("div",{className:`p-3 rounded-lg border ${st} flex justify-between items-center`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[it.title," ",g.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[it.weight||1,"x"]})]}),g.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:xt.replace("_"," ")})]}),g.jsxs("div",{className:"flex gap-1",children:[xt!=="approved"&&g.jsx("button",{onClick:()=>G(it,be.id,D,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:g.jsx(NS,{size:16})}),xt!=="failed"&&g.jsx("button",{onClick:()=>G(it,be.id,D,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:g.jsx(ou,{size:16})}),xt!=="changes_requested"&&xt!=="approved"&&g.jsx("button",{onClick:()=>G(it,be.id,D,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:g.jsx(dm,{size:16})})]})]},`${it.id}-${D}`)})]},D)}),s.chores.filter(D=>D.kidId===be?.id).length===0&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),Me==="approvals"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),wt>0&&g.jsxs(Et,{size:"sm",variant:"success",onClick:Jn,children:["Approve All (",wt,")"]})]}),wt===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),g.jsx("div",{className:"space-y-3",children:at.map(D=>{const Ae=s.kids.find(_t=>_t.id===D.kidId),At=s.chores.find(_t=>_t.id===D.taskId)?.weight||1,xt=te(D.kidId),st=D.type==="bonus"?D.reward:At*xt.valuePerPoint;return g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[g.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[g.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Ae?.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:g.jsx(Go,{size:12,className:"text-amber-500"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[D.title,D.type==="chore"&&At>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[At,"x"]}),D.isGroupTask&&g.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[g.jsx("span",{children:Ae?.name}),g.jsx("span",{children:""}),g.jsx("span",{className:`font-bold ${D.dateString===Ta()?"text-green-600":"text-amber-600"}`,children:D.dateString?Dl(D.dateString):"Bonus Task"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:sn(st)}),g.jsx("button",{onClick:()=>Q(D),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:g.jsx(aw,{size:20})}),g.jsx("button",{onClick:()=>pi(D),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:g.jsx(ow,{size:20})})]})]},D.id)})})]}),Me==="kids"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),g.jsxs(Et,{onClick:()=>A(!0),size:"sm",children:[g.jsx(Zc,{size:16})," Add Kid"]})]}),R&&g.jsx(yl,{className:"p-4 animate-in slide-in-from-top-4",children:g.jsxs("form",{onSubmit:dt,className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),g.jsx("input",{className:"w-full border p-2 rounded",value:N,onChange:D=>k(D.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),g.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:O,onChange:D=>j(D.target.value),required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),g.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:x,onChange:D=>Qe(D.target.value)})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Et,{type:"button",variant:"ghost",onClick:()=>A(!1),children:"Cancel"}),g.jsx(Et,{type:"submit",children:"Save"})]})]})}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(D=>{const Ae=te(D.id);return g.jsxs(yl,{className:"p-4 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:D.avatar}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-lg",children:D.name}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",sn(D.allowanceAmount||0)]}),g.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",sn(Ae.valuePerPoint)," / point"]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-3xl font-bold text-green-600",children:sn(D.balance)}),g.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[g.jsxs(Et,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>ce(D),children:[g.jsx($c,{size:12})," Edit Profile"]}),g.jsxs(Et,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>H(D),children:[g.jsx(E_,{size:14})," Manage Funds"]})]}),g.jsxs(Et,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>le(D),children:[g.jsx(kS,{size:14})," View Tasks"]})]},D.id)})})]}),Me==="chores"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(yl,{className:"p-6",children:[g.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),g.jsxs("form",{onSubmit:Wn,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(D=>g.jsx("button",{type:"button",onClick:()=>Ur(D.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${ct.includes(D.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:D.name},D.id))}),ct.length===0&&g.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),g.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:wn,onChange:D=>Us(D.target.value),required:!0})]}),g.jsxs("div",{className:"w-full sm:w-24",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),g.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[g.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:ls,onChange:D=>Bt(D.target.value)}),g.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Zn,onChange:D=>Di(D.target.value)})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),g.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Oi,onChange:D=>kn(D.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),g.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((D,Ae)=>g.jsx("button",{type:"button",onClick:()=>cs(Ae),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${zs.includes(Ae)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:D},Ae))})]}),g.jsx(Et,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(D=>{const Ae=s.kids.find(At=>At.id===D.kidId),it=D.pausedUntil&&D.pausedUntil>Ta();return g.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${it?"opacity-60 grayscale":""}`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-bold text-gray-800",children:D.title}),D.weight>1&&g.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[D.weight,"x"]}),it&&g.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[g.jsx(__,{size:10})," Paused"]})]}),g.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[g.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Ae?.name||"Unknown"}),g.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:D.days.length===7?"Everyday":`${D.days.length} days/wk`})]}),(D.startTime||D.doByTime)&&g.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[g.jsx(Go,{size:10}),D.startTime?Ih(D.startTime):"Start"," ",D.startTime&&D.doByTime&&" - ",D.doByTime?`Due ${Ih(D.doByTime)}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>ve(D),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:g.jsx($c,{size:18})}),g.jsx("button",{onClick:()=>d(D.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:g.jsx(em,{size:18})})]})]},D.id)})]})]}),Me==="bonuses"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(yl,{className:"p-6 bg-yellow-50 border-yellow-100",children:[g.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[g.jsx(mm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:Mi,onChange:D=>us(D.target.value)})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[g.jsx(gm,{size:16,className:"text-yellow-500 mr-2"}),g.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:en||1,onChange:D=>ht(D.target.value)})]}),g.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[g.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),g.jsx("input",{className:"w-full outline-none",type:"number",value:gn,onChange:D=>kt(D.target.value)})]}),g.jsx(Et,{onClick:()=>{Mi&&(p(Mi,Number(gn),Number(en||1)),us(""),ht(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(D=>g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:g.jsx(mm,{size:16,className:"fill-yellow-500"})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-gray-700",children:D.title}),D.maxKids>1&&g.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[g.jsx(gm,{size:10})," Group Task (",D.workers?.length||0,"/",D.maxKids,")"]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:sn(D.reward)}),g.jsx("button",{onClick:()=>_(D.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:g.jsx(em,{size:18})})]})]},D.id))]})]})]})]})}function BI({user:s,data:e,logout:i,submitChore:r,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_,deviceConfig:v,handleParentGate:S}){const[w,M]=oe.useState("todo"),[G,te]=oe.useState(!1),[ie,ne]=oe.useState(s.goalName||""),[ye,me]=oe.useState(s.savingsGoal||0),[he,Pe]=oe.useState(!1),[Me,we]=oe.useState(!1),[R,A]=oe.useState(0),N=Ug(R),k=p(s.id,R),O=Math.min(k.earned/k.potential*100,100)||0,j=Math.min(k.pending/k.potential*100,100)||0,x=(re,H)=>{const ee=e.taskLog.find(ce=>ce.type==="chore"&&ce.taskId===re&&ce.kidId===s.id&&ce.dateString===H);return ee?ee.status:"todo"},Qe=R===0;return g.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[g.jsx(xi,{isOpen:he,onClose:()=>Pe(!1),title:"Choose Your Avatar",children:g.jsx("div",{className:"grid grid-cols-4 gap-4",children:qm.map(re=>g.jsx("button",{onClick:()=>{d(s.id,{avatar:re}),Pe(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:re},re))})}),g.jsx(xi,{isOpen:Me,onClose:()=>we(!1),title:"Your Money History",children:g.jsxs("div",{className:"space-y-3",children:[e.history.filter(re=>re.kidId===s.id).map(re=>g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-gray-700 text-sm",children:re.description}),g.jsx("div",{className:"text-xs text-gray-400",children:new Date(re.date).toLocaleDateString()})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:`font-bold ${re.amount>0?"text-green-600":"text-red-500"}`,children:[re.amount>0?"+":"",sn(re.amount)]}),g.jsx("div",{className:"text-[10px] text-gray-400",children:re.by})]})]},re.id)),e.history.filter(re=>re.kidId===s.id).length===0&&g.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),g.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),g.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:()=>Pe(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:g.jsx($c,{size:10,className:"text-indigo-600"})})]}),g.jsxs("div",{children:[g.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),g.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Dl(N[0])]})]})]}),v?.mode==="KID_SOLO"?g.jsx("button",{onClick:S,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:g.jsx(v_,{size:18})}):g.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:g.jsx(Fm,{size:18})})]}),g.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("button",{onClick:()=>A(re=>Math.max(re-1,-1)),className:`p-1 rounded ${R<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:R<=-1,children:g.jsx(t1,{size:16})}),g.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:Qe?"This Week":"Last Week"}),g.jsx("button",{onClick:()=>Qe?null:A(re=>re+1),className:`p-1 rounded ${Qe?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:g.jsx(oh,{size:16})})]}),g.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[g.jsxs("span",{children:["Earned: ",sn(k.earned)]}),g.jsxs("span",{children:["Weekly Cap: ",sn(k.potential)]})]}),g.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[g.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${O}%`}}),g.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${j}%`}})]}),j>0&&g.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",sn(k.pending)," waiting approval)"]})]}),g.jsx("div",{className:"flex flex-col items-center relative z-10",children:g.jsxs("button",{onClick:()=>we(!0),className:"flex flex-col items-center group",children:[g.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",g.jsx(zS,{size:12})]}),g.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:sn(s.balance)})]})})]}),g.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[g.jsxs(yl,{className:"flex p-1",children:[g.jsxs("button",{onClick:()=>M("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${w==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(AS,{size:20})," Tasks"]}),g.jsxs("button",{onClick:()=>M("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${w==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(Wd,{size:20})," Goal"]}),g.jsxs("button",{onClick:()=>M("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${w==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[g.jsx(SS,{size:20})," Bonus"]})]}),w==="todo"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:N.map((re,H)=>{let ee=e.chores.filter(le=>{const I=le.createdAt||"1970-01-01";return le.kidId===s.id&&le.days.includes(new Date(re).getDay())&&_(le)&&I<=re});if(ee.length===0)return null;ee.sort((le,I)=>le.startTime&&!I.startTime?-1:!le.startTime&&I.startTime?1:le.startTime&&I.startTime&&le.startTime!==I.startTime?le.startTime.localeCompare(I.startTime):le.doByTime&&I.doByTime&&le.doByTime!==I.doByTime?le.doByTime.localeCompare(I.doByTime):le.title.localeCompare(I.title));const ce=re===Ta(),be=re>Ta();return g.jsxs("div",{className:`space-y-2 ${be?"opacity-50 grayscale":""}`,children:[g.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${ce?"text-indigo-600":"text-gray-500"}`,children:[ce?"Today":IT(re)," ",g.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Dl(re),")"]})]}),ee.map(le=>{const I=x(le.id,re),Q=I==="approved",W=I==="pending",ue=I==="changes_requested",se=I==="failed";return g.jsxs("div",{className:"relative",children:[g.jsx("button",{disabled:Q||W||be||se,onClick:()=>r(le,s.id,re),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden ${Q?"bg-green-50 border-green-200":W?"bg-amber-50 border-amber-200":ue?"bg-yellow-50 border-yellow-300 shadow-md":se?"bg-red-50 border-red-200":be?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${Q?"bg-green-500 text-white":W?"bg-amber-400 text-white":ue?"bg-yellow-400 text-yellow-900":se?"bg-red-400 text-white":be?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:Q?g.jsx(y_,{size:14}):W?g.jsx(Go,{size:14}):ue?g.jsx(dm,{size:14}):se?g.jsx(ou,{size:14}):be?g.jsx(v_,{size:12}):g.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[g.jsx("span",{className:`font-bold block text-sm ${Q?"text-gray-500 line-through":"text-gray-800"}`,children:le.title}),le.weight>1&&g.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[le.weight,"x"]})]}),(le.startTime||le.doByTime)&&g.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[g.jsx(Go,{size:10}),le.startTime?Ih(le.startTime):"Start"," ",le.startTime&&le.doByTime&&" - ",le.doByTime?`Due ${Ih(le.doByTime)}`:""]}),W&&g.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),ue&&g.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),se&&g.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),ue&&!be&&g.jsx("button",{onClick:()=>r(le,s.id,re),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${le.id}-${re}`)})]},re)})}),w==="savings"&&g.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:g.jsxs(yl,{className:"p-6 text-center space-y-4",children:[g.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),G?g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:ie,onChange:re=>ne(re.target.value),placeholder:"Goal Name"}),g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),g.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:ye,onChange:re=>me(re.target.value)})]}),g.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[g.jsx(Et,{size:"sm",variant:"ghost",onClick:()=>te(!1),children:"Cancel"}),g.jsx(Et,{size:"sm",onClick:()=>{d(s.id,{goalName:ie,savingsGoal:Number(ye)}),te(!1)},children:"Save"})]})]}):g.jsx(g.Fragment,{children:s.savingsGoal>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(Wd,{className:"text-indigo-500"}),g.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),g.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",sn(s.savingsGoal)]}),g.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:g.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),g.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),g.jsx(Et,{variant:"outline",size:"sm",onClick:()=>te(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):g.jsxs("div",{className:"py-8 text-center space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:g.jsx(Wd,{size:32})}),g.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),g.jsx(Et,{onClick:()=>te(!0),children:"Set a Goal"})]})})]})}),w==="bonus"&&g.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[g.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&g.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:g.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(re=>re.kidId===s.id&&re.type==="bonus"&&re.status==="pending").map(re=>g.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:g.jsx(Go,{size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:re.title}),g.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),g.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",sn(re.reward)]})]},re.id)),e.bonuses.map(re=>{const H=re.workers||[],ee=H.includes(s.id),ce=H.length>=(re.maxKids||1);return e.taskLog.some(le=>le.taskId===re.id&&le.kidId===s.id)?null:g.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex flex-col gap-3 text-left",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ee?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:ee?g.jsx(y_,{size:20}):g.jsx(mm,{className:"fill-yellow-500 text-yellow-500",size:20})}),g.jsxs("div",{children:[g.jsx("span",{className:"font-bold text-gray-800 block",children:re.title}),g.jsxs("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide flex items-center gap-1",children:[re.maxKids>1?g.jsx(gm,{size:12}):null,ee?"In Progress":"Bonus Task"]})]})]}),g.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",sn(re.reward)]})]}),re.maxKids>1&&g.jsxs("div",{className:"text-xs text-gray-500 px-1 flex gap-2 items-center",children:[g.jsx("div",{className:"flex -space-x-2",children:H.map(le=>{const I=e.kids.find(Q=>Q.id===le);return g.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[10px]",title:I?.name,children:I?.avatar},le)})}),g.jsxs("span",{children:[H.length,"/",re.maxKids," Kids working"]})]}),ee?g.jsx("button",{onClick:()=>o(re,s.id),className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-md transition-all active:scale-95",children:"Mark Done"}):g.jsx("button",{disabled:ce,onClick:()=>c(re.id,s.id),className:`w-full py-2 rounded-xl font-bold border-2 transition-all active:scale-95 ${ce?"bg-gray-100 text-gray-400 border-transparent":"bg-white border-yellow-400 text-yellow-700 hover:bg-yellow-50"}`,children:ce?"Team Full":"Start Working"})]},re.id)})]})]})]})}pS.createRoot(document.getElementById("root")).render(g.jsx(oe.StrictMode,{children:g.jsx(UI,{})}));
