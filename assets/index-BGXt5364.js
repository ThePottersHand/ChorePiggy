(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Qd={exports:{}},Po={};var a_;function lS(){if(a_)return Po;a_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Po.Fragment=e,Po.jsx=i,Po.jsxs=i,Po}var l_;function oS(){return l_||(l_=1,Qd.exports=lS()),Qd.exports}var m=oS(),Yd={exports:{}},Ie={};var o_;function uS(){if(o_)return Ie;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=M&&I[M]||I["@@iterator"],typeof I=="function"?I:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,te={};function _e(I,K,ie){this.props=I,this.context=K,this.refs=te,this.updater=ie||ee}_e.prototype.isReactComponent={},_e.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},_e.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function pe(){}pe.prototype=_e.prototype;function fe(I,K,ie){this.props=I,this.context=K,this.refs=te,this.updater=ie||ee}var Ue=fe.prototype=new pe;Ue.constructor=fe,ne(Ue,_e.prototype),Ue.isPureReactComponent=!0;var Me=Array.isArray;function Ae(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(I,K,ie){var oe=ie.ref;return{$$typeof:s,type:I,key:K,ref:oe!==void 0?oe:null,props:ie}}function k(I,K){return N(I.type,K,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ie){return K[ie]})}var w=/\/+/g;function Qe(I,K){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):K.toString(36)}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ae,Ae):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,K,ie,oe,se){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var Ve=!1;if(I===null)Ve=!0;else switch(Ee){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(I.$$typeof){case s:case e:Ve=!0;break;case S:return Ve=I._init,B(Ve(I._payload),K,ie,oe,se)}}if(Ve)return se=se(I),Ve=oe===""?"."+Qe(I,0):oe,Me(se)?(ie="",Ve!=null&&(ie=Ve.replace(w,"$&/")+"/"),B(se,K,ie,"",function(Vn){return Vn})):se!=null&&(O(se)&&(se=k(se,ie+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(w,"$&/")+"/")+Ve)),K.push(se)),1;Ve=0;var pt=oe===""?".":oe+":";if(Me(I))for(var et=0;et<I.length;et++)oe=I[et],Ee=pt+Qe(oe,et),Ve+=B(oe,K,ie,Ee,se);else if(et=G(I),typeof et=="function")for(I=et.call(I),et=0;!(oe=I.next()).done;)oe=oe.value,Ee=pt+Qe(oe,et++),Ve+=B(oe,K,ie,Ee,se);else if(Ee==="object"){if(typeof I.then=="function")return B(re(I),K,ie,oe,se);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function J(I,K,ie){if(I==null)return I;var oe=[],se=0;return B(I,oe,"","",function(Ee){return K.call(ie,Ee,se++)}),oe}function ue(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(ie){(I._status===0||I._status===-1)&&(I._status=1,I._result=ie)},function(ie){(I._status===0||I._status===-1)&&(I._status=2,I._result=ie)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var he=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},de={map:J,forEach:function(I,K,ie){J(I,function(){K.apply(this,arguments)},ie)},count:function(I){var K=0;return J(I,function(){K++}),K},toArray:function(I){return J(I,function(K){return K})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ie.Activity=x,Ie.Children=de,Ie.Component=_e,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=fe,Ie.StrictMode=r,Ie.Suspense=_,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Ie.cache=function(I){return function(){return I.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(I,K,ie){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var oe=ne({},I.props),se=I.key;if(K!=null)for(Ee in K.key!==void 0&&(se=""+K.key),K)!A.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(oe[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=ie;else if(1<Ee){for(var Ve=Array(Ee),pt=0;pt<Ee;pt++)Ve[pt]=arguments[pt+2];oe.children=Ve}return N(I.type,se,oe)},Ie.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ie.createElement=function(I,K,ie){var oe,se={},Ee=null;if(K!=null)for(oe in K.key!==void 0&&(Ee=""+K.key),K)A.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(se[oe]=K[oe]);var Ve=arguments.length-2;if(Ve===1)se.children=ie;else if(1<Ve){for(var pt=Array(Ve),et=0;et<Ve;et++)pt[et]=arguments[et+2];se.children=pt}if(I&&I.defaultProps)for(oe in Ve=I.defaultProps,Ve)se[oe]===void 0&&(se[oe]=Ve[oe]);return N(I,Ee,se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:p,render:I}},Ie.isValidElement=O,Ie.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ue}},Ie.memo=function(I,K){return{$$typeof:v,type:I,compare:K===void 0?null:K}},Ie.startTransition=function(I){var K=R.T,ie={};R.T=ie;try{var oe=I(),se=R.S;se!==null&&se(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ae,he)}catch(Ee){he(Ee)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),R.T=K}},Ie.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ie.use=function(I){return R.H.use(I)},Ie.useActionState=function(I,K,ie){return R.H.useActionState(I,K,ie)},Ie.useCallback=function(I,K){return R.H.useCallback(I,K)},Ie.useContext=function(I){return R.H.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I,K){return R.H.useDeferredValue(I,K)},Ie.useEffect=function(I,K){return R.H.useEffect(I,K)},Ie.useEffectEvent=function(I){return R.H.useEffectEvent(I)},Ie.useId=function(){return R.H.useId()},Ie.useImperativeHandle=function(I,K,ie){return R.H.useImperativeHandle(I,K,ie)},Ie.useInsertionEffect=function(I,K){return R.H.useInsertionEffect(I,K)},Ie.useLayoutEffect=function(I,K){return R.H.useLayoutEffect(I,K)},Ie.useMemo=function(I,K){return R.H.useMemo(I,K)},Ie.useOptimistic=function(I,K){return R.H.useOptimistic(I,K)},Ie.useReducer=function(I,K,ie){return R.H.useReducer(I,K,ie)},Ie.useRef=function(I){return R.H.useRef(I)},Ie.useState=function(I){return R.H.useState(I)},Ie.useSyncExternalStore=function(I,K,ie){return R.H.useSyncExternalStore(I,K,ie)},Ie.useTransition=function(){return R.H.useTransition()},Ie.version="19.2.0",Ie}var u_;function Hm(){return u_||(u_=1,Yd.exports=uS()),Yd.exports}var ce=Hm(),Xd={exports:{}},Uo={},$d={exports:{}},Zd={};var c_;function cS(){return c_||(c_=1,(function(s){function e(B,J){var ue=B.length;B.push(J);e:for(;0<ue;){var he=ue-1>>>1,de=B[he];if(0<o(de,J))B[he]=J,B[ue]=de,ue=he;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],ue=B.pop();if(ue!==J){B[0]=ue;e:for(var he=0,de=B.length,I=de>>>1;he<I;){var K=2*(he+1)-1,ie=B[K],oe=K+1,se=B[oe];if(0>o(ie,ue))oe<de&&0>o(se,ie)?(B[he]=se,B[oe]=ue,he=oe):(B[he]=ie,B[K]=ue,he=K);else if(oe<de&&0>o(se,ue))B[he]=se,B[oe]=ue,he=oe;else break e}}return J}function o(B,J){var ue=B.sortIndex-J.sortIndex;return ue!==0?ue:B.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,x=null,M=3,G=!1,ee=!1,ne=!1,te=!1,_e=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Ue(B){for(var J=i(v);J!==null;){if(J.callback===null)r(v);else if(J.startTime<=B)r(v),J.sortIndex=J.expirationTime,e(_,J);else break;J=i(v)}}function Me(B){if(ne=!1,Ue(B),!ee)if(i(_)!==null)ee=!0,Ae||(Ae=!0,j());else{var J=i(v);J!==null&&re(Me,J.startTime-B)}}var Ae=!1,R=-1,A=5,N=-1;function k(){return te?!0:!(s.unstable_now()-N<A)}function O(){if(te=!1,Ae){var B=s.unstable_now();N=B;var J=!0;try{e:{ee=!1,ne&&(ne=!1,pe(R),R=-1),G=!0;var ue=M;try{t:{for(Ue(B),x=i(_);x!==null&&!(x.expirationTime>B&&k());){var he=x.callback;if(typeof he=="function"){x.callback=null,M=x.priorityLevel;var de=he(x.expirationTime<=B);if(B=s.unstable_now(),typeof de=="function"){x.callback=de,Ue(B),J=!0;break t}x===i(_)&&r(_),Ue(B)}else r(_);x=i(_)}if(x!==null)J=!0;else{var I=i(v);I!==null&&re(Me,I.startTime-B),J=!1}}break e}finally{x=null,M=ue,G=!1}J=void 0}}finally{J?j():Ae=!1}}}var j;if(typeof fe=="function")j=function(){fe(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Qe=w.port2;w.port1.onmessage=O,j=function(){Qe.postMessage(null)}}else j=function(){_e(O,0)};function re(B,J){R=_e(function(){B(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(B){switch(M){case 1:case 2:case 3:var J=3;break;default:J=M}var ue=M;M=J;try{return B()}finally{M=ue}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ue=M;M=B;try{return J()}finally{M=ue}},s.unstable_scheduleCallback=function(B,J,ue){var he=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?he+ue:he):ue=he,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ue+de,B={id:S++,callback:J,priorityLevel:B,startTime:ue,expirationTime:de,sortIndex:-1},ue>he?(B.sortIndex=ue,e(v,B),i(_)===null&&B===i(v)&&(ne?(pe(R),R=-1):ne=!0,re(Me,ue-he))):(B.sortIndex=de,e(_,B),ee||G||(ee=!0,Ae||(Ae=!0,j()))),B},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(B){var J=M;return function(){var ue=M;M=J;try{return B.apply(this,arguments)}finally{M=ue}}}})(Zd)),Zd}var h_;function hS(){return h_||(h_=1,$d.exports=cS()),$d.exports}var Wd={exports:{}},gn={};var f_;function fS(){if(f_)return gn;f_=1;var s=Hm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,S)},gn.flushSync=function(_){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=S,r.d.f()}},gn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},gn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},gn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,x=p(S,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:M,fetchPriority:G}):S==="script"&&r.d.X(_,{crossOrigin:x,integrity:M,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},gn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,x=p(S,v.crossOrigin);r.d.L(_,S,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gn.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},gn.requestFormReset=function(_){r.d.r(_)},gn.unstable_batchedUpdates=function(_,v){return _(v)},gn.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var d_;function dS(){if(d_)return Wd.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=fS(),Wd.exports}var m_;function mS(){if(m_)return Uo;m_=1;var s=hS(),e=Hm(),i=dS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case _e:return"Profiler";case te:return"StrictMode";case Me:return"Suspense";case Ae:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case fe:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var re=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},he=[],de=-1;function I(t){return{current:t}}function K(t){0>de||(t.current=he[de],he[de]=null,de--)}function ie(t,n){de++,he[de]=t.current,t.current=n}var oe=I(null),se=I(null),Ee=I(null),Ve=I(null);function pt(t,n){switch(ie(Ee,n),ie(se,t),ie(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?C0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=C0(n),t=I0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(oe),ie(oe,t)}function et(){K(oe),K(se),K(Ee)}function Vn(t){t.memoizedState!==null&&ie(Ve,t);var n=oe.current,a=I0(n,t.type);n!==a&&(ie(se,t),ie(oe,a))}function Qn(t){se.current===t&&(K(oe),K(se)),Ve.current===t&&(K(Ve),Mo._currentValue=ue)}var fi,kn;function En(t){if(fi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);fi=n&&n[1]||"",kn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+t+kn}var dn=!1;function Yn(t,n){if(!t||dn)return"";dn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var C=y.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{dn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?En(a):""}function Ri(t,n){switch(t.tag){case 26:case 27:case 5:return En(t.type);case 16:return En("Lazy");case 13:return t.child!==n&&n!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return Yn(t.type,!1);case 11:return Yn(t.type.render,!1);case 1:return Yn(t.type,!0);case 31:return En("Activity");default:return""}}function Ci(t){try{var n="",a=null;do n+=Ri(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ct=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,Sn=s.unstable_cancelCallback,js=s.unstable_shouldYield,ss=s.unstable_requestPaint,Bt=s.unstable_now,Xn=s.unstable_getCurrentPriorityLevel,di=s.unstable_ImmediatePriority,Ii=s.unstable_UserBlockingPriority,jn=s.unstable_NormalPriority,Ps=s.unstable_LowPriority,Us=s.unstable_IdlePriority,mi=s.log,gi=s.unstable_setDisableYieldValue,Q=null,ae=null;function Re(t){if(typeof mi=="function"&&gi(t),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(Q,t)}catch{}}var Oe=Math.clz32?Math.clz32:Ze,ht=Math.log,Et=Math.LN2;function Ze(t){return t>>>=0,t===0?32:31-(ht(t)/Et|0)|0}var Rt=256,Ct=262144,Xe=4194304;function Ot(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $e(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ot(l):(y&=T,y!==0?h=Ot(y):a||(a=T&~t,a!==0&&(h=Ot(a))))):(T=l&~f,T!==0?h=Ot(T):y!==0?h=Ot(y):a||(a=l&~t,a!==0&&(h=Ot(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(){var t=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),t}function xn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function as(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ul(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-Oe(a),$=1<<Y;T[Y]=0,C[Y]=-1;var q=z[Y];if(q!==null)for(z[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&ls(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ls(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Pr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Oe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ur(t,n){var a=n&-n;return a=(a&42)!==0?1:D(a),(a&(t.suspendedLanes|n))!==0?0:a}function D(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Se(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function st(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:J0(t.type))}function St(t,n){var a=J.p;try{return J.p=t,n()}finally{J.p=a}}var xt=Math.random().toString(36).slice(2),rt="__reactFiber$"+xt,yt="__reactProps$"+xt,Di="__reactContainer$"+xt,Aa="__reactEvents$"+xt,Wh="__reactListeners$"+xt,bu="__reactHandles$"+xt,Su="__reactResources$"+xt,Oi="__reactMarker$"+xt;function wa(t){delete t[rt],delete t[yt],delete t[Aa],delete t[Wh],delete t[bu]}function Mi(t){var n=t[rt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Di]||a[rt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[rt])return a;t=P0(t)}return n}t=a,a=t.parentNode}return null}function $n(t){if(t=t[rt]||t[Di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Vi(t){var n=t[Su];return n||(n=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function qt(t){t[Oi]=!0}var Ll=new Set,zl={};function ki(t,n){ji(t,n),ji(t+"Capture",n)}function ji(t,n){for(zl[t]=n,t=0;t<n.length;t++)Ll.add(n[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Hl={};function xu(t){return ct.call(Hl,t)?!0:ct.call(ql,t)?!1:Bl.test(t)?Hl[t]=!0:(ql[t]=!0,!1)}function Na(t,n,a){if(xu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ht(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Ls(t)?"checked":"value";t._valueTracker=Fl(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zr=/[\n"\\]/g;function An(t){return t.replace(zr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ra(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gl(t,y,en(n)):a!=null?Gl(t,y,en(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Au(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),lt(t)}function Gl(t,n,a){n==="number"&&Pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Bs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function wn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Nu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ql(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Kl(t,f,n[f])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pi(){}var Yl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Ui=null;function Br(t){var n=$n(t);if(n&&(t=n.stateNode)){var a=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(r(90));Ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Lr(l)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&zs(t,!!a.multiple,n,!1)}}}var Da=!1;function Fs(t,n,a){if(Da)return t(n,a);Da=!0;try{var l=t(n);return l}finally{if(Da=!1,(Hs!==null||Ui!==null)&&(Tc(),Hs&&(n=Hs,t=Ui,Ui=Hs=null,Br(n),t)))for(n=0;n<t.length;n++)Br(t[n])}}function yi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Wn)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){qr=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{qr=!1}var Li=null,Xl=null,Hr=null;function $l(){if(Hr)return Hr;var t,n=Xl,a=n.length,l,h="value"in Li?Li.value:Li.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return Hr=h.slice(t,1<l?1-l:void 0)}function Fr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function _i(){return!1}function rn(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?os:_i,this.isPropagationStopped=_i,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),n}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=rn(us),Gs=x({},us,{view:0,detail:0}),Zl=rn(Gs),Ks,Oa,Bi,Ma=x({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Ks=t.screenX-Bi.screenX,Oa=t.screenY-Bi.screenY):Oa=Ks=0,Bi=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Wl=rn(Ma),Gr=x({},Ma,{dataTransfer:0}),Cu=rn(Gr),Iu=x({},Gs,{relatedTarget:0}),Kr=rn(Iu),Jl=x({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=rn(Jl),Va=x({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=rn(Va),Mu=x({},us,{data:0}),qi=rn(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ju[t])?!!n[t]:!1}function Qs(){return Pu}var Tn=x({},Gs,{key:function(t){if(t.key){var n=Vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=rn(Tn),Lu=x({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=rn(Lu),u=x({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),g=rn(u),E=x({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=rn(E),U=x({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=rn(U),le=x({},us,{newState:0,oldState:0}),ke=rn(le),jt=[9,13,27,32],tt=Wn&&"CompositionEvent"in window,It=null;Wn&&"documentMode"in document&&(It=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!It,Hi=Wn&&(!tt||It&&8<It&&11>=It),vi=" ",Ei=!1;function Qr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function DT(t,n){switch(t){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(Ei=!0,vi);case"textInput":return t=n.data,t===vi&&Ei?null:t;default:return null}}function OT(t,n){if(ja)return t==="compositionend"||!tt&&Qr(t,n)?(t=$l(),Hr=Xl=Li=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hi&&n.locale!=="ko"?null:n.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!MT[t.type]:n==="textarea"}function Bg(t,n,a,l){Hs?Ui?Ui.push(l):Ui=[l]:Hs=l,n=Rc(n,"onChange"),0<n.length&&(a=new zi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var eo=null,to=null;function VT(t){S0(t,0)}function zu(t){var n=Pn(t);if(Lr(n))return t}function qg(t,n){if(t==="change")return n}var Hg=!1;if(Wn){var Jh;if(Wn){var ef="oninput"in document;if(!ef){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),ef=typeof Fg.oninput=="function"}Jh=ef}else Jh=!1;Hg=Jh&&(!document.documentMode||9<document.documentMode)}function Gg(){eo&&(eo.detachEvent("onpropertychange",Kg),to=eo=null)}function Kg(t){if(t.propertyName==="value"&&zu(to)){var n=[];Bg(n,to,t,Zn(t)),Fs(VT,n)}}function kT(t,n,a){t==="focusin"?(Gg(),eo=n,to=a,eo.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(to)}function PT(t,n){if(t==="click")return zu(n)}function UT(t,n){if(t==="input"||t==="change")return zu(n)}function LT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:LT;function no(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ct.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Pi(t.document)}return n}function tf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zT=Wn&&"documentMode"in document&&11>=document.documentMode,Pa=null,nf=null,io=null,sf=!1;function Zg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Pa==null||Pa!==Pi(l)||(l=Pa,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),io&&no(io,l)||(io=l,l=Rc(nf,"onSelect"),0<l.length&&(n=new zi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pa)))}function Yr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ua={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},rf={},Wg={};Wn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xr(t){if(rf[t])return rf[t];if(!Ua[t])return t;var n=Ua[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wg)return rf[t]=n[a];return t}var Jg=Xr("animationend"),ep=Xr("animationiteration"),tp=Xr("animationstart"),BT=Xr("transitionrun"),qT=Xr("transitionstart"),HT=Xr("transitioncancel"),np=Xr("transitionend"),ip=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Ti(t,n){ip.set(t,n),ki(n,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],La=0,lf=0;function qu(){for(var t=La,n=lf=La=0;n<t;){var a=ei[n];ei[n++]=null;var l=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&sp(a,h,f)}}function Hu(t,n,a,l){ei[La++]=t,ei[La++]=n,ei[La++]=a,ei[La++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,n,a,l){return Hu(t,n,a,l),Fu(t)}function $r(t,n){return Hu(t,null,null,n),Fu(t)}function sp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Oe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Fu(t){if(50<wo)throw wo=0,yd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function FT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,a,l){return new FT(t,n,a,l)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hs(t,n){var a=t.alternate;return a===null?(a=zn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")uf(t)&&(y=1);else if(typeof t=="string")y=Xb(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=zn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ne:return Zr(a.children,h,f,n);case te:y=8,h|=24;break;case _e:return t=zn(12,a,n,h|2),t.elementType=_e,t.lanes=f,t;case Me:return t=zn(13,a,n,h),t.elementType=Me,t.lanes=f,t;case Ae:return t=zn(19,a,n,h),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:y=10;break e;case pe:y=9;break e;case Ue:y=11;break e;case R:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=zn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Zr(t,n,a,l){return t=zn(7,t,l,n),t.lanes=a,t}function cf(t,n,a){return t=zn(6,t,null,n),t.lanes=a,t}function ap(t){var n=zn(18,null,null,0);return n.stateNode=t,n}function hf(t,n,a){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lp=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ci(n)},lp.set(t,n),n)}return{value:t,source:n,stack:Ci(n)}}var Ba=[],qa=0,Ku=null,so=0,ni=[],ii=0,Ys=null,Fi=1,Gi="";function fs(t,n){Ba[qa++]=so,Ba[qa++]=Ku,Ku=t,so=n}function op(t,n,a){ni[ii++]=Fi,ni[ii++]=Gi,ni[ii++]=Ys,Ys=t;var l=Fi;t=Gi;var h=32-Oe(l)-1;l&=~(1<<h),a+=1;var f=32-Oe(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Fi=1<<32-Oe(n)+h|a<<h|l,Gi=f+t}else Fi=1<<f|a<<h|l,Gi=t}function ff(t){t.return!==null&&(fs(t,1),op(t,1,0))}function df(t){for(;t===Ku;)Ku=Ba[--qa],Ba[qa]=null,so=Ba[--qa],Ba[qa]=null;for(;t===Ys;)Ys=ni[--ii],ni[ii]=null,Gi=ni[--ii],ni[ii]=null,Fi=ni[--ii],ni[ii]=null}function up(t,n){ni[ii++]=Fi,ni[ii++]=Gi,ni[ii++]=Ys,Fi=n.id,Gi=n.overflow,Ys=t}var an=null,At=null,Ke=!1,Xs=null,si=!1,mf=Error(r(519));function $s(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(ti(n,t)),mf}function cp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[rt]=t,n[yt]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<Ro.length;a++)ze(Ro[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),Au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Bs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||N0(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=pi),n=!0):n=!1,n||$s(t,!0)}function hp(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:an=an.return}}function Ha(t){if(t!==an)return!1;if(!Ke)return hp(t),Ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&At&&$s(t),hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=j0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=j0(t)}else n===27?(n=At,cr(t.type)?(t=Pd,Pd=null,At=t):At=n):At=an?ai(t.stateNode.nextSibling):null;return!0}function Wr(){At=an=null,Ke=!1}function gf(){var t=Xs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Xs=null),t}function ro(t){Xs===null?Xs=[t]:Xs.push(t)}var pf=I(null),Jr=null,ds=null;function Zs(t,n,a){ie(pf,n._currentValue),n._currentValue=a}function ms(t){t._currentValue=pf.current,K(pf)}function yf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function _f(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),yf(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),yf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Fa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Ln(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Mo):t=[Mo])}h=h.return}t!==null&&_f(n,t,a,l),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Jr=t,ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return fp(Jr,t)}function Yu(t,n){return Jr===null&&ea(t),fp(t,n)}function fp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ds===null){if(t===null)throw Error(r(308));ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ds=ds.next=n;return a}var GT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},KT=s.unstable_scheduleCallback,QT=s.unstable_NormalPriority,Ft={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new GT,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&KT(QT,function(){t.controller.abort()})}var lo=null,Ef=0,Ga=0,Ka=null;function YT(t,n){if(lo===null){var a=lo=[];Ef=0,Ga=Sd(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,n.then(dp,dp),n}function dp(){if(--Ef===0&&lo!==null){Ka!==null&&(Ka.status="fulfilled");var t=lo;lo=null,Ga=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function XT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mp=B.S;B.S=function(t,n){Zy=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(t,n),mp!==null&&mp(t,n)};var ta=I(null);function Tf(){var t=ta.current;return t!==null?t:_t.pooledCache}function Xu(t,n){n===null?ie(ta,ta.current):ie(ta,n.pool)}function gp(){var t=Tf();return t===null?null:{parent:Ft._currentValue,pool:t}}var Qa=Error(r(460)),bf=Error(r(474)),$u=Error(r(542)),Zu={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(pi,pi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t;default:if(typeof n.status=="string")n.then(pi,pi);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vp(t),t}throw ia=n,Qa}}function na(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Qa):a}}var ia=null;function _p(){if(ia===null)throw Error(r(459));var t=ia;return ia=null,t}function vp(t){if(t===Qa||t===$u)throw Error(r(483))}var Ya=null,oo=0;function Wu(t){var n=oo;return oo+=1,Ya===null&&(Ya=[]),yp(Ya,t,n)}function uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ep(t){function n(P,V){if(t){var L=P.deletions;L===null?(P.deletions=[V],P.flags|=16):L.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)n(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=hs(P,V),P.index=0,P.sibling=null,P}function f(P,V,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<V?(P.flags|=67108866,V):L):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function y(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,L,X){return V===null||V.tag!==6?(V=cf(L,P.mode,X),V.return=P,V):(V=h(V,L),V.return=P,V)}function C(P,V,L,X){var Te=L.type;return Te===ne?Y(P,V,L.props.children,X,L.key):V!==null&&(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&na(Te)===V.type)?(V=h(V,L.props),uo(V,L),V.return=P,V):(V=Gu(L.type,L.key,L.props,null,P.mode,X),uo(V,L),V.return=P,V)}function z(P,V,L,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=hf(L,P.mode,X),V.return=P,V):(V=h(V,L.children||[]),V.return=P,V)}function Y(P,V,L,X,Te){return V===null||V.tag!==7?(V=Zr(L,P.mode,X,Te),V.return=P,V):(V=h(V,L),V.return=P,V)}function $(P,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=cf(""+V,P.mode,L),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return L=Gu(V.type,V.key,V.props,null,P.mode,L),uo(L,V),L.return=P,L;case ee:return V=hf(V,P.mode,L),V.return=P,V;case A:return V=na(V),$(P,V,L)}if(re(V)||j(V))return V=Zr(V,P.mode,L,null),V.return=P,V;if(typeof V.then=="function")return $(P,Wu(V),L);if(V.$$typeof===fe)return $(P,Yu(P,V),L);Ju(P,V)}return null}function q(P,V,L,X){var Te=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return Te!==null?null:T(P,V,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===Te?C(P,V,L,X):null;case ee:return L.key===Te?z(P,V,L,X):null;case A:return L=na(L),q(P,V,L,X)}if(re(L)||j(L))return Te!==null?null:Y(P,V,L,X,null);if(typeof L.then=="function")return q(P,V,Wu(L),X);if(L.$$typeof===fe)return q(P,V,Yu(P,L),X);Ju(P,L)}return null}function F(P,V,L,X,Te){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(L)||null,T(V,P,""+X,Te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return P=P.get(X.key===null?L:X.key)||null,C(V,P,X,Te);case ee:return P=P.get(X.key===null?L:X.key)||null,z(V,P,X,Te);case A:return X=na(X),F(P,V,L,X,Te)}if(re(X)||j(X))return P=P.get(L)||null,Y(V,P,X,Te,null);if(typeof X.then=="function")return F(P,V,L,Wu(X),Te);if(X.$$typeof===fe)return F(P,V,L,Yu(V,X),Te);Ju(V,X)}return null}function ye(P,V,L,X){for(var Te=null,We=null,ve=V,Pe=V=0,qe=null;ve!==null&&Pe<L.length;Pe++){ve.index>Pe?(qe=ve,ve=null):qe=ve.sibling;var Je=q(P,ve,L[Pe],X);if(Je===null){ve===null&&(ve=qe);break}t&&ve&&Je.alternate===null&&n(P,ve),V=f(Je,V,Pe),We===null?Te=Je:We.sibling=Je,We=Je,ve=qe}if(Pe===L.length)return a(P,ve),Ke&&fs(P,Pe),Te;if(ve===null){for(;Pe<L.length;Pe++)ve=$(P,L[Pe],X),ve!==null&&(V=f(ve,V,Pe),We===null?Te=ve:We.sibling=ve,We=ve);return Ke&&fs(P,Pe),Te}for(ve=l(ve);Pe<L.length;Pe++)qe=F(ve,P,Pe,L[Pe],X),qe!==null&&(t&&qe.alternate!==null&&ve.delete(qe.key===null?Pe:qe.key),V=f(qe,V,Pe),We===null?Te=qe:We.sibling=qe,We=qe);return t&&ve.forEach(function(gr){return n(P,gr)}),Ke&&fs(P,Pe),Te}function xe(P,V,L,X){if(L==null)throw Error(r(151));for(var Te=null,We=null,ve=V,Pe=V=0,qe=null,Je=L.next();ve!==null&&!Je.done;Pe++,Je=L.next()){ve.index>Pe?(qe=ve,ve=null):qe=ve.sibling;var gr=q(P,ve,Je.value,X);if(gr===null){ve===null&&(ve=qe);break}t&&ve&&gr.alternate===null&&n(P,ve),V=f(gr,V,Pe),We===null?Te=gr:We.sibling=gr,We=gr,ve=qe}if(Je.done)return a(P,ve),Ke&&fs(P,Pe),Te;if(ve===null){for(;!Je.done;Pe++,Je=L.next())Je=$(P,Je.value,X),Je!==null&&(V=f(Je,V,Pe),We===null?Te=Je:We.sibling=Je,We=Je);return Ke&&fs(P,Pe),Te}for(ve=l(ve);!Je.done;Pe++,Je=L.next())Je=F(ve,P,Pe,Je.value,X),Je!==null&&(t&&Je.alternate!==null&&ve.delete(Je.key===null?Pe:Je.key),V=f(Je,V,Pe),We===null?Te=Je:We.sibling=Je,We=Je);return t&&ve.forEach(function(aS){return n(P,aS)}),Ke&&fs(P,Pe),Te}function gt(P,V,L,X){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:e:{for(var Te=L.key;V!==null;){if(V.key===Te){if(Te=L.type,Te===ne){if(V.tag===7){a(P,V.sibling),X=h(V,L.props.children),X.return=P,P=X;break e}}else if(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&na(Te)===V.type){a(P,V.sibling),X=h(V,L.props),uo(X,L),X.return=P,P=X;break e}a(P,V);break}else n(P,V);V=V.sibling}L.type===ne?(X=Zr(L.props.children,P.mode,X,L.key),X.return=P,P=X):(X=Gu(L.type,L.key,L.props,null,P.mode,X),uo(X,L),X.return=P,P=X)}return y(P);case ee:e:{for(Te=L.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(P,V.sibling),X=h(V,L.children||[]),X.return=P,P=X;break e}else{a(P,V);break}else n(P,V);V=V.sibling}X=hf(L,P.mode,X),X.return=P,P=X}return y(P);case A:return L=na(L),gt(P,V,L,X)}if(re(L))return ye(P,V,L,X);if(j(L)){if(Te=j(L),typeof Te!="function")throw Error(r(150));return L=Te.call(L),xe(P,V,L,X)}if(typeof L.then=="function")return gt(P,V,Wu(L),X);if(L.$$typeof===fe)return gt(P,V,Yu(P,L),X);Ju(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(P,V.sibling),X=h(V,L),X.return=P,P=X):(a(P,V),X=cf(L,P.mode,X),X.return=P,P=X),y(P)):a(P,V)}return function(P,V,L,X){try{oo=0;var Te=gt(P,V,L,X);return Ya=null,Te}catch(ve){if(ve===Qa||ve===$u)throw ve;var We=zn(29,ve,null,P.mode);return We.lanes=X,We.return=P,We}finally{}}}var sa=Ep(!0),Tp=Ep(!1),Ws=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Fu(t),sp(t,null,a),n}return Hu(t,l,n,a),Fu(t)}function co(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Pr(t,a)}}function Af(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function ho(){if(wf){var t=Ka;if(t!==null)throw t}}function fo(t,n,a,l){wf=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==y&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;y=0,Y=z=C=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Be&q)===q:(l&q)===q){q!==0&&q===Ga&&(wf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,xe=T;q=n;var gt=a;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){$=ye.call(gt,$,q);break e}$=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,q=typeof ye=="function"?ye.call(gt,$,q):ye,q==null)break e;$=x({},$,q);break e;case 2:Ws=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=F,C=$):Y=Y.next=F,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),rr|=y,t.lanes=y,t.memoizedState=$}}function bp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Sp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],n)}var Xa=I(null),ec=I(0);function xp(t,n){t=Ss,ie(ec,t),ie(Xa,n),Ss=t|n.baseLanes}function Nf(){ie(ec,Ss),ie(Xa,Xa.current)}function Rf(){Ss=ec.current,K(Xa),K(ec)}var Bn=I(null),ri=null;function tr(t){var n=t.alternate;ie(Pt,Pt.current&1),ie(Bn,t),ri===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(ri=t)}function Cf(t){ie(Pt,Pt.current),ie(Bn,t),ri===null&&(ri=t)}function Ap(t){t.tag===22?(ie(Pt,Pt.current),ie(Bn,t),ri===null&&(ri=t)):nr()}function nr(){ie(Pt,Pt.current),ie(Bn,Bn.current)}function qn(t){K(Bn),ri===t&&(ri=null),K(Pt)}var Pt=I(0);function tc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||jd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,je=null,dt=null,Gt=null,nc=!1,$a=!1,ra=!1,ic=0,mo=0,Za=null,$T=0;function Vt(){throw Error(r(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function Df(t,n,a,l,h,f){return gs=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?oy:Kf,ra=!1,f=a(l,h),ra=!1,$a&&(f=Np(n,a,l,h)),wp(t),f}function wp(t){B.H=yo;var n=dt!==null&&dt.next!==null;if(gs=0,Gt=dt=je=null,nc=!1,mo=0,Za=null,n)throw Error(r(300));t===null||Kt||(t=t.dependencies,t!==null&&Qu(t)&&(Kt=!0))}function Np(t,n,a,l){je=t;var h=0;do{if($a&&(Za=null),mo=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,Gt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=uy,f=n(a,l)}while($a);return f}function ZT(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?go(n):n,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(je.flags|=1024),n}function Of(){var t=ic!==0;return ic=0,t}function Mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if(nc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nc=!1}gs=0,Gt=dt=je=null,$a=!1,mo=ic=0,Za=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Ut(){if(dt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var n=Gt===null?je.memoizedState:Gt.next;if(n!==null)Gt=n,dt=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var n=mo;return mo+=1,Za===null&&(Za=[]),t=yp(Za,t,n),n=je,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?oy:Kf),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===fe)return ln(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=sc(),je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function ps(t,n){return typeof n=="function"?n(t):n}function ac(t){var n=Ut();return jf(n,dt,t)}function jf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,C=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Be&$)===$:(gs&$)===$){var q=z.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ga&&(Y=!0);else if((gs&q)===q){z=z.next,q===Ga&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=$,y=f):C=C.next=$,je.lanes|=q,rr|=q;$=z.action,ra&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=q,y=f):C=C.next=q,je.lanes|=$,rr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=T,!Ln(f,t.memoizedState)&&(Kt=!0,Y&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var n=Ut(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Ln(f,n.memoizedState)||(Kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rp(t,n,a){var l=je,h=Ut(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Ln((dt||h).memoizedState,a);if(y&&(h.memoizedState=a,Kt=!0),h=h.queue,zf(Dp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Ip.bind(null,l,h,a,n),null),_t===null)throw Error(r(349));f||(gs&127)!==0||Cp(l,n,a)}return a}function Cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=je.updateQueue,n===null?(n=sc(),je.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,l){n.value=a,n.getSnapshot=l,Op(n)&&Mp(t)}function Dp(t,n,a){return a(function(){Op(n)&&Mp(t)})}function Op(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Mp(t){var n=$r(t,2);n!==null&&Dn(n,t,2)}function Uf(t){var n=bn();if(typeof t=="function"){var a=t;if(t=a(),ra){Re(!0);try{a()}finally{Re(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Vp(t,n,a,l){return t.baseState=a,jf(t,dt,typeof l=="function"?l:ps)}function WT(t,n,a,l,h){if(uc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};B.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,kp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function kp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=B.T,y={};B.T=y;try{var T=a(h,l),C=B.S;C!==null&&C(y,T),jp(t,n,T)}catch(z){Lf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),B.T=f}}else try{f=a(h,l),jp(t,n,f)}catch(z){Lf(t,n,z)}}function jp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,n,l)},function(l){return Lf(t,n,l)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Up(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kp(t,a)))}function Lf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==l)}t.action=null}function Up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lp(t,n){return n}function zp(t,n){if(Ke){var a=_t.formState;if(a!==null){e:{var l=je;if(Ke){if(At){t:{for(var h=At,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){At=ai(h.nextSibling),l=h.data==="F!";break e}}$s(l)}l=!1}l&&(n=a[0])}}return a=bn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=l,a=ry.bind(null,je,l),l.dispatch=a,l=Uf(!1),f=Gf.bind(null,je,!1,l.queue),l=bn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=WT.bind(null,je,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bp(t){var n=Ut();return qp(n,dt,t)}function qp(t,n,a){if(n=jf(t,n,Lp)[0],t=ac(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=go(n)}catch(y){throw y===Qa?$u:y}else l=n;n=Ut();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(je.flags|=2048,Wa(9,{destroy:void 0},JT.bind(null,h,a),null)),[l,f,t]}function JT(t,n){t.action=n}function Hp(t){var n=Ut(),a=dt;if(a!==null)return qp(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=sc(),je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Fp(){return Ut().memoizedState}function lc(t,n,a,l){var h=bn();je.flags|=t,h.memoizedState=Wa(1|n,{destroy:void 0},a,l===void 0?null:l)}function oc(t,n,a,l){var h=Ut();l=l===void 0?null:l;var f=h.memoizedState.inst;dt!==null&&l!==null&&If(l,dt.memoizedState.deps)?h.memoizedState=Wa(n,f,a,l):(je.flags|=t,h.memoizedState=Wa(1|n,f,a,l))}function Gp(t,n){lc(8390656,8,t,n)}function zf(t,n){oc(2048,8,t,n)}function eb(t){je.flags|=4;var n=je.updateQueue;if(n===null)n=sc(),je.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Kp(t){var n=Ut().memoizedState;return eb({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return oc(4,2,t,n)}function Yp(t,n){return oc(4,4,t,n)}function Xp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $p(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,Xp.bind(null,n,t),a)}function Bf(){}function Zp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&If(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Wp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&If(n,l[1]))return l[0];if(l=t(),ra){Re(!0);try{t()}finally{Re(!1)}}return a.memoizedState=[l,n],l}function qf(t,n,a){return a===void 0||(gs&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),je.lanes|=t,rr|=t,a)}function Jp(t,n,a,l){return Ln(a,n)?a:Xa.current!==null?(t=qf(t,a,l),Ln(t,n)||(Kt=!0),t):(gs&42)===0||(gs&1073741824)!==0&&(Be&261930)===0?(Kt=!0,t.memoizedState=a):(t=Jy(),je.lanes|=t,rr|=t,n)}function ey(t,n,a,l,h){var f=J.p;J.p=f!==0&&8>f?f:8;var y=B.T,T={};B.T=T,Gf(t,!1,n,a);try{var C=h(),z=B.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=XT(C,l);po(t,n,Y,Gn(t))}else po(t,n,l,Gn(t))}catch($){po(t,n,{then:function(){},status:"rejected",reason:$},Gn())}finally{J.p=f,y!==null&&T.types!==null&&(y.types=T.types),B.T=y}}function tb(){}function Hf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,n,ue,a===null?tb:function(){return ny(t),a(l)})}function ty(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ny(t){var n=ty(t);n.next===null&&(n=t.alternate.memoizedState),po(t,n.next.queue,{},Gn())}function Ff(){return ln(Mo)}function iy(){return Ut().memoizedState}function sy(){return Ut().memoizedState}function nb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Gn();t=Js(a);var l=er(n,t,a);l!==null&&(Dn(l,n,a),co(l,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function ib(t,n,a){var l=Gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?ay(n,a):(a=of(t,n,a,l),a!==null&&(Dn(a,t,l),ly(a,n,l)))}function ry(t,n,a){var l=Gn();po(t,n,a,l)}function po(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))ay(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,y))return Hu(t,n,h,0),_t===null&&qu(),!1}catch{}finally{}if(a=of(t,n,h,l),a!==null)return Dn(a,t,l),ly(a,n,l),!0}return!1}function Gf(t,n,a,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(n)throw Error(r(479))}else n=of(t,a,l,2),n!==null&&Dn(n,t,2)}function uc(t){var n=t.alternate;return t===je||n!==null&&n===je}function ay(t,n){$a=nc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ly(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Pr(t,a)}}var yo={readContext:ln,use:rc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};yo.useEffectEvent=Vt;var oy={readContext:ln,use:rc,useCallback:function(t,n){return bn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Gp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,lc(4194308,4,Xp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return lc(4194308,4,t,n)},useInsertionEffect:function(t,n){lc(4,2,t,n)},useMemo:function(t,n){var a=bn();n=n===void 0?null:n;var l=t();if(ra){Re(!0);try{t()}finally{Re(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=bn();if(a!==void 0){var h=a(n);if(ra){Re(!0);try{a(n)}finally{Re(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ib.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=bn();return t={current:t},n.memoizedState=t},useState:function(t){t=Uf(t);var n=t.queue,a=ry.bind(null,je,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,n){var a=bn();return qf(a,t,n)},useTransition:function(){var t=Uf(!1);return t=ey.bind(null,je,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=je,h=bn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),_t===null)throw Error(r(349));(Be&127)!==0||Cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gp(Dp.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},Ip.bind(null,l,f,a,n),null),a},useId:function(){var t=bn(),n=_t.identifierPrefix;if(Ke){var a=Gi,l=Fi;a=(l&~(1<<32-Oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ic++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$T++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(t){var n=bn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,je,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return bn().memoizedState=nb.bind(null,je)},useEffectEvent:function(t){var n=bn(),a={impl:t};return n.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:ln,use:rc,useCallback:Zp,useContext:ln,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Wp,useReducer:ac,useRef:Fp,useState:function(){return ac(ps)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Ut();return Jp(a,dt.memoizedState,t,n)},useTransition:function(){var t=ac(ps)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,n){var a=Ut();return Vp(a,dt,t,n)},useMemoCache:kf,useCacheRefresh:sy};Kf.useEffectEvent=Kp;var uy={readContext:ln,use:rc,useCallback:Zp,useContext:ln,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Wp,useReducer:Pf,useRef:Fp,useState:function(){return Pf(ps)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Ut();return dt===null?qf(a,t,n):Jp(a,dt.memoizedState,t,n)},useTransition:function(){var t=Pf(ps)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:go(t),n]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Ff,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,n){var a=Ut();return dt!==null?Vp(a,dt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:sy};uy.useEffectEvent=Kp;function Qf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Gn(),h=Js(l);h.payload=n,a!=null&&(h.callback=a),n=er(t,h,l),n!==null&&(Dn(n,t,l),co(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Gn(),h=Js(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=er(t,h,l),n!==null&&(Dn(n,t,l),co(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Gn(),l=Js(a);l.tag=2,n!=null&&(l.callback=n),n=er(t,l,a),n!==null&&(Dn(n,t,a),co(n,t,a))}};function cy(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!no(a,l)||!no(h,f):!0}function hy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function aa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){Bu(t)}function dy(t){console.error(t)}function my(t){Bu(t)}function cc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,n,a){return a=Js(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,n)},a}function py(t){return t=Js(t),t.tag=3,t}function yy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){gy(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gy(n,a,l),typeof h!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sb(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ri===null?bc():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===Zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(r(435,a.tag))}return Ed(t,l,h),bc(),!1}if(Ke)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mf&&(t=Error(r(422),{cause:l}),ro(ti(t,a)))):(l!==mf&&(n=Error(r(423),{cause:l}),ro(ti(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ti(l,a),h=Xf(t.stateNode,l,h),Af(t,h),kt!==4&&(kt=2)),!1;var f=Error(r(520),{cause:l});if(f=ti(f,a),Ao===null?Ao=[f]:Ao.push(f),kt!==4&&(kt=2),n===null)return!0;l=ti(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),Af(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,t,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Kt=!1;function on(t,n,a,l){n.child=t===null?Tp(n,null,a,l):sa(n,t.child,a,l)}function _y(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return ea(n),l=Df(t,n,a,y,f,h),T=Of(),t!==null&&!Kt?(Mf(t,n,h),ys(t,n,h)):(Ke&&T&&ff(n),n.flags|=1,on(t,n,l,h),n.child)}function vy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ey(t,n,f,l,h)):(t=Gu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(y,l)&&t.ref===n.ref)return ys(t,n,h)}return n.flags|=1,t=hs(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ey(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(no(f,l)&&t.ref===n.ref)if(Kt=!1,n.pendingProps=l=f,sd(t,h))(t.flags&131072)!==0&&(Kt=!0);else return n.lanes=t.lanes,ys(t,n,h)}return Zf(t,n,a,l,h)}function Ty(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return by(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(n,f!==null?f.cachePool:null),f!==null?xp(n,f):Nf(),Ap(n);else return l=n.lanes=536870912,by(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xu(n,f.cachePool),xp(n,f),nr(),n.memoizedState=null):(t!==null&&Xu(n,null),Nf(),nr());return on(t,n,h,a),n.child}function _o(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,a,l,h){var f=Tf();return f=f===null?null:{parent:Ft._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xu(n,null),Nf(),Ap(n),t!==null&&Fa(t,n,l,!0),n.childLanes=h,null}function hc(t,n){return n=dc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Sy(t,n,a){return sa(n,t.child,null,a),t=hc(n,n.pendingProps),t.flags|=2,qn(n),n.memoizedState=null,t}function rb(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=hc(n,l),n.lanes=536870912,_o(null,t);if(Cf(n),(t=At)?(t=k0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,an=n,At=null)):t=null,t===null)throw $s(n);return n.lanes=536870912,null}return hc(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=Sy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Kt||Fa(t,n,a,!1),h=(a&t.childLanes)!==0,Kt||h){if(l=_t,l!==null&&(y=Ur(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,$r(t,y),Dn(l,t,y),$f;bc(),n=Sy(t,n,a)}else t=f.treeContext,At=ai(y.nextSibling),an=n,Ke=!0,Xs=null,si=!1,t!==null&&up(n,t),n=hc(n,l),n.flags|=4096;return n}return t=hs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zf(t,n,a,l,h){return ea(n),a=Df(t,n,a,l,void 0,h),l=Of(),t!==null&&!Kt?(Mf(t,n,h),ys(t,n,h)):(Ke&&l&&ff(n),n.flags|=1,on(t,n,a,h),n.child)}function xy(t,n,a,l,h,f){return ea(n),n.updateQueue=null,a=Np(n,l,a,h),wp(t),l=Of(),t!==null&&!Kt?(Mf(t,n,f),ys(t,n,f)):(Ke&&l&&ff(n),n.flags|=1,on(t,n,a,f),n.child)}function Ay(t,n,a,l,h){if(ea(n),n.stateNode===null){var f=za,y=a.contextType;typeof y=="object"&&y!==null&&(f=ln(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?ln(y):za,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Qf(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Yf.enqueueReplaceState(f,f.state,null),fo(n,l,f,h),ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=aa(a,T);f.props=C;var z=f.context,Y=a.contextType;y=za,typeof Y=="object"&&Y!==null&&(y=ln(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&hy(n,f,l,y),Ws=!1;var q=n.memoizedState;f.state=q,fo(n,l,f,h),ho(),z=n.memoizedState,T||q!==z||Ws?(typeof $=="function"&&(Qf(n,a,$,l),z=n.memoizedState),(C=Ws||cy(n,a,C,l,q,z,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,xf(t,n),y=n.memoizedProps,Y=aa(a,y),f.props=Y,$=n.pendingProps,q=f.context,z=a.contextType,C=za,typeof z=="object"&&z!==null&&(C=ln(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==C)&&hy(n,f,l,C),Ws=!1,q=n.memoizedState,f.state=q,fo(n,l,f,h),ho();var F=n.memoizedState;y!==$||q!==F||Ws||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(Qf(n,a,T,l),F=n.memoizedState),(Y=Ws||cy(n,a,Y,l,q,F,C)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sa(n,t.child,null,h),n.child=sa(n,null,a,h)):on(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ys(t,n,h),t}function wy(t,n,a,l){return Wr(),n.flags|=256,on(t,n,a,l),n.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:gp()}}function ed(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Fn),t}function Ny(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?tr(n):nr(),(t=At)?(t=k0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,an=n,At=null)):t=null,t===null)throw $s(n);return jd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(nr(),h=n.mode,T=dc({mode:"hidden",children:T},h),l=Zr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Jf(a),l.childLanes=ed(t,y,a),n.memoizedState=Wf,_o(null,l)):(tr(n),td(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),T=l.fallback,h=n.mode,l=dc({mode:"visible",children:l.children},h),T=Zr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,sa(n,t.child,null,a),l=n.child,l.memoizedState=Jf(a),l.childLanes=ed(t,y,a),n.memoizedState=Wf,n=_o(null,l));else if(tr(n),jd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,ro({value:l,source:null,stack:null}),n=nd(t,n,a)}else if(Kt||Fa(t,n,a,!1),y=(a&t.childLanes)!==0,Kt||y){if(y=_t,y!==null&&(l=Ur(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,$r(t,l),Dn(y,t,l),$f;kd(T)||bc(),n=nd(t,n,a)}else kd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,At=ai(T.nextSibling),an=n,Ke=!0,Xs=null,si=!1,t!==null&&up(n,t),n=td(n,l.children),n.flags|=4096);return n}return h?(nr(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=hs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=hs(z,T):(T=Zr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,_o(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Jf(a):(h=T.cachePool,h!==null?(C=Ft._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=gp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(t,y,a),n.memoizedState=Wf,_o(t.child,l)):(tr(n),a=t.child,t=a.sibling,a=hs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=dc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function dc(t,n){return t=zn(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return sa(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yf(t.return,n,a)}function id(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Cy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Pt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,ie(Pt,y),on(t,n,l,a),l=Ke?so:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(n,!0,a,null,f,l);break;case"together":id(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ys(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),rr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=hs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=hs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function ab(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Zs(n,Ft,t.memoizedState.cache),Wr();break;case 27:case 5:Vn(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ny(t,n,a):(tr(n),t=ys(t,n,a),t!==null?t.sibling:null);tr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Cy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Pt,Pt.current),l)break;return null;case 22:return n.lanes=0,Ty(t,n,a,n.pendingProps);case 24:Zs(n,Ft,t.memoizedState.cache)}return ys(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Kt=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Kt=!1,ab(t,n,a);Kt=(t.flags&131072)!==0}else Kt=!1,Ke&&(n.flags&1048576)!==0&&op(n,so,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=na(n.elementType),n.type=t,typeof t=="function")uf(t)?(l=aa(t,l),n.tag=1,n=Ay(null,n,t,l,a)):(n.tag=0,n=Zf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ue){n.tag=11,n=_y(null,n,t,l,a);break e}else if(h===R){n.tag=14,n=vy(null,n,t,l,a);break e}}throw n=Qe(t)||t,Error(r(306,n,""))}}return n;case 0:return Zf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=aa(l,n.pendingProps),Ay(t,n,l,h,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,xf(t,n),fo(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Zs(n,Ft,l),l!==f.cache&&_f(n,[Ft],a,!0),ho(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wy(t,n,l,a);break e}else if(l!==h){h=ti(Error(r(424)),n),ro(h),n=wy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=ai(t.firstChild),an=n,Ke=!0,Xs=null,si=!0,a=Tp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),l===h){n=ys(t,n,a);break e}on(t,n,l,a)}n=n.child}return n;case 26:return fc(t,n),t===null?(a=B0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ke||(a=n.type,t=n.pendingProps,l=Cc(Ee.current).createElement(a),l[rt]=n,l[yt]=t,un(l,a,t),qt(l),n.stateNode=l):n.memoizedState=B0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vn(n),t===null&&Ke&&(l=n.stateNode=U0(n.type,n.pendingProps,Ee.current),an=n,si=!0,h=At,cr(n.type)?(Pd=h,At=ai(l.firstChild)):At=h),on(t,n,n.pendingProps.children,a),fc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=At)&&(l=jb(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,an=n,At=ai(l.firstChild),si=!1,h=!0):h=!1),h||$s(n)),Vn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Od(h,f)?l=null:y!==null&&Od(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(t,n,ZT,null,null,a),Mo._currentValue=h),fc(t,n),on(t,n,l,a),n.child;case 6:return t===null&&Ke&&((t=a=At)&&(a=Pb(a,n.pendingProps,si),a!==null?(n.stateNode=a,an=n,At=null,t=!0):t=!1),t||$s(n)),null;case 13:return Ny(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sa(n,null,l,a):on(t,n,l,a),n.child;case 11:return _y(t,n,n.type,n.pendingProps,a);case 7:return on(t,n,n.pendingProps,a),n.child;case 8:return on(t,n,n.pendingProps.children,a),n.child;case 12:return on(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Zs(n,n.type,l.value),on(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ea(n),h=ln(h),l=l(h),n.flags|=1,on(t,n,l,a),n.child;case 14:return vy(t,n,n.type,n.pendingProps,a);case 15:return Ey(t,n,n.type,n.pendingProps,a);case 19:return Cy(t,n,a);case 31:return rb(t,n,a);case 22:return Ty(t,n,a,n.pendingProps);case 24:return ea(n),l=ln(Ft),t===null?(h=Tf(),h===null&&(h=_t,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Sf(n),Zs(n,Ft,h)):((t.lanes&a)!==0&&(xf(t,n),fo(n,null,null,a),ho()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zs(n,Ft,l)):(l=f.cache,Zs(n,Ft,l),l!==h.cache&&_f(n,[Ft],a,!0))),on(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function _s(t){t.flags|=4}function rd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i0())t.flags|=8192;else throw ia=Zu,bf}else t.flags&=-16777217}function Dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K0(n))if(i0())t.flags|=8192;else throw ia=Zu,bf}function mc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?rs():536870912,t.lanes|=n,nl|=n)}function vo(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function lb(t,n,a){var l=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ms(Ft),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(n)?_s(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(_s(n),f!==null?(wt(n),Dy(n,f)):(wt(n),rd(n,h,null,l,a))):f?f!==t.memoizedState?(_s(n),wt(n),Dy(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&_s(n),wt(n),rd(n,h,t,l,a)),null;case 27:if(Qn(n),a=Ee.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return wt(n),null}t=oe.current,Ha(n)?cp(n):(t=U0(h,l,a),n.stateNode=t,_s(n))}return wt(n),null;case 5:if(Qn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return wt(n),null}if(f=oe.current,Ha(n))cp(n);else{var y=Cc(Ee.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[rt]=n,f[yt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(un(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_s(n)}}return wt(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ee.current,Ha(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[rt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N0(t.nodeValue,a)),t||$s(n,!0)}else t=Cc(t).createTextNode(l),t[rt]=n,n.stateNode=t}return wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[rt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[rt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),mc(n,n.updateQueue),wt(n),null);case 4:return et(),t===null&&Nd(n.stateNode.containerInfo),wt(n),null;case 10:return ms(n.type),wt(n),null;case 19:if(K(Pt),l=n.memoizedState,l===null)return wt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)vo(l,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tc(t),f!==null){for(n.flags|=128,vo(l,!1),t=f.updateQueue,n.updateQueue=t,mc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rp(a,t),a=a.sibling;return ie(Pt,Pt.current&1|2),Ke&&fs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Bt()>vc&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304)}else{if(!h)if(t=tc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,mc(n,t),vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return wt(n),null}else 2*Bt()-l.renderingStartTime>vc&&a!==536870912&&(n.flags|=128,h=!0,vo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Bt(),t.sibling=null,a=Pt.current,ie(Pt,h?a&1|2:a&1),Ke&&fs(n,l.treeForkCount),t):(wt(n),null);case 22:case 23:return qn(n),Rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),a=n.updateQueue,a!==null&&mc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ms(Ft),wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ob(t,n){switch(df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ms(Ft),et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qn(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Pt),null;case 4:return et(),null;case 10:return ms(n.type),null;case 22:case 23:return qn(n),Rf(),t!==null&&K(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ms(Ft),null;case 25:return null;default:return null}}function Oy(t,n){switch(df(n),n.tag){case 3:ms(Ft),et();break;case 26:case 27:case 5:Qn(n);break;case 4:et();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:K(Pt);break;case 10:ms(n.type);break;case 22:case 23:qn(n),Rf(),t!==null&&K(ta);break;case 24:ms(Ft)}}function Eo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(n,n.return,T)}}function ir(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var C=a,z=T;try{z()}catch(Y){ut(h,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){ut(n,n.return,Y)}}function My(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sp(n,a)}catch(l){ut(t,t.return,l)}}}function Vy(t,n,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,n,l)}}function To(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,n,h)}}function Ki(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,n,h)}else a.current=null}function ky(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function ad(t,n,a){try{var l=t.stateNode;Ib(l,t.type,a,n),l[yt]=n}catch(h){ut(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pi));else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function gc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,n,a),t=t.sibling;t!==null;)gc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,l,a),n[rt]=t,n[yt]=a}catch(f){ut(t,t.return,f)}}var vs=!1,Qt=!1,ud=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function ub(t,n){if(t=t.containerInfo,Id=jc,t=$g(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,C=-1,z=0,Y=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=y+h),$!==f||l!==0&&$.nodeType!==3||(C=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++z===h&&(T=y),q===f&&++Y===l&&(C=y),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},jc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ye=aa(a.type,h);t=l.getSnapshotBeforeUpdate(ye,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){ut(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function Ly(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(t,a),l&4&&Eo(5,a);break;case 1:if(Ts(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ut(a,a.return,y)}else{var h=aa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ut(a,a.return,y)}}l&64&&My(a),l&512&&To(a,a.return);break;case 3:if(Ts(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sp(t,n)}catch(y){ut(a,a.return,y)}}break;case 27:n===null&&l&4&&Py(a);case 26:case 5:Ts(t,a),n===null&&l&4&&ky(a),l&512&&To(a,a.return);break;case 12:Ts(t,a);break;case 31:Ts(t,a),l&4&&qy(t,a);break;case 13:Ts(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_b.bind(null,a),Ub(t,a))));break;case 22:if(l=a.memoizedState!==null||vs,!l){n=n!==null&&n.memoizedState!==null||Qt,h=vs;var f=Qt;vs=l,(Qt=n)&&!f?bs(t,a,(a.subtreeFlags&8772)!==0):Ts(t,a),vs=h,Qt=f}break;case 30:break;default:Ts(t,a)}}function zy(t){var n=t.alternate;n!==null&&(t.alternate=null,zy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Nn=!1;function Es(t,n,a){for(a=a.child;a!==null;)By(t,n,a),a=a.sibling}function By(t,n,a){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(Q,a)}catch{}switch(a.tag){case 26:Qt||Ki(a,n),Es(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||Ki(a,n);var l=Dt,h=Nn;cr(a.type)&&(Dt=a.stateNode,Nn=!1),Es(t,n,a),Io(a.stateNode),Dt=l,Nn=h;break;case 5:Qt||Ki(a,n);case 6:if(l=Dt,h=Nn,Dt=null,Es(t,n,a),Dt=l,Nn=h,Dt!==null)if(Nn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(f){ut(a,n,f)}else try{Dt.removeChild(a.stateNode)}catch(f){ut(a,n,f)}break;case 18:Dt!==null&&(Nn?(t=Dt,M0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):M0(Dt,a.stateNode));break;case 4:l=Dt,h=Nn,Dt=a.stateNode.containerInfo,Nn=!0,Es(t,n,a),Dt=l,Nn=h;break;case 0:case 11:case 14:case 15:ir(2,a,n),Qt||ir(4,a,n),Es(t,n,a);break;case 1:Qt||(Ki(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,n,l)),Es(t,n,a);break;case 21:Es(t,n,a);break;case 22:Qt=(l=Qt)||a.memoizedState!==null,Es(t,n,a),Qt=l;break;default:Es(t,n,a)}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(a){ut(n,n.return,a)}}}function Hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){ut(n,n.return,a)}}function cb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Uy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Uy),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=cb(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=vb.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(cr(T.type)){Dt=T.stateNode,Nn=!1;break e}break;case 5:Dt=T.stateNode,Nn=!1;break e;case 3:case 4:Dt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(Dt===null)throw Error(r(160));By(f,y,h),Dt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var bi=null;function Fy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Cn(t),l&4&&(ir(3,t,t.return),Eo(3,t),ir(5,t,t.return));break;case 1:Rn(n,t),Cn(t),l&512&&(Qt||a===null||Ki(a,a.return)),l&64&&vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=bi;if(Rn(n,t),Cn(t),l&512&&(Qt||a===null||Ki(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Oi]||f[rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,l,a),f[rt]=t,qt(f),l=f;break e;case"link":var y=F0("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),un(f,l,a),h.head.appendChild(f);break;case"meta":if(y=F0("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),un(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[rt]=t,qt(f),l=f}t.stateNode=l}else G0(h,t.type,t.stateNode);else t.stateNode=H0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G0(h,t.type,t.stateNode):H0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(n,t),Cn(t),l&512&&(Qt||a===null||Ki(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(n,t),Cn(t),l&512&&(Qt||a===null||Ki(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ye){ut(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(Rn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){ut(t,t.return,ye)}}break;case 3:if(Oc=null,h=bi,bi=Ic(n.containerInfo),Rn(n,t),bi=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(ye){ut(t,t.return,ye)}ud&&(ud=!1,Gy(t));break;case 4:l=bi,bi=Ic(t.stateNode.containerInfo),Rn(n,t),Cn(t),bi=l;break;case 12:Rn(n,t),Cn(t);break;case 31:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 13:Rn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=Bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=vs,Y=Qt;if(vs=z||h,Qt=Y||C,Rn(n,t),Qt=Y,vs=z,Cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||vs||Qt||la(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ye){ut(C,C.return,ye)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ye){ut(C,C.return,ye)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?V0(F,!0):V0(C.stateNode,!1)}catch(ye){ut(C,C.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pc(t,a))));break;case 19:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(t);gc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(wn(y,""),a.flags&=-33);var T=ld(t);gc(t,T,y);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ld(t);od(t,z,C);break;default:throw Error(r(161))}}catch(Y){ut(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ly(t,n.alternate,n),n=n.sibling}function la(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),la(n);break;case 1:Ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vy(n,n.return,a),la(n);break;case 27:Io(n.stateNode);case 26:case 5:Ki(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}t=t.sibling}}function bs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:bs(h,f,a),Eo(4,f);break;case 1:if(bs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ut(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bp(C[h],T)}catch(z){ut(l,l.return,z)}}a&&y&64&&My(f),To(f,f.return);break;case 27:Py(f);case 26:case 5:bs(h,f,a),a&&l===null&&y&4&&ky(f),To(f,f.return);break;case 12:bs(h,f,a);break;case 31:bs(h,f,a),a&&y&4&&qy(h,f);break;case 13:bs(h,f,a),a&&y&4&&Hy(h,f);break;case 22:f.memoizedState===null&&bs(h,f,a),To(f,f.return);break;case 30:break;default:bs(h,f,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ao(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t))}function Si(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ky(t,n,a,l),n=n.sibling}function Ky(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,a,l),h&2048&&Eo(9,n);break;case 1:Si(t,n,a,l);break;case 3:Si(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ao(t)));break;case 12:if(h&2048){Si(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(n,n.return,C)}}else Si(t,n,a,l);break;case 31:Si(t,n,a,l);break;case 13:Si(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Si(t,n,a,l):bo(t,n):f._visibility&2?Si(t,n,a,l):(f._visibility|=2,Ja(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(y,n);break;case 24:Si(t,n,a,l),h&2048&&hd(n.alternate,n);break;default:Si(t,n,a,l)}}function Ja(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,C=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ja(f,y,T,C,h),Eo(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Ja(f,y,T,C,h):bo(f,y):(Y._visibility|=2,Ja(f,y,T,C,h)),h&&z&2048&&cd(y.alternate,y);break;case 24:Ja(f,y,T,C,h),h&&z&2048&&hd(y.alternate,y);break;default:Ja(f,y,T,C,h)}n=n.sibling}}function bo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:bo(a,l),h&2048&&cd(l.alternate,l);break;case 24:bo(a,l),h&2048&&hd(l.alternate,l);break;default:bo(a,l)}n=n.sibling}}var So=8192;function el(t,n,a){if(t.subtreeFlags&So)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:el(t,n,a),t.flags&So&&t.memoizedState!==null&&$b(a,bi,t.memoizedState,t.memoizedProps);break;case 5:el(t,n,a);break;case 3:case 4:var l=bi;bi=Ic(t.stateNode.containerInfo),el(t,n,a),bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=So,So=16777216,el(t,n,a),So=l):el(t,n,a));break;default:el(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:xo(t),t.flags&2048&&ir(9,t,t.return);break;case 3:xo(t);break;case 12:xo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yc(t)):xo(t);break;default:xo(t)}}function yc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ir(8,n,n.return),yc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yc(n));break;default:yc(n)}t=t.sibling}}function $y(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ao(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,f=l.return;if(zy(l),l===a){tn=null;break e}if(h!==null){h.return=f,tn=h;break e}tn=f}}}var hb={getCacheForType:function(t){var n=ln(Ft),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ln(Ft).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,nt=0,_t=null,Le=null,Be=0,ot=0,Hn=null,sr=!1,tl=!1,fd=!1,Ss=0,kt=0,rr=0,oa=0,dd=0,Fn=0,nl=0,Ao=null,In=null,md=!1,_c=0,Zy=0,vc=1/0,Ec=null,ar=null,Zt=0,lr=null,il=null,xs=0,gd=0,pd=null,Wy=null,wo=0,yd=null;function Gn(){return(nt&2)!==0&&Be!==0?Be&-Be:B.T!==null?Sd():st()}function Jy(){if(Fn===0)if((Be&536870912)===0||Ke){var t=Ct;Ct<<=1,(Ct&3932160)===0&&(Ct=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function Dn(t,n,a){(t===_t&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(sl(t,0),or(t,Be,Fn,!1)),as(t,a),((nt&2)===0||t!==_t)&&(t===_t&&((nt&2)===0&&(oa|=a),kt===4&&or(t,Be,Fn,!1)),Qi(t))}function e0(t,n,a){if((nt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||mn(t,n),h=l?gb(t,n):vd(t,n,!0),f=l;do{if(h===0){tl&&!l&&or(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!db(a)){h=vd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=Ao;var C=T.current.memoizedState.isDehydrated;if(C&&(sl(T,y).flags|=256),y=vd(T,y,!1),y!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){sl(t,0),or(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:or(l,n,Fn,!sr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=_c+300-Bt(),10<h)){if(or(l,n,Fn,!sr),$e(l,0,!0)!==0)break e;xs=n,l.timeoutHandle=D0(t0.bind(null,l,a,In,Ec,md,n,Fn,oa,nl,sr,f,"Throttled",-0,0),h);break e}t0(l,a,In,Ec,md,n,Fn,oa,nl,sr,f,null,-0,0)}}break}while(!0);Qi(t)}function t0(t,n,a,l,h,f,y,T,C,z,Y,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Qy(n,f,$);var ye=(f&62914560)===f?_c-Bt():(f&4194048)===f?Zy-Bt():0;if(ye=Zb($,ye),ye!==null){xs=f,t.cancelPendingCommit=ye(u0.bind(null,t,n,f,a,l,h,y,T,C,Y,$,null,q,F)),or(t,f,y,!z);return}}u0(t,n,f,a,l,h,y,T,C)}function db(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,a,l){n&=~dd,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Oe(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&ls(t,a,n)}function Tc(){return(nt&6)===0?(No(0),!1):!0}function _d(){if(Le!==null){if(ot===0)var t=Le.return;else t=Le,ds=Jr=null,Vf(t),Ya=null,oo=0,t=Le;for(;t!==null;)Oy(t.alternate,t),t=t.return;Le=null}}function sl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xs=0,_d(),_t=t,Le=a=hs(t.current,null),Be=n,ot=0,Hn=null,sr=!1,tl=mn(t,n),fd=!1,nl=Fn=dd=oa=rr=kt=0,In=Ao=null,md=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Oe(l),f=1<<h;n|=t[h],l&=~f}return Ss=n,qu(),a}function n0(t,n){je=null,B.H=yo,n===Qa||n===$u?(n=_p(),ot=3):n===bf?(n=_p(),ot=4):ot=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,Le===null&&(kt=1,cc(t,ti(n,t.current)))}function i0(){var t=Bn.current;return t===null?!0:(Be&4194048)===Be?ri===null:(Be&62914560)===Be||(Be&536870912)!==0?t===ri:!1}function s0(){var t=B.H;return B.H=yo,t===null?yo:t}function r0(){var t=B.A;return B.A=hb,t}function bc(){kt=4,sr||(Be&4194048)!==Be&&Bn.current!==null||(tl=!0),(rr&134217727)===0&&(oa&134217727)===0||_t===null||or(_t,Be,Fn,!1)}function vd(t,n,a){var l=nt;nt|=2;var h=s0(),f=r0();(_t!==t||Be!==n)&&(Ec=null,sl(t,n)),n=!1;var y=kt;e:do try{if(ot!==0&&Le!==null){var T=Le,C=Hn;switch(ot){case 8:_d(),y=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var z=ot;if(ot=0,Hn=null,rl(t,T,C,z),a&&tl){y=0;break e}break;default:z=ot,ot=0,Hn=null,rl(t,T,C,z)}}mb(),y=kt;break}catch(Y){n0(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ds=Jr=null,nt=l,B.H=h,B.A=f,Le===null&&(_t=null,Be=0,qu()),y}function mb(){for(;Le!==null;)a0(Le)}function gb(t,n){var a=nt;nt|=2;var l=s0(),h=r0();_t!==t||Be!==n?(Ec=null,vc=Bt()+500,sl(t,n)):tl=mn(t,n);e:do try{if(ot!==0&&Le!==null){n=Le;var f=Hn;t:switch(ot){case 1:ot=0,Hn=null,rl(t,n,f,1);break;case 2:case 9:if(pp(f)){ot=0,Hn=null,l0(n);break}n=function(){ot!==2&&ot!==9||_t!==t||(ot=7),Qi(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:pp(f)?(ot=0,Hn=null,l0(n)):(ot=0,Hn=null,rl(t,n,f,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var T=Le;if(y?K0(y):T.stateNode.complete){ot=0,Hn=null;var C=T.sibling;if(C!==null)Le=C;else{var z=T.return;z!==null?(Le=z,Sc(z)):Le=null}break t}}ot=0,Hn=null,rl(t,n,f,5);break;case 6:ot=0,Hn=null,rl(t,n,f,6);break;case 8:_d(),kt=6;break e;default:throw Error(r(462))}}pb();break}catch(Y){n0(t,Y)}while(!0);return ds=Jr=null,B.H=l,B.A=h,nt=a,Le!==null?0:(_t=null,Be=0,qu(),kt)}function pb(){for(;Le!==null&&!js();)a0(Le)}function a0(t){var n=Iy(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,n===null?Sc(t):Le=n}function l0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xy(a,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=xy(a,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Vf(n);default:Oy(a,n),n=Le=rp(n,Ss),n=Iy(a,n,Ss)}t.memoizedProps=t.pendingProps,n===null?Sc(t):Le=n}function rl(t,n,a,l){ds=Jr=null,Vf(n),Ya=null,oo=0;var h=n.return;try{if(sb(t,h,n,a,Be)){kt=1,cc(t,ti(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;kt=1,cc(t,ti(a,t.current)),Le=null;return}n.flags&32768?(Ke||l===1?t=!0:tl||(Be&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o0(n,t)):Sc(n)}function Sc(t){var n=t;do{if((n.flags&32768)!==0){o0(n,sr);return}t=n.return;var a=lb(n.alternate,n,Ss);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);kt===0&&(kt=5)}function o0(t,n){do{var a=ob(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);kt=6,Le=null}function u0(t,n,a,l,h,f,y,T,C){t.cancelPendingCommit=null;do xc();while(Zt!==0);if((nt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=lf,Ul(t,a,f,y,T,C),t===_t&&(Le=_t=null,Be=0),il=n,lr=t,xs=a,gd=f,pd=h,Wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Eb(jn,function(){return m0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=J.p,J.p=2,y=nt,nt|=4;try{ub(t,n,a)}finally{nt=y,J.p=h,B.T=l}}Zt=1,c0(),h0(),f0()}}function c0(){if(Zt===1){Zt=0;var t=lr,n=il,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=J.p;J.p=2;var h=nt;nt|=4;try{Fy(n,t);var f=Dd,y=$g(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(C!==null&&tf(T)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),ye=T.textContent.length,xe=Math.min(C.start,ye),gt=C.end===void 0?xe:Math.min(C.end,ye);!F.extend&&xe>gt&&(y=gt,gt=xe,xe=y);var P=Yg(T,xe),V=Yg(T,gt);if(P&&V&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var L=$.createRange();L.setStart(P.node,P.offset),F.removeAllRanges(),xe>gt?(F.addRange(L),F.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),F.addRange(L))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}jc=!!Id,Dd=Id=null}finally{nt=h,J.p=l,B.T=a}}t.current=n,Zt=2}}function h0(){if(Zt===2){Zt=0;var t=lr,n=il,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=J.p;J.p=2;var h=nt;nt|=4;try{Ly(t,n.alternate,n)}finally{nt=h,J.p=l,B.T=a}}Zt=3}}function f0(){if(Zt===4||Zt===3){Zt=0,ss();var t=lr,n=il,a=xs,l=Wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Zt=5:(Zt=0,il=lr=null,d0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ar=null),Se(a),n=n.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(Q,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,h=J.p,J.p=2,B.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{B.T=n,J.p=h}}(xs&3)!==0&&xc(),Qi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?wo++:(wo=0,yd=t):wo=0,No(0)}}function d0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ao(n)))}function xc(){return c0(),h0(),f0(),m0()}function m0(){if(Zt!==5)return!1;var t=lr,n=gd;gd=0;var a=Se(xs),l=B.T,h=J.p;try{J.p=32>a?32:a,B.T=null,a=pd,pd=null;var f=lr,y=xs;if(Zt=0,il=lr=null,xs=0,(nt&6)!==0)throw Error(r(331));var T=nt;if(nt|=4,Xy(f.current),Ky(f,f.current,y,a),nt=T,No(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(Q,f)}catch{}return!0}finally{J.p=h,B.T=l,d0(t,n)}}function g0(t,n,a){n=ti(a,n),n=Xf(t.stateNode,n,2),t=er(t,n,2),t!==null&&(as(t,2),Qi(t))}function ut(t,n,a){if(t.tag===3)g0(t,t,a);else for(;n!==null;){if(n.tag===3){g0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=ti(a,t),a=py(2),l=er(n,a,2),l!==null&&(yy(a,l,n,t),as(l,2),Qi(l));break}}n=n.return}}function Ed(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(fd=!0,h.add(a),t=yb.bind(null,t,n,a),n.then(t,t))}function yb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,_t===t&&(Be&a)===a&&(kt===4||kt===3&&(Be&62914560)===Be&&300>Bt()-_c?(nt&2)===0&&sl(t,0):dd|=a,nl===Be&&(nl=0)),Qi(t)}function p0(t,n){n===0&&(n=rs()),t=$r(t,n),t!==null&&(as(t,n),Qi(t))}function _b(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function vb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),p0(t,a)}function Eb(t,n){return bt(t,n)}var Ac=null,al=null,Td=!1,wc=!1,bd=!1,ur=0;function Qi(t){t!==al&&t.next===null&&(al===null?Ac=al=t:al=al.next=t),wc=!0,Td||(Td=!0,bb())}function No(t,n){if(!bd&&wc){bd=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Oe(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,E0(l,f))}else f=Be,f=$e(l,l===_t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||mn(l,f)||(a=!0,E0(l,f));l=l.next}while(a);bd=!1}}function Tb(){y0()}function y0(){wc=Td=!1;var t=0;ur!==0&&Ob()&&(t=ur);for(var n=Bt(),a=null,l=Ac;l!==null;){var h=l.next,f=_0(l,n);f===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(al=a)):(a=l,(t!==0||(f&3)!==0)&&(wc=!0)),l=h}Zt!==0&&Zt!==5||No(t),ur!==0&&(ur=0)}function _0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Oe(f),T=1<<y,C=h[y];C===-1?((T&a)===0||(T&l)!==0)&&(h[y]=xa(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=_t,a=Be,a=$e(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Sn(l),Se(a)){case 2:case 8:a=Ii;break;case 32:a=jn;break;case 268435456:a=Us;break;default:a=jn}return l=v0.bind(null,t),a=bt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Sn(l),t.callbackPriority=2,t.callbackNode=null,2}function v0(t,n){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Be;return l=$e(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e0(t,l,n),_0(t,Bt()),t.callbackNode!=null&&t.callbackNode===a?v0.bind(null,t):null)}function E0(t,n){if(xc())return null;e0(t,n,!0)}function bb(){Vb(function(){(nt&6)!==0?bt(di,Tb):y0()})}function Sd(){if(ur===0){var t=Ga;t===0&&(t=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),ur=t}return ur}function T0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function b0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=T0((h[yt]||null).action),y=l.submitter;y&&(n=(n=y[yt]||null)?T0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new zi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var C=y?b0(h,y):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=y?b0(h,y):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var xd=0;xd<af.length;xd++){var Ad=af[xd],xb=Ad.toLowerCase(),Ab=Ad[0].toUpperCase()+Ad.slice(1);Ti(xb,"on"+Ab)}Ti(Jg,"onAnimationEnd"),Ti(ep,"onAnimationIteration"),Ti(tp,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(BT,"onTransitionRun"),Ti(qT,"onTransitionStart"),Ti(HT,"onTransitionCancel"),Ti(np,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function S0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){Bu(Y)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(T=l[y],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Y){Bu(Y)}h.currentTarget=null,f=C}}}}function ze(t,n){var a=n[Aa];a===void 0&&(a=n[Aa]=new Set);var l=t+"__bubble";a.has(l)||(x0(n,t,2,!1),a.add(l))}function wd(t,n,a){var l=0;n&&(l|=4),x0(a,t,l,n)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Nc]){t[Nc]=!0,Ll.forEach(function(a){a!=="selectionchange"&&(wb.has(a)||wd(a,!1,t),wd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nc]||(n[Nc]=!0,wd("selectionchange",!1,n))}}function x0(t,n,a,l){switch(J0(n)){case 2:var h=eS;break;case 8:h=tS;break;default:h=qd}a=h.bind(null,n,a,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Rd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=Mi(T),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}T=T.parentNode}}l=l.return}Fs(function(){var z=f,Y=Zn(a),$=[];e:{var q=ip.get(t);if(q!==void 0){var F=zi,ye=t;switch(t){case"keypress":if(Fr(a)===0)break e;case"keydown":case"keyup":F=Uu;break;case"focusin":ye="focus",F=Kr;break;case"focusout":ye="blur",F=Kr;break;case"beforeblur":case"afterblur":F=Kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case Jg:case ep:case tp:F=Du;break;case np:F=b;break;case"scroll":case"scrollend":F=Zl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=cs;break;case"toggle":case"beforetoggle":F=ke}var xe=(n&4)!==0,gt=!xe&&(t==="scroll"||t==="scrollend"),P=xe?q!==null?q+"Capture":null:q;xe=[];for(var V=z,L;V!==null;){var X=V;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||P===null||(X=yi(V,P),X!=null&&xe.push(Co(V,X,L))),gt)break;V=V.return}0<xe.length&&(q=new F(q,ye,null,a,Y),$.push({event:q,listeners:xe}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Yl&&(ye=a.relatedTarget||a.fromElement)&&(Mi(ye)||ye[Di]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ye=a.relatedTarget||a.toElement,F=z,ye=ye?Mi(ye):null,ye!==null&&(gt=c(ye),xe=ye.tag,ye!==gt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(F=null,ye=z),F!==ye)){if(xe=Wl,X="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(xe=cs,X="onPointerLeave",P="onPointerEnter",V="pointer"),gt=F==null?q:Pn(F),L=ye==null?q:Pn(ye),q=new xe(X,V+"leave",F,a,Y),q.target=gt,q.relatedTarget=L,X=null,Mi(Y)===z&&(xe=new xe(P,V+"enter",ye,a,Y),xe.target=L,xe.relatedTarget=gt,X=xe),gt=X,F&&ye)t:{for(xe=Nb,P=F,V=ye,L=0,X=P;X;X=xe(X))L++;X=0;for(var Te=V;Te;Te=xe(Te))X++;for(;0<L-X;)P=xe(P),L--;for(;0<X-L;)V=xe(V),X--;for(;L--;){if(P===V||V!==null&&P===V.alternate){xe=P;break t}P=xe(P),V=xe(V)}xe=null}else xe=null;F!==null&&A0($,q,F,xe,!1),ye!==null&&gt!==null&&A0($,gt,ye,xe,!0)}}e:{if(q=z?Pn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var We=qg;else if(zg(q))if(Hg)We=UT;else{We=jT;var ve=kT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Ca(z.elementType)&&(We=qg):We=PT;if(We&&(We=We(t,z))){Bg($,We,a,Y);break e}ve&&ve(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Gl(q,"number",q.value)}switch(ve=z?Pn(z):window,t){case"focusin":(zg(ve)||ve.contentEditable==="true")&&(Pa=ve,nf=z,io=null);break;case"focusout":io=nf=Pa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Zg($,a,Y);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":Zg($,a,Y)}var Pe;if(tt)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ja?Qr(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Hi&&a.locale!=="ko"&&(ja||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ja&&(Pe=$l()):(Li=Y,Xl="value"in Li?Li.value:Li.textContent,ja=!0)),ve=Rc(z,qe),0<ve.length&&(qe=new qi(qe,t,null,a,Y),$.push({event:qe,listeners:ve}),Pe?qe.data=Pe:(Pe=ka(a),Pe!==null&&(qe.data=Pe)))),(Pe=Jn?DT(t,a):OT(t,a))&&(qe=Rc(z,"onBeforeInput"),0<qe.length&&(ve=new qi("onBeforeInput","beforeinput",null,a,Y),$.push({event:ve,listeners:qe}),ve.data=Pe)),Sb($,t,z,a,Y)}S0($,n)})}function Co(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Rc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=yi(t,a),h!=null&&l.unshift(Co(t,h,f)),h=yi(t,n),h!=null&&l.push(Co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A0(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=yi(a,f),z!=null&&y.unshift(Co(a,z,C))):h||(z=yi(a,f),z!=null&&y.push(Co(a,z,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var Rb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Cb,"")}function N0(t,n){return n=w0(n),w0(t)===n}function mt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,a,l);break;case"style":Ql(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&mt(t,n,"name",h.name,h,null),mt(t,n,"formEncType",h.formEncType,h,null),mt(t,n,"formMethod",h.formMethod,h,null),mt(t,n,"formTarget",h.formTarget,h,null)):(mt(t,n,"encType",h.encType,h,null),mt(t,n,"method",h.method,h,null),mt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,Na(t,a,l))}}function Cd(t,n,a,l,h,f){switch(a){case"style":Ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[yt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function un(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,f,y,a,null)}}h&&mt(t,n,"srcSet",a.srcSet,a,null),l&&mt(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var T=f=y=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:mt(t,n,l,Y,a,null)}}Au(t,f,T,C,z,y,h,!1);return;case"select":ze("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:mt(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?zs(t,!!l,n,!1):a!=null&&zs(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:mt(t,n,y,T,a,null)}Bs(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,n,C,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ro.length;l++)ze(Ro[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,z,l,a,null)}return;default:if(Ca(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Cd(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&mt(t,n,T,l,a,null))}function Ib(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,C=null,z=null,Y=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||mt(t,n,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Y=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&mt(t,n,q,F,l,$)}}Ra(t,y,T,C,z,Y,f,h);return;case"select":F=y=T=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||mt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==C&&mt(t,n,h,f,l,C)}n=T,a=y,l=F,q!=null?zs(t,!!a,q,!1):!!l!=!!a&&(n!=null?zs(t,!!a,n,!0):zs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:mt(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&mt(t,n,y,h,l,f)}wu(t,q,F);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:mt(t,n,ye,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,n,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)q=a[xe],a.hasOwnProperty(xe)&&q!=null&&!l.hasOwnProperty(xe)&&mt(t,n,xe,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:mt(t,n,z,q,l,F)}return;default:if(Ca(n)){for(var gt in a)q=a[gt],a.hasOwnProperty(gt)&&q!==void 0&&!l.hasOwnProperty(gt)&&Cd(t,n,gt,void 0,l,q);for(Y in l)q=l[Y],F=a[Y],!l.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Cd(t,n,Y,q,l,F);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&mt(t,n,P,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||mt(t,n,$,q,l,F)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&R0(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Y=C.transferSize,$=C.initiatorType;Y&&R0($)&&(C=C.responseEnd,y+=Y*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Dd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function C0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function Ob(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(t){return O0.resolve(null).then(t).catch(kb)}:D0;function kb(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function M0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),cl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Io(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Io(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Io(t.ownerDocument.body);a=h}while(a);cl(n)}function V0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jb(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function Pb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ai(t.nextSibling),t===null))return null;return t}function k0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ub(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function j0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ai(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function P0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function U0(t,n,a){switch(n=Cc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wa(t)}var li=new Map,L0=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=J.d;J.d={f:Lb,r:zb,D:Bb,C:qb,L:Hb,m:Fb,X:Kb,S:Gb,M:Qb};function Lb(){var t=As.f(),n=Tc();return t||n}function zb(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?ny(n):As.r(t)}var ll=typeof document>"u"?null:document;function z0(t,n,a){var l=ll;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L0.has(h)||(L0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),un(n,"link",t),qt(n),l.head.appendChild(n)))}}function Bb(t){As.D(t),z0("dns-prefetch",t,null)}function qb(t,n){As.C(t,n),z0("preconnect",t,n)}function Hb(t,n,a){As.L(t,n,a);var l=ll;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=ol(t);break;case"script":f=ul(t)}li.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),li.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Do(f))||n==="script"&&l.querySelector(Oo(f))||(n=l.createElement("link"),un(n,"link",t),qt(n),l.head.appendChild(n)))}}function Fb(t,n){As.m(t,n);var a=ll;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ul(t)}if(!li.has(f)&&(t=x({rel:"modulepreload",href:t},n),li.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(f)))return}l=a.createElement("link"),un(l,"link",t),qt(l),a.head.appendChild(l)}}}function Gb(t,n,a){As.S(t,n,a);var l=ll;if(l&&t){var h=Vi(l).hoistableStyles,f=ol(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Do(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=li.get(f))&&Ud(t,a);var C=y=l.createElement("link");qt(C),un(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function Kb(t,n){As.X(t,n);var a=ll;if(a&&t){var l=Vi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=x({src:t,async:!0},n),(n=li.get(h))&&Ld(t,n),f=a.createElement("script"),qt(f),un(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Qb(t,n){As.M(t,n);var a=ll;if(a&&t){var l=Vi(a).hoistableScripts,h=ul(t),f=l.get(h);f||(f=a.querySelector(Oo(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=li.get(h))&&Ld(t,n),f=a.createElement("script"),qt(f),un(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B0(t,n,a,l){var h=(h=Ee.current)?Ic(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ol(a.href),a=Vi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ol(a.href);var f=Vi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Do(t)))&&!f._p&&(y.instance=f,y.state.loading=5),li.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},li.set(t,a),f||Yb(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ul(a),a=Vi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ol(t){return'href="'+An(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function q0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),un(n,"link",a),qt(n),t.head.appendChild(n))}function ul(t){return'[src="'+An(t)+'"]'}function Oo(t){return"script[async]"+t}function H0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return n.instance=l,qt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),qt(l),un(l,"style",h),Dc(l,a.precedence,t),n.instance=l;case"stylesheet":h=ol(a.href);var f=t.querySelector(Do(h));if(f)return n.state.loading|=4,n.instance=f,qt(f),f;l=q0(a),(h=li.get(h))&&Ud(l,h),f=(t.ownerDocument||t).createElement("link"),qt(f);var y=f;return y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),un(f,"link",l),n.state.loading|=4,Dc(f,a.precedence,t),n.instance=f;case"script":return f=ul(a.src),(h=t.querySelector(Oo(f)))?(n.instance=h,qt(h),h):(l=a,(h=li.get(f))&&(l=x({},a),Ld(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),qt(h),un(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Dc(l,a.precedence,t));return n.instance}function Dc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oc=null;function F0(t,n,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Oi]||f[rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function G0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Xb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function K0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $b(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ol(l.href),f=n.querySelector(Do(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,qt(f);return}f=n.ownerDocument||n,l=q0(l),(h=li.get(h))&&Ud(l,h),f=f.createElement("link"),qt(f);var y=f;y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),un(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function Zb(t,n){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&zd===0&&(zd=62500*Db());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,n.forEach(Wb,t),Vc=null,Mc.call(t))}function Wb(t,n){if(!(n.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Mo={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Jb(t,n,a,l,h,f,y,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q0(t,n,a,l,h,f,y,T,C,z,Y,$){return t=new Jb(t,n,a,y,C,z,Y,$,T),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),t.current=f,f.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Sf(f),t}function Y0(t){return t?(t=za,t):za}function X0(t,n,a,l,h,f){h=Y0(h),l.context===null?l.context=h:l.pendingContext=h,l=Js(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=er(t,l,n),a!==null&&(Dn(a,t,n),co(a,t,n))}function $0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bd(t,n){$0(t,n),(t=t.alternate)&&$0(t,n)}function Z0(t){if(t.tag===13||t.tag===31){var n=$r(t,67108864);n!==null&&Dn(n,t,67108864),Bd(t,67108864)}}function W0(t){if(t.tag===13||t.tag===31){var n=Gn();n=D(n);var a=$r(t,n);a!==null&&Dn(a,t,n),Bd(t,n)}}var jc=!0;function eS(t,n,a,l){var h=B.T;B.T=null;var f=J.p;try{J.p=2,qd(t,n,a,l)}finally{J.p=f,B.T=h}}function tS(t,n,a,l){var h=B.T;B.T=null;var f=J.p;try{J.p=8,qd(t,n,a,l)}finally{J.p=f,B.T=h}}function qd(t,n,a,l){if(jc){var h=Hd(l);if(h===null)Rd(t,n,l,Pc,a),e_(t,l);else if(iS(h,t,n,a,l))l.stopPropagation();else if(e_(t,l),n&4&&-1<nS.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ot(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var C=1<<31-Oe(y);T.entanglements[1]|=C,y&=~C}Qi(f),(nt&6)===0&&(vc=Bt()+500,No(0))}}break;case 31:case 13:T=$r(f,2),T!==null&&Dn(T,f,2),Tc(),Bd(f,2)}if(f=Hd(l),f===null&&Rd(t,n,l,Pc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Rd(t,n,l,null,a)}}function Hd(t){return t=Zn(t),Fd(t)}var Pc=null;function Fd(t){if(Pc=null,t=Mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pc=t,null}function J0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case di:return 2;case Ii:return 8;case jn:case Ps:return 32;case Us:return 268435456;default:return 32}default:return 32}}var Gd=!1,hr=null,fr=null,dr=null,Vo=new Map,ko=new Map,mr=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(n.pointerId)}}function jo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&Z0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function iS(t,n,a,l,h){switch(n){case"focusin":return hr=jo(hr,t,n,a,l,h),!0;case"dragenter":return fr=jo(fr,t,n,a,l,h),!0;case"mouseover":return dr=jo(dr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vo.set(f,jo(Vo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ko.set(f,jo(ko.get(f)||null,t,n,a,l,h)),!0}return!1}function t_(t){var n=Mi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,St(t.priority,function(){W0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,St(t.priority,function(){W0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yl=l,a.target.dispatchEvent(l),Yl=null}else return n=$n(a),n!==null&&Z0(n),t.blockedOn=a,!1;n.shift()}return!0}function n_(t,n,a){Uc(t)&&a.delete(n)}function sS(){Gd=!1,hr!==null&&Uc(hr)&&(hr=null),fr!==null&&Uc(fr)&&(fr=null),dr!==null&&Uc(dr)&&(dr=null),Vo.forEach(n_),ko.forEach(n_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sS)))}var zc=null;function i_(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var f=$n(a);f!==null&&(t.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function cl(t){function n(C){return Lc(C,t)}hr!==null&&Lc(hr,t),fr!==null&&Lc(fr,t),dr!==null&&Lc(dr,t),Vo.forEach(n),ko.forEach(n);for(var a=0;a<mr.length;a++){var l=mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[yt]||null;if(typeof f=="function")y||i_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[yt]||null)T=y.formAction;else if(Fd(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}Bc.prototype.render=Kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Gn();X0(a,l,t,n,null,null)},Bc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;X0(t.current,2,null,t,null,null),Tc(),n[Di]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var n=st();t={blockedOn:null,target:t,priority:n};for(var a=0;a<mr.length&&n!==0&&n<mr[a].priority;a++);mr.splice(a,0,t),a===0&&t_(t)}};var r_=e.version;if(r_!=="19.2.0")throw Error(r(527,r_,"19.2.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Q=qc.inject(rS),ae=qc}catch{}}return Uo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=fy,f=dy,y=my;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Q0(t,1,!1,null,null,a,l,null,h,f,y,s_),t[Di]=n.current,Nd(t),new Kd(n)},Uo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=fy,y=dy,T=my,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Q0(t,1,!0,n,a??null,l,h,C,f,y,T,s_),n.context=Y0(null),a=n.current,l=Gn(),l=D(l),h=Js(l),h.callback=null,er(a,h,l),a=l,n.current.lanes=a,as(n,a),Qi(n),t[Di]=n.current,Nd(t),new Bc(n)},Uo.version="19.2.0",Uo}var g_;function gS(){if(g_)return Xd.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=mS(),Xd.exports}var pS=gS();const yS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_S=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=_S(s);return e.charAt(0).toUpperCase()+e.slice(1)},e1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),vS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ES={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TS=ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>ce.createElement("svg",{ref:_,...ES,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:e1("lucide",o),...!c&&!vS(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,S])=>ce.createElement(v,S)),...Array.isArray(c)?c:[c]]));const it=(s,e)=>{const i=ce.forwardRef(({className:r,...o},c)=>ce.createElement(TS,{ref:c,iconNode:e,className:e1(`lucide-${yS(p_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=p_(s),i};const bS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],SS=it("award",bS);const xS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],AS=it("calendar-days",xS);const wS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NS=it("check",wS);const RS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wo=it("chevron-right",RS);const CS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t1=it("chevron-left",CS);const IS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y_=it("circle-check-big",IS);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],__=it("circle-pause",DS);const OS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MS=it("circle-play",OS);const VS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kS=it("clipboard-list",VS);const jS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Go=it("clock",jS);const PS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],US=it("history",PS);const LS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],zS=it("key-round",LS);const BS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v_=it("lock",BS);const qS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fm=it("log-out",qS);const HS=[["path",{d:"M5 12h14",key:"1ays0h"}]],FS=it("minus",HS);const GS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],KS=it("octagon-alert",GS);const QS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zc=it("pen",QS);const YS=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],n1=it("piggy-bank",YS);const XS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jd=it("plus",XS);const $S=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mm=it("rotate-ccw",$S);const ZS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i1=it("settings",ZS);const WS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s1=it("shield-check",WS);const JS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gm=it("star",JS);const ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],em=it("target",ex);const tx=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],nx=it("thumbs-down",tx);const ix=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],sx=it("thumbs-up",ix);const rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tm=it("trash-2",rx);const ax=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lx=it("user-plus",ax);const ox=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jo=it("users",ox);const ux=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E_=it("wallet",ux);const cx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ih=it("x",cx),hx=()=>{};var T_={};const r1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fx=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,S=c>>2,x=(c&3)<<4|p>>4;let M=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(M=64)),r.push(i[S],i[x],i[M],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(r1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):fx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||x==null)throw new dx;const M=c<<2|p>>4;if(r.push(M),v!==64){const G=p<<4&240|v>>2;if(r.push(G),x!==64){const ee=v<<6&192|x;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(s){const e=r1(s);return a1.encodeByteArray(e,!0)},oh=function(s){return mx(s).replace(/\./g,"")},l1=function(s){try{return a1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const px=()=>gx().__FIREBASE_DEFAULTS__,yx=()=>{if(typeof process>"u"||typeof T_>"u")return;const s=T_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_x=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&l1(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return hx()||px()||yx()||_x()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},o1=s=>Dh()?.emulatorHosts?.[s],vx=s=>{const e=o1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},u1=()=>Dh()?.config,c1=s=>Dh()?.[`_${s}`];class Ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Dl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h1(s){return(await fetch(s,{credentials:"include"})).ok}function Tx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[oh(JSON.stringify(i)),oh(JSON.stringify(d)),""].join(".")}const Ko={};function bx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?s.emulator.push(e):s.prod.push(e);return s}function Sx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let b_=!1;function f1(s,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||Ko[s]===e||Ko[s]||b_)return;Ko[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=bx().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{b_=!0,d()},M}function S(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function x(){const M=Sx(r),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),ne=i("learnmore"),te=document.getElementById(ne)||document.createElement("a"),_e=i("preprendIcon"),pe=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const fe=M.element;p(fe),S(te,ne);const Ue=v();_(pe,_e),fe.append(pe,ee,te,Ue),document.body.appendChild(fe)}c?(ee.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function Ax(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cx(){const s=vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ix(){return!Ax()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Mx="FirebaseError";class Ms extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Mx,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Vx(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,p,r)}}function Vx(s,e){return s.replace(kx,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kx=/\{\$([^}]+)}/g;function jx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function da(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(S_(c)&&S_(d)){if(!da(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function S_(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function zo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Px(s,e){const i=new Ux(s,e);return i.subscribe.bind(i)}class Ux{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Lx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function nm(){}function Jt(s){return s&&s._delegate?s._delegate:s}class ma{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class zx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Ex;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qx(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bx(s){return s===ua?void 0:s}function qx(s){return s.instantiationMode==="EAGER"}class Hx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const Fx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Gx=He.INFO,Kx={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Qx=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Kx[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Gx,this._logHandler=Qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Yx=(s,e)=>e.some(i=>s instanceof i);let x_,A_;function Xx(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $x(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,pm=new WeakMap,m1=new WeakMap,im=new WeakMap,Km=new WeakMap;function Zx(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(br(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d1.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function Wx(s){if(pm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let ym={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||m1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Jx(s){ym=s(ym)}function eA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(sm(this),e,...i);return m1.set(r,e.sort?e.sort():[e]),br(r)}:$x().includes(s)?function(...e){return s.apply(sm(this),e),br(d1.get(this))}:function(...e){return br(s.apply(sm(this),e))}}function tA(s){return typeof s=="function"?eA(s):(s instanceof IDBTransaction&&Wx(s),Yx(s,Xx())?new Proxy(s,ym):s)}function br(s){if(s instanceof IDBRequest)return Zx(s);if(im.has(s))return im.get(s);const e=tA(s);return e!==s&&(im.set(s,e),Km.set(e,s)),e}const sm=s=>Km.get(s);function nA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=br(d);return r&&d.addEventListener("upgradeneeded",_=>{r(br(d.result),_.oldVersion,_.newVersion,br(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const iA=["get","getKey","getAll","getAllKeys","count"],sA=["put","add","delete","clear"],rm=new Map;function w_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=sA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return rm.set(e,c),c}Jx(s=>({...s,get:(e,i,r)=>w_(e,i)||s.get(e,i,r),has:(e,i)=>!!w_(e,i)||s.has(e,i)}));class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function aA(s){return s.getComponent()?.type==="VERSION"}const _m="@firebase/app",N_="0.14.6";const Cs=new Gm("@firebase/app"),lA="@firebase/app-compat",oA="@firebase/analytics-compat",uA="@firebase/analytics",cA="@firebase/app-check-compat",hA="@firebase/app-check",fA="@firebase/auth",dA="@firebase/auth-compat",mA="@firebase/database",gA="@firebase/data-connect",pA="@firebase/database-compat",yA="@firebase/functions",_A="@firebase/functions-compat",vA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",bA="@firebase/messaging-compat",SA="@firebase/performance",xA="@firebase/performance-compat",AA="@firebase/remote-config",wA="@firebase/remote-config-compat",NA="@firebase/storage",RA="@firebase/storage-compat",CA="@firebase/firestore",IA="@firebase/ai",DA="@firebase/firestore-compat",OA="firebase",MA="12.6.0";const vm="[DEFAULT]",VA={[_m]:"fire-core",[lA]:"fire-core-compat",[uA]:"fire-analytics",[oA]:"fire-analytics-compat",[hA]:"fire-app-check",[cA]:"fire-app-check-compat",[fA]:"fire-auth",[dA]:"fire-auth-compat",[mA]:"fire-rtdb",[gA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[yA]:"fire-fn",[_A]:"fire-fn-compat",[vA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[bA]:"fire-fcm-compat",[SA]:"fire-perf",[xA]:"fire-perf-compat",[AA]:"fire-rc",[wA]:"fire-rc-compat",[NA]:"fire-gcs",[RA]:"fire-gcs-compat",[CA]:"fire-fst",[DA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[OA]:"fire-js-all"};const uh=new Map,kA=new Map,Em=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(i){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Sl(s){const e=s.name;if(Em.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,s);for(const i of uh.values())R_(i,s);for(const i of kA.values())R_(i,s);return!0}function Qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ui(s){return s==null?!1:s.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new cu("app","Firebase",jA);class PA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const Ol=MA;function g1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(i||(i=u1()),!i)throw Sr.create("no-options");const c=uh.get(o);if(c){if(da(i,c.options)&&da(r,c.config))return c;throw Sr.create("duplicate-app",{appName:o})}const d=new Hx(o);for(const _ of Em.values())d.addComponent(_);const p=new PA(i,r,d);return uh.set(o,p),p}function p1(s=vm){const e=uh.get(s);if(!e&&s===vm&&u1())return g1();if(!e)throw Sr.create("no-app",{appName:s});return e}function xr(s,e,i){let r=VA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(d.join(" "));return}Sl(new ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const UA="firebase-heartbeat-database",LA=1,eu="firebase-heartbeat-store";let am=null;function y1(){return am||(am=nA(UA,LA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),am}async function zA(s){try{const i=(await y1()).transaction(eu),r=await i.objectStore(eu).get(_1(s));return await i.done,r}catch(e){if(e instanceof Ms)Cs.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(i.message)}}}async function C_(s,e){try{const r=(await y1()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,_1(s)),await r.done}catch(i){if(i instanceof Ms)Cs.warn(i.message);else{const r=Sr.create("idb-set",{originalErrorMessage:i?.message});Cs.warn(r.message)}}}function _1(s){return`${s.name}!${s.options.appId}`}const BA=1024,qA=30;class HA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>qA){const o=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:i,unsentEntries:r}=FA(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cs.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function FA(s,e=BA){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class GA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dx()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(s){return oh(JSON.stringify({version:2,heartbeats:s})).length}function KA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function QA(s){Sl(new ma("platform-logger",e=>new rA(e),"PRIVATE")),Sl(new ma("heartbeat",e=>new HA(e),"PRIVATE")),xr(_m,N_,s),xr(_m,N_,"esm2020"),xr("fire-js","")}QA("");var YA="firebase",XA="12.6.0";xr(YA,XA,"app");function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $A=v1,E1=new cu("auth","Firebase",v1());const ch=new Gm("@firebase/auth");function ZA(s,...e){ch.logLevel<=He.WARN&&ch.warn(`Auth (${Ol}): ${s}`,...e)}function Wc(s,...e){ch.logLevel<=He.ERROR&&ch.error(`Auth (${Ol}): ${s}`,...e)}function wi(s,...e){throw Ym(s,...e)}function $i(s,...e){return Ym(s,...e)}function T1(s,e,i){const r={...$A(),[e]:i};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function Rs(s){return T1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return E1.create(s,...e)}function we(s,e,...i){if(!s)throw Ym(e,...i)}function ws(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Wc(e),new Error(e)}function Is(s,e){s||ws(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function WA(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function JA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WA()||Nx()||"connection"in navigator)?navigator.onLine:!0}function ew(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Is(i>e,"Short delay should be less than long delay!"),this.isMobile=xx()||Rx()}get(){return JA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,e){Is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class b1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iw=new fu(3e4,6e4);function Vs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ks(s,e,i,r,o={}){return S1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=hu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return wx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Dl(s.emulatorConfig.host)&&(v.credentials="include"),b1.fetch()(await x1(s,s.config.apiHost,i,p),v)})}async function S1(s,e,i){s._canInitEmulator=!1;const r={...tw,...e};try{const o=new rw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Hc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Hc(s,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw T1(s,S,v);wi(s,S)}}catch(o){if(o instanceof Ms)throw o;wi(s,"network-request-failed",{message:String(o)})}}async function du(s,e,i,r,o={}){const c=await ks(s,e,i,r,o);return"mfaPendingCredential"in c&&wi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function x1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Xm(s.config,o):`${s.config.apiScheme}://${o}`;return nw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function sw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),iw.get())})}}function Hc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=$i(s,e,r);return o.customData._tokenResponse=i,o}function M_(s){return s!==void 0&&s.enterprise!==void 0}class aw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return sw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lw(s,e){return ks(s,"GET","/v2/recaptchaConfig",Vs(s,e))}async function ow(s,e){return ks(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return ks(s,"POST","/v1/accounts:lookup",e)}function Qo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uw(s,e=!1){const i=Jt(s),r=await i.getIdToken(e),o=$m(r);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Qo(lm(o.auth_time)),issuedAtTime:Qo(lm(o.iat)),expirationTime:Qo(lm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(s){return Number(s)*1e3}function $m(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=l1(i);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function V_(s){const e=$m(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ms&&cw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class hw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await tu(s,hh(e,{idToken:i}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?A1(o.providerUserInfo):[],d=dw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function fw(s){const e=Jt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dw(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function mw(s,e){const i=await S1(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await x1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Dl(s.emulatorConfig.host)&&(_.credentials="include"),b1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function gw(s,e){return ks(s,"POST","/v2/accounts:revokeToken",Vs(s,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=V_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await mw(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new yl;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return ws("not implemented")}}function pr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new hw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await tu(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return uw(this,e)}reload(){return fw(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await tu(this,ow(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:M,isAnonymous:G,providerData:ee,stsTokenManager:ne}=i;we(x&&ne,e,"internal-error");const te=yl.fromJSON(this.name,ne);we(typeof x=="string",e,"internal-error"),pr(r,e.name),pr(o,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof G=="boolean",e,"internal-error"),pr(c,e.name),pr(d,e.name),pr(p,e.name),pr(_,e.name),pr(v,e.name),pr(S,e.name);const _e=new Ai({uid:x,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:v,lastLoginAt:S});return ee&&Array.isArray(ee)&&(_e.providerData=ee.map(pe=>({...pe}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,i,r=!1){const o=new yl;o.updateFromServerResponse(i);const c=new Ai({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?A1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new yl;p.updateFromIdToken(r);const _=new Ai({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const k_=new Map;function Ns(s){Is(s instanceof Function,"Expected a class definition");let e=k_.get(s);return e?(Is(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,k_.set(s,e),e)}class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}w1.type="NONE";const j_=w1;function Jc(s,e,i){return`firebase:${s}:${e}:${i}`}class _l{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?Ai._fromGetAccountInfoResponse(this.auth,i,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new _l(Ns(j_),e,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ns(j_);const d=Jc(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let x;if(typeof S=="string"){const M=await hh(e,{idToken:S}).catch(()=>{});if(!M)break;x=await Ai._fromGetAccountInfoResponse(e,M,S)}else x=Ai._fromJSON(e,S);v!==c&&(p=x),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new _l(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new _l(c,e,r))}}function P_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||C1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function N1(s=vn()){return/firefox\//i.test(s)}function R1(s=vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C1(s=vn()){return/crios\//i.test(s)}function I1(s=vn()){return/iemobile/i.test(s)}function D1(s=vn()){return/android/i.test(s)}function O1(s=vn()){return/blackberry/i.test(s)}function M1(s=vn()){return/webos/i.test(s)}function Zm(s=vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pw(s=vn()){return Zm(s)&&!!window.navigator?.standalone}function yw(){return Cx()&&document.documentMode===10}function V1(s=vn()){return Zm(s)||D1(s)||M1(s)||O1(s)||/windows phone/i.test(s)||I1(s)}function k1(s,e=[]){let i;switch(s){case"Browser":i=P_(vn());break;case"Worker":i=`${P_(vn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ol}/${r}`}class _w{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function vw(s,e={}){return ks(s,"GET","/v2/passwordPolicy",Vs(s,e))}const Ew=6;class Tw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class bw{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new _w(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ew()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Rs(this));const i=e?Jt(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vw(this),i=new Tw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await gw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ns(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mr(s){return Jt(s)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Px(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sw(s){Oh=s}function j1(s){return Oh.loadJS(s)}function xw(){return Oh.recaptchaEnterpriseScript}function Aw(){return Oh.gapiScript}function ww(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Nw{constructor(){this.enterprise=new Rw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Rw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Cw="recaptcha-enterprise",P1="NO_RECAPTCHA";class Iw{constructor(e){this.type=Cw,this.auth=Mr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{lw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new aw(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;M_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(P1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&M_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=xw();_.length!==0&&(_+=p),j1(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function L_(s,e,i,r=!1,o=!1){const c=new Iw(s);let d;if(o)d=P1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await L_(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Dw(s,e){const i=Qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(da(c,e??{}))return o;wi(o,"already-initialized")}return i.initialize({options:e})}function Ow(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ns);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Mw(s,e,i){const r=Mr(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=U1(e),{host:d,port:p}=Vw(e),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(da(v,r.config.emulator)&&da(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Dl(d)?(h1(`${c}//${d}${_}`),f1("Auth",!0)):kw()}function U1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Vw(s){const e=U1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:z_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:z_(d)}}}function z_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function kw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,i){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function jw(s,e){return ks(s,"POST","/v1/accounts:signUp",e)}async function Pw(s,e){return du(s,"POST","/v1/accounts:signInWithPassword",Vs(s,e))}async function Uw(s,e){return ks(s,"POST","/v1/accounts:sendOobCode",Vs(s,e))}async function Lw(s,e){return Uw(s,e)}async function zw(s,e){return du(s,"POST","/v1/accounts:signInWithEmailLink",Vs(s,e))}async function Bw(s,e){return du(s,"POST","/v1/accounts:signInWithEmailLink",Vs(s,e))}class nu extends Wm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new nu(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new nu(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,i,"signInWithPassword",Pw);case"emailLink":return zw(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",jw);case"emailLink":return Bw(e,{idToken:i,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vl(s,e){return du(s,"POST","/v1/accounts:signInWithIdp",Vs(s,e))}const qw="http://localhost";class ga extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new ga(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return vl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,vl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vl(e,i)}buildRequest(){const e={requestUri:qw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=hu(i)}return e}}function Hw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fw(s){const e=Lo(zo(s)).link,i=e?Lo(zo(e)).deep_link_id:null,r=Lo(zo(s)).deep_link_id;return(r?Lo(zo(r)).link:null)||r||i||e||s}class Jm{constructor(e){const i=Lo(zo(e)),r=i.apiKey??null,o=i.oobCode??null,c=Hw(i.mode??null);we(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Fw(e);try{return new Jm(i)}catch{return null}}}class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,i){return nu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Jm.parseLink(i);return we(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class L1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends L1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends mu{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class _r extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ga._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return _r.credential(i,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";class vr extends mu{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class Er extends mu{constructor(){super("twitter.com")}static credential(e,i){return ga._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Er.credential(i,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";async function Gw(s,e){return du(s,"POST","/v1/accounts:signUp",Vs(s,e))}class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Ai._fromIdTokenResponse(e,r,o),d=B_(r);return new pa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new pa({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function B_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends Ms{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new mh(e,i,r,o)}}function z1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,c,e,r):c})}async function Kw(s,e,i=!1){const r=await tu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return pa._forOperation(s,"link",r)}async function Qw(s,e,i=!1){const{auth:r}=s;if(ui(r.app))return Promise.reject(Rs(r));const o="reauthenticate";try{const c=await tu(s,z1(r,o,e,s),i);we(c.idToken,r,"internal-error");const d=$m(c.idToken);we(d,r,"internal-error");const{sub:p}=d;return we(s.uid===p,r,"user-mismatch"),pa._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),c}}async function B1(s,e,i=!1){if(ui(s.app))return Promise.reject(Rs(s));const r="signIn",o=await z1(s,r,e),c=await pa._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function q1(s,e){return B1(Mr(s),e)}async function H1(s){const e=Mr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yw(s,e,i){const r=Mr(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Lw)}async function Xw(s,e,i){if(ui(s.app))return Promise.reject(Rs(s));const r=Mr(s),d=await dh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&H1(s),_}),p=await pa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function $w(s,e,i){return ui(s.app)?Promise.reject(Rs(s)):q1(Jt(s),Ta.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H1(s),r})}function Zw(s,e,i,r){return Jt(s).onIdTokenChanged(e,i,r)}function Ww(s,e,i){return Jt(s).beforeAuthStateChanged(e,i)}function Jw(s,e,i,r){return Jt(s).onAuthStateChanged(e,i,r)}function e2(s){return Jt(s).signOut()}const gh="__sak";class F1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const t2=1e3,n2=10;class G1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);yw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,n2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const i2=G1;class K1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}K1.type="SESSION";const Q1=K1;function s2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await s2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function eg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=eg("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const M=x;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Zi(){return window}function a2(s){Zi().location.href=s}function Y1(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){return navigator?.serviceWorker?.controller||null}function u2(){return Y1()?self:null}const X1="firebaseLocalStorageDb",c2=1,ph="firebaseLocalStorage",$1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function h2(){const s=indexedDB.deleteDatabase(X1);return new gu(s).toPromise()}function Sm(){const s=indexedDB.open(X1,c2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:$1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await h2(),e(await Sm()))})})}async function q_(s,e,i){const r=Vh(s,!0).put({[$1]:e,value:i});return new gu(r).toPromise()}async function f2(s,e){const i=Vh(s,!1).get(e),r=await new gu(i).toPromise();return r===void 0?null:r.value}function H_(s,e){const i=Vh(s,!0).delete(e);return new gu(i).toPromise()}const d2=800,m2=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>m2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(u2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await q_(e,gh,"1"),await H_(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>f2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>H_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Vh(o,!1).getAll();return new gu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const g2=Z1;new fu(3e4,6e4);function p2(s,e){return e?Ns(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tg extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function y2(s){return B1(s.auth,new tg(s),s.bypassAuthState)}function _2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),Qw(i,new tg(s),s.bypassAuthState)}async function v2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),Kw(i,new tg(s),s.bypassAuthState)}class W1{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:wi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E2=new fu(2e3,1e4);class gl extends W1{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}gl.currentPopupAction=null;const T2="pendingRedirect",eh=new Map;class b2 extends W1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(s,e){const i=w2(e),r=A2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function x2(s,e){eh.set(s._key(),e)}function A2(s){return Ns(s._redirectPersistence)}function w2(s){return Jc(T2,s.config.apiKey,s.name)}async function N2(s,e,i=!1){if(ui(s.app))return Promise.reject(Rs(s));const r=Mr(s),o=p2(r,e),d=await new b2(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const R2=600*1e3;class C2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!J1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError($i(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function J1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function I2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(s);default:return!1}}async function D2(s,e={}){return ks(s,"GET","/v1/projects",e)}const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function V2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await D2(s);for(const i of e)try{if(k2(i))return}catch{}wi(s,"unauthorized-domain")}function k2(s){const e=Tm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!M2.test(i))return!1;if(O2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const j2=new fu(3e4,6e4);function G_(){const s=Zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function P2(s){return new Promise((e,i)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),i($i(s,"network-request-failed"))},timeout:j2.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)r();else{const o=ww("iframefcb");return Zi()[o]=()=>{gapi.load?r():i($i(s,"network-request-failed"))},j1(`${Aw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw th=null,e})}let th=null;function U2(s){return th=th||P2(s),th}const L2=new fu(5e3,15e3),z2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Xm(e,B2):`https://${s.config.authDomain}/${z2}`,r={apiKey:e.apiKey,appName:s.name,v:Ol},o=H2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${hu(r).slice(1)}`}async function G2(s){const e=await U2(s),i=Zi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:F2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=$i(s,"network-request-failed"),p=Zi().setTimeout(()=>{c(d)},L2.get());function _(){Zi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q2=500,Y2=600,X2="_blank",$2="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(s,e,i,r=Q2,o=Y2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...K2,width:r.toString(),height:o.toString(),top:c,left:d},v=vn().toLowerCase();i&&(p=C1(v)?X2:i),N1(v)&&(e=e||$2,_.scrollbars="yes");const S=Object.entries(_).reduce((M,[G,ee])=>`${M}${G}=${ee},`,"");if(pw(v)&&p!=="_self")return W2(e||"",p),new K_(null);const x=window.open(e||"",p,S);we(x,s,"popup-blocked");try{x.focus()}catch{}return new K_(x)}function W2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const J2="__/auth/handler",eN="emulator/auth/handler",tN=encodeURIComponent("fac");async function Q_(s,e,i,r,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ol,eventId:o};if(e instanceof L1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",jx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(e instanceof mu){const S=e.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),v=_?`#${tN}=${encodeURIComponent(_)}`:"";return`${nN(s)}?${hu(p).slice(1)}${v}`}function nN({config:s}){return s.emulator?Xm(s,eN):`https://${s.authDomain}/${J2}`}const om="webStorageSupport";class iN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=N2,this._overrideRedirectResult=x2}async _openPopup(e,i,r,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Q_(e,i,r,Tm(),o);return Z2(e,c,eg())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Q_(e,i,r,Tm(),o);return a2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await G2(e),r=new C2(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(om,{type:om},o=>{const c=o?.[0]?.[om];c!==void 0&&i(!!c),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=V2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V1()||R1()||Zm()}}const sN=iN;var Y_="@firebase/auth",X_="1.11.1";class rN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lN(s){Sl(new ma("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(s)},v=new bw(r,o,c,_);return Ow(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new ma("auth-internal",e=>{const i=Mr(e.getProvider("auth").getImmediate());return(r=>new rN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Y_,X_,aN(s)),xr(Y_,X_,"esm2020")}const oN=300,uN=c1("authIdTokenMaxAge")||oN;let $_=null;const cN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>uN)return;const o=i?.token;$_!==o&&($_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hN(s=p1()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Dw(s,{popupRedirectResolver:sN,persistence:[g2,i2,Q1]}),r=c1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=cN(c.toString());Ww(i,d,()=>d(i.currentUser)),Zw(i,p=>d(p))}}const o=o1("auth");return o&&Mw(i,`http://${o}`),i}function fN(){return document.getElementsByTagName("head")?.[0]??document}Sw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=$i("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",fN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lN("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,eE;(function(){var s;function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(k,O,j){for(var w=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)w[Qe-2]=arguments[Qe];return A.prototype[O].apply(k,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,N){N||(N=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(O=0;O<16;++O)k[O]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],O=R.g[2];let j=R.g[3],w;w=A+(j^N&(O^j))+k[0]+3614090360&4294967295,A=N+(w<<7&4294967295|w>>>25),w=j+(O^A&(N^O))+k[1]+3905402710&4294967295,j=A+(w<<12&4294967295|w>>>20),w=O+(N^j&(A^N))+k[2]+606105819&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(A^O&(j^A))+k[3]+3250441966&4294967295,N=O+(w<<22&4294967295|w>>>10),w=A+(j^N&(O^j))+k[4]+4118548399&4294967295,A=N+(w<<7&4294967295|w>>>25),w=j+(O^A&(N^O))+k[5]+1200080426&4294967295,j=A+(w<<12&4294967295|w>>>20),w=O+(N^j&(A^N))+k[6]+2821735955&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(A^O&(j^A))+k[7]+4249261313&4294967295,N=O+(w<<22&4294967295|w>>>10),w=A+(j^N&(O^j))+k[8]+1770035416&4294967295,A=N+(w<<7&4294967295|w>>>25),w=j+(O^A&(N^O))+k[9]+2336552879&4294967295,j=A+(w<<12&4294967295|w>>>20),w=O+(N^j&(A^N))+k[10]+4294925233&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(A^O&(j^A))+k[11]+2304563134&4294967295,N=O+(w<<22&4294967295|w>>>10),w=A+(j^N&(O^j))+k[12]+1804603682&4294967295,A=N+(w<<7&4294967295|w>>>25),w=j+(O^A&(N^O))+k[13]+4254626195&4294967295,j=A+(w<<12&4294967295|w>>>20),w=O+(N^j&(A^N))+k[14]+2792965006&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(A^O&(j^A))+k[15]+1236535329&4294967295,N=O+(w<<22&4294967295|w>>>10),w=A+(O^j&(N^O))+k[1]+4129170786&4294967295,A=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(A^N))+k[6]+3225465664&4294967295,j=A+(w<<9&4294967295|w>>>23),w=O+(A^N&(j^A))+k[11]+643717713&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^A&(O^j))+k[0]+3921069994&4294967295,N=O+(w<<20&4294967295|w>>>12),w=A+(O^j&(N^O))+k[5]+3593408605&4294967295,A=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(A^N))+k[10]+38016083&4294967295,j=A+(w<<9&4294967295|w>>>23),w=O+(A^N&(j^A))+k[15]+3634488961&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^A&(O^j))+k[4]+3889429448&4294967295,N=O+(w<<20&4294967295|w>>>12),w=A+(O^j&(N^O))+k[9]+568446438&4294967295,A=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(A^N))+k[14]+3275163606&4294967295,j=A+(w<<9&4294967295|w>>>23),w=O+(A^N&(j^A))+k[3]+4107603335&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^A&(O^j))+k[8]+1163531501&4294967295,N=O+(w<<20&4294967295|w>>>12),w=A+(O^j&(N^O))+k[13]+2850285829&4294967295,A=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(A^N))+k[2]+4243563512&4294967295,j=A+(w<<9&4294967295|w>>>23),w=O+(A^N&(j^A))+k[7]+1735328473&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^A&(O^j))+k[12]+2368359562&4294967295,N=O+(w<<20&4294967295|w>>>12),w=A+(N^O^j)+k[5]+4294588738&4294967295,A=N+(w<<4&4294967295|w>>>28),w=j+(A^N^O)+k[8]+2272392833&4294967295,j=A+(w<<11&4294967295|w>>>21),w=O+(j^A^N)+k[11]+1839030562&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^A)+k[14]+4259657740&4294967295,N=O+(w<<23&4294967295|w>>>9),w=A+(N^O^j)+k[1]+2763975236&4294967295,A=N+(w<<4&4294967295|w>>>28),w=j+(A^N^O)+k[4]+1272893353&4294967295,j=A+(w<<11&4294967295|w>>>21),w=O+(j^A^N)+k[7]+4139469664&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^A)+k[10]+3200236656&4294967295,N=O+(w<<23&4294967295|w>>>9),w=A+(N^O^j)+k[13]+681279174&4294967295,A=N+(w<<4&4294967295|w>>>28),w=j+(A^N^O)+k[0]+3936430074&4294967295,j=A+(w<<11&4294967295|w>>>21),w=O+(j^A^N)+k[3]+3572445317&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^A)+k[6]+76029189&4294967295,N=O+(w<<23&4294967295|w>>>9),w=A+(N^O^j)+k[9]+3654602809&4294967295,A=N+(w<<4&4294967295|w>>>28),w=j+(A^N^O)+k[12]+3873151461&4294967295,j=A+(w<<11&4294967295|w>>>21),w=O+(j^A^N)+k[15]+530742520&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^A)+k[2]+3299628645&4294967295,N=O+(w<<23&4294967295|w>>>9),w=A+(O^(N|~j))+k[0]+4096336452&4294967295,A=N+(w<<6&4294967295|w>>>26),w=j+(N^(A|~O))+k[7]+1126891415&4294967295,j=A+(w<<10&4294967295|w>>>22),w=O+(A^(j|~N))+k[14]+2878612391&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~A))+k[5]+4237533241&4294967295,N=O+(w<<21&4294967295|w>>>11),w=A+(O^(N|~j))+k[12]+1700485571&4294967295,A=N+(w<<6&4294967295|w>>>26),w=j+(N^(A|~O))+k[3]+2399980690&4294967295,j=A+(w<<10&4294967295|w>>>22),w=O+(A^(j|~N))+k[10]+4293915773&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~A))+k[1]+2240044497&4294967295,N=O+(w<<21&4294967295|w>>>11),w=A+(O^(N|~j))+k[8]+1873313359&4294967295,A=N+(w<<6&4294967295|w>>>26),w=j+(N^(A|~O))+k[15]+4264355552&4294967295,j=A+(w<<10&4294967295|w>>>22),w=O+(A^(j|~N))+k[6]+2734768916&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~A))+k[13]+1309151649&4294967295,N=O+(w<<21&4294967295|w>>>11),w=A+(O^(N|~j))+k[4]+4149444226&4294967295,A=N+(w<<6&4294967295|w>>>26),w=j+(N^(A|~O))+k[11]+3174756917&4294967295,j=A+(w<<10&4294967295|w>>>22),w=O+(A^(j|~N))+k[2]+718787259&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~A))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,k=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=N;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(k[O++]=R.charCodeAt(j++),O==this.blockSize){o(this,k),O=0;break}}else for(;j<A;)if(k[O++]=R[j++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)R[A++]=this.g[N]>>>k&255;return R};function c(R,A){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function d(R,A){this.h=A;const N=[];let k=!0;for(let O=R.length-1;O>=0;O--){const j=R[O]|0;k&&j==A||(N[O]=j,k=!1)}this.g=N}var p={};function _(R){return-128<=R&&R<128?c(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return te(v(-R));const A=[];let N=1;for(let k=0;R>=N;k++)A[k]=R/N|0,N*=4294967296;return new d(A,0)}function S(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return te(S(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let k=x;for(let j=0;j<R.length;j+=8){var O=Math.min(8,R.length-j);const w=parseInt(R.substring(j,j+O),A);O<8?(O=v(Math.pow(A,O)),k=k.j(O).add(v(w))):(k=k.j(N),k=k.add(v(w)))}return k}var x=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(ne(this))return-te(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);R+=(k>=0?k:4294967296+k)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(ee(this))return"0";if(ne(this))return"-"+te(this).toString(R);const A=v(Math.pow(R,6));var N=this;let k="";for(;;){const O=Ue(N,A).g;N=_e(N,O.j(A));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=O,ee(N))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function ee(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function ne(R){return R.h==-1}s.l=function(R){return R=_e(this,R),ne(R)?-1:ee(R)?0:1};function te(R){const A=R.g.length,N=[];for(let k=0;k<A;k++)N[k]=~R.g[k];return new d(N,~R.h).add(M)}s.abs=function(){return ne(this)?te(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let k=0;for(let O=0;O<=A;O++){let j=k+(this.i(O)&65535)+(R.i(O)&65535),w=(j>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);k=w>>>16,j&=65535,w&=65535,N[O]=w<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function _e(R,A){return R.add(te(A))}s.j=function(R){if(ee(this)||ee(R))return x;if(ne(this))return ne(R)?te(this).j(te(R)):te(te(this).j(R));if(ne(R))return te(this.j(te(R)));if(this.l(G)<0&&R.l(G)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var k=0;k<2*A;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<R.g.length;O++){const j=this.i(k)>>>16,w=this.i(k)&65535,Qe=R.i(O)>>>16,re=R.i(O)&65535;N[2*k+2*O]+=w*re,pe(N,2*k+2*O),N[2*k+2*O+1]+=j*re,pe(N,2*k+2*O+1),N[2*k+2*O+1]+=w*Qe,pe(N,2*k+2*O+1),N[2*k+2*O+2]+=j*Qe,pe(N,2*k+2*O+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new d(N,0)};function pe(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function fe(R,A){this.g=R,this.h=A}function Ue(R,A){if(ee(A))throw Error("division by zero");if(ee(R))return new fe(x,x);if(ne(R))return A=Ue(te(R),A),new fe(te(A.g),te(A.h));if(ne(A))return A=Ue(R,te(A)),new fe(te(A.g),A.h);if(R.g.length>30){if(ne(R)||ne(A))throw Error("slowDivide_ only works with positive integers.");for(var N=M,k=A;k.l(R)<=0;)N=Me(N),k=Me(k);var O=Ae(N,1),j=Ae(k,1);for(k=Ae(k,2),N=Ae(N,2);!ee(k);){var w=j.add(k);w.l(R)<=0&&(O=O.add(N),j=w),k=Ae(k,1),N=Ae(N,1)}return A=_e(R,O.j(A)),new fe(O,A)}for(O=x;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=v(N),w=j.j(A);ne(w)||w.l(R)>0;)N-=k,j=v(N),w=j.j(A);ee(j)&&(j=M),O=O.add(j),R=_e(R,w)}return new fe(O,R)}s.B=function(R){return Ue(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)&R.i(k);return new d(N,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)|R.i(k);return new d(N,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)^R.i(k);return new d(N,this.h^R.h)};function Me(R){const A=R.g.length+1,N=[];for(let k=0;k<A;k++)N[k]=R.i(k)<<1|R.i(k-1)>>>31;return new d(N,R.h)}function Ae(R,A){const N=A>>5;A%=32;const k=R.g.length-N,O=[];for(let j=0;j<k;j++)O[j]=A>0?R.i(j+N)>>>A|R.i(j+N+1)<<32-A:R.i(j+N);return new d(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Ar=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tE,Bo,nE,nh,xm,iE,sE,rE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)e:{var E=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in E))break e;E=E[U]}u=u[u.length-1],b=E[u],g=g(b),g!=b&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var E=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&E.push([b,g[b]]);return E}});var c=c||{},d=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,E){return u.call.apply(u.bind,arguments)}function v(u,g,E){return v=_,v.apply(null,arguments)}function S(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,g){function E(){}E.prototype=g.prototype,u.Z=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return g.prototype[U].apply(b,le)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const g=u.length;if(g>0){const E=Array(g);for(let b=0;b<g;b++)E[b]=u[b];return E}return[]}function ee(u,g){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const H=U.length||0;u.length=E+H;for(let le=0;le<H;le++)u[E+le]=U[le]}else u.push(U)}}class ne{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=R;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,E){const b=fe.get();b.set(g,E),this.h?this.h.next=b:this.g=b,this.h=b}}var fe=new ne(()=>new Ue,u=>u.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,Ae=!1,R=new pe,A=()=>{const u=Promise.resolve(void 0);Me=()=>{u.then(N)}};function N(){for(var u;u=_e();){try{u.h.call(u.g)}catch(E){te(E)}var g=fe;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Ae=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,g){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}x(Qe,O),Qe.prototype.init=function(u,g){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(u,g,E,b,U){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!b,this.ha=U,this.key=++B,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,g,E){for(const b in u)g.call(E,u[b],b,u)}function de(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function I(u){const g={};for(const E in u)g[E]=u[E];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,g){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)u[E]=b[E];for(let H=0;H<K.length;H++)E=K[H],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,g,E,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const le=Ee(u,g,b,U);return le>-1?(g=u[le],E||(g.fa=!1)):(g=new J(g,this.src,H,!!b,U),g.fa=E,u.push(g)),g};function se(u,g){const E=g.type;if(E in u.g){var b=u.g[E],U=Array.prototype.indexOf.call(b,g,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(ue(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Ee(u,g,E,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==g&&H.capture==!!E&&H.ha==b)return U}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),pt={};function et(u,g,E,b,U){if(Array.isArray(g)){for(let H=0;H<g.length;H++)et(u,g[H],E,b,U);return null}return E=Ci(E),u&&u[re]?u.J(g,E,p(b)?!!b.capture:!1,U):Vn(u,g,E,!1,b,U)}function Vn(u,g,E,b,U,H){if(!g)throw Error("Invalid event type");const le=p(U)?!!U.capture:!!U;let ke=Yn(u);if(ke||(u[Ve]=ke=new oe(u)),E=ke.add(g,E,b,le,H),E.proxy)return E;if(b=Qn(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)j||(U=le),U===void 0&&(U=!1),u.addEventListener(g.toString(),b,U);else if(u.attachEvent)u.attachEvent(En(g.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qn(){function u(E){return g.call(u.src,u.listener,E)}const g=dn;return u}function fi(u,g,E,b,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)fi(u,g[H],E,b,U);else b=p(b)?!!b.capture:!!b,E=Ci(E),u&&u[re]?(u=u.i,H=String(g).toString(),H in u.g&&(g=u.g[H],E=Ee(g,E,b,U),E>-1&&(ue(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete u.g[H],u.h--)))):u&&(u=Yn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ee(g,E,b,U)),(E=u>-1?g[u]:null)&&kn(E))}function kn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[re])se(g.i,u);else{var E=u.type,b=u.proxy;g.removeEventListener?g.removeEventListener(E,b,u.capture):g.detachEvent?g.detachEvent(En(E),b):g.addListener&&g.removeListener&&g.removeListener(b),(E=Yn(g))?(se(E,u),E.h==0&&(E.src=null,g[Ve]=null)):ue(u)}}}function En(u){return u in pt?pt[u]:pt[u]="on"+u}function dn(u,g){if(u.da)u=!0;else{g=new Qe(g,this);const E=u.listener,b=u.ha||u.src;u.fa&&kn(u),u=E.call(b,g)}return u}function Yn(u){return u=u[Ve],u instanceof oe?u:null}var Ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ci(u){return typeof u=="function"?u:(u[Ri]||(u[Ri]=function(g){return u.handleEvent(g)}),u[Ri])}function ct(){k.call(this),this.i=new oe(this),this.M=this,this.G=null}x(ct,k),ct.prototype[re]=!0,ct.prototype.removeEventListener=function(u,g,E,b){fi(this,u,g,E,b)};function bt(u,g){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=g.type||g,typeof g=="string")g=new O(g,u);else if(g instanceof O)g.target=g.target||u;else{var U=g;g=new O(b,u),ie(g,U)}U=!0;let H,le;if(E)for(le=E.length-1;le>=0;le--)H=g.g=E[le],U=Sn(H,b,!0,g)&&U;if(H=g.g=u,U=Sn(H,b,!0,g)&&U,U=Sn(H,b,!1,g)&&U,E)for(le=0;le<E.length;le++)H=g.g=E[le],U=Sn(H,b,!1,g)&&U}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const E=u.g[g];for(let b=0;b<E.length;b++)ue(E[b]);delete u.g[g],u.h--}}this.G=null},ct.prototype.J=function(u,g,E,b){return this.i.add(String(u),g,!1,E,b)},ct.prototype.K=function(u,g,E,b){return this.i.add(String(u),g,!0,E,b)};function Sn(u,g,E,b){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let H=0;H<g.length;++H){const le=g[H];if(le&&!le.da&&le.capture==E){const ke=le.listener,jt=le.ha||le.src;le.fa&&se(u.i,le),U=ke.call(jt,b)!==!1&&U}}return U&&!b.defaultPrevented}function js(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function ss(u){u.g=js(()=>{u.g=null,u.i&&(u.i=!1,ss(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Bt extends k{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ss(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(u){k.call(this),this.h=u,this.g={}}x(Xn,k);var di=[];function Ii(u){he(u.g,function(g,E){this.g.hasOwnProperty(E)&&kn(g)},u),u.g={}}Xn.prototype.N=function(){Xn.Z.N.call(this),Ii(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=d.JSON.stringify,Ps=d.JSON.parse,Us=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function mi(){}function gi(){}var Q={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ae(){O.call(this,"d")}x(ae,O);function Re(){O.call(this,"c")}x(Re,O);var Oe={},ht=null;function Et(){return ht=ht||new ct}Oe.Ia="serverreachability";function Ze(u){O.call(this,Oe.Ia,u)}x(Ze,O);function Rt(u){const g=Et();bt(g,new Ze(g))}Oe.STAT_EVENT="statevent";function Ct(u,g){O.call(this,Oe.STAT_EVENT,u),this.stat=g}x(Ct,O);function Xe(u){const g=Et();bt(g,new Ct(g,u))}Oe.Ja="timingevent";function Ot(u,g){O.call(this,Oe.Ja,u),this.size=g}x(Ot,O);function $e(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function mn(){this.g=!0}mn.prototype.ua=function(){this.g=!1};function xa(u,g,E,b,U,H){u.info(function(){if(u.g)if(H){var le="",ke=H.split("&");for(let tt=0;tt<ke.length;tt++){var jt=ke[tt].split("=");if(jt.length>1){const It=jt[0];jt=jt[1];const Jn=It.split("_");le=Jn.length>=2&&Jn[1]=="type"?le+(It+"="+jt+"&"):le+(It+"=redacted&")}}}else le=null;else le=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+E+`
`+le})}function rs(u,g,E,b,U,H,le){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+E+`
`+H+" "+le})}function xn(u,g,E,b){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ul(u,E)+(b?" "+b:"")})}function as(u,g){u.info(function(){return"TIMEOUT: "+g})}mn.prototype.info=function(){};function Ul(u,g){if(!u.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var E=H[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let le=1;le<b.length;le++)b[le]=""}}}}return jn(H)}catch{return g}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ur;function D(){}x(D,mi),D.prototype.g=function(){return new XMLHttpRequest},Ur=new D;function Se(u){return encodeURIComponent(String(u))}function st(u){var g=1;u=u.split(":");const E=[];for(;g>0&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function St(u,g,E,b){this.j=u,this.i=g,this.l=E,this.S=b||1,this.V=new Xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var rt={},yt={};function Di(u,g,E){u.M=1,u.A=Lr(Ht(g)),u.u=E,u.R=!0,Aa(u,null)}function Aa(u,g){u.F=Date.now(),Oi(u),u.B=Ht(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ca(E.i,"t",b),u.C=0,E=u.j.L,u.h=new xt,u.g=ju(u.j,E?g:null,!u.u),u.P>0&&(u.O=new Bt(v(u.Y,u,u.g),u.P)),g=u.V,E=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(di[0]=U.toString()),U=di);for(let H=0;H<U.length;H++){const le=et(E,U[H],b||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Rt(),xa(u.i,u.v,u.B,u.l,u.S,u.u)}St.prototype.ba=function(u){u=u.target;const g=this.O;g&&_i(u)==3?g.j():this.Y(u)},St.prototype.Y=function(u){try{if(u==this.g)e:{const ke=_i(this.g),jt=this.g.ya(),tt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||ke!=4||jt==7||(jt==8||tt<=0?Rt(3):Rt(2)),Mi(this);var g=this.g.ca();this.X=g;var E=Wh(this);if(this.o=g==200,rs(this.i,this.v,this.B,this.l,this.S,ke,g),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var H=b;break t}}H=null}if(u=H)xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,u);else{this.o=!1,this.m=3,Xe(12),Pn(this),$n(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<E.length;)if(It=Su(this,E),It==yt){ke==4&&(this.m=4,Xe(14),u=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(It==rt){this.m=4,Xe(15),xn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else xn(this.i,this.l,It,null),Vi(this,It);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Xe(16),u=!1),this.o=this.o&&u,!u)xn(this.i,this.l,E,"[Invalid Chunked Response]"),Pn(this),$n(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(le),le.P=!0,Xe(11))}}else xn(this.i,this.l,E,null),Vi(this,E);ke==4&&Pn(this),this.o&&!this.K&&(ke==4?Ou(this.j,this):(this.o=!1,Oi(this)))}else us(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Pn(this),$n(this)}}}catch{}finally{}};function Wh(u){if(!bu(u))return u.g.la();const g=rn(u.g);if(g==="")return"";let E="";const b=g.length,U=_i(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Pn(u),$n(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,E+=u.h.i.decode(g[H],{stream:!(U&&H==b-1)});return g.length=0,u.h.g+=E,u.C=0,u.h.g}function bu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Su(u,g){var E=u.C,b=g.indexOf(`
`,E);return b==-1?yt:(E=Number(g.substring(E,b)),isNaN(E)?rt:(b+=1,b+E>g.length?yt:(g=g.slice(b,b+E),u.C=b+E,g)))}St.prototype.cancel=function(){this.K=!0,Pn(this)};function Oi(u){u.T=Date.now()+u.H,wa(u,u.H)}function wa(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$e(v(u.aa,u),g)}function Mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}St.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(Rt(),Xe(17)),Pn(this),this.m=2,$n(this)):wa(this,this.T-u)};function $n(u){u.j.I==0||u.K||Ou(u.j,u)}function Pn(u){Mi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Ii(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Vi(u,g){try{var E=u.j;if(E.I!=0&&(E.g==u||ji(E.h,u))){if(!u.L&&ji(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Va(E),Ks(E);else break e;Kr(E),Xe(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=$e(v(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else qi(E,11)}else if((u.L||E.g==u)&&Va(E),!w(g))for(U=E.Ba.g.parse(g),g=0;g<U.length;g++){let tt=U[g];const It=tt[0];if(!(It<=E.K))if(E.K=It,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const Jn=tt[3];Jn!=null&&(E.ka=Jn,E.j.info("VER="+E.ka));const Hi=tt[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const vi=tt[5];vi!=null&&typeof vi=="number"&&vi>0&&(b=1.5*vi,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Ei=u.g;if(Ei){const Qr=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var H=b.h;H.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Bl(H,H.h),H.h=null))}if(b.G){const ka=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(b.wa=ka,lt(b.J,b.G,ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var le=u;if(b.na=ku(b,b.L?b.ba:null,b.W),le.L){ql(b.h,le);var ke=le,jt=b.O;jt&&(ke.H=jt),ke.D&&(Mi(ke),Oi(ke)),b.g=le}else Iu(b);E.i.length>0&&Bi(E)}else tt[0]!="stop"&&tt[0]!="close"||qi(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?qi(E,7):Zl(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}Rt(4)}catch{}}var qt=class{constructor(u,g){this.g=u,this.map=g}};function Ll(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ki(u){return u.h?1:u.g?u.g.size:0}function ji(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Bl(u,g){u.g?u.g.add(g):u.h=g}function ql(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ll.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.G);return g}return G(u.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(u,g){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let U,H=null;b>=0?(U=u[E].substring(0,b),H=u[E].substring(b+1)):U=u[E],g(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Un?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Fl(this,Ru(u.i)),this.m=u.m):u&&(g=String(u).match(xu))?(this.l=!1,en(this,g[1]||"",!0),this.o=Pi(g[2]||""),this.g=Pi(g[3]||"",!0),Ls(this,g[4]),this.h=Pi(g[5]||"",!0),Fl(this,g[6]||"",!0),this.m=Pi(g[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Un.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(zr(g,Ra,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(zr(g,Ra,!0),"@"),u.push(Se(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(zr(E,E.charAt(0)=="/"?Gl:Au,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",zr(E,wu)),u.join("")},Un.prototype.resolve=function(u){const g=Ht(this);let E=!!u.j;E?en(g,u.j):E=!!u.o,E?g.o=u.o:E=!!u.g,E?g.g=u.g:E=u.u!=null;var b=u.h;if(E)Ls(g,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=g.h.lastIndexOf("/");U!=-1&&(b=g.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let le=0;le<U.length;){const ke=U[le++];ke=="."?b&&le==U.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&le==U.length&&H.push("")):(H.push(ke),b=!0)}b=H.join("/")}else b=U}return E?g.h=b:E=u.i.toString()!=="",E?Fl(g,Ru(u.i)):E=!!u.m,E&&(g.m=u.m),g};function Ht(u){return new Un(u)}function en(u,g,E){u.j=E?Pi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Fl(u,g,E){g instanceof Bs?(u.i=g,Ia(u.i,u.l)):(E||(g=zr(g,zs)),u.i=new Bs(g,u.l))}function lt(u,g,E){u.i.set(g,E)}function Lr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Pi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,An),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ra=/[#\/\?@]/g,Au=/[#\?:]/g,Gl=/[#\?]/g,zs=/[#\?@]/g,wu=/#/g;function Bs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Na(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}s=Bs.prototype,s.add=function(u,g){wn(this),this.i=null,u=qs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function Nu(u,g){wn(u),g=qs(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Kl(u,g){return wn(u),g=qs(u,g),u.g.has(g)}s.forEach=function(u,g){wn(this),this.g.forEach(function(E,b){E.forEach(function(U){u.call(g,U,b,this)},this)},this)};function Ql(u,g){wn(u);let E=[];if(typeof g=="string")Kl(u,g)&&(E=E.concat(u.g.get(qs(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)E=E.concat(u[g]);return E}s.set=function(u,g){return wn(this),this.i=null,u=qs(this,u),Kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Ql(this,u),u.length>0?String(u[0]):g):g};function Ca(u,g,E){Nu(u,g),E.length>0&&(u.i=null,u.g.set(qs(u,g),G(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var E=g[b];const U=Se(E);E=Ql(this,E);for(let H=0;H<E.length;H++){let le=U;E[H]!==""&&(le+="="+Se(E[H])),u.push(le)}}return this.i=u.join("&")};function Ru(u){const g=new Bs;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function qs(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ia(u,g){g&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(Nu(this,b),Ca(this,U,E))},u)),u.j=g}function pi(u,g){const E=new mn;if(d.Image){const b=new Image;b.onload=S(Zn,E,"TestLoadImage: loaded",!0,g,b),b.onerror=S(Zn,E,"TestLoadImage: error",!1,g,b),b.onabort=S(Zn,E,"TestLoadImage: abort",!1,g,b),b.ontimeout=S(Zn,E,"TestLoadImage: timeout",!1,g,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else g(!1)}function Yl(u,g){const E=new mn,b=new AbortController,U=setTimeout(()=>{b.abort(),Zn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Zn(E,"TestPingServer: ok",!0,g):Zn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Zn(E,"TestPingServer: error",!1,g)})}function Zn(u,g,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Hs(){this.g=new Us}function Ui(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ui,mi),Ui.prototype.g=function(){return new Br(this.i,this.h)};function Br(u,g){ct.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Br,ct),s=Br.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,yi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Fs(this):yi(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Fs(this))},s.Na=function(u){this.g&&(this.response=u,Fs(this))},s.ga=function(){this.g&&Fs(this)};function Fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let g="";return he(u,function(E,b){g+=b,g+=":",g+=E,g+=`\r
`}),g}function qr(u,g,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Wn(E),typeof u=="string"?E!=null&&Se(E):lt(u,g,E))}function ft(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ft,ct);var Li=/^https?$/i,Xl=["POST","PUT"];s=ft.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ur.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Hr(this,H);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())E.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Xl,g,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,le]of E)this.g.setRequestHeader(H,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Hr(this,H)}};function Hr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,$l(u),os(u)}function $l(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),os(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},s.Xa=function(){Fr(this)};function Fr(u){if(u.h&&typeof c<"u"){if(u.v&&_i(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),_i(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var b;if(b=H===0){let le=String(u.D).match(xu)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),b=!Li.test(le?le.toLowerCase():"")}E=b}if(E)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var U=_i(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",$l(u)}}finally{os(u)}}}}function os(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,g||bt(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function _i(u){return u.g?u.g.readyState:0}s.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ps(g)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function us(u){const g={};u=(u.g&&_i(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var E=st(u[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=g[U]||[];g[U]=H,H.push(E)}de(g,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function Gs(u){this.za=0,this.i=[],this.j=new mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,u),this.Za=zi("retryDelaySeedMs",1e4,u),this.Ta=zi("forwardChannelMaxRetries",2,u),this.va=zi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,g,E,b){Xe(0),this.W=u,this.H=g||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=ku(this,null,this.W),Bi(this)};function Zl(u){if(Oa(u),u.I==3){var g=u.V++,E=Ht(u.J);if(lt(E,"SID",u.M),lt(E,"RID",g),lt(E,"TYPE","terminate"),Gr(u,E),g=new St(u,u.j,g),g.M=2,g.A=Lr(Ht(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.A,E=!0),E||(g.g=ju(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Oi(g)}Vu(u)}function Ks(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Oa(u){Ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Bi(u){if(!zl(u.h)&&!u.m){u.m=!0;var g=u.Ea;Me||A(),Ae||(Me(),Ae=!0),R.add(g,u),u.D=0}}function Ma(u,g){return ki(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$e(v(u.Ea,u,g),Mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new St(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Cu(this,U,g),E=Ht(this.J),lt(E,"RID",u),lt(E,"CVER",22),this.G&&lt(E,"X-HTTP-Session-Id",this.G),Gr(this,E),H&&(this.R?g="headers="+Se(Wn(H))+"&"+g:this.u&&qr(E,this.u,H)),Bl(this.h,U),this.Ra&&lt(E,"TYPE","init"),this.S?(lt(E,"$req",g),lt(E,"SID","null"),U.U=!0,Di(U,E,null)):Di(U,E,g),this.I=2}}else this.I==3&&(u?Wl(this,u):this.i.length==0||zl(this.h)||Wl(this))};function Wl(u,g){var E;g?E=g.l:E=u.V++;const b=Ht(u.J);lt(b,"SID",u.M),lt(b,"RID",E),lt(b,"AID",u.K),Gr(u,b),u.u&&u.o&&qr(b,u.u,u.o),E=new St(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Cu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bl(u.h,E),Di(E,b,g)}function Gr(u,g){u.H&&he(u.H,function(E,b){lt(g,b,E)}),u.l&&he({},function(E,b){lt(g,b,E)})}function Cu(u,g,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let ke=-1;for(;;){const jt=["count="+E];ke==-1?E>0?(ke=U[0].g,jt.push("ofs="+ke)):ke=0:jt.push("ofs="+ke);let tt=!0;for(let It=0;It<E;It++){var H=U[It].g;const Jn=U[It].map;if(H-=ke,H<0)ke=Math.max(0,U[It].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var le=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Hi,vi]of le){let Ei=vi;p(vi)&&(Ei=jn(vi)),jt.push(H+Hi+"="+encodeURIComponent(Ei))}}catch(Hi){throw jt.push(H+"type="+encodeURIComponent("_badmap")),Hi}}catch{b&&b(Jn)}}if(tt){le=jt.join("&");break e}}le=void 0}return u=u.i.splice(0,E),g.G=u,le}function Iu(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Me||A(),Ae||(Me(),Ae=!0),R.add(g,u),u.A=0}}function Kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$e(v(u.Da,u),Mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$e(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),Ks(this),Du(this))};function Jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Du(u){u.g=new St(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ht(u.na);lt(g,"RID","rpc"),lt(g,"SID",u.M),lt(g,"AID",u.K),lt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(g,"TO",u.ia),lt(g,"TYPE","xmlhttp"),Gr(u,g),u.u&&u.o&&qr(g,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Lr(Ht(g)),E.u=null,E.R=!0,Aa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Ks(this),Kr(this),Xe(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ou(u,g){var E=null;if(u.g==g){Va(u),Jl(u),u.g=null;var b=2}else if(ji(u.h,g))E=g.G,ql(u.h,g),b=1;else return;if(u.I!=0){if(g.o)if(b==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;b=Et(),bt(b,new Ot(b,E)),Bi(u)}else Iu(u);else if(U=g.m,U==3||U==0&&g.X>0||!(b==1&&Ma(u,g)||b==2&&Kr(u)))switch(E&&E.length>0&&(g=u.h,g.i=g.i.concat(E)),U){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function Mu(u,g){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*g}function qi(u,g){if(u.j.info("Error code "+g),g==2){var E=v(u.bb,u),b=u.Ua;const U=!b;b=new Un(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(b,"https"),Lr(b),U?pi(b.toString(),E):Yl(b.toString(),E)}else Xe(2);u.I=0,u.l&&u.l.pa(g),Vu(u),Oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Vu(u){if(u.I=0,u.ja=[],u.l){const g=Hl(u.h);(g.length!=0||u.i.length!=0)&&(ee(u.ja,g),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function ku(u,g,E){var b=E instanceof Un?Ht(E):new Un(E);if(b.g!="")g&&(b.g=g+"."+b.g),Ls(b,b.u);else{var U=d.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const H=new Un(null);b&&en(H,b),g&&(H.g=g),U&&Ls(H,U),E&&(H.h=E),b=H}return E=u.G,g=u.wa,E&&g&&lt(b,E,g),lt(b,"VER",u.ka),Gr(u,b),b}function ju(u,g,E){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new ft(new Ui({ab:E})):new ft(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,g){return new Tn(u,g)};function Tn(u,g){ct.call(this),this.g=new Gs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!w(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new cs(this)}x(Tn,ct),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Zl(this.g)},Tn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=jn(u),u=E);g.i.push(new qt(g.Ya++,u)),g.I==3&&Bi(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,Tn.Z.N.call(this)};function Uu(u){ae.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}x(Uu,ae);function Lu(){Re.call(this),this.status=1}x(Lu,Re);function cs(u){this.g=u}x(cs,Pu),cs.prototype.ra=function(){bt(this.g,"a")},cs.prototype.qa=function(u){bt(this.g,new Uu(u))},cs.prototype.pa=function(u){bt(this.g,new Lu)},cs.prototype.oa=function(){bt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,rE=function(){return new Qs},sE=function(){return Et()},iE=Oe,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,nh=ls,Pr.COMPLETE="complete",nE=Pr,gi.EventType=Q,Q.OPEN="a",Q.CLOSE="b",Q.ERROR="c",Q.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Bo=gi,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,tE=ft}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",J_="4.9.2";let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Ml="12.3.0";const ya=new Gm("@firebase/firestore");function hl(){return ya.logLevel}function ge(s,...e){if(ya.logLevel<=He.DEBUG){const i=e.map(ng);ya.debug(`Firestore (${Ml}): ${s}`,...i)}}function Ds(s,...e){if(ya.logLevel<=He.ERROR){const i=e.map(ng);ya.error(`Firestore (${Ml}): ${s}`,...i)}}function xl(s,...e){if(ya.logLevel<=He.WARN){const i=e.map(ng);ya.warn(`Firestore (${Ml}): ${s}`,...i)}}function ng(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ne(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,aE(s,r,i)}function aE(s,e,i){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ds(r),new Error(r)}function at(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||aE(e,o,r)}function De(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ha{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class lE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ha,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ha)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new lE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class pN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new pN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const r=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=vN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return um(o)===um(c)?Fe(o,c):um(o)?1:-1}return Fe(s.length,e.length)}const EN=55296,TN=57343;function um(s){const e=s.charCodeAt(0);return e>=EN&&e<=TN}function Al(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const tv="__name__";class Xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ne(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ne(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Xi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const r=Xi.isNumericId(e),o=Xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(i)):Am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Tt extends Xi{construct(e,i,r){return new Tt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Xi{construct(e,i,r){return new hn(e,i,r)}static isValidIdentifier(e){return bN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new hn([tv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(Tt.fromString(e))}static fromName(e){return new be(Tt.fromString(e).popFirst(5))}static empty(){return new be(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Tt(e.slice()))}}function oE(s,e,i){if(!i)throw new me(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function SN(s,e,i,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nv(s){if(!be.isDocumentKey(s))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iv(s){if(be.isDocumentKey(s))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function uE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne(12329,{type:typeof s})}function Wi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kh(s);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function $t(s,e){const i={typeString:s};return e&&(i.value=e),i}function pu(s,e){if(!uE(s))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new me(Z.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,rv=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*rv);return new Nt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<sv)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:$t("string",Nt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Nt(0,0))}static max(){return new Ce(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function xN(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new Nt(i+1,0):new Nt(i,r));return new Nr(o,be.empty(),e)}function AN(s){return new Nr(s.readTime,s.key,iu)}class Nr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Nr(Ce.min(),be.empty(),iu)}static max(){return new Nr(Ce.max(),be.empty(),iu)}}function wN(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==NN)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,r)=>{i(e)}))}static reject(e){return new W(((i,r)=>{r(e)}))}static waitFor(e){return new W(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=W.resolve(!1);for(const r of e)i=i.next((o=>o?W.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new W(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((S=>{d[v]=S,++p,p===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new W(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function CN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function kl(s){return s.name==="IndexedDbTransactionError"}class jh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const sg=-1;function Ph(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function IN(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const cE="";function DN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=av(e)),e=ON(s.get(i),e);return av(e)}function ON(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function av(s){return s+cE+""}function lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function hE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Mt{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new Mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new cn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Wt(this.comparator);return i.data=e,i}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new Wt(hn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const MN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=MN.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(s.seconds),nanos:Lt(s.nanos)}}function Lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[mE]?.stringValue===dE}function Uh(s){const e=s.mapValue.fields[gE];return rg(e)?Uh(e):e}function su(s){const e=Rr(s.mapValue.fields[pE].timestampValue);return new Nt(e.seconds,e.nanos)}class VN{constructor(e,i,r,o,c,d,p,_,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const _h="(default)";class ru{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}const yE="__type__",kN="__max__",Kc={mapValue:{}},_E="__vector__",vh="value";function Ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:PN(s)?9007199254740991:jN(s)?10:11:Ne(28295,{value:s})}function is(s,e){if(s===e)return!0;const i=Ir(s);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return su(s).isEqual(su(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Rr(o.timestampValue),p=Rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Cr(o.bytesValue).isEqual(Cr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Lt(o.doubleValue),p=Lt(c.doubleValue);return d===p?yh(d)===yh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Al(s.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!is(d[_],p[_])))return!1;return!0})(s,e);default:return Ne(52216,{left:s})}}function au(s,e){return(s.values||[]).find((i=>is(i,e)))!==void 0}function wl(s,e){if(s===e)return 0;const i=Ir(s),r=Ir(e);if(i!==r)return Fe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Lt(c.integerValue||c.doubleValue),_=Lt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return uv(s.timestampValue,e.timestampValue);case 4:return uv(su(s),su(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Cr(c),_=Cr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Fe(p[v],_[v]);if(S!==0)return S}return Fe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Fe(Lt(c.latitude),Lt(d.latitude));return p!==0?p:Fe(Lt(c.longitude),Lt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return cv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[vh]?.arrayValue,S=_[vh]?.arrayValue,x=Fe(v?.values?.length||0,S?.values?.length||0);return x!==0?x:cv(v,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Kc.mapValue&&d===Kc.mapValue)return 0;if(c===Kc.mapValue)return 1;if(d===Kc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let x=0;x<_.length&&x<S.length;++x){const M=Am(_[x],S[x]);if(M!==0)return M;const G=wl(p[_[x]],v[S[x]]);if(G!==0)return G}return Fe(_.length,S.length)})(s.mapValue,e.mapValue);default:throw Ne(23264,{he:i})}}function uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=Rr(s),r=Rr(e),o=Fe(i.seconds,r.seconds);return o!==0?o:Fe(i.nanos,r.nanos)}function cv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=wl(i[o],r[o]);if(c)return c}return Fe(i.length,r.length)}function Nl(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Rr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=wm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${wm(i.fields[d])}`;return o+"}"})(s.mapValue):Ne(61005,{value:s})}function ih(s){switch(Ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Vr(r.fields,((c,d)=>{o+=c.length+ih(d)})),o})(s.mapValue);default:throw Ne(13486,{value:s})}}function hv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function fv(s){return!!s&&"nullValue"in s}function dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function jN(s){return(s?.mapValue?.fields||{})[yE]?.stringValue===_E}function Yo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Yo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yo(s.arrayValue.values[i]);return e}return{...s}}function PN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kN}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!sh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(i)}setAll(e){let i=hn.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Yo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());sh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Vr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Mn(Yo(this.value))}}function vE(s){const e=[];return Vr(s.fields,((i,r)=>{const o=new hn([i]);if(sh(r)){const c=vE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Kn(e)}class _n{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,Ce.min(),Ce.min(),Ce.min(),Mn.empty(),0)}static newFoundDocument(e,i,r,o){return new _n(e,1,i,Ce.min(),r,o,0)}static newNoDocument(e,i){return new _n(e,2,i,Ce.min(),Ce.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new _n(e,3,i,Ce.min(),Ce.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,i){this.position=e,this.inclusive=i}}function mv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=be.comparator(be.fromName(d.referenceValue),i.key):r=wl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!is(s.position[i],e.position[i]))return!1;return!0}class lu{constructor(e,i="asc"){this.field=e,this.dir=i}}function UN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class EE{}class Xt extends EE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new zN(e,i,r):i==="array-contains"?new HN(e,r):i==="in"?new FN(e,r):i==="not-in"?new GN(e,r):i==="array-contains-any"?new KN(e,r):new Xt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new BN(e,r):new qN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(wl(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(wl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends EE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ni(e,i)}matches(e){return TE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(s){return s.op==="and"}function bE(s){return LN(s)&&TE(s)}function LN(s){for(const e of s.filters)if(e instanceof Ni)return!1;return!0}function Rm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+Nl(s.value);if(bE(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((i=>Rm(i))).join(",");return`${s.op}(${e})`}}function SE(s,e){return s instanceof Xt?(function(r,o){return o instanceof Xt&&r.op===o.op&&r.field.isEqual(o.field)&&is(r.value,o.value)})(s,e):s instanceof Ni?(function(r,o){return o instanceof Ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&SE(d,o.filters[p])),!0):!1})(s,e):void Ne(19439)}function xE(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Nl(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(s):"Filter"}class zN extends Xt{constructor(e,i,r){super(e,i,r),this.key=be.fromName(r.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class BN extends Xt{constructor(e,i){super(e,"in",i),this.keys=AE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qN extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=AE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function AE(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class HN extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ag(i)&&au(i.arrayValue,this.value)}}class FN extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class GN extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class KN extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}class QN{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new QN(s,e,i,r,o,c,d)}function lg(s){const e=De(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Rm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Nl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Nl(r))).join(",")),e.Te=i}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!UN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!SE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gv(s.startAt,e.startAt)&&gv(s.endAt,e.endAt)}function Cm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class jl{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YN(s,e,i,r,o,c,d,p){return new jl(s,e,i,r,o,c,d,p)}function ug(s){return new jl(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wE(s){return s.collectionGroup!==null}function Xo(s){const e=De(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Wt(hn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lu(c,r))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new lu(hn.keyField(),r))}return e.Ie}function Ji(s){const e=De(s);return e.Ee||(e.Ee=XN(e,Xo(s))),e.Ee}function XN(s,e){if(s.limitType==="F")return pv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lu(o.field,c)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Im(s,e){const i=s.filters.concat([e]);return new jl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Th(s,e,i){return new jl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Lh(s,e){return og(Ji(s),Ji(e))&&s.limitType===e.limitType}function NE(s){return`${lg(Ji(s))}|lt:${s.limitType}`}function fl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>xE(o))).join(", ")}]`),Ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Nl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Nl(o))).join(",")),`Target(${r})`})(Ji(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Xo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,Xo(r),o)||r.endAt&&!(function(d,p,_){const v=mv(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,Xo(r),o))})(s,e)}function $N(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RE(s){return(e,i)=>{let r=!1;for(const o of Xo(s)){const c=ZN(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function ZN(s,e,i){const r=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?wl(_,v):Ne(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:s.dir})}}class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}const WN=new Mt(be.comparator);function Os(){return WN}const CE=new Mt(be.comparator);function qo(...s){let e=CE;for(const i of s)e=e.insert(i.key,i);return e}function IE(s){let e=CE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ca(){return $o()}function DE(){return $o()}function $o(){return new ba((s=>s.toString()),((s,e)=>s.isEqual(e)))}const JN=new Mt(be.comparator),eR=new Wt(be.comparator);function Ge(...s){let e=eR;for(const i of s)e=e.add(i);return e}const tR=new Wt(Fe);function nR(){return tR}function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function OE(s){return{integerValue:""+s}}function iR(s,e){return IN(e)?OE(e):cg(s,e)}class Bh{constructor(){this._=void 0}}function sR(s,e,i){return s instanceof bh?(function(o,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rg(c)&&(c=Uh(c)),c&&(d.fields[gE]=c),{mapValue:d}})(i,e):s instanceof ou?VE(s,e):s instanceof uu?kE(s,e):(function(o,c){const d=ME(o,c),p=_v(d)+_v(o.Ae);return Nm(d)&&Nm(o.Ae)?OE(p):cg(o.serializer,p)})(s,e)}function rR(s,e,i){return s instanceof ou?VE(s,e):s instanceof uu?kE(s,e):i}function ME(s,e){return s instanceof Sh?(function(r){return Nm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class bh extends Bh{}class ou extends Bh{constructor(e){super(),this.elements=e}}function VE(s,e){const i=jE(e);for(const r of s.elements)i.some((o=>is(o,r)))||i.push(r);return{arrayValue:{values:i}}}class uu extends Bh{constructor(e){super(),this.elements=e}}function kE(s,e){let i=jE(e);for(const r of s.elements)i=i.filter((o=>!is(o,r)));return{arrayValue:{values:i}}}class Sh extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function _v(s){return Lt(s.integerValue||s.doubleValue)}function jE(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function aR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ou&&o instanceof ou||r instanceof uu&&o instanceof uu?Al(r.elements,o.elements,is):r instanceof Sh&&o instanceof Sh?is(r.Ae,o.Ae):r instanceof bh&&o instanceof bh})(s.transform,e.transform)}class lR{constructor(e,i){this.version=e,this.transformResults=i}}class hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function PE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hg(s.key,hi.none()):new yu(s.key,s.data,hi.none());{const i=s.data,r=Mn.empty();let o=new Wt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new kr(s.key,r,new Kn(o.toArray()),hi.none())}}function oR(s,e,i){s instanceof yu?(function(o,c,d){const p=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof kr?(function(o,c,d){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(UE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zo(s,e,i,r){return s instanceof yu?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=c.value.clone(),S=Tv(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof kr?(function(c,d,p,_){if(!rh(c.precondition,d))return p;const v=Tv(c.fieldTransforms,_,d),S=d.data;return S.setAll(UE(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(c,d,p){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function uR(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=ME(r.transform,o||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(r.field,c))}return i||null}function vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((c,d)=>aR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class yu extends qh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class kr extends qh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Ev(s,e,i){const r=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,rR(d,p,i[o]))}return r}function Tv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,sR(c,d,e))}return r}class hg extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hR{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&oR(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Zo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Zo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=DE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=PE(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((i,r)=>vv(i,r)))&&Al(this.baseMutations,e.baseMutations,((i,r)=>vv(i,r)))}}class fg{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return JN})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new fg(e,i,r,o)}}class fR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Yt,Ye;function mR(s){switch(s){case Z.OK:return Ne(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ne(15467,{code:s})}}function LE(s){if(s===void 0)return Ds("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Yt.OK:return Z.OK;case Yt.CANCELLED:return Z.CANCELLED;case Yt.UNKNOWN:return Z.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Z.INTERNAL;case Yt.UNAVAILABLE:return Z.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Z.NOT_FOUND;case Yt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Yt.ABORTED:return Z.ABORTED;case Yt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Yt.DATA_LOSS:return Z.DATA_LOSS;default:return Ne(39323,{code:s})}}(Ye=Yt||(Yt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const pR=new Ar([4294967295,4294967295],0);function bv(s){const e=gR().encode(s),i=new eE;return i.update(e),new Uint8Array(i.digest())}function Sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,r],0),new Ar([o,c],0)]}class dg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ho(`Invalid padding: ${i}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ar.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ar.fromNumber(r)));return o.compare(pR)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=bv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dg(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=bv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Hh(Ce.min(),o,new Mt(Fe),Os(),Ge())}}class _u{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new _u(r,i,Ge(),Ge(),Ge())}}class ah{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class zE{constructor(e,i){this.targetId=e,this.Ce=i}}class BE{constructor(e,i,r=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class xv{constructor(){this.ve=0,this.Fe=Av(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),r=Ge();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:c})}})),new _u(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Qc(),this.He=Qc(),this.Ye=new Mt(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Cm(c))if(r===0){const d=new be(c.path);this.et(i,d,_n.newNoDocument(d,Ce.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Cr(r).toUint8Array()}catch(_){if(_ instanceof fE)return xl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new dg(d,o,c)}catch(_){return xl(_ instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Cm(p.target)){const _=new be(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,_n.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ge();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Hh(e,i,this.Ye,this.je,r);return this.je=Os(),this.Je=Qc(),this.He=Qc(),this.Ye=new Mt(Fe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new xv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Wt(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Wt(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ge("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new Mt(be.comparator)}function Av(){return new Mt(be.comparator)}const _R={asc:"ASCENDING",desc:"DESCENDING"},vR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ER={and:"AND",or:"OR"};class TR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dm(s,e){return s.useProto3Json||Ph(e)?e:{value:e}}function xh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bR(s,e){return xh(s,e.toTimestamp())}function es(s){return at(!!s,49232),Ce.fromTimestamp((function(i){const r=Rr(i);return new Nt(r.seconds,r.nanos)})(s))}function mg(s,e){return Om(s,e).canonicalString()}function Om(s,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function HE(s){const e=Tt.fromString(s);return at(YE(e),10190,{key:e.toString()}),e}function Mm(s,e){return mg(s.databaseId,e.path)}function cm(s,e){const i=HE(e);if(i.get(1)!==s.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(GE(i))}function FE(s,e){return mg(s.databaseId,e)}function SR(s){const e=HE(s);return e.length===4?Tt.emptyPath():GE(e)}function Vm(s){return new Tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GE(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,e,i){return{name:Mm(s,e),fields:i.value.mapValue.fields}}function xR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ne(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(at(S===void 0||typeof S=="string",58123),fn.fromBase64String(S||"")):(at(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),fn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Z.UNKNOWN:LE(v.code);return new me(S,v.message||"")})(d);i=new BE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=cm(s,r.document.name),c=es(r.document.updateTime),d=r.document.createTime?es(r.document.createTime):Ce.min(),p=new Mn({mapValue:{fields:r.document.fields}}),_=_n.newFoundDocument(o,c,d,p),v=r.targetIds||[],S=r.removedTargetIds||[];i=new ah(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=cm(s,r.document),c=r.readTime?es(r.readTime):Ce.min(),d=_n.newNoDocument(o,c),p=r.removedTargetIds||[];i=new ah([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=cm(s,r.document),c=r.removedTargetIds||[];i=new ah([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new dR(o,c),p=r.targetId;i=new zE(p,d)}}return i}function AR(s,e){let i;if(e instanceof yu)i={update:wv(s,e.key,e.value)};else if(e instanceof hg)i={delete:Mm(s,e.key)};else if(e instanceof kr)i={update:wv(s,e.key,e.data),updateMask:VR(e.fieldMask)};else{if(!(e instanceof cR))return Ne(16599,{Vt:e.type});i={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof bh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ou)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:bR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)})(s,e.precondition)),i}function wR(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?es(o.updateTime):es(c);return d.isEqual(Ce.min())&&(d=es(c)),new lR(d,o.transformResults||[])})(i,e)))):[]}function NR(s,e){return{documents:[FE(s,e.path)]}}function RR(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=FE(s,o);const c=(function(v){if(v.length!==0)return QE(Ni.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(M){return{field:dl(M.field),direction:DR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Dm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function CR(s){let e=SR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){at(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(x){const M=KE(x);return M instanceof Ni&&bE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((M=>(function(ee){return new lu(ml(ee.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let M;return M=typeof x=="object"?x.value:x,Ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(x){const M=!!x.before,G=x.values||[];return new Eh(G,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(x){const M=!x.before,G=x.values||[];return new Eh(G,M)})(i.endAt)),YN(e,o,d,c,p,"F",_,v)}function IR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ml(i.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ml(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ml(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ml(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(ml(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((r=>KE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(i.compositeFilter.op))})(s):Ne(30097,{filter:s})}function DR(s){return _R[s]}function OR(s){return vR[s]}function MR(s){return ER[s]}function dl(s){return{fieldPath:s.canonicalString()}}function ml(s){return hn.fromServerFormat(s.fieldPath)}function QE(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:dl(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:dl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:dl(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:dl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(i.field),op:OR(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const r=i.getFilters().map((o=>QE(o)));return r.length===1?r[0]:{compositeFilter:{op:MR(i.op),filters:r}}})(s):Ne(54877,{filter:s})}function VR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function YE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Tr{constructor(e,i,r,o,c=Ce.min(),d=Ce.min(),p=fn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kR{constructor(e){this.yt=e}}function jR(s){const e=CR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Th(e,e.limit,"L"):e}class PR{constructor(){this.Cn=new UR}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Nr.min())}updateCollectionGroup(e,i,r){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class UR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Wt(Tt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(Tt.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(XE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}const Rv="LruGarbageCollector",LR=1048576;function Cv([s,e],[i,r]){const o=Fe(s,i);return o===0?Fe(e,r):o}class zR{constructor(e){this.Ir=e,this.buffer=new Wt(Cv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){kl(i)?ge(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await Vl(i)}await this.Vr(3e5)}))}}class qR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(jh.ce);const r=new zR(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Nv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(c=x,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(v=Date.now(),hl()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${x} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function HR(s,e){return new qR(s,e)}class FR{constructor(){this.changes=new ba((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KR{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Zo(r.mutation,o,Kn.empty(),Nt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ge()){const o=ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=qo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ca();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ge())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=Os();const d=$o(),p=(function(){return $o()})();return i.forEach(((_,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof kr)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Zo(S.mutation,v,S.mutation.getFieldMask(),Nt.now())):d.set(v.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new GR(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=$o();let o=new Mt(((d,p)=>d-p)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=r.get(_)||Kn.empty();S=p.applyToLocalView(v,S),r.set(_,S);const x=(o.get(p.batchId)||Ge()).add(_);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,x=DE();S.forEach((M=>{if(!c.has(M)){const G=PE(i.get(M),r.get(M));G!==null&&x.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,x))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):W.resolve(ca());let p=iu,_=c;return d.next((v=>W.forEach(v,((S,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(S)?W.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{_=_.insert(S,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Ge()))).next((S=>({batchId:p,changes:IE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((r=>{let o=qo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(_=>{const v=(function(x,M){return new jl(M,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((S=>{S.forEach(((x,M)=>{d=d.insert(x,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,_n.newInvalidDocument(S)))}));let p=qo();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&Zo(S.mutation,v,Kn.empty(),Nt.now()),zh(i,v)&&(p=p.insert(_,v))})),p}))}}class QR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:jR(o.bundledQuery),readTime:es(o.readTime)}})(i)),W.resolve()}}class YR{constructor(){this.overlays=new Mt(be.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ca();return W.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,i,r){const o=ca(),c=i.length+1,d=new be(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Mt(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=c.get(v.largestBatchId);S===null&&(S=ca(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=ca(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return W.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new fR(i,r));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class XR{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class gg{constructor(){this.Qr=new Wt(sn.$r),this.Ur=new Wt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new sn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new be(new Tt([])),r=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new Tt([])),r=new sn(i,e),o=new sn(i,e+1);let c=Ge();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class $R{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(sn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hR(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Wt(Fe);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const d=new sn(new be(c),0);let p=new Wt(Fe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new sn(i,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZR{constructor(e){this.ri=e,this.docs=(function(){return new Mt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let r=Os();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():_n.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Os();const d=i.path,p=new be(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wN(AN(S),r)<=0||(o.has(S.key)||zh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ne(9500)}ii(e,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new WR(this)}getSize(e){return W.resolve(this.size)}}class WR extends FR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class JR{constructor(e){this.persistence=e,this.si=new ba((i=>lg(i)),og),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return W.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),W.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return W.resolve(r)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class $E{constructor(e,i){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new XR,this.referenceDelegate=e(this),this.Pi=new JR(this),this.indexManager=new PR,this.remoteDocumentCache=(function(o){return new ZR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kR(i),this.Ii=new QR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new YR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new $R(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ge("MemoryPersistence","Starting transaction:",e);const o=new eC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class eC extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),W.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ah{constructor(e,i){this.persistence=e,this.pi=new ba((r=>DN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=HR(this,i)}static mi(e,i){return new Ah(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?W.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ih(e.data.value)),i}br(e,i,r){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yg{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ge(),o=Ge();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new yg(e,i.fromCache,r,o)}}class tC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ix()?8:CN(vn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(hl()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",fl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(hl()<=He.DEBUG&&ge("QueryEngine","Query:",fl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(hl()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",fl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(i))):W.resolve())}ys(e,i){if(yv(i))return W.resolve(null);let r=Ji(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Th(i,null,"F"),r=Ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,Th(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return yv(i)||o.isEqual(Ce.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?W.resolve(null):(hl()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fl(i)),this.vs(e,d,i,xN(o,iu)).next((p=>p)))}))}Ds(e,i){let r=new Wt(RE(e));return i.forEach(((o,c)=>{zh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return hl()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",fl(i)),this.ps.getDocumentsMatchingQuery(e,i,Nr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const _g="LocalStore",iC=3e8;class sC{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Mt(Fe),this.xs=new ba((c=>lg(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rC(s,e,i,r){return new sC(s,e,i,r)}async function ZE(s,e){const i=De(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ge();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function aC(s,e){const i=De(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const x=v.batch,M=x.keys();let G=W.resolve();return M.forEach((ee=>{G=G.next((()=>S.getEntry(_,ee))).next((ne=>{const te=v.docVersions.get(ee);at(te!==null,48541),ne.version.compareTo(te)<0&&(x.applyToRemoteDocument(ne,v),ne.isValidDocument()&&(ne.setReadTime(v.commitVersion),S.addEntry(ne)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,x)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ge();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function WE(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lC(s,e){const i=De(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,x)=>{const M=o.get(x);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,x))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(fn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),o=o.insert(x,G),(function(ne,te,_e){return ne.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=iC?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,G,S)&&p.push(i.Pi.updateTargetData(c,G))}));let _=Os(),v=Ge();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(oC(c,d,e.documentUpdates).next((S=>{_=S.ks,v=S.qs}))),!r.isEqual(Ce.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(S)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function oC(s,e,i){let r=Ge(),o=Ge();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Os();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Ce.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ge(_g,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function uC(s,e){const i=De(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cC(s,e){const i=De(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,W.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Tr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function km(s,e,i){const r=De(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!kl(d))throw d;ge(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Iv(s,e,i){const r=De(s);let o=Ce.min(),c=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const x=De(_),M=x.xs.get(S);return M!==void 0?W.resolve(x.Ms.get(M)):x.Pi.getTargetData(v,S)})(r,d,Ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Ce.min(),i?c:Ge()))).next((p=>(hC(r,$N(e),p),{documents:p,Qs:c})))))}function hC(s,e,i){let r=s.Os.get(e)||Ce.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Dv{constructor(){this.activeTargetIds=nR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fC{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dC{Oo(e){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function jm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const hm="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=jm(),p=this.zo(e,i.toUriEncodedString());ge(hm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),S=Dl(v);return this.Jo(e,p,_,r,S).then((x=>(ge(hm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw xl(hm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=mC[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class pC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class yC extends gC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=jm();return new Promise(((p,_)=>{const v=new tE;v.setWithCredentials(!0),v.listenOnce(nE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case nh.NO_ERROR:const x=v.getResponseJson();ge(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case nh.TIMEOUT:ge(pn,`RPC '${e}' ${d} timed out`),_(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const M=v.getStatus();if(ge(pn,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const ne=(function(_e){const pe=_e.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pe)>=0?pe:Z.UNKNOWN})(ee.status);_(new me(ne,ee.message))}else _(new me(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ge(pn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ge(pn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=jm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rE(),p=sE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=c.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${S}`,_);const x=d.createWebChannel(S,_);this.I_(x);let M=!1,G=!1;const ee=new pC({Yo:te=>{G?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(M||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),M=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,te),x.send(te))},Zo:()=>x.close()}),ne=(te,_e,pe)=>{te.listen(_e,(fe=>{try{pe(fe)}catch(Ue){setTimeout((()=>{throw Ue}),0)}}))};return ne(x,Bo.EventType.OPEN,(()=>{G||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),ne(x,Bo.EventType.CLOSE,(()=>{G||(G=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(x))})),ne(x,Bo.EventType.ERROR,(te=>{G||(G=!0,xl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),ee.a_(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),ne(x,Bo.EventType.MESSAGE,(te=>{if(!G){const _e=te.data[0];at(!!_e,16349);const pe=_e,fe=pe?.error||pe[0]?.error;if(fe){ge(pn,`RPC '${e}' stream ${o} received error:`,fe);const Ue=fe.status;let Me=(function(A){const N=Yt[A];if(N!==void 0)return LE(N)})(Ue),Ae=fe.message;Me===void 0&&(Me=Z.INTERNAL,Ae="Unknown error status: "+Ue+" with message "+fe.message),G=!0,ee.a_(new me(Me,Ae)),x.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,_e),ee.u_(_e)}})),ne(p,iE.STAT_EVENT,(te=>{te.stat===xm.PROXY?ge(pn,`RPC '${e}' stream ${o} detected buffering proxy`):te.stat===xm.NOPROXY&&ge(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function fm(){return typeof document<"u"?document:null}function Fh(s){return new TR(s,!0)}class JE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class eT{constructor(e,i,r,o,c,d,p,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ds(i.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ge(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _C extends eT{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?es(d.readTime):Ce.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Vm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Cm(_)?{documents:NR(c,_)}:{query:RR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qE(c,d.resumeToken);const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ce.min())>0){p.readTime=xh(c,d.snapshotVersion.toTimestamp());const v=Dm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=IR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Vm(this.serializer),i.removeTarget=e,this.q_(i)}}class vC extends eT{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=wR(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>AR(this.serializer,r)))};this.q_(i)}}class EC{}class TC extends EC{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Om(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Om(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(i),this.aa=!1):ge("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class SC{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Sa(this)&&(ge(_a,"Restarting streams for network reachability change."),await(async function(_){const v=De(_);v.Ea.add(4),await vu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Gh(v)})(this))}))})),this.Ra=new bC(r,o)}}async function Gh(s){if(Sa(s))for(const e of s.da)await e(!0)}async function vu(s){for(const e of s.da)await e(!1)}function tT(s,e){const i=De(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bg(i)?Tg(i):Pl(i).O_()&&Eg(i,e))}function vg(s,e){const i=De(s),r=Pl(i);i.Ia.delete(e),r.O_()&&nT(i,e),i.Ia.size===0&&(r.O_()?r.L_():Sa(i)&&i.Ra.set("Unknown"))}function Eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Pl(s).Y_(e)}function nT(s,e){s.Va.Ue(e),Pl(s).Z_(e)}function Tg(s){s.Va=new yR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Pl(s).start(),s.Ra.ua()}function bg(s){return Sa(s)&&!Pl(s).x_()&&s.Ia.size>0}function Sa(s){return De(s).Ea.size===0}function iT(s){s.Va=void 0}async function xC(s){s.Ra.set("Online")}async function AC(s){s.Ia.forEach(((e,i)=>{Eg(s,e)}))}async function wC(s,e){iT(s),bg(s)?(s.Ra.ha(e),Tg(s)):s.Ra.set("Unknown")}async function NC(s,e,i){if(s.Ra.set("Online"),e instanceof BE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ge(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof ah?s.Va.Ze(e):e instanceof zE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ce.min()))try{const r=await WE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(fn.EMPTY_BYTE_STRING,S.snapshotVersion)),nT(c,_);const x=new Tr(S.target,_,v,S.sequenceNumber);Eg(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ge(_a,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,i){if(!kl(e))throw e;s.Ea.add(1),await vu(s),s.Ra.set("Offline"),i||(i=()=>WE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(_a,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function sT(s,e){return e().catch((i=>wh(s,i,e)))}async function Kh(s){const e=De(s),i=Dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;RC(e);)try{const o=await uC(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,CC(e,o)}catch(o){await wh(e,o)}rT(e)&&aT(e)}function RC(s){return Sa(s)&&s.Ta.length<10}function CC(s,e){s.Ta.push(e);const i=Dr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function rT(s){return Sa(s)&&!Dr(s).x_()&&s.Ta.length>0}function aT(s){Dr(s).start()}async function IC(s){Dr(s).ra()}async function DC(s){const e=Dr(s);for(const i of s.Ta)e.ea(i.mutations)}async function OC(s,e,i){const r=s.Ta.shift(),o=fg.from(r,e,i);await sT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function MC(s,e){e&&Dr(s).X_&&await(async function(r,o){if((function(d){return mR(d)&&d!==Z.ABORTED})(o.code)){const c=r.Ta.shift();Dr(r).B_(),await sT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kh(r)}})(s,e),rT(s)&&aT(s)}async function kv(s,e){const i=De(s);i.asyncQueue.verifyOperationInProgress(),ge(_a,"RemoteStore received new credentials");const r=Sa(i);i.Ea.add(3),await vu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function VC(s,e){const i=De(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await vu(i),i.Ra.set("Unknown"))}function Pl(s){return s.ma||(s.ma=(function(i,r,o){const c=De(i);return c.sa(),new _C(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:xC.bind(null,s),t_:AC.bind(null,s),r_:wC.bind(null,s),H_:NC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),bg(s)?Tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),iT(s))}))),s.ma}function Dr(s){return s.fa||(s.fa=(function(i,r,o){const c=De(i);return c.sa(),new vC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:IC.bind(null,s),r_:MC.bind(null,s),ta:DC.bind(null,s),na:OC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(_a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Sg{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Sg(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(s,e){if(Ds("AsyncQueue",`${e}: ${s}`),kl(s))return new me(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||be.comparator(i.key,r.key):(i,r)=>be.comparator(i.key,r.key),this.keyedMap=qo(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class jv{constructor(){this.ga=new Mt(be.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Cl{constructor(e,i,r,o,c,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Cl(e,i,El.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class kC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jC{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=De(i),c=o.queries;o.queries=Pv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new ba((s=>NE(s)),Lh)}async function PC(s,e){const i=De(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new kC,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=xg(d,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ag(i)}async function UC(s,e){const i=De(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function LC(s,e){const i=De(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Ag(i)}function zC(s,e,i){const r=De(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function Ag(s){s.Ca.forEach((e=>{e.next()}))}var Pm,Uv;(Uv=Pm||(Pm={})).Ma="default",Uv.Cache="cache";class BC{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class lT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class qC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=RE(e),this.tu=new El(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new jv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,x)=>{const M=o.get(S),G=zh(this.query,x)?x:null,ee=!!M&&this.mutatedKeys.has(M.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let te=!1;M&&G?M.data.isEqual(G.data)?ee!==ne&&(r.track({type:3,doc:G}),te=!0):this.su(M,G)||(r.track({type:2,doc:G}),te=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!M&&G?(r.track({type:0,doc:G}),te=!0):M&&!G&&(r.track({type:1,doc:M}),te=!0,(_||v)&&(p=!0)),te&&(G?(d=d.add(G),c=ne?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(G,ee){const ne=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:te})}};return ne(G)-ne(ee)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Cl(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new oT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new lT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wg="SyncEngine";class HC{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class FC{constructor(e){this.key=e,this.hu=!1}}class GC{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ba((p=>NE(p)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(be.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(s,e,i=!0){const r=mT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await uT(r,e,i,!0),o}async function QC(s,e){const i=mT(s);await uT(i,e,!0,!1)}async function uT(s,e,i,r){const o=await cC(s.localStore,Ji(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await YC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&tT(s.remoteStore,o),p}async function YC(s,e,i,r,o){s.pu=(x,M,G)=>(async function(ne,te,_e,pe){let fe=te.view.ru(_e);fe.Cs&&(fe=await Iv(ne.localStore,te.query,!1).then((({documents:R})=>te.view.ru(R,fe))));const Ue=pe&&pe.targetChanges.get(te.targetId),Me=pe&&pe.targetMismatches.get(te.targetId)!=null,Ae=te.view.applyChanges(fe,ne.isPrimaryClient,Ue,Me);return zv(ne,te.targetId,Ae.au),Ae.snapshot})(s,x,M,G);const c=await Iv(s.localStore,e,!0),d=new qC(e,c.Qs),p=d.ru(c.documents),_=_u.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);zv(s,i,v.au);const S=new HC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function XC(s,e,i){const r=De(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Lh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&vg(r.remoteStore,o.targetId),Um(r,o.targetId)})).catch(Vl)):(Um(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function $C(s,e){const i=De(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vg(i.remoteStore,r.targetId))}async function ZC(s,e,i){const r=sI(s);try{const o=await(function(d,p){const _=De(d),v=Nt.now(),S=p.reduce(((G,ee)=>G.add(ee.key)),Ge());let x,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=Os(),ne=Ge();return _.Ns.getEntries(G,S).next((te=>{ee=te,ee.forEach(((_e,pe)=>{pe.isValidDocument()||(ne=ne.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ee))).next((te=>{x=te;const _e=[];for(const pe of p){const fe=uR(pe,x.get(pe.key).overlayedDocument);fe!=null&&_e.push(new kr(pe.key,fe,vE(fe.value.mapValue),hi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,_e,p)})).next((te=>{M=te;const _e=te.applyToLocalDocumentSet(x,ne);return _.documentOverlayCache.saveOverlays(G,te.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:IE(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Mt(Fe)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await Eu(r,o.changes),await Kh(r.remoteStore)}catch(o){const c=xg(o,"Failed to persist write");i.reject(c)}}async function cT(s,e){const i=De(s);try{const r=await lC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await Eu(i,r,e)}catch(r){await Vl(r)}}function Lv(s,e,i){const r=De(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=De(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,x)=>{for(const M of x.Sa)M.va(p)&&(v=!0)})),v&&Ag(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WC(s,e,i){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Mt(be.comparator);d=d.insert(c,_n.newNoDocument(c,Ce.min()));const p=Ge().add(c),_=new Hh(Ce.min(),new Map,new Mt(Fe),d,p);await cT(r,_),r.du=r.du.remove(c),r.Au.delete(e),Ng(r)}else await km(r.localStore,e,!1).then((()=>Um(r,e,i))).catch(Vl)}async function JC(s,e){const i=De(s),r=e.batch.batchId;try{const o=await aC(i.localStore,e);fT(i,r,null),hT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(i,o)}catch(o){await Vl(o)}}async function eI(s,e,i){const r=De(s);try{const o=await(function(d,p){const _=De(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((x=>(at(x!==null,37113),S=x.keys(),_.mutationQueue.removeMutationBatch(v,x)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(r.localStore,e);fT(r,e,i),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Eu(r,o)}catch(o){await Vl(o)}}function hT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function fT(s,e,i){const r=De(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Um(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||dT(s,r)}))}function dT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ng(s))}function zv(s,e,i){for(const r of i)r instanceof lT?(s.Ru.addReference(r.key,e),tI(s,r)):r instanceof oT?(ge(wg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||dT(s,r.key)):Ne(19791,{wu:r})}function tI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ge(wg,"New document in limbo: "+i),s.Eu.add(r),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(Tt.fromString(e)),r=s.fu.next();s.Au.set(r,new FC(i)),s.du=s.du.insert(i,r),tT(s.remoteStore,new Tr(Ji(ug(i.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function Eu(s,e,i){const r=De(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=yg.As(_.targetId,v);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const S=De(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>W.forEach(v,(M=>W.forEach(M.Es,(G=>S.persistence.referenceDelegate.addReference(x,M.targetId,G))).next((()=>W.forEach(M.ds,(G=>S.persistence.referenceDelegate.removeReference(x,M.targetId,G)))))))))}catch(x){if(!kl(x))throw x;ge(_g,"Failed to update sequence numbers: "+x)}for(const x of v){const M=x.targetId;if(!x.fromCache){const G=S.Ms.get(M),ee=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(ee);S.Ms=S.Ms.insert(M,ne)}}})(r.localStore,c))}async function nI(s,e){const i=De(s);if(!i.currentUser.isEqual(e)){ge(wg,"User change. New user:",e.toKey());const r=await ZE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new me(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(i,r.Ls)}}function iI(s,e){const i=De(s),r=i.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function mT(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WC.bind(null,e),e.Pu.H_=LC.bind(null,e.eventManager),e.Pu.yu=zC.bind(null,e.eventManager),e}function sI(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rC(this.persistence,new nC,e.initialUser,this.serializer)}Cu(e){return new $E(pg.mi,this.serializer)}Du(e){return new fC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class rI extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new $E((r=>Ah.mi(r,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jC})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=(function(c){return new yC(c)})(e.databaseInfo);return(function(c,d,p,_){return new TC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new SC(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new dC})())}createSyncEngine(e,i){return(function(o,c,d,p,_,v,S){const x=new GC(o,c,d,p,_,v);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=De(i);ge(_a,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Or="FirestoreClient";class lI{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ge(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ge(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await ZE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await oI(s);ge(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>kv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>kv(e.remoteStore,o))),s._onlineComponents=e}async function oI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Or,"Using user provided OfflineComponentProvider");try{await dm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;xl("Error using user provided cache. Falling back to memory cache: "+i),await dm(s,new Nh)}}else ge(Or,"Using default OfflineComponentProvider"),await dm(s,new rI(void 0));return s._offlineComponents}async function gT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Or,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(ge(Or,"Using default OnlineComponentProvider"),await Bv(s,new Lm))),s._onlineComponents}function uI(s){return gT(s).then((e=>e.syncEngine))}async function qv(s){const e=await gT(s),i=e.eventManager;return i.onListen=KC.bind(null,e.syncEngine),i.onUnlisten=XC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),i}function pT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Hv=new Map;const yT="firestore.googleapis.com",Fv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LR)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dN;switch(r.type){case"firstParty":return new yN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Hv.get(i);r&&(ge("ComponentProvider","Removing Datastore"),Hv.delete(i),r.terminate())})(this),Promise.resolve()}}function cI(s,e,i,r={}){s=Wi(s,Qh);const o=Dl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(h1(`https://${p}`),f1("Firestore",!0)),c.host!==yT&&c.host!==p&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!da(_,d)&&(s._setSettings(_),r.mockUserToken)){let v,S;if(typeof r.mockUserToken=="string")v=r.mockUserToken,S=yn.MOCK_USER;else{v=Tx(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new yn(x)}s._authCredentials=new mN(new lE(v,S))}}class jr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(pu(i,zt._jsonSchema))return new zt(e,r||null,new be(Tt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:$t("string",zt._jsonSchemaVersion),referencePath:$t("string")};class wr extends jr{constructor(e,i,r){super(e,i,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new be(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Kv(s,e,...i){if(s=Jt(s),oE("collection","path",e),s instanceof Qh){const r=Tt.fromString(e,...i);return iv(r),new wr(s,null,r)}{if(!(s instanceof zt||s instanceof wr))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...i));return iv(r),new wr(s.firestore,null,r)}}function zm(s,e,...i){if(s=Jt(s),arguments.length===1&&(e=ig.newId()),oE("doc","path",e),s instanceof Qh){const r=Tt.fromString(e,...i);return nv(r),new zt(s,null,new be(r))}{if(!(s instanceof zt||s instanceof wr))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Tt.fromString(e,...i));return nv(r),new zt(s.firestore,s instanceof wr?s.converter:null,new be(r))}}const Qv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JE(this,"async_queue_retry"),this._c=()=>{const r=fm();r&&ge(Qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=fm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=fm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;ge(Qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Sg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function $v(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class va extends Qh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function hI(s,e){const i=typeof s=="object"?s:p1(),r=typeof s=="string"?s:_h,o=Qm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=vx("firestore");c&&cI(o,...c)}return o}function _T(s){if(s._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fI(s),s._firestoreClient}function fI(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new VN(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,pT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new lI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(fn.fromBase64String(e))}catch(i){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:$t("string",ci._jsonSchemaVersion),bytes:$t("string")};class Yh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class ts{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(pu(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:$t("string",ts._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class ns{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ns(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:$t("string",ns._jsonSchemaVersion),vectorValues:$t("object")};const dI=/^__.*__$/;class mI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new yu(e,this.data,i,this.fieldTransforms)}}class vT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function ET(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:s})}}class Cg{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ET(this.Ac)&&dI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}Cc(e,i,r,o=!1){return new Cg({Ac:e,methodName:i,Dc:r,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new gI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function TT(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Ig("Data must be an object, but it was:",d,r);const p=bT(r,d);let _,v;if(c.merge)_=new Kn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const x of c.mergeFields){const M=Bm(e,x,i);if(!d.contains(M))throw new me(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);xT(S,M)||S.push(M)}_=new Kn(S),v=d.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,v=d.fieldTransforms;return new mI(new Mn(p),_,v)}class $h extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function pI(s,e,i,r){const o=s.Cc(1,e,i);Ig("Data must be an object, but it was:",o,r);const c=[],d=Mn.empty();Vr(r,((_,v)=>{const S=Dg(e,_,i);v=Jt(v);const x=o.yc(S);if(v instanceof $h)c.push(S);else{const M=Tu(v,x);M!=null&&(c.push(S),d.set(S,M))}}));const p=new Kn(c);return new vT(d,p,o.fieldTransforms)}function yI(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[Bm(e,r,i)],_=[o];if(c.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Bm(e,c[M])),_.push(c[M+1]);const v=[],S=Mn.empty();for(let M=p.length-1;M>=0;--M)if(!xT(v,p[M])){const G=p[M];let ee=_[M];ee=Jt(ee);const ne=d.yc(G);if(ee instanceof $h)v.push(G);else{const te=Tu(ee,ne);te!=null&&(v.push(G),S.set(G,te))}}const x=new Kn(v);return new vT(S,x,d.fieldTransforms)}function _I(s,e,i,r=!1){return Tu(i,s.Cc(r?4:3,e))}function Tu(s,e){if(ST(s=Jt(s)))return Ig("Unsupported field value:",e,s),bT(s,e);if(s instanceof Rg)return(function(r,o){if(!ET(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=Tu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Nt.fromDate(r);return{timestampValue:xh(o.serializer,c)}}if(r instanceof Nt){const c=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(o.serializer,c)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:qE(o.serializer,r._byteString)};if(r instanceof zt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ns)return(function(d,p){return{mapValue:{fields:{[yE]:{stringValue:_E},[vh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${kh(r)}`)})(s,e)}function bT(s,e){const i={};return hE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,((r,o)=>{const c=Tu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function ST(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Nt||s instanceof ts||s instanceof ci||s instanceof zt||s instanceof Rg||s instanceof ns)}function Ig(s,e,i){if(!ST(i)||!uE(i)){const r=kh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Bm(s,e,i){if((e=Jt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Dg(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function Dg(s,e,i){if(e.search(vI)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Yh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Rh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new me(Z.INVALID_ARGUMENT,p+s+_)}function xT(s,e){return s.some((i=>i.isEqual(e)))}class AT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EI extends AT{data(){return super.data()}}function Og(s,e){return typeof e=="string"?Dg(s,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}function TI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class Vg extends Mg{}function bI(s,e,...i){let r=[];e instanceof Mg&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof jg)).length,p=c.filter((_=>_ instanceof kg)).length;if(d>1||d>0&&p>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kg extends Vg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kg(e,i,r)}_apply(e){const i=this._parse(e);return wT(e._query,i),new jr(e.firestore,e.converter,Im(e._query,i))}_parse(e){const i=Xh(e.firestore);return(function(c,d,p,_,v,S,x){let M;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Wv(x,S);const ee=[];for(const ne of x)ee.push(Zv(_,c,ne));M={arrayValue:{values:ee}}}else M=Zv(_,c,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Wv(x,S),M=_I(p,d,x,S==="in"||S==="not-in");return Xt.create(v,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends Mg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)wT(d,_),d=Im(d,_)})(e._query,i),new jr(e.firestore,e.converter,Im(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends Vg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(c,d)})(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new jl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function SI(s,e="asc"){const i=e,r=Og("orderBy",s);return Pg._create(r,i)}class Ug extends Vg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Ug(e,i,r)}_apply(e){return new jr(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function xI(s){return Ug._create("limit",s,"F")}function Zv(s,e,i){if(typeof(i=Jt(i))=="string"){if(i==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&i.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Tt.fromString(i));if(!be.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hv(s,new be(r))}if(i instanceof zt)return hv(s,i._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(i)}.`)}function Wv(s,e){if(!Array.isArray(s)||s.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wT(s,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class AI{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Vr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[vh].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new ns(i)}convertGeoPoint(e){return new ts(Lt(e.latitude),Lt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Nt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Tt.fromString(e);at(YE(r),9688,{name:e});const o=new ru(r.get(1),r.get(3)),c=new be(r.popFirst(5));return o.isEqual(i)||Ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Fo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends AT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=fa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:$t("string",fa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class lh extends fa{data(e={}){return super.data(e)}}class Tl{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lh(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:wI(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:s})}}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:$t("string",Tl._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class RT extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Yi(s,e,i){s=Wi(s,zt);const r=Wi(s.firestore,va),o=NT(s.converter,e,i);return Zh(r,[TT(Xh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,hi.none())])}function xi(s,e,i,...r){s=Wi(s,zt);const o=Wi(s.firestore,va),c=Xh(o);let d;return d=typeof(e=Jt(e))=="string"||e instanceof Yh?yI(c,"updateDoc",s._key,e,i,r):pI(c,"updateDoc",s._key,e),Zh(o,[d.toMutation(s._key,hi.exists(!0))])}function Xc(s){return Zh(Wi(s.firestore,va),[new hg(s._key,hi.none())])}function NI(s,e){const i=Wi(s.firestore,va),r=zm(s),o=NT(s.converter,e);return Zh(i,[TT(Xh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function Jv(s,...e){s=Jt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$v(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($v(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof zt)d=Wi(s.firestore,va),p=ug(s._key.path),c={next:_=>{e[r]&&e[r](RI(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=Wi(s,jr);d=Wi(_.firestore,va),p=_._query;const v=new RT(d);c={next:S=>{e[r]&&e[r](new Tl(d,v,_,S))},error:e[r+1],complete:e[r+2]},TI(s._query)}return(function(v,S,x,M){const G=new aI(M),ee=new BC(S,G,x);return v.asyncQueue.enqueueAndForget((async()=>PC(await qv(v),ee))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>UC(await qv(v),ee)))}})(_T(d),p,o,c)}function Zh(s,e){return(function(r,o){const c=new ha;return r.asyncQueue.enqueueAndForget((async()=>ZC(await uI(r),o,c))),c.promise})(_T(s),e)}function RI(s,e,i){const r=i.docs.get(e._key),o=new RT(s);return new fa(s,o,e._key,r,new Fo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ml=o})(Ol),Sl(new ma("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new va(new gN(r.getProvider("auth-internal")),new _N(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(v.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),xr(W_,J_,e),xr(W_,J_,"esm2020")})();const CI={apiKey:"AIzaSyA9-fxCiutjAuYtnhqkiiSGgFqPZ_hlOfM",authDomain:"chorepiggy-32df1.firebaseapp.com",projectId:"chorepiggy-32df1",storageBucket:"chorepiggy-32df1.firebasestorage.app",messagingSenderId:"998080774842",appId:"1:998080774842:web:6951d7c4696d74db02f883"},CT=g1(CI),bl=hN(CT),$c=hI(CT),II=()=>Math.random().toString(36).substr(2,9),Ea=(s=new Date)=>{try{const e=s.getTimezoneOffset();return new Date(s.getTime()-e*60*1e3).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}},DI=(s=new Date)=>{const e=new Date(s),i=e.getDay(),r=e.getDate()-i,o=new Date(e.setDate(r));return o.setHours(0,0,0,0),o},Lg=(s=0)=>{const e=new Date;e.setDate(e.getDate()+s*7);const i=DI(e),r=[];for(let o=0;o<7;o++){const c=new Date(i);c.setDate(i.getDate()+o),r.push(Ea(c))}return r},nn=s=>isNaN(s)||s===null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),Il=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)},IT=s=>{if(!s)return"";const e=new Date(s);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(e)},Ch=s=>{if(!s)return"";const[e,i]=s.split(":"),r=new Date;return r.setHours(e),r.setMinutes(i),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},qm=["","","","","","","","","","","","","","","","","","","",""],vt=({children:s,onClick:e,variant:i="primary",className:r="",size:o="md",...c})=>{const d="rounded-lg font-semibold transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100 disabled:cursor-not-allowed",p={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},_={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-md shadow-blue-200",secondary:"bg-purple-500 text-white hover:bg-purple-600 shadow-md shadow-purple-200",success:"bg-green-500 text-white hover:bg-green-600 shadow-md shadow-green-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-md shadow-red-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",ghost:"bg-gray-100 text-gray-700 hover:bg-gray-200",outline:"border-2 border-gray-200 text-gray-600 hover:bg-gray-50",gold:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200 hover:scale-[1.02]"};return m.jsx("button",{onClick:e,className:`${d} ${p[o]} ${_[i]} ${r}`,...c,children:s})},pl=({children:s,className:e=""})=>m.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${e}`,children:s}),oi=({isOpen:s,onClose:e,title:i,children:r})=>s?m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",children:[m.jsx("h3",{className:"font-bold text-gray-800",children:i}),e&&m.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:m.jsx(Ih,{size:20})})]}),m.jsx("div",{className:"p-4 overflow-y-auto",children:r})]})}):null,OI=({onSuccess:s,onCancel:e,targetPin:i,title:r,onForgot:o,mode:c="verify"})=>{const[d,p]=ce.useState(""),[_,v]=ce.useState(""),[S,x]=ce.useState(c==="setup"?"create":"verify"),[M,G]=ce.useState(!1),[ee,ne]=ce.useState(c==="setup"?"Create a 4-digit PIN":r||"Enter PIN"),te=pe=>{if(d.length<4){const fe=d+pe;p(fe),fe.length===4&&(S==="verify"?fe===i?s(fe):_e():S==="create"?(v(fe),p(""),x("confirm"),ne("Confirm your PIN")):S==="confirm"&&(fe===_?s(fe):(_e("PINs didn't match. Try again."),x("create"),ne("Create a 4-digit PIN"),v(""))))}},_e=(pe="Incorrect PIN")=>{G(!0);const fe=ee;ne(pe),setTimeout(()=>{p(""),G(!1),ne(S==="verify"?r||"Enter PIN":S==="create"?"Create a 4-digit PIN":fe)},1e3)};return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in duration-200",children:[m.jsx("h3",{className:`text-xl font-bold text-center mb-6 ${M?"text-red-500":"text-gray-800"}`,children:ee}),m.jsx("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(pe=>m.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${d.length>pe?M?"bg-red-500 border-red-500":"bg-blue-600 border-blue-600":"border-gray-300"}`},pe))}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map(pe=>m.jsx("button",{onClick:()=>te(pe),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:pe},pe)),m.jsx("div",{}),m.jsx("button",{onClick:()=>te(0),className:"h-16 rounded-xl bg-gray-50 text-2xl font-bold text-gray-700 hover:bg-gray-100 active:bg-gray-200 transition-colors",children:"0"}),m.jsx("button",{onClick:()=>p(pe=>pe.slice(0,-1)),className:"h-16 rounded-xl bg-gray-50 flex items-center justify-center text-gray-700 hover:bg-gray-100 active:bg-gray-200",children:m.jsx(Ih,{size:24})})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(vt,{variant:"ghost",className:"w-full",onClick:e,children:"Cancel"}),c==="verify"&&m.jsxs("button",{onClick:o,className:"text-xs text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-1",children:[m.jsx(zS,{size:12})," Forgot PIN?"]})]})]})})},MI=({onComplete:s})=>{const[e,i]=ce.useState(""),[r,o]=ce.useState(""),c=()=>{s({parentName:e,parentPin:r})};return m.jsx(oi,{isOpen:!0,onClose:null,title:"Welcome! Let's get setup.",children:m.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[m.jsx("p",{className:"text-gray-600 text-sm",children:"First, create the main parent profile."}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Mom",value:e,onChange:d=>i(d.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Create PIN"}),m.jsx("input",{className:"w-full border p-2 rounded",placeholder:"1234",maxLength:"4",value:r,onChange:d=>o(d.target.value)})]}),m.jsx(vt,{className:"w-full",onClick:()=>{e&&r.length===4?c():alert("Name and 4-digit PIN required.")},children:"Create Profile"})]})})},VI=({kids:s,onComplete:e})=>{const[i,r]=ce.useState("select-mode"),o=c=>{c==="KID_SOLO"?r("select-kid"):e({mode:c,targetId:null})};return m.jsx(oi,{isOpen:!0,onClose:null,title:"Setup This Device",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-600 text-sm text-center",children:"Who will be using this specific device?"}),i==="select-mode"&&m.jsxs("div",{className:"grid gap-3",children:[m.jsxs("button",{onClick:()=>o("FAMILY"),className:"p-4 border-2 rounded-xl hover:bg-indigo-50 hover:border-indigo-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-indigo-100 p-3 rounded-full text-indigo-600 group-hover:bg-indigo-200",children:m.jsx(Jo,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Whole Family"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Parents & Kids. Requires PINs to switch."})]})]}),m.jsxs("button",{onClick:()=>o("KIDS_SHARED"),className:"p-4 border-2 rounded-xl hover:bg-purple-50 hover:border-purple-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full text-purple-600 group-hover:bg-purple-200",children:m.jsx(Jo,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Just the Kids"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Shared device for multiple kids (No Parents)."})]})]}),m.jsxs("button",{onClick:()=>o("KID_SOLO"),className:"p-4 border-2 rounded-xl hover:bg-green-50 hover:border-green-200 text-left flex items-center gap-3 transition-colors group",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-600 group-hover:bg-green-200",children:m.jsx(User,{size:24})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-gray-800",children:"Specific Kid"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Personal device. Auto-logins."})]})]})]}),i==="select-kid"&&m.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-right-4",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Select the Kid:"}),s.map(c=>m.jsxs("button",{onClick:()=>e({mode:"KID_SOLO",targetId:c.id}),className:"w-full p-3 bg-white border rounded-xl flex items-center gap-3 hover:bg-gray-50 shadow-sm",children:[m.jsx("span",{className:"text-2xl",children:c.avatar}),m.jsx("span",{className:"font-bold text-gray-700",children:c.name}),m.jsx(Wo,{className:"ml-auto text-gray-300"})]},c.id)),s.length===0&&m.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:"No kids found in family account."}),m.jsx(vt,{variant:"ghost",onClick:()=>r("select-mode"),className:"w-full mt-2",children:"Back"})]})]})})},kI=()=>{const[s,e]=ce.useState(!0),[i,r]=ce.useState(""),[o,c]=ce.useState(""),[d,p]=ce.useState(""),[_,v]=ce.useState(""),S=async M=>{M.preventDefault(),p(""),v("");try{s?await $w(bl,i,o):await Xw(bl,i,o)}catch(G){p(G.message)}},x=async()=>{if(!i){p("Please enter your email address first.");return}try{await Yw(bl,i),v("Password reset email sent! Check your inbox."),p("")}catch(M){p(M.message)}};return m.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[m.jsx(n1,{size:40})," ChorePiggy"]}),m.jsx("p",{className:"text-gray-500",children:"The smart family allowance tracker."})]}),m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Family Email"}),m.jsx("input",{type:"email",required:!0,className:"w-full border p-3 rounded-lg",value:i,onChange:M=>r(M.target.value),placeholder:"family@example.com"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Password"}),s&&m.jsx("button",{type:"button",onClick:x,className:"text-xs text-blue-500 hover:underline",children:"Forgot Password?"})]}),m.jsx("input",{type:"password",required:!0,className:"w-full border p-3 rounded-lg",value:o,onChange:M=>c(M.target.value),placeholder:""})]}),d&&m.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded",children:d}),_&&m.jsx("p",{className:"text-green-600 text-sm bg-green-50 p-2 rounded",children:_}),m.jsx(vt,{type:"submit",className:"w-full py-3 text-lg",children:s?"Log In":"Create Family Account"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>{e(!s),p(""),v("")},className:"text-blue-600 hover:underline text-sm",children:s?"Need a family account? Sign Up":"Already have an account? Log In"})})]})})};function jI(){const[s,e]=ce.useState(null),[i,r]=ce.useState(!0),[o,c]=ce.useState([]),[d,p]=ce.useState([]),[_,v]=ce.useState([]),[S,x]=ce.useState([]),[M,G]=ce.useState([]),[ee,ne]=ce.useState([]),[te,_e]=ce.useState("login"),[pe,fe]=ce.useState(null),[Ue,Me]=ce.useState(!1),[Ae,R]=ce.useState(null),[A,N]=ce.useState(!1),[k,O]=ce.useState(!1),[j,w]=ce.useState(!1),[Qe,re]=ce.useState(""),[B,J]=ce.useState(()=>{try{const Q=localStorage.getItem("chorePiggy_deviceConfig");return Q?JSON.parse(Q):null}catch{return null}});ce.useEffect(()=>Jw(bl,ae=>{e(ae),r(!1)}),[]),ce.useEffect(()=>{if(!i&&s&&d.length>0&&te==="login"&&!pe){if(B?.mode==="KID_SOLO"&&B?.targetId){const ae=d.find(Re=>Re.id===B.targetId);if(ae){fe(ae),_e("kid");return}}const Q=localStorage.getItem("chorePiggy_activeUser");if(Q&&B?.mode==="FAMILY"){const ae=d.find(Re=>Re.id===Q);ae&&(fe(ae),_e("kid"))}}},[i,s,d,te,pe,B]),ce.useEffect(()=>{if(!s)return;const Q=s.uid,ae=Ze=>Kv($c,"families",Q,Ze),Re={users:ae("users"),kids:ae("kids"),chores:ae("chores"),task_log:ae("task_log"),bonuses:ae("bonuses")},Oe=Object.entries(Re).map(([Ze,Rt])=>Jv(Rt,Ct=>{const Xe=Ct.docs.map(Ot=>({id:Ot.id,...Ot.data()}));Ze==="users"&&c(Xe),Ze==="kids"&&p(Xe),Ze==="chores"&&v(Xe),Ze==="task_log"&&x(Xe),Ze==="bonuses"&&G(Xe)},Ct=>console.log(`Error fetching ${Ze}:`,Ct))),ht=bI(ae("history"),SI("date","desc"),xI(100)),Et=Jv(ht,Ze=>{ne(Ze.docs.map(Rt=>({id:Rt.id,...Rt.data()})))},Ze=>console.log("History Error",Ze));return()=>{Oe.forEach(Ze=>Ze()),Et()}},[s]);const ue={users:o,kids:d,chores:_,taskLog:S,bonuses:M,history:ee},he=(Q,ae)=>zm($c,"families",s.uid,Q,ae||II()),de=Q=>Kv($c,"families",s.uid,Q),I=Q=>{R(Q),Q.pin?(N(!1),Me(!0)):(N(!0),Me(!0))},K=Q=>{if(A){const ae=Ae.role==="kid"?"kids":"users";xi(he(ae,Ae.id),{pin:Q}),N(!1)}fe(Ae),_e(Ae.role==="parent"?"parent":"kid"),Me(!1),R(null),Ae.role==="kid"&&localStorage.setItem("chorePiggy_activeUser",Ae.id)},ie=()=>{fe(null),_e("login"),localStorage.removeItem("chorePiggy_activeUser")},oe=()=>{e2(bl),fe(null),_e("login"),localStorage.removeItem("chorePiggy_activeUser"),localStorage.removeItem("chorePiggy_deviceConfig"),J(null)},se=()=>{Me(!1),w(!0)},Ee=async()=>{if(Qe)try{const Q=Ta.credential(s.email,Qe);await q1(bl,Q),await xi(he("users",Ae.id),{pin:"1234"}),alert("Success! Your PIN has been reset to: 1234"),re(""),w(!1)}catch{alert("Incorrect password.")}},Ve=async Q=>{try{const ae={id:s.uid,name:Q.parentName,role:"parent",pin:Q.parentPin};await Yi(zm($c,"families",s.uid,"users",s.uid),ae),O(!1)}catch(ae){alert(`Error creating database: ${ae.message}. Check Firestore Rules!`)}},pt=Q=>{J(Q),localStorage.setItem("chorePiggy_deviceConfig",JSON.stringify(Q))},et=()=>{const Q=o.find(ae=>ae.role==="parent");Q&&(R({...Q,isGateUnlock:!0}),Me(!0))},Vn=()=>{confirm("Parent Access Granted. Reset device mode to Family?")&&(pt({mode:"FAMILY",targetId:null}),ie()),Me(!1),R(null)},Qn=Q=>{Ae.isGateUnlock?o.find(Re=>Re.role==="parent"&&Re.pin===Q)?Vn():alert("Incorrect Parent PIN"):K(Q)},fi=async(Q,ae,Re,Oe,ht)=>{await NI(de("history"),{kidId:Q,amount:ae,type:Re,description:Oe,date:new Date().toISOString(),by:ht||"Unknown"})},kn=async(Q,ae,Re,Oe,ht)=>{const Et=d.find(Ze=>Ze.id===Q);Et&&(await xi(he("kids",Q),{balance:Et.balance+ae}),await fi(Q,ae,Re,Oe,ht))},En=async(Q,ae)=>{await Yi(he("users"),{name:Q,pin:ae,role:"parent"})},dn=async Q=>{await Xc(he("users",Q))},Yn=async(Q,ae)=>{await xi(he("users",Q),{pin:ae})},Ri=async(Q,ae)=>{await xi(he("users",Q),{name:ae})},Ci=async(Q,ae,Re)=>{const Oe=S.find(ht=>ht.type==="chore"&&ht.taskId===Q.id&&ht.kidId===ae&&ht.dateString===Re);Oe?await xi(he("task_log",Oe.id),{status:"pending",timestamp:new Date().toISOString()}):await Yi(he("task_log"),{type:"chore",taskId:Q.id,title:Q.title,kidId:ae,dateString:Re,status:"pending",timestamp:new Date().toISOString()})},ct=async(Q,ae,Re,Oe,ht)=>{const Et=S.find(Ct=>Ct.type==="chore"&&Ct.taskId===Q.id&&Ct.kidId===ae&&Ct.dateString===Re);let Ze=Et?he("task_log",Et.id):he("task_log");const Rt={type:"chore",taskId:Q.id,title:Q.title,kidId:ae,dateString:Re,timestamp:new Date().toISOString()};if(Oe==="approve"){const Ct=gi(ae),Ot=(Q.weight||1)*Ct.valuePerPoint;await Yi(Ze,{...Rt,status:"approved",approvedAt:new Date().toISOString()},{merge:!0}),(!Et||Et.status!=="approved")&&await kn(ae,Ot,"chore",`${Q.title} (${Il(Re)})`,ht)}else Oe==="fail"?await Yi(Ze,{...Rt,status:"failed",rejectedAt:new Date().toISOString()},{merge:!0}):Oe==="retry"&&await Yi(Ze,{...Rt,status:"changes_requested",rejectedAt:new Date().toISOString()},{merge:!0})},bt=async(Q,ae)=>{await Yi(he("task_log"),{type:"bonus",taskId:Q.id,title:Q.title,reward:Q.reward,kidId:ae,status:"pending",timestamp:new Date().toISOString(),isGroupTask:Q.maxKids>1}),(!Q.maxKids||Q.maxKids<=1)&&await Xc(he("bonuses",Q.id))},Sn=async(Q,ae)=>{const Re=he("bonuses",Q),ht=M.find(Et=>Et.id===Q).workers||[];ht.includes(ae)||await xi(Re,{workers:[...ht,ae]})},js=async(Q,ae,Re=1)=>{Yi(he("bonuses"),{title:Q,reward:ae,status:"available",maxKids:Re,workers:[]})},ss=async(Q,ae,Re)=>{await xi(he("task_log",Q.id),{status:"approved",approvedAt:new Date().toISOString()});const Oe=ae,ht=Q.dateString?`(${Il(Q.dateString)})`:"(Bonus)";await kn(Q.kidId,Oe,Q.type,`${Q.title} ${ht}`,Re)},Bt=async(Q,ae)=>{const Re=ae==="retry"?"changes_requested":"failed";await xi(he("task_log",Q.id),{status:Re,rejectedAt:new Date().toISOString()})},Xn=async(Q,ae,Re)=>{await Yi(he("kids"),{name:Q,pin:ae,role:"kid",balance:0,savingsGoal:0,goalName:"",avatar:qm[Math.floor(Math.random()*qm.length)],allowanceAmount:Number(Re)})},di=async(Q,ae)=>xi(he("kids",Q),ae),Ii=async Q=>{Yi(he("chores"),{...Q,createdAt:Ea()})},jn=async(Q,ae)=>xi(he("chores",Q),ae),Ps=async Q=>Xc(he("chores",Q)),Us=async Q=>Xc(he("bonuses",Q)),mi=Q=>{if(!Q.pausedUntil)return!0;const ae=Ea();return Q.pausedUntil<=ae},gi=(Q,ae=0)=>{const Re=d.find($e=>$e.id===Q);if(!Re)return{potential:0,earned:0,pending:0,totalTasks:0,valuePerPoint:0};const Oe=Re.allowanceAmount||0,ht=_.filter($e=>$e.kidId===Q&&mi($e));let Et=0;ht.forEach($e=>{const mn=$e.weight||1;Et+=mn*$e.days.length});const Ze=Et>0?Oe/Et:0,Rt=Lg(ae),Ct=S.filter($e=>$e.kidId===Q&&$e.type==="chore"&&Rt.includes($e.dateString));let Xe=0,Ot=0;return Ct.forEach($e=>{const rs=(_.find(xn=>xn.id===$e.taskId)?.weight||1)*Ze;$e.status==="approved"&&(Xe+=rs),$e.status==="pending"&&(Ot+=rs)}),{potential:Oe,earned:Xe,pending:Ot,totalWeight:Et,valuePerPoint:Ze}};return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 animate-pulse",children:"Loading ChorePiggy..."}):s?m.jsxs(m.Fragment,{children:[Ue&&m.jsx(OI,{targetPin:Ae?.pin,onSuccess:Qn,onCancel:()=>{Me(!1),R(null),N(!1)},title:A?"Create PIN":Ae.isGateUnlock?"Enter Parent PIN":`Enter ${Ae?.name}'s PIN`,onForgot:se,mode:A?"setup":"verify"}),k&&m.jsx(MI,{onComplete:Ve}),s&&!B&&o.length>0&&m.jsx(VI,{kids:d,onComplete:pt}),j&&m.jsx(oi,{isOpen:!0,onClose:()=>w(!1),title:"Reset PIN",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"To reset this PIN, please enter your Family Account Password:"}),m.jsx("input",{type:"password",className:"w-full border p-2 rounded",value:Qe,onChange:Q=>re(Q.target.value),placeholder:"Password"}),m.jsx(vt,{onClick:Ee,className:"w-full",children:"Verify & Reset PIN to 1234"})]})}),m.jsx(InstallPrompt,{}),te==="login"&&m.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 flex gap-3",children:[B?.mode!=="KIDS_SHARED"&&B?.mode!=="KID_SOLO"&&m.jsxs("button",{onClick:()=>{o.length>0&&et()},className:"flex items-center gap-2 text-gray-400 hover:text-blue-500 text-xs font-bold",children:[m.jsx(i1,{size:14})," Device"]}),m.jsxs("button",{onClick:oe,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-xs font-bold",children:[m.jsx(Fm,{size:14})," Sign Out"]})]}),m.jsxs("div",{className:"max-w-md w-full text-center mb-10",children:[m.jsxs("h1",{className:"text-4xl font-extrabold text-blue-600 flex items-center justify-center gap-3 mb-2",children:[m.jsx(n1,{size:40})," ChorePiggy"]}),m.jsx("p",{className:"text-gray-500",children:"Weekly Allowance Tracker"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.email})]}),m.jsx("div",{className:"max-w-md w-full grid gap-4",children:o.length===0&&d.length===0?m.jsxs("div",{className:"text-center py-10",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:"Welcome! No family data found."}),m.jsx(vt,{onClick:()=>O(!0),className:"w-full py-3",children:"Initialize Family"})]}):m.jsxs(m.Fragment,{children:[(B?.mode==="FAMILY"||B?.mode==="PARENT_SOLO")&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Parents"}),o.map(Q=>m.jsxs("button",{onClick:()=>I(Q),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:m.jsx(s1,{size:24})}),m.jsx("span",{className:"font-bold text-lg text-gray-700",children:Q.name})]}),m.jsx(Wo,{className:"text-gray-300 group-hover:text-blue-500"})]},Q.id))]}),(B?.mode==="FAMILY"||B?.mode==="KIDS_SHARED"||B?.mode==="KID_SOLO")&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider ml-1 mt-4",children:"Kids"}),d.map(Q=>m.jsxs("button",{onClick:()=>I(Q),className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between hover:shadow-md transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:Q.avatar}),m.jsxs("div",{className:"text-left",children:[m.jsx("span",{className:"font-bold text-lg text-gray-700 block",children:Q.name}),m.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Kid Account"})]})]}),m.jsx(Wo,{className:"text-gray-300 group-hover:text-purple-500"})]},Q.id))]})]})})]}),te==="parent"&&m.jsx(PI,{data:ue,user:pe,logout:ie,addKid:Xn,addChore:Ii,updateChore:jn,deleteChore:Ps,addBonus:js,deleteBonus:Us,updateBalance:kn,updateKid:di,approveTask:ss,rejectTask:Bt,parentOverrideTask:ct,calculateWeeklyStats:gi,updateParentPin:Yn,addParent:En,deleteParent:dn,updateParentName:Ri,deviceConfig:B,updateDeviceConfig:pt}),te==="kid"&&m.jsx(UI,{user:d.find(Q=>Q.id===pe.id)||pe,data:ue,logout:ie,submitChore:Ci,submitBonus:bt,joinBonus:Sn,updateKid:di,calculateWeeklyStats:gi,isChoreActive:mi,deviceConfig:B,handleParentGate:et})]}):m.jsx(kI,{})}function PI({data:s,user:e,logout:i,addKid:r,addChore:o,updateChore:c,deleteChore:d,addBonus:p,deleteBonus:_,updateBalance:v,updateKid:S,approveTask:x,rejectTask:M,parentOverrideTask:G,calculateWeeklyStats:ee,updateParentPin:ne,addParent:te,deleteParent:_e,updateParentName:pe,deviceConfig:fe,updateDeviceConfig:Ue}){const[Me,Ae]=ce.useState("approvals"),[R,A]=ce.useState(!1),[N,k]=ce.useState(""),[O,j]=ce.useState(""),[w,Qe]=ce.useState("10"),[re,B]=ce.useState(null),[J,ue]=ce.useState(null),[he,de]=ce.useState(null),[I,K]=ce.useState(null),[ie,oe]=ce.useState(!1),[se,Ee]=ce.useState(null),[Ve,pt]=ce.useState(null),[et,Vn]=ce.useState(0),[Qn,fi]=ce.useState(""),[kn,En]=ce.useState(""),[dn,Yn]=ce.useState("add"),[Ri,Ci]=ce.useState(0),[ct,bt]=ce.useState([]),[Sn,js]=ce.useState(""),[ss,Bt]=ce.useState("1"),[Xn,di]=ce.useState(""),[Ii,jn]=ce.useState(""),[Ps,Us]=ce.useState([0,1,2,3,4]),[mi,gi]=ce.useState(""),[Q,ae]=ce.useState("2"),[Re,Oe]=ce.useState("1"),[ht,Et]=ce.useState(""),[Ze,Rt]=ce.useState(""),[Ct,Xe]=ce.useState("");ce.useEffect(()=>{s.kids.length>0&&!ct.length&&bt([])},[s.kids]);const Ot=s.taskLog.filter(D=>D.status==="pending");Ot.sort((D,Se)=>new Date(Se.timestamp)-new Date(D.timestamp));const $e=Ot.length,mn=()=>{if(!Qn||!re)return;const D=Number(Qn),Se=dn==="add"?D:-D,st=dn==="add"?"manual_add":"manual_subtract",St=dn==="add"?"Manual Deposit":"Cash Out / Purchase";v(re.id,Se,st,kn||St,e.name),B(null),fi(""),En("")},xa=async()=>{if(confirm(`Approve all ${$e} tasks?`))for(const D of Ot)if(D.type==="chore"){const Se=ee(D.kidId),xt=(s.chores.find(rt=>rt.id===D.taskId)?.weight||1)*Se.valuePerPoint;await x(D,xt,e.name)}else await x(D,0,e.name)},rs=D=>{D.isGroupTask?(Vn(Math.floor(D.reward/2)),pt(D)):x(D,D.reward,e.name)},xn=D=>{D.preventDefault(),N&&O&&(r(N,O,w),A(!1),k(""),j(""))},as=D=>{D.preventDefault(),Sn&&ct.length>0&&(ct.forEach(Se=>{o({kidId:Se,title:Sn,days:Ps,weight:Number(ss),startTime:Xn,doByTime:Ii})}),js(""),Bt("1"),di(""),jn(""),bt([]))},Ul=()=>{se&&(c(se.id,{title:se.title,days:se.days,weight:Number(se.weight),startTime:se.startTime,doByTime:se.doByTime,pausedUntil:se.pausedUntil||null}),Ee(null))},ls=()=>{Ze&&Ct.length===4&&(te(Ze,Ct),Rt(""),Xe(""))},Pr=D=>Us(Se=>Se.includes(D)?Se.filter(st=>st!==D):[...Se,D].sort()),Ur=D=>{bt(Se=>Se.includes(D)?Se.filter(st=>st!==D):[...Se,D])};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsx("header",{className:"bg-white shadow-sm p-4 sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-bold text-xl",children:[m.jsx(s1,{})," ",e.name,"'s Dashboard"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>oe(!0),className:"text-gray-500 hover:text-blue-600",children:m.jsx(i1,{size:20})}),m.jsx("button",{onClick:i,className:"text-gray-500 hover:text-red-500",children:m.jsx(Fm,{size:20})})]})]})}),m.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[m.jsx("div",{className:"flex p-1 bg-white rounded-xl shadow-sm",children:["approvals","kids","chores","bonuses","history"].map(D=>m.jsxs("button",{onClick:()=>Ae(D),className:`relative flex-1 py-2 text-sm font-bold rounded-lg capitalize transition-colors ${Me===D?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-50"}`,children:[D,D==="approvals"&&$e>0&&m.jsx("span",{className:"absolute top-1 right-2 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:$e})]},D))}),m.jsx(oi,{isOpen:ie,onClose:()=>oe(!1),title:"Family Settings",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2 bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[m.jsx("h4",{className:"font-bold text-indigo-800 text-sm uppercase",children:"This Device Mode"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>Ue({mode:"FAMILY",targetId:null}),className:`p-2 text-xs rounded border ${fe?.mode==="FAMILY"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Family (Default)"}),m.jsx("button",{onClick:()=>Ue({mode:"KIDS_SHARED",targetId:null}),className:`p-2 text-xs rounded border ${fe?.mode==="KIDS_SHARED"?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:"Kids Only"}),s.kids.map(D=>m.jsxs("button",{onClick:()=>Ue({mode:"KID_SOLO",targetId:D.id}),className:`p-2 text-xs rounded border ${fe?.mode==="KID_SOLO"&&fe?.targetId===D.id?"bg-indigo-600 text-white":"bg-white text-gray-600"}`,children:[D.name," Only"]},D.id))]}),m.jsxs("p",{className:"text-[10px] text-indigo-400",children:["Current: ",fe?.mode," ",fe?.targetId?`(${s.kids.find(D=>D.id===fe.targetId)?.name})`:""]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"My PIN"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",maxLength:"4",placeholder:"New PIN",className:"border p-2 rounded flex-1",value:ht,onChange:D=>Et(D.target.value)}),m.jsx(vt,{size:"sm",onClick:()=>{ht.length===4&&ne(e.id,ht),Et(""),alert("PIN updated")},children:"Update"})]})]}),m.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[m.jsx("h4",{className:"font-bold text-gray-700 text-sm uppercase",children:"Manage Guardians"}),m.jsx("div",{className:"space-y-2",children:s.users.filter(D=>D.role==="parent").map(D=>m.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-bold text-gray-700",children:[D.name," ",D.id===e.id&&"(You)"]}),m.jsx("button",{onClick:()=>{const Se=prompt("Enter new name:",D.name);Se&&pe(D.id,Se)},className:"text-gray-400 hover:text-blue-500",children:m.jsx(Zc,{size:14})})]}),D.id!==e.id&&m.jsx("button",{onClick:()=>_e(D.id),className:"text-red-400 hover:text-red-600",children:m.jsx(tm,{size:16})})]},D.id))}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{placeholder:"Name (e.g. Dad)",className:"border p-2 rounded",value:Ze,onChange:D=>Rt(D.target.value)}),m.jsx("input",{maxLength:"4",placeholder:"PIN",className:"border p-2 rounded",value:Ct,onChange:D=>Xe(D.target.value)})]}),m.jsxs(vt,{onClick:ls,className:"w-full",variant:"outline",children:[m.jsx(lx,{size:16})," Add Guardian"]})]})]})}),m.jsx(oi,{isOpen:!!Ve,onClose:()=>pt(null),title:"Split Group Reward",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[m.jsx("h4",{className:"font-bold text-gray-800",children:Ve?.title}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pool: ",nn(Ve?.reward)]})]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Multiple kids might be working on this. How much should ",m.jsx("strong",{children:s.kids.find(D=>D.id===Ve?.kidId)?.name})," get?"]}),m.jsxs("div",{className:"flex items-center gap-3 justify-center py-4",children:[m.jsx("button",{onClick:()=>Vn(D=>Math.max(0,D-1)),className:"p-3 bg-gray-100 rounded-full",children:m.jsx(FS,{size:20})}),m.jsx("span",{className:"text-4xl font-bold text-green-600",children:nn(et)}),m.jsx("button",{onClick:()=>Vn(D=>D+1),className:"p-3 bg-gray-100 rounded-full",children:m.jsx(Jd,{size:20})})]}),m.jsxs(vt,{className:"w-full bg-green-600",onClick:()=>{x(Ve,et,e.name),pt(null)},children:["Approve ",nn(et)]})]})}),Me==="history"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Global Activity Log"})}),s.history.length===0&&m.jsx("p",{className:"text-center py-10 text-gray-400",children:"No activity yet."}),m.jsx("div",{className:"space-y-2",children:s.history.map(D=>{const Se=s.kids.find(st=>st.id===D.kidId);return m.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center text-sm",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-700 flex items-center gap-2",children:[Se&&m.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-2 py-0.5 rounded-full",children:Se.name}),m.jsx("span",{children:D.description})]}),m.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[m.jsx("span",{children:new Date(D.date).toLocaleString()}),m.jsx("span",{children:""}),m.jsxs("span",{className:"font-medium text-blue-500",children:["by ",D.by||"System"]})]})]}),D.amount!==0&&m.jsxs("span",{className:`font-bold ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]})]},D.id)})})]}),m.jsx(oi,{isOpen:!!J,onClose:()=>ue(null),title:"Edit Profile",children:J&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:J.name,onChange:D=>ue({...J,name:D.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"PIN"}),m.jsx("input",{className:"w-full border p-2 rounded",maxLength:"4",value:J.pin,onChange:D=>ue({...J,pin:D.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Weekly Allowance Cap ($)"}),m.jsx("input",{className:"w-full border p-2 rounded",type:"number",value:J.allowanceAmount,onChange:D=>ue({...J,allowanceAmount:D.target.value})})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsx(vt,{variant:"ghost",onClick:()=>ue(null),className:"flex-1",children:"Cancel"}),m.jsx(vt,{onClick:()=>{S(J.id,{name:J.name,pin:J.pin,allowanceAmount:Number(J.allowanceAmount)}),ue(null)},className:"flex-1",children:"Save Changes"})]})]})}),m.jsx(oi,{isOpen:!!se,onClose:()=>Ee(null),title:"Edit Chore",children:se&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Task Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:se.title,onChange:D=>Ee({...se,title:D.target.value})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Start Time"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:se.startTime||"",onChange:D=>Ee({...se,startTime:D.target.value})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Do By"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:se.doByTime||"",onChange:D=>Ee({...se,doByTime:D.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Weight (Points)"}),m.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[m.jsx("input",{type:"range",min:"1",max:"10",className:"flex-1",value:se.weight||1,onChange:D=>Ee({...se,weight:D.target.value})}),m.jsxs("span",{className:"font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[se.weight||1,"x"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Days"}),m.jsx("div",{className:"flex justify-between gap-1 mt-1",children:["S","M","T","W","T","F","S"].map((D,Se)=>m.jsx("button",{onClick:()=>{const st=se.days.includes(Se)?se.days.filter(St=>St!==Se):[...se.days,Se].sort();Ee({...se,days:st})},className:`w-8 h-8 rounded-full text-xs font-bold ${se.days.includes(Se)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:D},Se))})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Status"}),m.jsxs("div",{className:"flex gap-2 mt-1",children:[m.jsxs("button",{onClick:()=>Ee({...se,pausedUntil:null}),className:`flex-1 p-2 rounded text-sm font-bold ${se.pausedUntil?"bg-gray-100 text-gray-500":"bg-green-100 text-green-700"}`,children:[m.jsx(MS,{size:16,className:"inline mr-1"})," Active"]}),m.jsxs("button",{onClick:()=>Ee({...se,pausedUntil:"2099-12-31"}),className:`flex-1 p-2 rounded text-sm font-bold ${se.pausedUntil?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:[m.jsx(__,{size:16,className:"inline mr-1"})," Paused"]})]}),se.pausedUntil&&m.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Paused until: ",m.jsx("input",{type:"date",value:se.pausedUntil==="2099-12-31"?"":se.pausedUntil,onChange:D=>Ee({...se,pausedUntil:D.target.value||"2099-12-31"}),className:"border p-1 rounded ml-2"})]})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsx(vt,{variant:"ghost",onClick:()=>Ee(null),className:"flex-1",children:"Cancel"}),m.jsx(vt,{onClick:Ul,className:"flex-1",children:"Save Changes"})]})]})}),m.jsx(oi,{isOpen:!!I,onClose:()=>K(null),title:"Review Task",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:"text-gray-600",children:["How would you like to handle ",m.jsx("strong",{children:I?.title}),"?"]}),m.jsxs("button",{onClick:()=>{M(I,"retry"),K(null)},className:"w-full p-4 border-2 border-amber-200 bg-amber-50 rounded-xl flex items-center gap-3 hover:bg-amber-100 transition-colors text-left group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700",children:m.jsx(mm,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-amber-800",children:"Try Again"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Sends back to kid to redo."})]})]}),m.jsxs("button",{onClick:()=>{M(I,"fail"),K(null)},className:"w-full p-4 border-2 border-red-200 bg-red-50 rounded-xl flex items-center gap-3 hover:bg-red-100 transition-colors text-left group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-200 flex items-center justify-center text-red-700",children:m.jsx(KS,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block group-hover:text-red-800",children:"Fail Task"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Task fails. Money lost. Cannot redo."})]})]})]})}),m.jsx(oi,{isOpen:!!re,onClose:()=>B(null),title:`Bank Manager: ${re?.name}`,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[m.jsxs("button",{onClick:()=>Yn("add"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${dn==="add"?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:[m.jsx(Jd,{size:16})," Deposit"]}),m.jsxs("button",{onClick:()=>Yn("sub"),className:`flex-1 py-2 rounded-md text-sm font-bold flex items-center justify-center gap-2 ${dn==="sub"?"bg-white shadow-sm text-red-600":"text-gray-500"}`,children:[m.jsx(E_,{size:16})," Cash Out"]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ($)"}),m.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold p-2 border-b-2 border-blue-500 focus:outline-none",placeholder:"0.00",value:Qn,onChange:D=>fi(D.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),m.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-lg border border-gray-200",placeholder:dn==="add"?"e.g. Birthday Gift":"e.g. Bought Lego Set",value:kn,onChange:D=>En(D.target.value)})]}),m.jsxs(vt,{onClick:mn,className:`w-full ${dn==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirm ",dn==="add"?"Deposit":"Withdrawal"]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[m.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RECENT HISTORY"}),m.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.history.filter(D=>D.kidId===re?.id).slice(0,5).map(D=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600 truncate max-w-[180px]",children:D.description}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:`font-bold block ${D.amount>0?"text-green-600":"text-red-600"}`,children:[D.amount>0?"+":"",nn(D.amount)]}),m.jsx("span",{className:"text-[10px] text-gray-400",children:D.by})]})]},D.id))})]})]})}),m.jsx(oi,{isOpen:!!he,onClose:()=>de(null),title:`Tasks: ${he?.name}`,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded-lg",children:[m.jsx("button",{onClick:()=>Ci(D=>D-1),className:"p-2 hover:bg-gray-200 rounded",children:m.jsx(t1,{size:16})}),m.jsx("span",{className:"font-bold text-sm text-gray-700",children:Ri===0?"This Week":"Last Week"}),m.jsx("button",{onClick:()=>Ci(D=>D+1),className:"p-2 hover:bg-gray-200 rounded",children:m.jsx(Wo,{size:16})})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Lg(Ri).map(D=>{const Se=s.chores.filter(st=>st.kidId===he?.id&&st.days.includes(new Date(D).getDay()));return Se.length===0?null:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[IT(D)," (",Il(D),")"]}),Se.map(st=>{const St=s.taskLog.find(yt=>yt.type==="chore"&&yt.taskId===st.id&&yt.kidId===he.id&&yt.dateString===D),xt=St?St.status:"todo";let rt="bg-gray-100 border-gray-200";return xt==="approved"&&(rt="bg-green-50 border-green-200"),xt==="pending"&&(rt="bg-amber-50 border-amber-200"),xt==="failed"&&(rt="bg-red-50 border-red-200"),xt==="changes_requested"&&(rt="bg-yellow-50 border-yellow-200"),m.jsxs("div",{className:`p-3 rounded-lg border ${rt} flex justify-between items-center`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:[st.title," ",m.jsxs("span",{className:"text-[10px] text-blue-500 bg-blue-50 px-1 rounded ml-1",children:[st.weight||1,"x"]})]}),m.jsx("div",{className:"text-xs capitalize text-gray-500 font-medium",children:xt.replace("_"," ")})]}),m.jsxs("div",{className:"flex gap-1",children:[xt!=="approved"&&m.jsx("button",{onClick:()=>G(st,he.id,D,"approve",e.name),className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Mark Done",children:m.jsx(NS,{size:16})}),xt!=="failed"&&m.jsx("button",{onClick:()=>G(st,he.id,D,"fail",e.name),className:"p-2 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Fail Task",children:m.jsx(Ih,{size:16})}),xt!=="changes_requested"&&xt!=="approved"&&m.jsx("button",{onClick:()=>G(st,he.id,D,"retry",e.name),className:"p-2 bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200",title:"Request Retry",children:m.jsx(mm,{size:16})})]})]},`${st.id}-${D}`)})]},D)}),s.chores.filter(D=>D.kidId===he?.id).length===0&&m.jsx("div",{className:"text-center text-gray-400 py-8",children:"No chores assigned to this kid."})]})]})}),Me==="approvals"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Waiting for Approval"}),$e>0&&m.jsxs(vt,{size:"sm",variant:"success",onClick:xa,children:["Approve All (",$e,")"]})]}),$e===0&&m.jsx("div",{className:"text-center py-10 bg-white rounded-xl border border-dashed text-gray-400",children:"All caught up! No pending tasks."}),m.jsx("div",{className:"space-y-3",children:Ot.map(D=>{const Se=s.kids.find(yt=>yt.id===D.kidId),St=s.chores.find(yt=>yt.id===D.taskId)?.weight||1,xt=ee(D.kidId),rt=D.type==="bonus"?D.reward:St*xt.valuePerPoint;return m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-l-4 border-l-amber-400 flex flex-col md:flex-row gap-4 justify-between items-center animate-in slide-in-from-left-2",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-xl relative",children:[Se?.avatar,m.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-gray-100",children:m.jsx(Go,{size:12,className:"text-amber-500"})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-gray-800 flex items-center gap-2",children:[D.title,D.type==="chore"&&St>1&&m.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[St,"x"]}),D.isGroupTask&&m.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:"Group"})]}),m.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[m.jsx("span",{children:Se?.name}),m.jsx("span",{children:""}),m.jsx("span",{className:`font-bold ${D.dateString===Ea()?"text-green-600":"text-amber-600"}`,children:D.dateString?Il(D.dateString):"Bonus Task"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[m.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-lg",children:nn(rt)}),m.jsx("button",{onClick:()=>K(D),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",title:"Reject",children:m.jsx(nx,{size:20})}),m.jsx("button",{onClick:()=>rs(D),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg shadow-green-200 transition-colors",title:"Approve",children:m.jsx(sx,{size:20})})]})]},D.id)})})]}),Me==="kids"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Family Members"}),m.jsxs(vt,{onClick:()=>A(!0),size:"sm",children:[m.jsx(Jd,{size:16})," Add Kid"]})]}),R&&m.jsx(pl,{className:"p-4 animate-in slide-in-from-top-4",children:m.jsxs("form",{onSubmit:xn,className:"space-y-4",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"New Kid Profile"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name"}),m.jsx("input",{className:"w-full border p-2 rounded",value:N,onChange:D=>k(D.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"PIN"}),m.jsx("input",{maxLength:"4",className:"w-full border p-2 rounded",value:O,onChange:D=>j(D.target.value),required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold block mb-1",children:"Weekly Allowance Cap ($)"}),m.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:w,onChange:D=>Qe(D.target.value)})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(vt,{type:"button",variant:"ghost",onClick:()=>A(!1),children:"Cancel"}),m.jsx(vt,{type:"submit",children:"Save"})]})]})}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.kids.map(D=>{const Se=ee(D.id);return m.jsxs(pl,{className:"p-4 flex flex-col gap-4",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl",children:D.avatar}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-lg",children:D.name}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Allowance Cap: ",nn(D.allowanceAmount||0)]}),m.jsxs("div",{className:"text-xs text-blue-500 font-bold",children:["~ ",nn(Se.valuePerPoint)," / point"]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-3xl font-bold text-green-600",children:nn(D.balance)}),m.jsx("div",{className:"text-xs text-gray-400",children:"Current Balance"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100 grid grid-cols-2 gap-2",children:[m.jsxs(vt,{variant:"outline",className:"text-xs py-2 w-full",onClick:()=>ue(D),children:[m.jsx(Zc,{size:12})," Edit Profile"]}),m.jsxs(vt,{variant:"ghost",className:"text-xs py-2 w-full bg-blue-50 text-blue-700 hover:bg-blue-100",onClick:()=>B(D),children:[m.jsx(E_,{size:14})," Manage Funds"]})]}),m.jsxs(vt,{variant:"ghost",className:"w-full text-xs bg-gray-50 hover:bg-gray-100 text-gray-700",onClick:()=>de(D),children:[m.jsx(kS,{size:14})," View Tasks"]})]},D.id)})})]}),Me==="chores"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs(pl,{className:"p-6",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"Assign New Chore"}),m.jsxs("form",{onSubmit:as,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Assign To"}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:s.kids.map(D=>m.jsx("button",{type:"button",onClick:()=>Ur(D.id),className:`px-3 py-1 rounded-full text-sm font-bold border transition-colors ${ct.includes(D.id)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200"}`,children:D.name},D.id))}),ct.length===0&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Select at least one kid."})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Task Name"}),m.jsx("input",{className:"w-full border p-2 rounded-lg",placeholder:"e.g. Clean Room",value:Sn,onChange:D=>js(D.target.value),required:!0})]}),m.jsxs("div",{className:"w-full sm:w-24",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Weight"}),m.jsxs("div",{className:"flex items-center border p-2 rounded-lg bg-white",children:[m.jsx("input",{type:"number",min:"1",max:"10",className:"w-full outline-none",value:ss,onChange:D=>Bt(D.target.value)}),m.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"x"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Start Time (Optional)"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Xn,onChange:D=>di(D.target.value)})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Do By (Optional)"}),m.jsx("input",{type:"time",className:"w-full border p-2 rounded-lg",value:Ii,onChange:D=>jn(D.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:"Schedule Days"}),m.jsx("div",{className:"flex justify-between gap-1",children:["S","M","T","W","T","F","S"].map((D,Se)=>m.jsx("button",{type:"button",onClick:()=>Pr(Se),className:`w-10 h-10 rounded-full font-bold text-sm transition-colors ${Ps.includes(Se)?"bg-blue-600 text-white":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:D},Se))})]}),m.jsx(vt,{type:"submit",className:"w-full",disabled:s.kids.length===0,children:"Create Schedule"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"Active Schedules"}),s.chores.map(D=>{const Se=s.kids.find(St=>St.id===D.kidId),st=D.pausedUntil&&D.pausedUntil>Ea();return m.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center ${st?"opacity-60 grayscale":""}`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-gray-800",children:D.title}),D.weight>1&&m.jsxs("span",{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[D.weight,"x"]}),st&&m.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[m.jsx(__,{size:10})," Paused"]})]}),m.jsxs("div",{className:"text-sm text-gray-500 flex gap-2 items-center",children:[m.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs",children:Se?.name||"Unknown"}),m.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:D.days.length===7?"Everyday":`${D.days.length} days/wk`})]}),(D.startTime||D.doByTime)&&m.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[m.jsx(Go,{size:10}),D.startTime?Ch(D.startTime):"Start"," ",D.startTime&&D.doByTime&&" - ",D.doByTime?`Due ${Ch(D.doByTime)}`:""]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>Ee(D),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:m.jsx(Zc,{size:18})}),m.jsx("button",{onClick:()=>d(D.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:m.jsx(tm,{size:18})})]})]},D.id)})]})]}),Me==="bonuses"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs(pl,{className:"p-6 bg-yellow-50 border-yellow-100",children:[m.jsxs("h3",{className:"font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[m.jsx(gm,{className:"fill-yellow-500 text-yellow-500"})," Add Bonus Opportunity"]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{className:"w-full border border-yellow-200 p-2 rounded-lg",placeholder:"Task (e.g. Wash Car)",value:mi,onChange:D=>gi(D.target.value)})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white",title:"Max Kids",children:[m.jsx(Jo,{size:16,className:"text-yellow-500 mr-2"}),m.jsx("input",{className:"w-8 text-center outline-none",type:"number",min:"1",max:"10",value:Re||1,onChange:D=>Oe(D.target.value)})]}),m.jsxs("div",{className:"flex items-center border border-yellow-200 p-2 rounded-lg bg-white w-24",children:[m.jsx("span",{className:"text-gray-400 mr-1",children:"$"}),m.jsx("input",{className:"w-full outline-none",type:"number",value:Q,onChange:D=>ae(D.target.value)})]}),m.jsx(vt,{onClick:()=>{mi&&(p(mi,Number(Q),Number(Re||1)),gi(""),Oe(1))},className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"Post"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"font-bold text-gray-700",children:"Available Bonuses"}),s.bonuses.map(D=>m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:m.jsx(gm,{size:16,className:"fill-yellow-500"})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-gray-700",children:D.title}),D.maxKids>1&&m.jsxs("span",{className:"text-[10px] text-yellow-600 flex items-center gap-1",children:[m.jsx(Jo,{size:10})," Group Task (",D.workers?.length||0,"/",D.maxKids,")"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:nn(D.reward)}),m.jsx("button",{onClick:()=>_(D.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:m.jsx(tm,{size:18})})]})]},D.id))]})]})]})]})}function UI({user:s,data:e,logout:i,submitChore:r,submitBonus:o,joinBonus:c,updateKid:d,calculateWeeklyStats:p,isChoreActive:_,deviceConfig:v,handleParentGate:S}){const[x,M]=ce.useState("todo"),[G,ee]=ce.useState(!1),[ne,te]=ce.useState(s.goalName||""),[_e,pe]=ce.useState(s.savingsGoal||0),[fe,Ue]=ce.useState(!1),[Me,Ae]=ce.useState(!1),[R,A]=ce.useState(0),N=Lg(R),k=p(s.id,R),O=Math.min(k.earned/k.potential*100,100)||0,j=Math.min(k.pending/k.potential*100,100)||0,w=(re,B)=>{const J=e.taskLog.find(ue=>ue.type==="chore"&&ue.taskId===re&&ue.kidId===s.id&&ue.dateString===B);return J?J.status:"todo"},Qe=R===0;return m.jsxs("div",{className:"min-h-screen bg-indigo-50 pb-20 font-sans",children:[m.jsx(oi,{isOpen:fe,onClose:()=>Ue(!1),title:"Choose Your Avatar",children:m.jsx("div",{className:"grid grid-cols-4 gap-4",children:qm.map(re=>m.jsx("button",{onClick:()=>{d(s.id,{avatar:re}),Ue(!1)},className:"text-4xl p-2 hover:bg-indigo-50 rounded-xl transition-colors",children:re},re))})}),m.jsx(oi,{isOpen:Me,onClose:()=>Ae(!1),title:"Your Money History",children:m.jsxs("div",{className:"space-y-3",children:[e.history.filter(re=>re.kidId===s.id).map(re=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-gray-700 text-sm",children:re.description}),m.jsx("div",{className:"text-xs text-gray-400",children:new Date(re.date).toLocaleDateString()})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:`font-bold ${re.amount>0?"text-green-600":"text-red-500"}`,children:[re.amount>0?"+":"",nn(re.amount)]}),m.jsx("div",{className:"text-[10px] text-gray-400",children:re.by})]})]},re.id)),e.history.filter(re=>re.kidId===s.id).length===0&&m.jsx("p",{className:"text-center text-gray-400",children:"No transactions yet."})]})}),m.jsxs("div",{className:"bg-indigo-600 text-white rounded-b-3xl shadow-xl p-6 pt-8 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white opacity-5 rounded-full -mr-16 -mt-16 pointer-events-none"}),m.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>Ue(!0),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl border border-white/30 relative",children:[s.avatar,m.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5",children:m.jsx(Zc,{size:10,className:"text-indigo-600"})})]}),m.jsxs("div",{children:[m.jsxs("h1",{className:"font-bold text-xl opacity-90",children:["Hi, ",s.name,"!"]}),m.jsxs("p",{className:"text-indigo-200 text-sm font-medium",children:["Week of ",Il(N[0])]})]})]}),v?.mode==="KID_SOLO"?m.jsx("button",{onClick:S,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:m.jsx(v_,{size:18})}):m.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:m.jsx(Fm,{size:18})})]}),m.jsxs("div",{className:"relative z-10 mb-4 bg-indigo-800/30 p-4 rounded-xl border border-indigo-500/30",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("button",{onClick:()=>A(re=>Math.max(re-1,-1)),className:`p-1 rounded ${R<=-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,disabled:R<=-1,children:m.jsx(t1,{size:16})}),m.jsx("span",{className:"text-xs font-semibold text-indigo-100",children:Qe?"This Week":"Last Week"}),m.jsx("button",{onClick:()=>Qe?null:A(re=>re+1),className:`p-1 rounded ${Qe?"opacity-30 cursor-not-allowed":"hover:bg-white/10"}`,children:m.jsx(Wo,{size:16})})]}),m.jsxs("div",{className:"flex justify-between text-xs font-semibold text-indigo-100 mb-2",children:[m.jsxs("span",{children:["Earned: ",nn(k.earned)]}),m.jsxs("span",{children:["Weekly Cap: ",nn(k.potential)]})]}),m.jsxs("div",{className:"h-4 bg-indigo-900 rounded-full overflow-hidden flex w-full",children:[m.jsx("div",{className:"h-full bg-green-400 transition-all duration-500",style:{width:`${O}%`}}),m.jsx("div",{className:"h-full bg-amber-400 transition-all duration-500",style:{width:`${j}%`}})]}),j>0&&m.jsxs("div",{className:"text-[10px] text-right mt-1 text-amber-200 font-medium",children:["(",nn(k.pending)," waiting approval)"]})]}),m.jsx("div",{className:"flex flex-col items-center relative z-10",children:m.jsxs("button",{onClick:()=>Ae(!0),className:"flex flex-col items-center group",children:[m.jsxs("span",{className:"text-indigo-200 text-sm font-medium mb-1 flex items-center gap-1 group-hover:text-white transition-colors",children:["Bank Balance ",m.jsx(US,{size:12})]}),m.jsx("span",{className:"text-4xl font-extrabold tracking-tight",children:nn(s.balance)})]})})]}),m.jsxs("main",{className:"p-4 -mt-6 relative z-10 max-w-md mx-auto space-y-6",children:[m.jsxs(pl,{className:"flex p-1",children:[m.jsxs("button",{onClick:()=>M("todo"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${x==="todo"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(AS,{size:20})," Tasks"]}),m.jsxs("button",{onClick:()=>M("savings"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${x==="savings"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(em,{size:20})," Goal"]}),m.jsxs("button",{onClick:()=>M("bonus"),className:`flex-1 py-3 rounded-lg flex flex-col items-center gap-1 text-xs font-bold transition-all ${x==="bonus"?"bg-indigo-100 text-indigo-700":"text-gray-400 hover:bg-gray-50"}`,children:[m.jsx(SS,{size:20})," Bonus"]})]}),x==="todo"&&m.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:N.map((re,B)=>{let J=e.chores.filter(de=>{const I=de.createdAt||"1970-01-01";return de.kidId===s.id&&de.days.includes(new Date(re).getDay())&&_(de)&&I<=re});if(J.length===0)return null;J.sort((de,I)=>de.startTime&&!I.startTime?-1:!de.startTime&&I.startTime?1:de.startTime&&I.startTime&&de.startTime!==I.startTime?de.startTime.localeCompare(I.startTime):de.doByTime&&I.doByTime&&de.doByTime!==I.doByTime?de.doByTime.localeCompare(I.doByTime):de.title.localeCompare(I.title));const ue=re===Ea(),he=re>Ea();return m.jsxs("div",{className:`space-y-2 ${he?"opacity-50 grayscale":""}`,children:[m.jsxs("h3",{className:`font-bold text-sm uppercase tracking-wider pl-2 ${ue?"text-indigo-600":"text-gray-500"}`,children:[ue?"Today":IT(re)," ",m.jsxs("span",{className:"text-xs font-normal opacity-70",children:["(",Il(re),")"]})]}),J.map(de=>{const I=w(de.id,re),K=I==="approved",ie=I==="pending",oe=I==="changes_requested",se=I==="failed";return m.jsxs("div",{className:"relative",children:[m.jsx("button",{disabled:K||ie||he||se,onClick:()=>r(de,s.id,re),className:`w-full text-left p-3 rounded-xl border transition-all duration-300 shadow-sm flex items-center justify-between group overflow-hidden ${K?"bg-green-50 border-green-200":ie?"bg-amber-50 border-amber-200":oe?"bg-yellow-50 border-yellow-300 shadow-md":se?"bg-red-50 border-red-200":he?"bg-gray-100 border-gray-200 cursor-not-allowed":"bg-white border-indigo-100 hover:border-indigo-300"}`,children:m.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${K?"bg-green-500 text-white":ie?"bg-amber-400 text-white":oe?"bg-yellow-400 text-yellow-900":se?"bg-red-400 text-white":he?"bg-gray-200 text-gray-400":"bg-gray-100 text-gray-300 group-hover:bg-indigo-100 group-hover:text-indigo-500"}`,children:K?m.jsx(y_,{size:14}):ie?m.jsx(Go,{size:14}):oe?m.jsx(mm,{size:14}):se?m.jsx(Ih,{size:14}):he?m.jsx(v_,{size:12}):m.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[m.jsx("span",{className:`font-bold block text-sm ${K?"text-gray-500 line-through":"text-gray-800"}`,children:de.title}),de.weight>1&&m.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full font-bold",children:[de.weight,"x"]})]}),(de.startTime||de.doByTime)&&m.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[m.jsx(Go,{size:10}),de.startTime?Ch(de.startTime):"Start"," ",de.startTime&&de.doByTime&&" - ",de.doByTime?`Due ${Ch(de.doByTime)}`:""]}),ie&&m.jsx("span",{className:"text-[10px] font-bold text-amber-600",children:"Waiting approval"}),oe&&m.jsx("span",{className:"text-[10px] font-bold text-yellow-700",children:"Try Again"}),se&&m.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"Task Failed"})]})]})}),oe&&!he&&m.jsx("button",{onClick:()=>r(de,s.id,re),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] bg-yellow-100 text-yellow-800 border border-yellow-300 px-3 py-1 rounded-full font-bold hover:bg-yellow-200 shadow-sm z-20",children:"Redo"})]},`${de.id}-${re}`)})]},re)})}),x==="savings"&&m.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4",children:m.jsxs(pl,{className:"p-6 text-center space-y-4",children:[m.jsx("h2",{className:"text-gray-500 font-semibold uppercase tracking-wider text-xs",children:"Saving For"}),G?m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{className:"w-full text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:ne,onChange:re=>te(re.target.value),placeholder:"Goal Name"}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("span",{className:"text-xl font-bold text-gray-400",children:"$"}),m.jsx("input",{type:"number",className:"w-24 text-center font-bold text-2xl border-b-2 border-indigo-200 focus:outline-none",value:_e,onChange:re=>pe(re.target.value)})]}),m.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[m.jsx(vt,{size:"sm",variant:"ghost",onClick:()=>ee(!1),children:"Cancel"}),m.jsx(vt,{size:"sm",onClick:()=>{d(s.id,{goalName:ne,savingsGoal:Number(_e)}),ee(!1)},children:"Save"})]})]}):m.jsx(m.Fragment,{children:s.savingsGoal>0?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(em,{className:"text-indigo-500"}),m.jsx("h3",{className:"text-3xl font-extrabold text-indigo-900",children:s.goalName})]}),m.jsxs("p",{className:"text-gray-500 font-medium",children:["Goal: ",nn(s.savingsGoal)]}),m.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden w-full",children:m.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-indigo-600 transition-all duration-1000 ease-out",style:{width:`${Math.min(s.balance/s.savingsGoal*100,100)}%`}})}),m.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:[Math.round(Math.min(s.balance/s.savingsGoal*100,100)),"% Reached"]}),m.jsx(vt,{variant:"outline",size:"sm",onClick:()=>ee(!0),className:"mx-auto mt-4",children:"Change Goal"})]}):m.jsxs("div",{className:"py-8 text-center space-y-4",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto text-indigo-300",children:m.jsx(em,{size:32})}),m.jsx("p",{className:"text-gray-500",children:"You haven't set a savings goal yet!"}),m.jsx(vt,{onClick:()=>ee(!0),children:"Set a Goal"})]})})]})}),x==="bonus"&&m.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4",children:[m.jsx("h2",{className:"font-bold text-gray-700 text-lg px-1",children:"Extra Tasks (Bonus)"}),e.bonuses.length===0&&m.jsx("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-gray-300",children:m.jsx("p",{className:"text-gray-400 font-medium",children:"No extra tasks available."})}),e.taskLog.filter(re=>re.kidId===s.id&&re.type==="bonus"&&re.status==="pending").map(re=>m.jsxs("div",{className:"w-full bg-amber-50 p-4 rounded-2xl border border-amber-200 shadow-sm flex items-center justify-between text-left opacity-80",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:m.jsx(Go,{size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block",children:re.title}),m.jsx("span",{className:"text-xs text-amber-700 font-bold uppercase tracking-wide",children:"Waiting Approval"})]})]}),m.jsxs("div",{className:"font-bold text-lg text-amber-600",children:["+",nn(re.reward)]})]},re.id)),e.bonuses.map(re=>{const B=re.workers||[],J=B.includes(s.id),ue=B.length>=(re.maxKids||1);return e.taskLog.some(de=>de.taskId===re.id&&de.kidId===s.id)?null:m.jsxs("div",{className:"w-full bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-2xl border border-yellow-200 shadow-sm flex flex-col gap-3 text-left",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${J?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:J?m.jsx(y_,{size:20}):m.jsx(gm,{className:"fill-yellow-500 text-yellow-500",size:20})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-gray-800 block",children:re.title}),m.jsxs("span",{className:"text-xs text-yellow-700 font-semibold uppercase tracking-wide flex items-center gap-1",children:[re.maxKids>1?m.jsx(Jo,{size:12}):null,J?"In Progress":"Bonus Task"]})]})]}),m.jsxs("div",{className:"font-bold text-lg text-green-600 bg-white px-3 py-1 rounded-lg shadow-sm",children:["+",nn(re.reward)]})]}),re.maxKids>1&&m.jsxs("div",{className:"text-xs text-gray-500 px-1 flex gap-2 items-center",children:[m.jsx("div",{className:"flex -space-x-2",children:B.map(de=>{const I=e.kids.find(K=>K.id===de);return m.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[10px]",title:I?.name,children:I?.avatar},de)})}),m.jsxs("span",{children:[B.length,"/",re.maxKids," Kids working"]})]}),J?m.jsx("button",{onClick:()=>o(re,s.id),className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-md transition-all active:scale-95",children:"Mark Done"}):m.jsx("button",{disabled:ue,onClick:()=>c(re.id,s.id),className:`w-full py-2 rounded-xl font-bold border-2 transition-all active:scale-95 ${ue?"bg-gray-100 text-gray-400 border-transparent":"bg-white border-yellow-400 text-yellow-700 hover:bg-yellow-50"}`,children:ue?"Team Full":"Start Working"})]},re.id)})]})]})]})}pS.createRoot(document.getElementById("root")).render(m.jsx(ce.StrictMode,{children:m.jsx(jI,{})}));
